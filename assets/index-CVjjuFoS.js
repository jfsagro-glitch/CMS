const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-DnynsFSl.js","./react-vendor-Of7we7Bb.js","./index.es-t25gBPOQ.js","./antd-vendor-Dz102KUy.js","./demoData-CA27M4yh.js","./redux-vendor-fNz2gZ-b.js","./inspectionDemoData-DQNtBfn5.js"])))=>i.map(i=>d[i]);
var uT=Object.defineProperty;var fT=(e,t,r)=>t in e?uT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var er=(e,t,r)=>fT(e,typeof t!="symbol"?t+"":t,r);import{r as K,c as pT,g as nb,u as $s,f as ul,O as hT,R as Qa,e as mT,h as ib,L as gT,H as xT,i as yT,j as Pr,N as vT}from"./react-vendor-Of7we7Bb.js";import{c as rm,a as wT,u as ET,b as bT,P as _T}from"./redux-vendor-fNz2gZ-b.js";import{C as sb,t as LA,s as Te,L as Cf,T as Jr,M as CT,S as Oe,a as Ve,B as Ce,R as JA,b as Ss,c as ob,d as eA,e as BT,f as Kl,g as q1,h as Dr,i as ST,j as Ab,k as tc,l as TT,m as Zf,n as Ko,o as OT,p as IT,q as Bf,r as $A,u as lb,v as cb,w as NT,x as db,y as wi,z as FT,A as RT,I as Re,D as qa,E as ub,F as am,G as es,H as kT,J as Ir,K as ne,N as nr,O as lr,P as ha,Q as xi,U as Ri,V as ho,W as et,X as DT,Y as ei,Z as Me,_ as dt,$ as be,a0 as Nn,a1 as ph,a2 as tA,a3 as kt,a4 as jT,a5 as Ni,a6 as Xi,a7 as RA,a8 as Fn,a9 as Ts,aa as We,ab as kr,ac as K1,ad as ts,ae as fb,af as nm,ag as ht,ah as ye,ai as Sr,aj as im,ak as H1,al as Vn,am as ZA,an as Ar,ao as ut,ap as UA,aq as tf,ar as LT,as as UT,at as hh,au as Zr,av as MT,aw as pb,ax as hb,ay as PT,az as co,aA as QT,aB as Ev,aC as bv,aD as _v,aE as mh,aF as Xp,aG as Ho,aH as el,aI as tl,aJ as mb,aK as gb,aL as qT,aM as Cv,aN as KT,aO as y2,aP as Bv,aQ as rf,aR as Cn,aS as xb,aT as HT,aU as GT,aV as v2,aW as zT,aX as VT,aY as yb,aZ as $T,a_ as vb,a$ as wb,b0 as Sv,b1 as YT,b2 as Z0,b3 as WT,b4 as Tv,b5 as XT,b6 as JT,b7 as ZT,b8 as bn,b9 as eO,ba as tO}from"./antd-vendor-Dz102KUy.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();var Eb={exports:{}},sm={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rO=K,aO=Symbol.for("react.element"),nO=Symbol.for("react.fragment"),iO=Object.prototype.hasOwnProperty,sO=rO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oO={key:!0,ref:!0,__self:!0,__source:!0};function bb(e,t,r){var a,n={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(a in t)iO.call(t,a)&&!oO.hasOwnProperty(a)&&(n[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)n[a]===void 0&&(n[a]=t[a]);return{$$typeof:aO,type:e,key:s,ref:o,props:n,_owner:sO.current}}sm.Fragment=nO;sm.jsx=bb;sm.jsxs=bb;Eb.exports=sm;var i=Eb.exports,G1={},Ov=pT;G1.createRoot=Ov.createRoot,G1.hydrateRoot=Ov.hydrateRoot;const AO="modulepreload",lO=function(e,t){return new URL(e,t).href},Iv={},mi=function(t,r,a){let n=Promise.resolve();if(r&&r.length>0){const o=document.getElementsByTagName("link"),A=document.querySelector("meta[property=csp-nonce]"),l=(A==null?void 0:A.nonce)||(A==null?void 0:A.getAttribute("nonce"));n=Promise.allSettled(r.map(c=>{if(c=lO(c,a),c in Iv)return;Iv[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!a)for(let g=o.length-1;g>=0;g--){const h=o[g];if(h.href===c&&(!d||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${f}`))return;const u=document.createElement("link");if(u.rel=d?"stylesheet":AO,d||(u.as="script"),u.crossOrigin="",u.href=c,l&&u.setAttribute("nonce",l),document.head.appendChild(u),d)return new Promise((g,h)=>{u.addEventListener("load",g),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const A=new Event("vite:preloadError",{cancelable:!0});if(A.payload=o,window.dispatchEvent(A),!A.defaultPrevented)throw o}return n.then(o=>{for(const A of o||[])A.status==="rejected"&&s(A.reason);return t().catch(s)})};var om={},_b={exports:{}};(function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(_b);var Am=_b.exports,lm={};Object.defineProperty(lm,"__esModule",{value:!0});lm.default=void 0;var cO={items_per_page:"/ стр.",jump_to:"Перейти",jump_to_confirm:"подтвердить",page:"Страница",prev_page:"Назад",next_page:"Вперед",prev_5:"Предыдущие 5",next_5:"Следующие 5",prev_3:"Предыдущие 3",next_3:"Следующие 3",page_size:"размер страницы"};lm.default=cO;var cm={},e0={},dm={},Cb={exports:{}},Bb={exports:{}},Sb={exports:{}},Tb={exports:{}};(function(e){function t(r){"@babel/helpers - typeof";return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(Tb);var Ob=Tb.exports,Ib={exports:{}};(function(e){var t=Ob.default;function r(a,n){if(t(a)!="object"||!a)return a;var s=a[Symbol.toPrimitive];if(s!==void 0){var o=s.call(a,n||"default");if(t(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(Ib);var dO=Ib.exports;(function(e){var t=Ob.default,r=dO;function a(n){var s=r(n,"string");return t(s)=="symbol"?s:s+""}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports})(Sb);var uO=Sb.exports;(function(e){var t=uO;function r(a,n,s){return(n=t(n))in a?Object.defineProperty(a,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[n]=s,a}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(Bb);var fO=Bb.exports;(function(e){var t=fO;function r(n,s){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(n);s&&(A=A.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),o.push.apply(o,A)}return o}function a(n){for(var s=1;s<arguments.length;s++){var o=arguments[s]!=null?arguments[s]:{};s%2?r(Object(o),!0).forEach(function(A){t(n,A,o[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach(function(A){Object.defineProperty(n,A,Object.getOwnPropertyDescriptor(o,A))})}return n}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports})(Cb);var pO=Cb.exports,um={};Object.defineProperty(um,"__esModule",{value:!0});um.commonLocale=void 0;um.commonLocale={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0};var hO=Am.default;Object.defineProperty(dm,"__esModule",{value:!0});dm.default=void 0;var Nv=hO(pO),mO=um,gO=(0,Nv.default)((0,Nv.default)({},mO.commonLocale),{},{locale:"ru_RU",today:"Сегодня",now:"Сейчас",backToToday:"Текущая дата",ok:"ОК",clear:"Очистить",week:"Неделя",month:"Месяц",year:"Год",timeSelect:"Выбрать время",dateSelect:"Выбрать дату",monthSelect:"Выбрать месяц",yearSelect:"Выбрать год",decadeSelect:"Выбрать десятилетие",dateFormat:"D-M-YYYY",dateTimeFormat:"D-M-YYYY HH:mm:ss",previousMonth:"Предыдущий месяц (PageUp)",nextMonth:"Следующий месяц (PageDown)",previousYear:"Предыдущий год (Control + left)",nextYear:"Следующий год (Control + right)",previousDecade:"Предыдущее десятилетие",nextDecade:"Следущее десятилетие",previousCentury:"Предыдущий век",nextCentury:"Следующий век"});dm.default=gO;var t0={};Object.defineProperty(t0,"__esModule",{value:!0});t0.default=void 0;const xO={placeholder:"Выберите время",rangePlaceholder:["Время начала","Время окончания"]};t0.default=xO;var Nb=Am.default;Object.defineProperty(e0,"__esModule",{value:!0});e0.default=void 0;var yO=Nb(dm),vO=Nb(t0);const wO={lang:Object.assign({placeholder:"Выберите дату",yearPlaceholder:"Выберите год",quarterPlaceholder:"Выберите квартал",monthPlaceholder:"Выберите месяц",weekPlaceholder:"Выберите неделю",rangePlaceholder:["Начальная дата","Конечная дата"],rangeYearPlaceholder:["Начальный год","Год окончания"],rangeMonthPlaceholder:["Начальный месяц","Конечный месяц"],rangeWeekPlaceholder:["Начальная неделя","Конечная неделя"],shortWeekDays:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],shortMonths:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"]},yO.default),timePickerLocale:Object.assign({},vO.default)};e0.default=wO;var EO=Am.default;Object.defineProperty(cm,"__esModule",{value:!0});cm.default=void 0;var bO=EO(e0);cm.default=bO.default;var fm=Am.default;Object.defineProperty(om,"__esModule",{value:!0});om.default=void 0;var _O=fm(lm),CO=fm(cm),BO=fm(e0),SO=fm(t0);const Qi="${label} не является типом ${type}",TO={locale:"ru",Pagination:_O.default,DatePicker:BO.default,TimePicker:SO.default,Calendar:CO.default,global:{placeholder:"Пожалуйста выберите",close:"Закрыть"},Table:{filterTitle:"Фильтр",filterConfirm:"OK",filterReset:"Сбросить",filterEmptyText:"Без фильтров",filterCheckAll:"Выбрать все элементы",filterSearchPlaceholder:"Поиск в фильтрах",emptyText:"Нет данных",selectAll:"Выбрать всё",selectInvert:"Инвертировать выбор",selectNone:"Очистить все данные",selectionAll:"Выбрать все данные",sortTitle:"Сортировка",expand:"Развернуть строку",collapse:"Свернуть строку",triggerDesc:"Нажмите для сортировки по убыванию",triggerAsc:"Нажмите для сортировки по возрастанию",cancelSort:"Нажмите, чтобы отменить сортировку"},Tour:{Next:"Далее",Previous:"Назад",Finish:"Завершить"},Modal:{okText:"OK",cancelText:"Отмена",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Отмена"},Transfer:{titles:["",""],searchPlaceholder:"Поиск",itemUnit:"элем.",itemsUnit:"элем.",remove:"Удалить",selectAll:"Выбрать все данные",deselectAll:"Очистить все данные",selectCurrent:"Выбрать текущую страницу",selectInvert:"Инвертировать выбор",removeAll:"Удалить все данные",removeCurrent:"Удалить текущую страницу"},Upload:{uploading:"Загрузка...",removeFile:"Удалить файл",uploadError:"При загрузке произошла ошибка",previewFile:"Предпросмотр файла",downloadFile:"Загрузить файл"},Empty:{description:"Нет данных"},Icon:{icon:"иконка"},Text:{edit:"Редактировать",copy:"Копировать",copied:"Скопировано",expand:"Раскрыть",collapse:"Свернуть"},Form:{optional:"(необязательно)",defaultValidateMessages:{default:"Ошибка проверки поля ${label}",required:"Пожалуйста, введите ${label}",enum:"${label} должен быть одним из [${enum}]",whitespace:"${label} не может быть пустым",date:{format:"${label} не правильный формат даты",parse:"${label} не может быть преобразовано в дату",invalid:"${label} не является корректной датой"},types:{string:Qi,method:Qi,array:Qi,object:Qi,number:Qi,date:Qi,boolean:Qi,integer:Qi,float:Qi,regexp:Qi,email:Qi,url:Qi,hex:Qi},string:{len:"${label} должна быть ${len} символов",min:"${label} должна быть больше или равна ${min} символов",max:"${label} должна быть меньше или равна ${max} символов",range:"Длина ${label} должна быть между ${min}-${max} символами"},number:{len:"${label} должна быть равна ${len}",min:"${label} должна быть больше или равна ${min}",max:"${label} должна быть меньше или равна ${max}",range:"${label} должна быть между ${min}-${max}"},array:{len:"Количество элементов ${label} должно быть равно ${len}",min:"Количество элементов ${label} должно быть больше или равно ${min}",max:"Количество элементов ${label} должно быть меньше или равно ${max}",range:"Количество элементов ${label} должно быть между ${min} и ${max}"},pattern:{mismatch:"${label} не соответствует шаблону ${pattern}"}}},Image:{preview:"Предпросмотр"},QRCode:{expired:"QR-код устарел",refresh:"Обновить"},ColorPicker:{presetEmpty:"Пустой",transparent:"Прозрачный",singleColor:"Один цвет",gradientColor:"Градиент"}};om.default=TO;var OO=om;const IO=nb(OO),NO={theme:"light",language:"ru",sidebarCollapsed:!1,loading:!1,initialized:!1},Fb=rm({name:"app",initialState:NO,reducers:{setTheme:(e,t)=>{e.theme=t.payload},setLanguage:(e,t)=>{e.language=t.payload},toggleSidebar:e=>{e.sidebarCollapsed=!e.sidebarCollapsed},setSidebarCollapsed:(e,t)=>{e.sidebarCollapsed=t.payload},setLoading:(e,t)=>{e.loading=t.payload},setInitialized:(e,t)=>{e.initialized=t.payload},setSettings:(e,t)=>({...e,...t.payload})}}),{setTheme:sY,setLanguage:oY,toggleSidebar:FO,setSidebarCollapsed:AY,setLoading:lY,setInitialized:RO,setSettings:kO}=Fb.actions,DO=Fb.reducer,jO={items:[],filteredItems:[],selectedCard:null,filters:{},sort:null,loading:!1,error:null},Rb=rm({name:"cards",initialState:jO,reducers:{setCards:(e,t)=>{e.items=t.payload,e.filteredItems=EA(t.payload,e.filters,e.sort)},addCard:(e,t)=>{e.items.push(t.payload),e.filteredItems=EA(e.items,e.filters,e.sort)},updateCard:(e,t)=>{const r=e.items.findIndex(a=>a.id===t.payload.id);r!==-1&&(e.items[r]=t.payload,e.filteredItems=EA(e.items,e.filters,e.sort))},deleteCard:(e,t)=>{e.items=e.items.filter(r=>r.id!==t.payload),e.filteredItems=EA(e.items,e.filters,e.sort)},deleteCards:(e,t)=>{e.items=e.items.filter(r=>!t.payload.includes(r.id)),e.filteredItems=EA(e.items,e.filters,e.sort)},setSelectedCard:(e,t)=>{e.selectedCard=t.payload},setFilters:(e,t)=>{e.filters=t.payload,e.filteredItems=EA(e.items,t.payload,e.sort)},setSort:(e,t)=>{e.sort=t.payload,e.filteredItems=EA(e.items,e.filters,t.payload)},clearFilters:e=>{e.filters={},e.filteredItems=EA(e.items,{},e.sort)},setLoading:(e,t)=>{e.loading=t.payload},setError:(e,t)=>{e.error=t.payload}}});function EA(e,t,r){let a=[...e];if(t.mainCategory&&(a=a.filter(n=>n.mainCategory===t.mainCategory)),t.status&&(a=a.filter(n=>n.status===t.status)),t.searchQuery){const n=t.searchQuery.toLowerCase();a=a.filter(s=>s.name.toLowerCase().includes(n)||s.number.toLowerCase().includes(n))}return t.dateFrom&&(a=a.filter(n=>n.createdAt>=t.dateFrom)),t.dateTo&&(a=a.filter(n=>n.createdAt<=t.dateTo)),r&&a.sort((n,s)=>{const o=n[r.field],A=s[r.field];return o==null?1:A==null?-1:o<A?r.order==="asc"?-1:1:o>A?r.order==="asc"?1:-1:0}),a}const{setCards:af,addCard:cY,updateCard:dY,deleteCard:uY,deleteCards:fY,setSelectedCard:pY,setFilters:hY,setSort:mY,clearFilters:gY,setLoading:xY,setError:yY}=Rb.actions,LO=Rb.reducer,UO={items:[],filteredItems:[],selectedCard:null,filters:{},sort:null,loading:!1,error:null},kb=rm({name:"extendedCards",initialState:UO,reducers:{setExtendedCards:(e,t)=>{e.items=t.payload,e.filteredItems=bA(t.payload,e.filters,e.sort)},addExtendedCard:(e,t)=>{e.items.push(t.payload),e.filteredItems=bA(e.items,e.filters,e.sort)},updateExtendedCard:(e,t)=>{const r=e.items.findIndex(a=>a.id===t.payload.id);r!==-1&&(e.items[r]=t.payload,e.filteredItems=bA(e.items,e.filters,e.sort))},deleteExtendedCard:(e,t)=>{e.items=e.items.filter(r=>r.id!==t.payload),e.filteredItems=bA(e.items,e.filters,e.sort)},deleteExtendedCards:(e,t)=>{e.items=e.items.filter(r=>!t.payload.includes(r.id)),e.filteredItems=bA(e.items,e.filters,e.sort)},setSelectedExtendedCard:(e,t)=>{e.selectedCard=t.payload},setExtendedFilters:(e,t)=>{e.filters=t.payload,e.filteredItems=bA(e.items,t.payload,e.sort)},setExtendedSort:(e,t)=>{e.sort=t.payload,e.filteredItems=bA(e.items,e.filters,t.payload)},clearExtendedFilters:e=>{e.filters={},e.filteredItems=bA(e.items,{},e.sort)},setExtendedLoading:(e,t)=>{e.loading=t.payload},setExtendedError:(e,t)=>{e.error=t.payload}}});function bA(e,t,r){let a=[...e];if(t.mainCategory&&(a=a.filter(n=>n.mainCategory===t.mainCategory)),t.status&&(a=a.filter(n=>n.status===t.status)),t.searchQuery){const n=t.searchQuery.toLowerCase();a=a.filter(s=>{var o,A;return s.name.toLowerCase().includes(n)||s.number.toLowerCase().includes(n)||((A=(o=s.address)==null?void 0:o.fullAddress)==null?void 0:A.toLowerCase().includes(n))})}return t.region&&(a=a.filter(n=>{var s,o;return(o=(s=n.address)==null?void 0:s.region)==null?void 0:o.toLowerCase().includes(t.region.toLowerCase())})),t.hasDocuments!==void 0&&(a=a.filter(n=>{var s,o;return t.hasDocuments?(((s=n.documents)==null?void 0:s.length)||0)>0:(((o=n.documents)==null?void 0:o.length)||0)===0})),r&&a.sort((n,s)=>{const o=n[r.field],A=s[r.field];if(o!==void 0&&A!==void 0){if(o<A)return r.order==="asc"?-1:1;if(o>A)return r.order==="asc"?1:-1}return 0}),a}const{setExtendedCards:z1,addExtendedCard:MO,updateExtendedCard:PO,deleteExtendedCard:QO,deleteExtendedCards:vY,setSelectedExtendedCard:wY,setExtendedFilters:EY,setExtendedSort:bY,clearExtendedFilters:_Y,setExtendedLoading:Fv,setExtendedError:CY}=kb.actions,qO=kb.reducer,KO=[{id:"wf-1",objectId:"card-101",objectName:"Офисное помещение, Москва, 450 м²",assetType:"Недвижимость",debtAmount:12e7,appraisedValue:15e7,stage:"ANALYSIS",manager:"Иванов И.И.",deadline:new Date(Date.now()+7*24*3600*1e3).toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),history:[{id:"h-1",stage:"ANALYSIS",user:"Иванов И.И.",comment:"Старт анализа внесудебной реализации",createdAt:new Date().toISOString()}],documents:[],notes:"Проверить актуальность оценки и запросить выписку ЕГРН"},{id:"wf-2",objectId:"card-202",objectName:"Спецтехника: автокран Liebherr",assetType:"Движимое имущество",debtAmount:35e6,appraisedValue:42e6,stage:"NEGOTIATION",manager:"Петрова А.А.",deadline:new Date(Date.now()+3*24*3600*1e3).toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),history:[{id:"h-2",stage:"ANALYSIS",user:"Петрова А.А.",createdAt:new Date().toISOString(),comment:"Проведен анализ возможности внесудебной реализации"},{id:"h-3",stage:"PREPARATION",user:"Петрова А.А.",createdAt:new Date().toISOString(),comment:"Подготовлен пакет уведомлений"},{id:"h-4",stage:"NEGOTIATION",user:"Петрова А.А.",createdAt:new Date().toISOString(),comment:"Начаты переговоры с залогодателем"}],documents:[],notes:"Нужно согласовать скидку и рассрочку"}],Db=[{id:"tpl-1",name:"Уведомление о намерении реализовать залог",type:"notification",description:"Базовое уведомление о старте внесудебной реализации",updatedAt:"2025-12-05T00:00:00.000Z"},{id:"tpl-2",name:"Претензионное письмо",type:"claim",description:"Претензия с указанием задолженности и сроков",updatedAt:"2025-12-05T00:00:00.000Z"},{id:"tpl-3",name:"Соглашение об отступном",type:"agreement",description:"Шаблон соглашения об отступном",updatedAt:"2025-12-05T00:00:00.000Z"},{id:"tpl-4",name:"Договор купли-продажи залогового имущества",type:"sale-contract",description:"Шаблон ДКП для внесудебной реализации",updatedAt:"2025-12-05T00:00:00.000Z"}],HO={cases:KO,kpi:null,templates:Db},jb=rm({name:"workflow",initialState:HO,reducers:{setCases:(e,t)=>{e.cases=t.payload},addCase:(e,t)=>{e.cases.push(t.payload)},addTemplate:(e,t)=>{e.templates.push(t.payload)},updateCaseStage:(e,t)=>{const r=e.cases.find(a=>a.id===t.payload.id);r&&(r.stage=t.payload.stage,r.updatedAt=new Date().toISOString(),r.history=[{id:`h-${Date.now()}`,stage:t.payload.stage,user:t.payload.user||"Система",comment:t.payload.comment,createdAt:r.updatedAt},...r.history])},updateCaseDocuments:(e,t)=>{const r=e.cases.find(a=>a.id===t.payload.id);r&&(r.documents=t.payload.documents,r.updatedAt=new Date().toISOString())},setKpi:(e,t)=>{e.kpi=t.payload},setTemplates:(e,t)=>{e.templates=t.payload},updateTemplate:(e,t)=>{const r=e.templates.findIndex(a=>a.id===t.payload.id);r>=0&&(e.templates[r]=t.payload)}}}),{setCases:GO,addCase:zO,addTemplate:VO,updateCaseStage:V1,updateCaseDocuments:$O,setKpi:BY,setTemplates:YO,updateTemplate:WO}=jb.actions,XO=jb.reducer,JO=wT({reducer:{app:DO,cards:LO,extendedCards:qO,workflow:XO},middleware:e=>e({serializableCheck:{ignoredActions:["cards/setCards","cards/addCard","cards/updateCard","extendedCards/setExtendedCards","extendedCards/addExtendedCard","extendedCards/updateExtendedCard"],ignoredPaths:["cards.items","extendedCards.items"]}})}),nA=()=>ET(),Vs=bT,oa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Za=Object.keys,Xn=Array.isArray;function yi(e,t){return typeof t!="object"||Za(t).forEach(function(r){e[r]=t[r]}),e}typeof Promise>"u"||oa.Promise||(oa.Promise=Promise);const Sf=Object.getPrototypeOf,ZO={}.hasOwnProperty;function rs(e,t){return ZO.call(e,t)}function Qd(e,t){typeof t=="function"&&(t=t(Sf(e))),(typeof Reflect>"u"?Za:Reflect.ownKeys)(t).forEach(r=>{$o(e,r,t[r])})}const Lb=Object.defineProperty;function $o(e,t,r,a){Lb(e,t,yi(r&&rs(r,"get")&&typeof r.get=="function"?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},a))}function Cd(e){return{from:function(t){return e.prototype=Object.create(t.prototype),$o(e.prototype,"constructor",e),{extend:Qd.bind(null,e.prototype)}}}}const eI=Object.getOwnPropertyDescriptor;function w2(e,t){let r;return eI(e,t)||(r=Sf(e))&&w2(r,t)}const tI=[].slice;function gh(e,t,r){return tI.call(e,t,r)}function Ub(e,t){return t(e)}function qu(e){if(!e)throw new Error("Assertion Failed")}function Mb(e){oa.setImmediate?setImmediate(e):setTimeout(e,0)}function Pb(e,t){return e.reduce((r,a,n)=>{var s=t(a,n);return s&&(r[s[0]]=s[1]),r},{})}function Yo(e,t){if(typeof t=="string"&&rs(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var r=[],a=0,n=t.length;a<n;++a){var s=Yo(e,t[a]);r.push(s)}return r}var o=t.indexOf(".");if(o!==-1){var A=e[t.substr(0,o)];return A==null?void 0:Yo(A,t.substr(o+1))}}function Ks(e,t,r){if(e&&t!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){qu(typeof r!="string"&&"length"in r);for(var a=0,n=t.length;a<n;++a)Ks(e,t[a],r[a])}else{var s=t.indexOf(".");if(s!==-1){var o=t.substr(0,s),A=t.substr(s+1);if(A==="")r===void 0?Xn(e)&&!isNaN(parseInt(o))?e.splice(o,1):delete e[o]:e[o]=r;else{var l=e[o];l&&rs(e,o)||(l=e[o]={}),Ks(l,A,r)}}else r===void 0?Xn(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=r}}function Qb(e){var t={};for(var r in e)rs(e,r)&&(t[r]=e[r]);return t}const rI=[].concat;function qb(e){return rI.apply([],e)}const Kb="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(qb([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>oa[e]),aI=Kb.map(e=>oa[e]);Pb(Kb,e=>[e,!0]);let kA=null;function r0(e){kA=typeof WeakMap<"u"&&new WeakMap;const t=$1(e);return kA=null,t}function $1(e){if(!e||typeof e!="object")return e;let t=kA&&kA.get(e);if(t)return t;if(Xn(e)){t=[],kA&&kA.set(e,t);for(var r=0,a=e.length;r<a;++r)t.push($1(e[r]))}else if(aI.indexOf(e.constructor)>=0)t=e;else{const s=Sf(e);for(var n in t=s===Object.prototype?{}:Object.create(s),kA&&kA.set(e,t),e)rs(e,n)&&(t[n]=$1(e[n]))}return t}const{toString:nI}={};function Y1(e){return nI.call(e).slice(8,-1)}const W1=typeof Symbol<"u"?Symbol.iterator:"@@iterator",iI=typeof W1=="symbol"?function(e){var t;return e!=null&&(t=e[W1])&&t.apply(e)}:function(){return null},pd={};function qo(e){var t,r,a,n;if(arguments.length===1){if(Xn(e))return e.slice();if(this===pd&&typeof e=="string")return[e];if(n=iI(e)){for(r=[];!(a=n.next()).done;)r.push(a.value);return r}if(e==null)return[e];if(typeof(t=e.length)=="number"){for(r=new Array(t);t--;)r[t]=e[t];return r}return[e]}for(t=arguments.length,r=new Array(t);t--;)r[t]=arguments[t];return r}const E2=typeof Symbol<"u"?e=>e[Symbol.toStringTag]==="AsyncFunction":()=>!1;var yo=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Hb(e,t){yo=e,Gb=t}var Gb=()=>!0;const sI=!new Error("").stack;function uc(){if(sI)try{throw uc.arguments,new Error}catch(e){return e}return new Error}function X1(e,t){var r=e.stack;return r?(t=t||0,r.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),r.split(`
`).slice(t).filter(Gb).map(a=>`
`+a).join("")):""}var zb=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],b2=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(zb),oI={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Bd(e,t){this._e=uc(),this.name=e,this.message=t}function Vb(e,t){return e+". Errors: "+Object.keys(t).map(r=>t[r].toString()).filter((r,a,n)=>n.indexOf(r)===a).join(`
`)}function xh(e,t,r,a){this._e=uc(),this.failures=t,this.failedKeys=a,this.successCount=r,this.message=Vb(e,t)}function nf(e,t){this._e=uc(),this.name="BulkError",this.failures=Object.keys(t).map(r=>t[r]),this.failuresByPos=t,this.message=Vb(e,t)}Cd(Bd).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+X1(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Cd(xh).from(Bd),Cd(nf).from(Bd);var _2=b2.reduce((e,t)=>(e[t]=t+"Error",e),{});const AI=Bd;var Yt=b2.reduce((e,t)=>{var r=t+"Error";function a(n,s){this._e=uc(),this.name=r,n?typeof n=="string"?(this.message=`${n}${s?`
 `+s:""}`,this.inner=s||null):typeof n=="object"&&(this.message=`${n.name} ${n.message}`,this.inner=n):(this.message=oI[t]||r,this.inner=null)}return Cd(a).from(AI),e[t]=a,e},{});Yt.Syntax=SyntaxError,Yt.Type=TypeError,Yt.Range=RangeError;var Rv=zb.reduce((e,t)=>(e[t+"Error"]=Yt[t],e),{}),Jp=b2.reduce((e,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=Yt[t]),e),{});function Xr(){}function Tf(e){return e}function lI(e,t){return e==null||e===Tf?t:function(r){return t(e(r))}}function rc(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function cI(e,t){return e===Xr?t:function(){var r=e.apply(this,arguments);r!==void 0&&(arguments[0]=r);var a=this.onsuccess,n=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return a&&(this.onsuccess=this.onsuccess?rc(a,this.onsuccess):a),n&&(this.onerror=this.onerror?rc(n,this.onerror):n),s!==void 0?s:r}}function dI(e,t){return e===Xr?t:function(){e.apply(this,arguments);var r=this.onsuccess,a=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?rc(r,this.onsuccess):r),a&&(this.onerror=this.onerror?rc(a,this.onerror):a)}}function uI(e,t){return e===Xr?t:function(r){var a=e.apply(this,arguments);yi(r,a);var n=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?rc(n,this.onsuccess):n),s&&(this.onerror=this.onerror?rc(s,this.onerror):s),a===void 0?o===void 0?void 0:o:yi(a,o)}}function fI(e,t){return e===Xr?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function C2(e,t){return e===Xr?t:function(){var r=e.apply(this,arguments);if(r&&typeof r.then=="function"){for(var a=this,n=arguments.length,s=new Array(n);n--;)s[n]=arguments[n];return r.then(function(){return t.apply(a,s)})}return t.apply(this,arguments)}}Jp.ModifyError=xh,Jp.DexieError=Bd,Jp.BulkError=nf;var Of={};const $b=100,[J1,yh,Z1]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,Sf(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,Sf(t),e]})(),Yb=yh&&yh.then,Zp=J1&&J1.constructor,B2=!!Z1;var ex=!1,pI=Z1?()=>{Z1.then(ep)}:oa.setImmediate?setImmediate.bind(null,ep):oa.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{ep(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(ep,0)},sf=function(e,t){Ku.push([e,t]),vh&&(pI(),vh=!1)},tx=!0,vh=!0,Hl=[],eh=[],rx=null,ax=Tf,Sd={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:jv,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{jv(e[0],e[1])}catch{}})}},Qt=Sd,Ku=[],Gl=0,th=[];function It(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Xr,this._lib=!1;var t=this._PSD=Qt;if(yo&&(this._stackHolder=uc(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==Of)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&ix(this,this._value))}this._state=null,this._value=null,++t.ref,Xb(this,e)}const nx={get:function(){var e=Qt,t=wh;function r(a,n){var s=!e.global&&(e!==Qt||t!==wh);const o=s&&!rA();var A=new It((l,c)=>{S2(this,new Wb(Eh(a,e,s,o),Eh(n,e,s,o),l,c,e))});return yo&&e_(A,this),A}return r.prototype=Of,r},set:function(e){$o(this,"then",e&&e.prototype===Of?nx:{get:function(){return e},set:nx.set})}};function Wb(e,t,r,a,n){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=r,this.reject=a,this.psd=n}function Xb(e,t){try{t(r=>{if(e._state===null){if(r===e)throw new TypeError("A promise cannot be resolved with itself.");var a=e._lib&&a0();r&&typeof r.then=="function"?Xb(e,(n,s)=>{r instanceof It?r._then(n,s):r.then(n,s)}):(e._state=!0,e._value=r,Jb(e)),a&&n0()}},ix.bind(null,e))}catch(r){ix(e,r)}}function ix(e,t){if(eh.push(t),e._state===null){var r=e._lib&&a0();t=ax(t),e._state=!1,e._value=t,yo&&t!==null&&typeof t=="object"&&!t._promise&&function(a,n,s){try{a.apply(null,s)}catch{}}(()=>{var a=w2(t,"stack");t._promise=e,$o(t,"stack",{get:()=>ex?a&&(a.get?a.get.apply(t):a.value):e.stack})}),function(a){Hl.some(n=>n._value===a._value)||Hl.push(a)}(e),Jb(e),r&&n0()}}function Jb(e){var t=e._listeners;e._listeners=[];for(var r=0,a=t.length;r<a;++r)S2(e,t[r]);var n=e._PSD;--n.ref||n.finalize(),Gl===0&&(++Gl,sf(()=>{--Gl==0&&T2()},[]))}function S2(e,t){if(e._state!==null){var r=e._state?t.onFulfilled:t.onRejected;if(r===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Gl,sf(hI,[r,e,t])}else e._listeners.push(t)}function hI(e,t,r){try{rx=t;var a,n=t._value;t._state?a=e(n):(eh.length&&(eh=[]),a=e(n),eh.indexOf(n)===-1&&function(s){for(var o=Hl.length;o;)if(Hl[--o]._value===s._value)return void Hl.splice(o,1)}(t)),r.resolve(a)}catch(s){r.reject(s)}finally{rx=null,--Gl==0&&T2(),--r.psd.ref||r.psd.finalize()}}function Zb(e,t,r){if(t.length===r)return t;var a="";if(e._state===!1){var n,s,o=e._value;o!=null?(n=o.name||"Error",s=o.message||o,a=X1(o,0)):(n=o,s=""),t.push(n+(s?": "+s:"")+a)}return yo&&((a=X1(e._stackHolder,2))&&t.indexOf(a)===-1&&t.push(a),e._prev&&Zb(e._prev,t,r)),t}function e_(e,t){var r=t?t._numPrev+1:0;r<100&&(e._prev=t,e._numPrev=r)}function ep(){a0()&&n0()}function a0(){var e=tx;return tx=!1,vh=!1,e}function n0(){var e,t,r;do for(;Ku.length>0;)for(e=Ku,Ku=[],r=e.length,t=0;t<r;++t){var a=e[t];a[0].apply(null,a[1])}while(Ku.length>0);tx=!0,vh=!0}function T2(){var e=Hl;Hl=[],e.forEach(a=>{a._PSD.onunhandled.call(null,a._value,a)});for(var t=th.slice(0),r=t.length;r;)t[--r]()}function tp(e){return new It(Of,!1,e)}function pa(e,t){var r=Qt;return function(){var a=a0(),n=Qt;try{return al(r,!0),e.apply(this,arguments)}catch(s){t&&t(s)}finally{al(n,!1),a&&n0()}}}Qd(It.prototype,{then:nx,_then:function(e,t){S2(this,new Wb(null,null,e,t,Qt))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],r=arguments[1];return typeof t=="function"?this.then(null,a=>a instanceof t?r(a):tp(a)):this.then(null,a=>a&&a.name===t?r(a):tp(a))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),tp(t)))},stack:{get:function(){if(this._stack)return this._stack;try{ex=!0;var e=Zb(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{ex=!1}}},timeout:function(e,t){return e<1/0?new It((r,a)=>{var n=setTimeout(()=>a(new Yt.Timeout(t)),e);this.then(r,a).finally(clearTimeout.bind(null,n))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&$o(It.prototype,Symbol.toStringTag,"Dexie.Promise"),Sd.env=t_(),Qd(It,{all:function(){var e=qo.apply(null,arguments).map(rp);return new It(function(t,r){e.length===0&&t([]);var a=e.length;e.forEach((n,s)=>It.resolve(n).then(o=>{e[s]=o,--a||t(e)},r))})},resolve:e=>{if(e instanceof It)return e;if(e&&typeof e.then=="function")return new It((r,a)=>{e.then(r,a)});var t=new It(Of,!0,e);return e_(t,rx),t},reject:tp,race:function(){var e=qo.apply(null,arguments).map(rp);return new It((t,r)=>{e.map(a=>It.resolve(a).then(t,r))})},PSD:{get:()=>Qt,set:e=>Qt=e},totalEchoes:{get:()=>wh},newPSD:rl,usePSD:$d,scheduler:{get:()=>sf,set:e=>{sf=e}},rejectionMapper:{get:()=>ax,set:e=>{ax=e}},follow:(e,t)=>new It((r,a)=>rl((n,s)=>{var o=Qt;o.unhandleds=[],o.onunhandled=s,o.finalize=rc(function(){(function(A){function l(){A(),th.splice(th.indexOf(l),1)}th.push(l),++Gl,sf(()=>{--Gl==0&&T2()},[])})(()=>{this.unhandleds.length===0?n():s(this.unhandleds[0])})},o.finalize),e()},t,r,a))}),Zp&&(Zp.allSettled&&$o(It,"allSettled",function(){const e=qo.apply(null,arguments).map(rp);return new It(t=>{e.length===0&&t([]);let r=e.length;const a=new Array(r);e.forEach((n,s)=>It.resolve(n).then(o=>a[s]={status:"fulfilled",value:o},o=>a[s]={status:"rejected",reason:o}).then(()=>--r||t(a)))})}),Zp.any&&typeof AggregateError<"u"&&$o(It,"any",function(){const e=qo.apply(null,arguments).map(rp);return new It((t,r)=>{e.length===0&&r(new AggregateError([]));let a=e.length;const n=new Array(a);e.forEach((s,o)=>It.resolve(s).then(A=>t(A),A=>{n[o]=A,--a||r(new AggregateError(n))}))})}));const $n={awaits:0,echoes:0,id:0};var mI=0,rh=[],wg=0,wh=0,gI=0;function rl(e,t,r,a){var n=Qt,s=Object.create(n);s.parent=n,s.ref=0,s.global=!1,s.id=++gI;var o=Sd.env;s.env=B2?{Promise:It,PromiseProp:{value:It,configurable:!0,writable:!0},all:It.all,race:It.race,allSettled:It.allSettled,any:It.any,resolve:It.resolve,reject:It.reject,nthen:kv(o.nthen,s),gthen:kv(o.gthen,s)}:{},t&&yi(s,t),++n.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var A=$d(s,e,r,a);return s.ref===0&&s.finalize(),A}function Vd(){return $n.id||($n.id=++mI),++$n.awaits,$n.echoes+=$b,$n.id}function rA(){return!!$n.awaits&&(--$n.awaits==0&&($n.id=0),$n.echoes=$n.awaits*$b,!0)}function rp(e){return $n.echoes&&e&&e.constructor===Zp?(Vd(),e.then(t=>(rA(),t),t=>(rA(),on(t)))):e}function xI(e){++wh,$n.echoes&&--$n.echoes!=0||($n.echoes=$n.id=0),rh.push(Qt),al(e,!0)}function yI(){var e=rh[rh.length-1];rh.pop(),al(e,!1)}function al(e,t){var r=Qt;if((t?!$n.echoes||wg++&&e===Qt:!wg||--wg&&e===Qt)||r_(t?xI.bind(null,e):yI),e!==Qt&&(Qt=e,r===Sd&&(Sd.env=t_()),B2)){var a=Sd.env.Promise,n=e.env;yh.then=n.nthen,a.prototype.then=n.gthen,(r.global||e.global)&&(Object.defineProperty(oa,"Promise",n.PromiseProp),a.all=n.all,a.race=n.race,a.resolve=n.resolve,a.reject=n.reject,n.allSettled&&(a.allSettled=n.allSettled),n.any&&(a.any=n.any))}}function t_(){var e=oa.Promise;return B2?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(oa,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:yh.then,gthen:e.prototype.then}:{}}function $d(e,t,r,a,n){var s=Qt;try{return al(e,!0),t(r,a,n)}finally{al(s,!1)}}function r_(e){Yb.call(J1,e)}function Eh(e,t,r,a){return typeof e!="function"?e:function(){var n=Qt;r&&Vd(),al(t,!0);try{return e.apply(this,arguments)}finally{al(n,!1),a&&r_(rA)}}}function kv(e,t){return function(r,a){return e.call(this,Eh(r,t),Eh(a,t))}}(""+Yb).indexOf("[native code]")===-1&&(Vd=rA=Xr);const Dv="unhandledrejection";function jv(e,t){var r;try{r=t.onuncatched(e)}catch{}if(r!==!1)try{var a,n={promise:t,reason:e};if(oa.document&&document.createEvent?((a=document.createEvent("Event")).initEvent(Dv,!0,!0),yi(a,n)):oa.CustomEvent&&yi(a=new CustomEvent(Dv,{detail:n}),n),a&&oa.dispatchEvent&&(dispatchEvent(a),!oa.PromiseRejectionEvent&&oa.onunhandledrejection))try{oa.onunhandledrejection(a)}catch{}yo&&a&&!a.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}var on=It.reject;function sx(e,t,r,a){if(e.idbdb&&(e._state.openComplete||Qt.letThrough||e._vip)){var n=e._createTransaction(t,r,e._dbSchema);try{n.create(),e._state.PR1398_maxLoop=3}catch(s){return s.name===_2.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>sx(e,t,r,a))):on(s)}return n._promise(t,(s,o)=>rl(()=>(Qt.trans=n,a(s,o,n)))).then(s=>n._completion.then(()=>s))}if(e._state.openComplete)return on(new Yt.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return on(new Yt.DatabaseClosed);e.open().catch(Xr)}return e._state.dbReadyPromise.then(()=>sx(e,t,r,a))}const Lv="3.2.7",Ml="￿",ox=-1/0,Do="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",a_="String expected.",of=[],pm=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),vI=pm,wI=pm,n_=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),hm="__dbnames",Eg="readonly",bg="readwrite";function ac(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const i_={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ap(e){return typeof e!="string"||/\./.test(e)?t=>t:t=>(t[e]===void 0&&e in t&&delete(t=r0(t))[e],t)}let EI=class{_trans(t,r,a){const n=this._tx||Qt.trans,s=this.name;function o(l,c,d){if(!d.schema[s])throw new Yt.NotFound("Table "+s+" not part of transaction");return r(d.idbtrans,d)}const A=a0();try{return n&&n.db===this.db?n===Qt.trans?n._promise(t,o,a):rl(()=>n._promise(t,o,a),{trans:n,transless:Qt.transless||Qt}):sx(this.db,t,[this.name],o)}finally{A&&n0()}}get(t,r){return t&&t.constructor===Object?this.where(t).first(r):this._trans("readonly",a=>this.core.get({trans:a,key:t}).then(n=>this.hook.reading.fire(n))).then(r)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(Xn(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const r=Za(t);if(r.length===1)return this.where(r[0]).equals(t[r[0]]);const a=this.schema.indexes.concat(this.schema.primKey).filter(c=>{if(c.compound&&r.every(d=>c.keyPath.indexOf(d)>=0)){for(let d=0;d<r.length;++d)if(r.indexOf(c.keyPath[d])===-1)return!1;return!0}return!1}).sort((c,d)=>c.keyPath.length-d.keyPath.length)[0];if(a&&this.db._maxKey!==Ml){const c=a.keyPath.slice(0,r.length);return this.where(c).equals(c.map(d=>t[d]))}!a&&yo&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${r.join("+")}]`);const{idxByName:n}=this.schema,s=this.db._deps.indexedDB;function o(c,d){try{return s.cmp(c,d)===0}catch{return!1}}const[A,l]=r.reduce(([c,d],f)=>{const p=n[f],u=t[f];return[c||p,c||!p?ac(d,p&&p.multi?g=>{const h=Yo(g,f);return Xn(h)&&h.some(y=>o(u,y))}:g=>o(u,Yo(g,f))):d]},[null,null]);return A?this.where(A.name).equals(t[A.keyPath]).filter(l):a?this.filter(l):this.where(r).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,Xn(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const r=a=>{if(!a)return a;const n=Object.create(t.prototype);for(var s in a)if(rs(a,s))try{n[s]=a[s]}catch{}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),t}defineClass(){return this.mapToClass(function(t){yi(this,t)})}add(t,r){const{auto:a,keyPath:n}=this.schema.primKey;let s=t;return n&&a&&(s=ap(n)(t)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"add",keys:r!=null?[r]:null,values:[s]})).then(o=>o.numFailures?It.reject(o.failures[0]):o.lastResult).then(o=>{if(n)try{Ks(t,n,o)}catch{}return o})}update(t,r){if(typeof t!="object"||Xn(t))return this.where(":id").equals(t).modify(r);{const a=Yo(t,this.schema.primKey.keyPath);if(a===void 0)return on(new Yt.InvalidArgument("Given object does not contain its primary key"));try{typeof r!="function"?Za(r).forEach(n=>{Ks(t,n,r[n])}):r(t,{value:t,primKey:a})}catch{}return this.where(":id").equals(a).modify(r)}}put(t,r){const{auto:a,keyPath:n}=this.schema.primKey;let s=t;return n&&a&&(s=ap(n)(t)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"put",values:[s],keys:r!=null?[r]:null})).then(o=>o.numFailures?It.reject(o.failures[0]):o.lastResult).then(o=>{if(n)try{Ks(t,n,o)}catch{}return o})}delete(t){return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:[t]})).then(r=>r.numFailures?It.reject(r.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:i_})).then(t=>t.numFailures?It.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",r=>this.core.getMany({keys:t,trans:r}).then(a=>a.map(n=>this.hook.reading.fire(n))))}bulkAdd(t,r,a){const n=Array.isArray(r)?r:void 0,s=(a=a||(n?void 0:r))?a.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:A,keyPath:l}=this.schema.primKey;if(l&&n)throw new Yt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(n&&n.length!==t.length)throw new Yt.InvalidArgument("Arguments objects and keys must have the same length");const c=t.length;let d=l&&A?t.map(ap(l)):t;return this.core.mutate({trans:o,type:"add",keys:n,values:d,wantResults:s}).then(({numFailures:f,results:p,lastResult:u,failures:g})=>{if(f===0)return s?p:u;throw new nf(`${this.name}.bulkAdd(): ${f} of ${c} operations failed`,g)})})}bulkPut(t,r,a){const n=Array.isArray(r)?r:void 0,s=(a=a||(n?void 0:r))?a.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:A,keyPath:l}=this.schema.primKey;if(l&&n)throw new Yt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(n&&n.length!==t.length)throw new Yt.InvalidArgument("Arguments objects and keys must have the same length");const c=t.length;let d=l&&A?t.map(ap(l)):t;return this.core.mutate({trans:o,type:"put",keys:n,values:d,wantResults:s}).then(({numFailures:f,results:p,lastResult:u,failures:g})=>{if(f===0)return s?p:u;throw new nf(`${this.name}.bulkPut(): ${f} of ${c} operations failed`,g)})})}bulkDelete(t){const r=t.length;return this._trans("readwrite",a=>this.core.mutate({trans:a,type:"delete",keys:t})).then(({numFailures:a,lastResult:n,failures:s})=>{if(a===0)return n;throw new nf(`${this.name}.bulkDelete(): ${a} of ${r} operations failed`,s)})}};function Af(e){var t={},r=function(o,A){if(A){for(var l=arguments.length,c=new Array(l-1);--l;)c[l-1]=arguments[l];return t[o].subscribe.apply(null,c),e}if(typeof o=="string")return t[o]};r.addEventType=s;for(var a=1,n=arguments.length;a<n;++a)s(arguments[a]);return r;function s(o,A,l){if(typeof o!="object"){var c;A||(A=fI),l||(l=Xr);var d={subscribers:[],fire:l,subscribe:function(f){d.subscribers.indexOf(f)===-1&&(d.subscribers.push(f),d.fire=A(d.fire,f))},unsubscribe:function(f){d.subscribers=d.subscribers.filter(function(p){return p!==f}),d.fire=d.subscribers.reduce(A,l)}};return t[o]=r[o]=d,d}Za(c=o).forEach(function(f){var p=c[f];if(Xn(p))s(f,c[f][0],c[f][1]);else{if(p!=="asap")throw new Yt.InvalidArgument("Invalid event config");var u=s(f,Tf,function(){for(var g=arguments.length,h=new Array(g);g--;)h[g]=arguments[g];u.subscribers.forEach(function(y){Mb(function(){y.apply(null,h)})})})}})}}function Su(e,t){return Cd(t).from({prototype:e}),t}function zc(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function _g(e,t){e.filter=ac(e.filter,t)}function Cg(e,t,r){var a=e.replayFilter;e.replayFilter=a?()=>ac(a(),t()):t,e.justLimit=r&&!a}function ah(e,t){if(e.isPrimKey)return t.primaryKey;const r=t.getIndexByKeyPath(e.index);if(!r)throw new Yt.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return r}function Uv(e,t,r){const a=ah(e,t.schema);return t.openCursor({trans:r,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:a,range:e.range}})}function np(e,t,r,a){const n=e.replayFilter?ac(e.filter,e.replayFilter()):e.filter;if(e.or){const s={},o=(A,l,c)=>{if(!n||n(l,c,p=>l.stop(p),p=>l.fail(p))){var d=l.primaryKey,f=""+d;f==="[object ArrayBuffer]"&&(f=""+new Uint8Array(d)),rs(s,f)||(s[f]=!0,t(A,l,c))}};return Promise.all([e.or._iterate(o,r),Mv(Uv(e,a,r),e.algorithm,o,!e.keysOnly&&e.valueMapper)])}return Mv(Uv(e,a,r),ac(e.algorithm,n),t,!e.keysOnly&&e.valueMapper)}function Mv(e,t,r,a){var n=pa(a?(s,o,A)=>r(a(s),o,A):r);return e.then(s=>{if(s)return s.start(()=>{var o=()=>s.continue();t&&!t(s,A=>o=A,A=>{s.stop(A),o=Xr},A=>{s.fail(A),o=Xr})||n(s.value,s,A=>o=A),o()})})}function gi(e,t){try{const r=Pv(e),a=Pv(t);if(r!==a)return r==="Array"?1:a==="Array"?-1:r==="binary"?1:a==="binary"?-1:r==="string"?1:a==="string"?-1:r==="Date"?1:a!=="Date"?NaN:-1;switch(r){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(n,s){const o=n.length,A=s.length,l=o<A?o:A;for(let c=0;c<l;++c)if(n[c]!==s[c])return n[c]<s[c]?-1:1;return o===A?0:o<A?-1:1}(Qv(e),Qv(t));case"Array":return function(n,s){const o=n.length,A=s.length,l=o<A?o:A;for(let c=0;c<l;++c){const d=gi(n[c],s[c]);if(d!==0)return d}return o===A?0:o<A?-1:1}(e,t)}}catch{}return NaN}function Pv(e){const t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";const r=Y1(e);return r==="ArrayBuffer"?"binary":r}function Qv(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}let bI=class{_read(t,r){var a=this._ctx;return a.error?a.table._trans(null,on.bind(null,a.error)):a.table._trans("readonly",t).then(r)}_write(t){var r=this._ctx;return r.error?r.table._trans(null,on.bind(null,r.error)):r.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var r=this._ctx;r.algorithm=ac(r.algorithm,t)}_iterate(t,r){return np(this._ctx,t,r,this._ctx.table.core)}clone(t){var r=Object.create(this.constructor.prototype),a=Object.create(this._ctx);return t&&yi(a,t),r._ctx=a,r}raw(){return this._ctx.valueMapper=null,this}each(t){var r=this._ctx;return this._read(a=>np(r,t,a,r.table.core))}count(t){return this._read(r=>{const a=this._ctx,n=a.table.core;if(zc(a,!0))return n.count({trans:r,query:{index:ah(a,n.schema),range:a.range}}).then(o=>Math.min(o,a.limit));var s=0;return np(a,()=>(++s,!1),r,n).then(()=>s)}).then(t)}sortBy(t,r){const a=t.split(".").reverse(),n=a[0],s=a.length-1;function o(c,d){return d?o(c[a[d]],d-1):c[n]}var A=this._ctx.dir==="next"?1:-1;function l(c,d){var f=o(c,s),p=o(d,s);return f<p?-A:f>p?A:0}return this.toArray(function(c){return c.sort(l)}).then(r)}toArray(t){return this._read(r=>{var a=this._ctx;if(a.dir==="next"&&zc(a,!0)&&a.limit>0){const{valueMapper:n}=a,s=ah(a,a.table.core.schema);return a.table.core.query({trans:r,limit:a.limit,values:!0,query:{index:s,range:a.range}}).then(({result:o})=>n?o.map(n):o)}{const n=[];return np(a,s=>n.push(s),r,a.table.core).then(()=>n)}},t)}offset(t){var r=this._ctx;return t<=0||(r.offset+=t,zc(r)?Cg(r,()=>{var a=t;return(n,s)=>a===0||(a===1?(--a,!1):(s(()=>{n.advance(a),a=0}),!1))}):Cg(r,()=>{var a=t;return()=>--a<0})),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),Cg(this._ctx,()=>{var r=t;return function(a,n,s){return--r<=0&&n(s),r>=0}},!0),this}until(t,r){return _g(this._ctx,function(a,n,s){return!t(a.value)||(n(s),r)}),this}first(t){return this.limit(1).toArray(function(r){return r[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){var r,a;return _g(this._ctx,function(n){return t(n.value)}),r=this._ctx,a=t,r.isMatch=ac(r.isMatch,a),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(a,n){t(n.key,n)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(a,n){t(n.primaryKey,n)})}keys(t){var r=this._ctx;r.keysOnly=!r.isMatch;var a=[];return this.each(function(n,s){a.push(s.key)}).then(function(){return a}).then(t)}primaryKeys(t){var r=this._ctx;if(r.dir==="next"&&zc(r,!0)&&r.limit>0)return this._read(n=>{var s=ah(r,r.table.core.schema);return r.table.core.query({trans:n,values:!1,limit:r.limit,query:{index:s,range:r.range}})}).then(({result:n})=>n).then(t);r.keysOnly=!r.isMatch;var a=[];return this.each(function(n,s){a.push(s.primaryKey)}).then(function(){return a}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(r){return r[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,r=t.index&&t.table.schema.idxByName[t.index];if(!r||!r.multi)return this;var a={};return _g(this._ctx,function(n){var s=n.primaryKey.toString(),o=rs(a,s);return a[s]=!0,!o}),this}modify(t){var r=this._ctx;return this._write(a=>{var n;if(typeof t=="function")n=t;else{var s=Za(t),o=s.length;n=function(h){for(var y=!1,x=0;x<o;++x){var v=s[x],E=t[v];Yo(h,v)!==E&&(Ks(h,v,E),y=!0)}return y}}const A=r.table.core,{outbound:l,extractKey:c}=A.schema.primaryKey,d=this.db._options.modifyChunkSize||200,f=[];let p=0;const u=[],g=(h,y)=>{const{failures:x,numFailures:v}=y;p+=h-v;for(let E of Za(x))f.push(x[E])};return this.clone().primaryKeys().then(h=>{const y=x=>{const v=Math.min(d,h.length-x);return A.getMany({trans:a,keys:h.slice(x,x+v),cache:"immutable"}).then(E=>{const R=[],b=[],T=l?[]:null,_=[];for(let O=0;O<v;++O){const M=E[O],I={value:r0(M),primKey:h[x+O]};n.call(I,I.value,I)!==!1&&(I.value==null?_.push(h[x+O]):l||gi(c(M),c(I.value))===0?(b.push(I.value),l&&T.push(h[x+O])):(_.push(h[x+O]),R.push(I.value)))}const S=zc(r)&&r.limit===1/0&&(typeof t!="function"||t===Bg)&&{index:r.index,range:r.range};return Promise.resolve(R.length>0&&A.mutate({trans:a,type:"add",values:R}).then(O=>{for(let M in O.failures)_.splice(parseInt(M),1);g(R.length,O)})).then(()=>(b.length>0||S&&typeof t=="object")&&A.mutate({trans:a,type:"put",keys:T,values:b,criteria:S,changeSpec:typeof t!="function"&&t}).then(O=>g(b.length,O))).then(()=>(_.length>0||S&&t===Bg)&&A.mutate({trans:a,type:"delete",keys:_,criteria:S}).then(O=>g(_.length,O))).then(()=>h.length>x+v&&y(x+d))})};return y(0).then(()=>{if(f.length>0)throw new xh("Error modifying one or more objects",f,p,u);return h.length})})})}delete(){var t=this._ctx,r=t.range;return zc(t)&&(t.isPrimKey&&!wI||r.type===3)?this._write(a=>{const{primaryKey:n}=t.table.core.schema,s=r;return t.table.core.count({trans:a,query:{index:n,range:s}}).then(o=>t.table.core.mutate({trans:a,type:"deleteRange",range:s}).then(({failures:A,lastResult:l,results:c,numFailures:d})=>{if(d)throw new xh("Could not delete some values",Object.keys(A).map(f=>A[f]),o-d);return o-d}))}):this.modify(Bg)}};const Bg=(e,t)=>t.value=null;function _I(e,t){return e<t?-1:e===t?0:1}function CI(e,t){return e>t?-1:e===t?0:1}function Hi(e,t,r){var a=e instanceof o_?new e.Collection(e):e;return a._ctx.error=r?new r(t):new TypeError(t),a}function Vc(e){return new e.Collection(e,()=>s_("")).limit(0)}function BI(e,t,r,a,n,s){for(var o=Math.min(e.length,a.length),A=-1,l=0;l<o;++l){var c=t[l];if(c!==a[l])return n(e[l],r[l])<0?e.substr(0,l)+r[l]+r.substr(l+1):n(e[l],a[l])<0?e.substr(0,l)+a[l]+r.substr(l+1):A>=0?e.substr(0,A)+t[A]+r.substr(A+1):null;n(e[l],c)<0&&(A=l)}return o<a.length&&s==="next"?e+r.substr(e.length):o<e.length&&s==="prev"?e.substr(0,r.length):A<0?null:e.substr(0,A)+a[A]+r.substr(A+1)}function ip(e,t,r,a){var n,s,o,A,l,c,d,f=r.length;if(!r.every(h=>typeof h=="string"))return Hi(e,a_);function p(h){n=function(x){return x==="next"?v=>v.toUpperCase():v=>v.toLowerCase()}(h),s=function(x){return x==="next"?v=>v.toLowerCase():v=>v.toUpperCase()}(h),o=h==="next"?_I:CI;var y=r.map(function(x){return{lower:s(x),upper:n(x)}}).sort(function(x,v){return o(x.lower,v.lower)});A=y.map(function(x){return x.upper}),l=y.map(function(x){return x.lower}),c=h,d=h==="next"?"":a}p("next");var u=new e.Collection(e,()=>OA(A[0],l[f-1]+a));u._ondirectionchange=function(h){p(h)};var g=0;return u._addAlgorithm(function(h,y,x){var v=h.key;if(typeof v!="string")return!1;var E=s(v);if(t(E,l,g))return!0;for(var R=null,b=g;b<f;++b){var T=BI(v,E,A[b],l[b],o,c);T===null&&R===null?g=b+1:(R===null||o(R,T)>0)&&(R=T)}return y(R!==null?function(){h.continue(R+d)}:x),!1}),u}function OA(e,t,r,a){return{type:2,lower:e,upper:t,lowerOpen:r,upperOpen:a}}function s_(e){return{type:1,lower:e,upper:e}}class o_{get Collection(){return this._ctx.table.db.Collection}between(t,r,a,n){a=a!==!1,n=n===!0;try{return this._cmp(t,r)>0||this._cmp(t,r)===0&&(a||n)&&(!a||!n)?Vc(this):new this.Collection(this,()=>OA(t,r,!a,!n))}catch{return Hi(this,Do)}}equals(t){return t==null?Hi(this,Do):new this.Collection(this,()=>s_(t))}above(t){return t==null?Hi(this,Do):new this.Collection(this,()=>OA(t,void 0,!0))}aboveOrEqual(t){return t==null?Hi(this,Do):new this.Collection(this,()=>OA(t,void 0,!1))}below(t){return t==null?Hi(this,Do):new this.Collection(this,()=>OA(void 0,t,!1,!0))}belowOrEqual(t){return t==null?Hi(this,Do):new this.Collection(this,()=>OA(void 0,t))}startsWith(t){return typeof t!="string"?Hi(this,a_):this.between(t,t+Ml,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):ip(this,(r,a)=>r.indexOf(a[0])===0,[t],Ml)}equalsIgnoreCase(t){return ip(this,(r,a)=>r===a[0],[t],"")}anyOfIgnoreCase(){var t=qo.apply(pd,arguments);return t.length===0?Vc(this):ip(this,(r,a)=>a.indexOf(r)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=qo.apply(pd,arguments);return t.length===0?Vc(this):ip(this,(r,a)=>a.some(n=>r.indexOf(n)===0),t,Ml)}anyOf(){const t=qo.apply(pd,arguments);let r=this._cmp;try{t.sort(r)}catch{return Hi(this,Do)}if(t.length===0)return Vc(this);const a=new this.Collection(this,()=>OA(t[0],t[t.length-1]));a._ondirectionchange=s=>{r=s==="next"?this._ascending:this._descending,t.sort(r)};let n=0;return a._addAlgorithm((s,o,A)=>{const l=s.key;for(;r(l,t[n])>0;)if(++n,n===t.length)return o(A),!1;return r(l,t[n])===0||(o(()=>{s.continue(t[n])}),!1)}),a}notEqual(t){return this.inAnyRange([[ox,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=qo.apply(pd,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return Hi(this,Do)}const r=t.reduce((a,n)=>a?a.concat([[a[a.length-1][1],n]]):[[ox,n]],null);return r.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(r,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,r){const a=this._cmp,n=this._ascending,s=this._descending,o=this._min,A=this._max;if(t.length===0)return Vc(this);if(!t.every(v=>v[0]!==void 0&&v[1]!==void 0&&n(v[0],v[1])<=0))return Hi(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Yt.InvalidArgument);const l=!r||r.includeLowers!==!1,c=r&&r.includeUppers===!0;let d,f=n;function p(v,E){return f(v[0],E[0])}try{d=t.reduce(function(v,E){let R=0,b=v.length;for(;R<b;++R){const T=v[R];if(a(E[0],T[1])<0&&a(E[1],T[0])>0){T[0]=o(T[0],E[0]),T[1]=A(T[1],E[1]);break}}return R===b&&v.push(E),v},[]),d.sort(p)}catch{return Hi(this,Do)}let u=0;const g=c?v=>n(v,d[u][1])>0:v=>n(v,d[u][1])>=0,h=l?v=>s(v,d[u][0])>0:v=>s(v,d[u][0])>=0;let y=g;const x=new this.Collection(this,()=>OA(d[0][0],d[d.length-1][1],!l,!c));return x._ondirectionchange=v=>{v==="next"?(y=g,f=n):(y=h,f=s),d.sort(p)},x._addAlgorithm((v,E,R)=>{for(var b=v.key;y(b);)if(++u,u===d.length)return E(R),!1;return!!function(T){return!g(T)&&!h(T)}(b)||(this._cmp(b,d[u][1])===0||this._cmp(b,d[u][0])===0||E(()=>{f===n?v.continue(d[u][0]):v.continue(d[u][1])}),!1)}),x}startsWithAnyOf(){const t=qo.apply(pd,arguments);return t.every(r=>typeof r=="string")?t.length===0?Vc(this):this.inAnyRange(t.map(r=>[r,r+Ml])):Hi(this,"startsWithAnyOf() only works with strings")}}function uo(e){return pa(function(t){return If(t),e(t.target.error),!1})}function If(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const Nf="storagemutated",jA="x-storagemutated-1",nl=Af(null,Nf);class SI{_lock(){return qu(!Qt.global),++this._reculock,this._reculock!==1||Qt.global||(Qt.lockOwnerFor=this),this}_unlock(){if(qu(!Qt.global),--this._reculock==0)for(Qt.global||(Qt.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{$d(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&Qt.lockOwnerFor!==this}create(t){if(!this.mode)return this;const r=this.db.idbdb,a=this.db._state.dbOpenError;if(qu(!this.idbtrans),!t&&!r)switch(a&&a.name){case"DatabaseClosedError":throw new Yt.DatabaseClosed(a);case"MissingAPIError":throw new Yt.MissingAPI(a.message,a);default:throw new Yt.OpenFailed(a)}if(!this.active)throw new Yt.TransactionInactive;return qu(this._completion._state===null),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=pa(n=>{If(n),this._reject(t.error)}),t.onabort=pa(n=>{If(n),this.active&&this._reject(new Yt.Abort(t.error)),this.active=!1,this.on("abort").fire(n)}),t.oncomplete=pa(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&nl.storagemutated.fire(t.mutatedParts)}),this}_promise(t,r,a){if(t==="readwrite"&&this.mode!=="readwrite")return on(new Yt.ReadOnly("Transaction is readonly"));if(!this.active)return on(new Yt.TransactionInactive);if(this._locked())return new It((s,o)=>{this._blockedFuncs.push([()=>{this._promise(t,r,a).then(s,o)},Qt])});if(a)return rl(()=>{var s=new It((o,A)=>{this._lock();const l=r(o,A,this);l&&l.then&&l.then(o,A)});return s.finally(()=>this._unlock()),s._lib=!0,s});var n=new It((s,o)=>{var A=r(s,o,this);A&&A.then&&A.then(s,o)});return n._lib=!0,n}_root(){return this.parent?this.parent._root():this}waitFor(t){var r=this._root();const a=It.resolve(t);if(r._waitingFor)r._waitingFor=r._waitingFor.then(()=>a);else{r._waitingFor=a,r._waitingQueue=[];var n=r.idbtrans.objectStore(r.storeNames[0]);(function o(){for(++r._spinCount;r._waitingQueue.length;)r._waitingQueue.shift()();r._waitingFor&&(n.get(-1/0).onsuccess=o)})()}var s=r._waitingFor;return new It((o,A)=>{a.then(l=>r._waitingQueue.push(pa(o.bind(null,l))),l=>r._waitingQueue.push(pa(A.bind(null,l)))).finally(()=>{r._waitingFor===s&&(r._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Yt.Abort))}table(t){const r=this._memoizedTables||(this._memoizedTables={});if(rs(r,t))return r[t];const a=this.schema[t];if(!a)throw new Yt.NotFound("Table "+t+" not part of transaction");const n=new this.db.Table(t,a,this);return n.core=this.db.core.table(t),r[t]=n,n}}function Ax(e,t,r,a,n,s,o){return{name:e,keyPath:t,unique:r,multi:a,auto:n,compound:s,src:(r&&!o?"&":"")+(a?"*":"")+(n?"++":"")+A_(t)}}function A_(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function l_(e,t,r){return{name:e,primKey:t,indexes:r,mappedClass:null,idxByName:Pb(r,a=>[a.name,a])}}let Ff=e=>{try{return e.only([[]]),Ff=()=>[[]],[[]]}catch{return Ff=()=>Ml,Ml}};function lx(e){return e==null?()=>{}:typeof e=="string"?function(t){return t.split(".").length===1?a=>a[t]:a=>Yo(a,t)}(e):t=>Yo(t,e)}function qv(e){return[].slice.call(e)}let TI=0;function lf(e){return e==null?":id":typeof e=="string"?e:`[${e.join("+")}]`}function OI(e,t,r){function a(l){if(l.type===3)return null;if(l.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:c,upper:d,lowerOpen:f,upperOpen:p}=l;return c===void 0?d===void 0?null:t.upperBound(d,!!p):d===void 0?t.lowerBound(c,!!f):t.bound(c,d,!!f,!!p)}const{schema:n,hasGetAll:s}=function(l,c){const d=qv(l.objectStoreNames);return{schema:{name:l.name,tables:d.map(f=>c.objectStore(f)).map(f=>{const{keyPath:p,autoIncrement:u}=f,g=Xn(p),h=p==null,y={},x={name:f.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:h,compound:g,keyPath:p,autoIncrement:u,unique:!0,extractKey:lx(p)},indexes:qv(f.indexNames).map(v=>f.index(v)).map(v=>{const{name:E,unique:R,multiEntry:b,keyPath:T}=v,_={name:E,compound:Xn(T),keyPath:T,unique:R,multiEntry:b,extractKey:lx(T)};return y[lf(T)]=_,_}),getIndexByKeyPath:v=>y[lf(v)]};return y[":id"]=x.primaryKey,p!=null&&(y[lf(p)]=x.primaryKey),x})},hasGetAll:d.length>0&&"getAll"in c.objectStore(d[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,r),o=n.tables.map(l=>function(c){const d=c.name;return{name:d,schema:c,mutate:function({trans:f,type:p,keys:u,values:g,range:h}){return new Promise((y,x)=>{y=pa(y);const v=f.objectStore(d),E=v.keyPath==null,R=p==="put"||p==="add";if(!R&&p!=="delete"&&p!=="deleteRange")throw new Error("Invalid operation type: "+p);const{length:b}=u||g||{length:1};if(u&&g&&u.length!==g.length)throw new Error("Given keys array must have same length as given values array.");if(b===0)return y({numFailures:0,failures:{},results:[],lastResult:void 0});let T;const _=[],S=[];let O=0;const M=D=>{++O,If(D)};if(p==="deleteRange"){if(h.type===4)return y({numFailures:O,failures:S,results:[],lastResult:void 0});h.type===3?_.push(T=v.clear()):_.push(T=v.delete(a(h)))}else{const[D,L]=R?E?[g,u]:[g,null]:[u,null];if(R)for(let N=0;N<b;++N)_.push(T=L&&L[N]!==void 0?v[p](D[N],L[N]):v[p](D[N])),T.onerror=M;else for(let N=0;N<b;++N)_.push(T=v[p](D[N])),T.onerror=M}const I=D=>{const L=D.target.result;_.forEach((N,P)=>N.error!=null&&(S[P]=N.error)),y({numFailures:O,failures:S,results:p==="delete"?u:_.map(N=>N.result),lastResult:L})};T.onerror=D=>{M(D),I(D)},T.onsuccess=I})},getMany:({trans:f,keys:p})=>new Promise((u,g)=>{u=pa(u);const h=f.objectStore(d),y=p.length,x=new Array(y);let v,E=0,R=0;const b=_=>{const S=_.target;x[S._pos]=S.result,++R===E&&u(x)},T=uo(g);for(let _=0;_<y;++_)p[_]!=null&&(v=h.get(p[_]),v._pos=_,v.onsuccess=b,v.onerror=T,++E);E===0&&u(x)}),get:({trans:f,key:p})=>new Promise((u,g)=>{u=pa(u);const h=f.objectStore(d).get(p);h.onsuccess=y=>u(y.target.result),h.onerror=uo(g)}),query:function(f){return p=>new Promise((u,g)=>{u=pa(u);const{trans:h,values:y,limit:x,query:v}=p,E=x===1/0?void 0:x,{index:R,range:b}=v,T=h.objectStore(d),_=R.isPrimaryKey?T:T.index(R.name),S=a(b);if(x===0)return u({result:[]});if(f){const O=y?_.getAll(S,E):_.getAllKeys(S,E);O.onsuccess=M=>u({result:M.target.result}),O.onerror=uo(g)}else{let O=0;const M=y||!("openKeyCursor"in _)?_.openCursor(S):_.openKeyCursor(S),I=[];M.onsuccess=D=>{const L=M.result;return L?(I.push(y?L.value:L.primaryKey),++O===x?u({result:I}):void L.continue()):u({result:I})},M.onerror=uo(g)}})}(s),openCursor:function({trans:f,values:p,query:u,reverse:g,unique:h}){return new Promise((y,x)=>{y=pa(y);const{index:v,range:E}=u,R=f.objectStore(d),b=v.isPrimaryKey?R:R.index(v.name),T=g?h?"prevunique":"prev":h?"nextunique":"next",_=p||!("openKeyCursor"in b)?b.openCursor(a(E),T):b.openKeyCursor(a(E),T);_.onerror=uo(x),_.onsuccess=pa(S=>{const O=_.result;if(!O)return void y(null);O.___id=++TI,O.done=!1;const M=O.continue.bind(O);let I=O.continuePrimaryKey;I&&(I=I.bind(O));const D=O.advance.bind(O),L=()=>{throw new Error("Cursor not stopped")};O.trans=f,O.stop=O.continue=O.continuePrimaryKey=O.advance=()=>{throw new Error("Cursor not started")},O.fail=pa(x),O.next=function(){let N=1;return this.start(()=>N--?this.continue():this.stop()).then(()=>this)},O.start=N=>{const P=new Promise((J,te)=>{J=pa(J),_.onerror=uo(te),O.fail=te,O.stop=V=>{O.stop=O.continue=O.continuePrimaryKey=O.advance=L,J(V)}}),Q=()=>{if(_.result)try{N()}catch(J){O.fail(J)}else O.done=!0,O.start=()=>{throw new Error("Cursor behind last entry")},O.stop()};return _.onsuccess=pa(J=>{_.onsuccess=Q,Q()}),O.continue=M,O.continuePrimaryKey=I,O.advance=D,Q(),P},y(O)},x)})},count({query:f,trans:p}){const{index:u,range:g}=f;return new Promise((h,y)=>{const x=p.objectStore(d),v=u.isPrimaryKey?x:x.index(u.name),E=a(g),R=E?v.count(E):v.count();R.onsuccess=pa(b=>h(b.target.result)),R.onerror=uo(y)})}}}(l)),A={};return o.forEach(l=>A[l.name]=l),{stack:"dbcore",transaction:e.transaction.bind(e),table(l){if(!A[l])throw new Error(`Table '${l}' not found`);return A[l]},MIN_KEY:-1/0,MAX_KEY:Ff(t),schema:n}}function cx({_novip:e},t){const r=t.db,a=function(n,s,{IDBKeyRange:o,indexedDB:A},l){return{dbcore:function(d,f){return f.reduce((p,{create:u})=>({...p,...u(p)}),d)}(OI(s,o,l),n.dbcore)}}(e._middlewares,r,e._deps,t);e.core=a.dbcore,e.tables.forEach(n=>{const s=n.name;e.core.schema.tables.some(o=>o.name===s)&&(n.core=e.core.table(s),e[s]instanceof e.Table&&(e[s].core=n.core))})}function bh({_novip:e},t,r,a){r.forEach(n=>{const s=a[n];t.forEach(o=>{const A=w2(o,n);(!A||"value"in A&&A.value===void 0)&&(o===e.Transaction.prototype||o instanceof e.Transaction?$o(o,n,{get(){return this.table(n)},set(l){Lb(this,n,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):o[n]=new e.Table(n,s))})})}function dx({_novip:e},t){t.forEach(r=>{for(let a in r)r[a]instanceof e.Table&&delete r[a]})}function II(e,t){return e._cfg.version-t._cfg.version}function NI(e,t,r,a){const n=e._dbSchema,s=e._createTransaction("readwrite",e._storeNames,n);s.create(r),s._completion.catch(a);const o=s._reject.bind(s),A=Qt.transless||Qt;rl(()=>{Qt.trans=s,Qt.transless=A,t===0?(Za(n).forEach(l=>{Sg(r,l,n[l].primKey,n[l].indexes)}),cx(e,r),It.follow(()=>e.on.populate.fire(s)).catch(o)):function({_novip:l},c,d,f){const p=[],u=l._versions;let g=l._dbSchema=fx(l,l.idbdb,f),h=!1;const y=u.filter(v=>v._cfg.version>=c);function x(){return p.length?It.resolve(p.shift()(d.idbtrans)).then(x):It.resolve()}return y.forEach(v=>{p.push(()=>{const E=g,R=v._cfg.dbschema;px(l,E,f),px(l,R,f),g=l._dbSchema=R;const b=c_(E,R);b.add.forEach(_=>{Sg(f,_[0],_[1].primKey,_[1].indexes)}),b.change.forEach(_=>{if(_.recreate)throw new Yt.Upgrade("Not yet support for changing primary key");{const S=f.objectStore(_.name);_.add.forEach(O=>ux(S,O)),_.change.forEach(O=>{S.deleteIndex(O.name),ux(S,O)}),_.del.forEach(O=>S.deleteIndex(O))}});const T=v._cfg.contentUpgrade;if(T&&v._cfg.version>c){cx(l,f),d._memoizedTables={},h=!0;let _=Qb(R);b.del.forEach(I=>{_[I]=E[I]}),dx(l,[l.Transaction.prototype]),bh(l,[l.Transaction.prototype],Za(_),_),d.schema=_;const S=E2(T);let O;S&&Vd();const M=It.follow(()=>{if(O=T(d),O&&S){var I=rA.bind(null,null);O.then(I,I)}});return O&&typeof O.then=="function"?It.resolve(O):M.then(()=>O)}}),p.push(E=>{(!h||!vI)&&function(R,b){[].slice.call(b.db.objectStoreNames).forEach(T=>R[T]==null&&b.db.deleteObjectStore(T))}(v._cfg.dbschema,E),dx(l,[l.Transaction.prototype]),bh(l,[l.Transaction.prototype],l._storeNames,l._dbSchema),d.schema=l._dbSchema})}),x().then(()=>{var v,E;E=f,Za(v=g).forEach(R=>{E.db.objectStoreNames.contains(R)||Sg(E,R,v[R].primKey,v[R].indexes)})})}(e,t,s,r).catch(o)})}function c_(e,t){const r={del:[],add:[],change:[]};let a;for(a in e)t[a]||r.del.push(a);for(a in t){const n=e[a],s=t[a];if(n){const o={name:a,def:s,recreate:!1,del:[],add:[],change:[]};if(""+(n.primKey.keyPath||"")!=""+(s.primKey.keyPath||"")||n.primKey.auto!==s.primKey.auto&&!pm)o.recreate=!0,r.change.push(o);else{const A=n.idxByName,l=s.idxByName;let c;for(c in A)l[c]||o.del.push(c);for(c in l){const d=A[c],f=l[c];d?d.src!==f.src&&o.change.push(f):o.add.push(f)}(o.del.length>0||o.add.length>0||o.change.length>0)&&r.change.push(o)}}else r.add.push([a,s])}return r}function Sg(e,t,r,a){const n=e.db.createObjectStore(t,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return a.forEach(s=>ux(n,s)),n}function ux(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function fx(e,t,r){const a={};return gh(t.objectStoreNames,0).forEach(n=>{const s=r.objectStore(n);let o=s.keyPath;const A=Ax(A_(o),o||"",!1,!1,!!s.autoIncrement,o&&typeof o!="string",!0),l=[];for(let d=0;d<s.indexNames.length;++d){const f=s.index(s.indexNames[d]);o=f.keyPath;var c=Ax(f.name,o,!!f.unique,!!f.multiEntry,!1,o&&typeof o!="string",!1);l.push(c)}a[n]=l_(n,A,l)}),a}function px({_novip:e},t,r){const a=r.db.objectStoreNames;for(let n=0;n<a.length;++n){const s=a[n],o=r.objectStore(s);e._hasGetAll="getAll"in o;for(let A=0;A<o.indexNames.length;++A){const l=o.indexNames[A],c=o.index(l).keyPath,d=typeof c=="string"?c:"["+gh(c).join("+")+"]";if(t[s]){const f=t[s].idxByName[d];f&&(f.name=l,delete t[s].idxByName[d],t[s].idxByName[l]=f)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&oa.WorkerGlobalScope&&oa instanceof oa.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class FI{_parseStoresSpec(t,r){Za(t).forEach(a=>{if(t[a]!==null){var n=t[a].split(",").map((o,A)=>{const l=(o=o.trim()).replace(/([&*]|\+\+)/g,""),c=/^\[/.test(l)?l.match(/^\[(.*)\]$/)[1].split("+"):l;return Ax(l,c||null,/\&/.test(o),/\*/.test(o),/\+\+/.test(o),Xn(c),A===0)}),s=n.shift();if(s.multi)throw new Yt.Schema("Primary key cannot be multi-valued");n.forEach(o=>{if(o.auto)throw new Yt.Schema("Only primary key can be marked as autoIncrement (++)");if(!o.keyPath)throw new Yt.Schema("Index must have a name and cannot be an empty string")}),r[a]=l_(a,s,n)}})}stores(t){const r=this.db;this._cfg.storesSource=this._cfg.storesSource?yi(this._cfg.storesSource,t):t;const a=r._versions,n={};let s={};return a.forEach(o=>{yi(n,o._cfg.storesSource),s=o._cfg.dbschema={},o._parseStoresSpec(n,s)}),r._dbSchema=s,dx(r,[r._allTables,r,r.Transaction.prototype]),bh(r,[r._allTables,r,r.Transaction.prototype,this._cfg.tables],Za(s),s),r._storeNames=Za(s),this}upgrade(t){return this._cfg.contentUpgrade=C2(this._cfg.contentUpgrade||Xr,t),this}}function O2(e,t){let r=e._dbNamesDB;return r||(r=e._dbNamesDB=new zl(hm,{addons:[],indexedDB:e,IDBKeyRange:t}),r.version(1).stores({dbnames:"name"})),r.table("dbnames")}function I2(e){return e&&typeof e.databases=="function"}function hx(e){return rl(function(){return Qt.letThrough=!0,e()})}function RI(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var r=function(){return indexedDB.databases().finally(t)};e=setInterval(r,100),r()}).finally(function(){return clearInterval(e)}):Promise.resolve()}function kI(e){const t=e._state,{indexedDB:r}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?on(t.dbOpenError):e);yo&&(t.openCanceller._stackHolder=uc()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const a=t.openCanceller;function n(){if(t.openCanceller!==a)throw new Yt.DatabaseClosed("db.open() was cancelled")}let s=t.dbReadyResolve,o=null,A=!1;const l=()=>new It((c,d)=>{if(n(),!r)throw new Yt.MissingAPI;const f=e.name,p=t.autoSchema?r.open(f):r.open(f,Math.round(10*e.verno));if(!p)throw new Yt.MissingAPI;p.onerror=uo(d),p.onblocked=pa(e._fireOnBlocked),p.onupgradeneeded=pa(u=>{if(o=p.transaction,t.autoSchema&&!e._options.allowEmptyDB){p.onerror=If,o.abort(),p.result.close();const h=r.deleteDatabase(f);h.onsuccess=h.onerror=pa(()=>{d(new Yt.NoSuchDatabase(`Database ${f} doesnt exist`))})}else{o.onerror=uo(d);var g=u.oldVersion>Math.pow(2,62)?0:u.oldVersion;A=g<1,e._novip.idbdb=p.result,NI(e,g/10,o,d)}},d),p.onsuccess=pa(()=>{o=null;const u=e._novip.idbdb=p.result,g=gh(u.objectStoreNames);if(g.length>0)try{const y=u.transaction((h=g).length===1?h[0]:h,"readonly");t.autoSchema?function({_novip:x},v,E){x.verno=v.version/10;const R=x._dbSchema=fx(0,v,E);x._storeNames=gh(v.objectStoreNames,0),bh(x,[x._allTables],Za(R),R)}(e,u,y):(px(e,e._dbSchema,y),function(x,v){const E=c_(fx(0,x.idbdb,v),x._dbSchema);return!(E.add.length||E.change.some(R=>R.add.length||R.change.length))}(e,y)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),cx(e,y)}catch{}var h;of.push(e),u.onversionchange=pa(y=>{t.vcFired=!0,e.on("versionchange").fire(y)}),u.onclose=pa(y=>{e.on("close").fire(y)}),A&&function({indexedDB:y,IDBKeyRange:x},v){!I2(y)&&v!==hm&&O2(y,x).put({name:v}).catch(Xr)}(e._deps,f),c()},d)}).catch(c=>c&&c.name==="UnknownError"&&t.PR1398_maxLoop>0?(t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),l()):It.reject(c));return It.race([a,(typeof navigator>"u"?It.resolve():RI()).then(l)]).then(()=>(n(),t.onReadyBeingFired=[],It.resolve(hx(()=>e.on.ready.fire(e.vip))).then(function c(){if(t.onReadyBeingFired.length>0){let d=t.onReadyBeingFired.reduce(C2,Xr);return t.onReadyBeingFired=[],It.resolve(hx(()=>d(e.vip))).then(c)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(c=>{t.dbOpenError=c;try{o&&o.abort()}catch{}return a===t.openCanceller&&e._close(),on(c)}).finally(()=>{t.openComplete=!0,s()})}function mx(e){var t=s=>e.next(s),r=n(t),a=n(s=>e.throw(s));function n(s){return o=>{var A=s(o),l=A.value;return A.done?l:l&&typeof l.then=="function"?l.then(r,a):Xn(l)?Promise.all(l).then(r,a):r(l)}}return n(t)()}function DI(e,t,r){var a=arguments.length;if(a<2)throw new Yt.InvalidArgument("Too few arguments");for(var n=new Array(a-1);--a;)n[a-1]=arguments[a];return r=n.pop(),[e,qb(n),r]}function d_(e,t,r,a,n){return It.resolve().then(()=>{const s=Qt.transless||Qt,o=e._createTransaction(t,r,e._dbSchema,a),A={trans:o,transless:s};if(a)o.idbtrans=a.idbtrans;else try{o.create(),e._state.PR1398_maxLoop=3}catch(f){return f.name===_2.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>d_(e,t,r,null,n))):on(f)}const l=E2(n);let c;l&&Vd();const d=It.follow(()=>{if(c=n.call(o,o),c)if(l){var f=rA.bind(null,null);c.then(f,f)}else typeof c.next=="function"&&typeof c.throw=="function"&&(c=mx(c))},A);return(c&&typeof c.then=="function"?It.resolve(c).then(f=>o.active?f:on(new Yt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):d.then(()=>c)).then(f=>(a&&o._resolve(),o._completion.then(()=>f))).catch(f=>(o._reject(f),on(f)))})}function sp(e,t,r){const a=Xn(e)?e.slice():[e];for(let n=0;n<r;++n)a.push(t);return a}const jI={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const r=e.table(t),{schema:a}=r,n={},s=[];function o(d,f,p){const u=lf(d),g=n[u]=n[u]||[],h=d==null?0:typeof d=="string"?1:d.length,y=f>0,x={...p,isVirtual:y,keyTail:f,keyLength:h,extractKey:lx(d),unique:!y&&p.unique};return g.push(x),x.isPrimaryKey||s.push(x),h>1&&o(h===2?d[0]:d.slice(0,h-1),f+1,p),g.sort((v,E)=>v.keyTail-E.keyTail),x}const A=o(a.primaryKey.keyPath,0,a.primaryKey);n[":id"]=[A];for(const d of a.indexes)o(d.keyPath,0,d);function l(d){const f=d.query.index;return f.isVirtual?{...d,query:{index:f,range:(p=d.query.range,u=f.keyTail,{type:p.type===1?2:p.type,lower:sp(p.lower,p.lowerOpen?e.MAX_KEY:e.MIN_KEY,u),lowerOpen:!0,upper:sp(p.upper,p.upperOpen?e.MIN_KEY:e.MAX_KEY,u),upperOpen:!0})}}:d;var p,u}return{...r,schema:{...a,primaryKey:A,indexes:s,getIndexByKeyPath:function(d){const f=n[lf(d)];return f&&f[0]}},count:d=>r.count(l(d)),query:d=>r.query(l(d)),openCursor(d){const{keyTail:f,isVirtual:p,keyLength:u}=d.query.index;return p?r.openCursor(l(d)).then(g=>g&&function(h){return Object.create(h,{continue:{value:function(x){x!=null?h.continue(sp(x,d.reverse?e.MAX_KEY:e.MIN_KEY,f)):d.unique?h.continue(h.key.slice(0,u).concat(d.reverse?e.MIN_KEY:e.MAX_KEY,f)):h.continue()}},continuePrimaryKey:{value(x,v){h.continuePrimaryKey(sp(x,e.MAX_KEY,f),v)}},primaryKey:{get:()=>h.primaryKey},key:{get(){const x=h.key;return u===1?x[0]:x.slice(0,u)}},value:{get:()=>h.value}})}(g)):r.openCursor(d)}}}}}};function N2(e,t,r,a){return r=r||{},a=a||"",Za(e).forEach(n=>{if(rs(t,n)){var s=e[n],o=t[n];if(typeof s=="object"&&typeof o=="object"&&s&&o){const A=Y1(s);A!==Y1(o)?r[a+n]=t[n]:A==="Object"?N2(s,o,r,a+n+"."):s!==o&&(r[a+n]=t[n])}else s!==o&&(r[a+n]=t[n])}else r[a+n]=void 0}),Za(t).forEach(n=>{rs(e,n)||(r[a+n]=t[n])}),r}const LI={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const r=e.table(t),{primaryKey:a}=r.schema;return{...r,mutate(s){const o=Qt.trans,{deleting:A,creating:l,updating:c}=o.table(t).hook;switch(s.type){case"add":if(l.fire===Xr)break;return o._promise("readwrite",()=>d(s),!0);case"put":if(l.fire===Xr&&c.fire===Xr)break;return o._promise("readwrite",()=>d(s),!0);case"delete":if(A.fire===Xr)break;return o._promise("readwrite",()=>d(s),!0);case"deleteRange":if(A.fire===Xr)break;return o._promise("readwrite",()=>function(p){return f(p.trans,p.range,1e4)}(s),!0)}return r.mutate(s);function d(p){const u=Qt.trans,g=p.keys||function(h,y){return y.type==="delete"?y.keys:y.keys||y.values.map(h.extractKey)}(a,p);if(!g)throw new Error("Keys missing");return(p=p.type==="add"||p.type==="put"?{...p,keys:g}:{...p}).type!=="delete"&&(p.values=[...p.values]),p.keys&&(p.keys=[...p.keys]),function(h,y,x){return y.type==="add"?Promise.resolve([]):h.getMany({trans:y.trans,keys:x,cache:"immutable"})}(r,p,g).then(h=>{const y=g.map((x,v)=>{const E=h[v],R={onerror:null,onsuccess:null};if(p.type==="delete")A.fire.call(R,x,E,u);else if(p.type==="add"||E===void 0){const b=l.fire.call(R,x,p.values[v],u);x==null&&b!=null&&(x=b,p.keys[v]=x,a.outbound||Ks(p.values[v],a.keyPath,x))}else{const b=N2(E,p.values[v]),T=c.fire.call(R,b,x,E,u);if(T){const _=p.values[v];Object.keys(T).forEach(S=>{rs(_,S)?_[S]=T[S]:Ks(_,S,T[S])})}}return R});return r.mutate(p).then(({failures:x,results:v,numFailures:E,lastResult:R})=>{for(let b=0;b<g.length;++b){const T=v?v[b]:g[b],_=y[b];T==null?_.onerror&&_.onerror(x[b]):_.onsuccess&&_.onsuccess(p.type==="put"&&h[b]?p.values[b]:T)}return{failures:x,results:v,numFailures:E,lastResult:R}}).catch(x=>(y.forEach(v=>v.onerror&&v.onerror(x)),Promise.reject(x)))})}function f(p,u,g){return r.query({trans:p,values:!1,query:{index:a,range:u},limit:g}).then(({result:h})=>d({type:"delete",keys:h,trans:p}).then(y=>y.numFailures>0?Promise.reject(y.failures[0]):h.length<g?{failures:[],numFailures:0,lastResult:void 0}:f(p,{...u,lower:h[h.length-1],lowerOpen:!0},g)))}}}}})};function u_(e,t,r){try{if(!t||t.keys.length<e.length)return null;const a=[];for(let n=0,s=0;n<t.keys.length&&s<e.length;++n)gi(t.keys[n],e[s])===0&&(a.push(r?r0(t.values[n]):t.values[n]),++s);return a.length===e.length?a:null}catch{return null}}const UI={stack:"dbcore",level:-1,create:e=>({table:t=>{const r=e.table(t);return{...r,getMany:a=>{if(!a.cache)return r.getMany(a);const n=u_(a.keys,a.trans._cache,a.cache==="clone");return n?It.resolve(n):r.getMany(a).then(s=>(a.trans._cache={keys:a.keys,values:a.cache==="clone"?r0(s):s},s))},mutate:a=>(a.type!=="add"&&(a.trans._cache=null),r.mutate(a))}}})};function F2(e){return!("from"in e)}const Qo=function(e,t){if(!this){const r=new Qo;return e&&"d"in e&&yi(r,e),r}yi(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function Rf(e,t,r){const a=gi(t,r);if(isNaN(a))return;if(a>0)throw RangeError();if(F2(e))return yi(e,{from:t,to:r,d:1});const n=e.l,s=e.r;if(gi(r,e.from)<0)return n?Rf(n,t,r):e.l={from:t,to:r,d:1,l:null,r:null},Kv(e);if(gi(t,e.to)>0)return s?Rf(s,t,r):e.r={from:t,to:r,d:1,l:null,r:null},Kv(e);gi(t,e.from)<0&&(e.from=t,e.l=null,e.d=s?s.d+1:1),gi(r,e.to)>0&&(e.to=r,e.r=null,e.d=e.l?e.l.d+1:1);const o=!e.r;n&&!e.l&&_h(e,n),s&&o&&_h(e,s)}function _h(e,t){F2(t)||function r(a,{from:n,to:s,l:o,r:A}){Rf(a,n,s),o&&r(a,o),A&&r(a,A)}(e,t)}function MI(e,t){const r=gx(t);let a=r.next();if(a.done)return!1;let n=a.value;const s=gx(e);let o=s.next(n.from),A=o.value;for(;!a.done&&!o.done;){if(gi(A.from,n.to)<=0&&gi(A.to,n.from)>=0)return!0;gi(n.from,A.from)<0?n=(a=r.next(A.from)).value:A=(o=s.next(n.from)).value}return!1}function gx(e){let t=F2(e)?null:{s:0,n:e};return{next(r){const a=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,a)for(;t.n.l&&gi(r,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!a||gi(r,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Kv(e){var t,r;const a=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((r=e.l)===null||r===void 0?void 0:r.d)||0),n=a>1?"r":a<-1?"l":"";if(n){const s=n==="r"?"l":"r",o={...e},A=e[n];e.from=A.from,e.to=A.to,e[n]=A[n],o[n]=A[s],e[s]=o,o.d=Hv(o)}e.d=Hv(e)}function Hv({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}Qd(Qo.prototype,{add(e){return _h(this,e),this},addKey(e){return Rf(this,e,e),this},addKeys(e){return e.forEach(t=>Rf(this,t,t)),this},[W1](){return gx(this)}});const PI={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,r=new Qo(e.MIN_KEY,e.MAX_KEY);return{...e,table:a=>{const n=e.table(a),{schema:s}=n,{primaryKey:o}=s,{extractKey:A,outbound:l}=o,c={...n,mutate:p=>{const u=p.trans,g=u.mutatedParts||(u.mutatedParts={}),h=T=>{const _=`idb://${t}/${a}/${T}`;return g[_]||(g[_]=new Qo)},y=h(""),x=h(":dels"),{type:v}=p;let[E,R]=p.type==="deleteRange"?[p.range]:p.type==="delete"?[p.keys]:p.values.length<50?[[],p.values]:[];const b=p.trans._cache;return n.mutate(p).then(T=>{if(Xn(E)){v!=="delete"&&(E=T.results),y.addKeys(E);const _=u_(E,b);_||v==="add"||x.addKeys(E),(_||R)&&function(S,O,M,I){function D(L){const N=S(L.name||"");function P(J){return J!=null?L.extractKey(J):null}const Q=J=>L.multiEntry&&Xn(J)?J.forEach(te=>N.addKey(te)):N.addKey(J);(M||I).forEach((J,te)=>{const V=M&&P(M[te]),G=I&&P(I[te]);gi(V,G)!==0&&(V!=null&&Q(V),G!=null&&Q(G))})}O.indexes.forEach(D)}(h,s,_,R)}else if(E){const _={from:E.lower,to:E.upper};x.add(_),y.add(_)}else y.add(r),x.add(r),s.indexes.forEach(_=>h(_.name).add(r));return T})}},d=({query:{index:p,range:u}})=>{var g,h;return[p,new Qo((g=u.lower)!==null&&g!==void 0?g:e.MIN_KEY,(h=u.upper)!==null&&h!==void 0?h:e.MAX_KEY)]},f={get:p=>[o,new Qo(p.key)],getMany:p=>[o,new Qo().addKeys(p.keys)],count:d,query:d,openCursor:d};return Za(f).forEach(p=>{c[p]=function(u){const{subscr:g}=Qt;if(g){const h=R=>{const b=`idb://${t}/${a}/${R}`;return g[b]||(g[b]=new Qo)},y=h(""),x=h(":dels"),[v,E]=f[p](u);if(h(v.name||"").add(E),!v.isPrimaryKey){if(p!=="count"){const R=p==="query"&&l&&u.values&&n.query({...u,values:!1});return n[p].apply(this,arguments).then(b=>{if(p==="query"){if(l&&u.values)return R.then(({result:_})=>(y.addKeys(_),b));const T=u.values?b.result.map(A):b.result;u.values?y.addKeys(T):x.addKeys(T)}else if(p==="openCursor"){const T=b,_=u.values;return T&&Object.create(T,{key:{get:()=>(x.addKey(T.primaryKey),T.key)},primaryKey:{get(){const S=T.primaryKey;return x.addKey(S),S}},value:{get:()=>(_&&y.addKey(T.primaryKey),T.value)}})}return b})}x.add(r)}}return n[p].apply(this,arguments)}}),c}}}};class zl{constructor(t,r){this._middlewares={},this.verno=0;const a=zl.dependencies;this._options=r={addons:zl.addons,autoOpen:!0,indexedDB:a.indexedDB,IDBKeyRange:a.IDBKeyRange,...r},this._deps={indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange};const{addons:n}=r;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Xr,dbReadyPromise:null,cancelOpen:Xr,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var o;s.dbReadyPromise=new It(A=>{s.dbReadyResolve=A}),s.openCanceller=new It((A,l)=>{s.cancelOpen=l}),this._state=s,this.name=t,this.on=Af(this,"populate","blocked","versionchange","close",{ready:[C2,Xr]}),this.on.ready.subscribe=Ub(this.on.ready.subscribe,A=>(l,c)=>{zl.vip(()=>{const d=this._state;if(d.openComplete)d.dbOpenError||It.resolve().then(l),c&&A(l);else if(d.onReadyBeingFired)d.onReadyBeingFired.push(l),c&&A(l);else{A(l);const f=this;c||A(function p(){f.on.ready.unsubscribe(l),f.on.ready.unsubscribe(p)})}})}),this.Collection=(o=this,Su(bI.prototype,function(A,l){this.db=o;let c=i_,d=null;if(l)try{c=l()}catch(g){d=g}const f=A._ctx,p=f.table,u=p.hook.reading.fire;this._ctx={table:p,index:f.index,isPrimKey:!f.index||p.schema.primKey.keyPath&&f.index===p.schema.primKey.name,range:c,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:d,or:f.or,valueMapper:u!==Tf?u:null}})),this.Table=function(A){return Su(EI.prototype,function(l,c,d){this.db=A,this._tx=d,this.name=l,this.schema=c,this.hook=A._allTables[l]?A._allTables[l].hook:Af(null,{creating:[cI,Xr],reading:[lI,Tf],updating:[uI,Xr],deleting:[dI,Xr]})})}(this),this.Transaction=function(A){return Su(SI.prototype,function(l,c,d,f,p){this.db=A,this.mode=l,this.storeNames=c,this.schema=d,this.chromeTransactionDurability=f,this.idbtrans=null,this.on=Af(this,"complete","error","abort"),this.parent=p||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new It((u,g)=>{this._resolve=u,this._reject=g}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},u=>{var g=this.active;return this.active=!1,this.on.error.fire(u),this.parent?this.parent._reject(u):g&&this.idbtrans&&this.idbtrans.abort(),on(u)})})}(this),this.Version=function(A){return Su(FI.prototype,function(l){this.db=A,this._cfg={version:l,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(A){return Su(o_.prototype,function(l,c,d){this.db=A,this._ctx={table:l,index:c===":id"?null:c,or:d};const f=A._deps.indexedDB;if(!f)throw new Yt.MissingAPI;this._cmp=this._ascending=f.cmp.bind(f),this._descending=(p,u)=>f.cmp(u,p),this._max=(p,u)=>f.cmp(p,u)>0?p:u,this._min=(p,u)=>f.cmp(p,u)<0?p:u,this._IDBKeyRange=A._deps.IDBKeyRange})}(this),this.on("versionchange",A=>{A.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",A=>{!A.newVersion||A.newVersion<A.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${A.oldVersion/10}`)}),this._maxKey=Ff(r.IDBKeyRange),this._createTransaction=(A,l,c,d)=>new this.Transaction(A,l,c,this._options.chromeTransactionDurability,d),this._fireOnBlocked=A=>{this.on("blocked").fire(A),of.filter(l=>l.name===this.name&&l!==this&&!l._state.vcFired).map(l=>l.on("versionchange").fire(A))},this.use(jI),this.use(LI),this.use(PI),this.use(UI),this.vip=Object.create(this,{_vip:{value:!0}}),n.forEach(A=>A(this))}version(t){if(isNaN(t)||t<.1)throw new Yt.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new Yt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const r=this._versions;var a=r.filter(n=>n._cfg.version===t)[0];return a||(a=new this.Version(t),r.push(a),r.sort(II),a.stores({}),this._state.autoSchema=!1,a)}_whenReady(t){return this.idbdb&&(this._state.openComplete||Qt.letThrough||this._vip)?t():new It((r,a)=>{if(this._state.openComplete)return a(new Yt.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void a(new Yt.DatabaseClosed);this.open().catch(Xr)}this._state.dbReadyPromise.then(r,a)}).then(t)}use({stack:t,create:r,level:a,name:n}){n&&this.unuse({stack:t,name:n});const s=this._middlewares[t]||(this._middlewares[t]=[]);return s.push({stack:t,create:r,level:a??10,name:n}),s.sort((o,A)=>o.level-A.level),this}unuse({stack:t,name:r,create:a}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(n=>a?n.create!==a:!!r&&n.name!==r)),this}open(){return kI(this)}_close(){const t=this._state,r=of.indexOf(this);if(r>=0&&of.splice(r,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new It(a=>{t.dbReadyResolve=a}),t.openCanceller=new It((a,n)=>{t.cancelOpen=n})}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new Yt.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,r=this._state;return new It((a,n)=>{const s=()=>{this.close();var o=this._deps.indexedDB.deleteDatabase(this.name);o.onsuccess=pa(()=>{(function({indexedDB:A,IDBKeyRange:l},c){!I2(A)&&c!==hm&&O2(A,l).delete(c).catch(Xr)})(this._deps,this.name),a()}),o.onerror=uo(n),o.onblocked=this._fireOnBlocked};if(t)throw new Yt.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(s):s()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return Za(this._allTables).map(t=>this._allTables[t])}transaction(){const t=DI.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,r,a){let n=Qt.trans;n&&n.db===this&&t.indexOf("!")===-1||(n=null);const s=t.indexOf("?")!==-1;let o,A;t=t.replace("!","").replace("?","");try{if(A=r.map(c=>{var d=c instanceof this.Table?c.name:c;if(typeof d!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return d}),t=="r"||t===Eg)o=Eg;else{if(t!="rw"&&t!=bg)throw new Yt.InvalidArgument("Invalid transaction mode: "+t);o=bg}if(n){if(n.mode===Eg&&o===bg){if(!s)throw new Yt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");n=null}n&&A.forEach(c=>{if(n&&n.storeNames.indexOf(c)===-1){if(!s)throw new Yt.SubTransaction("Table "+c+" not included in parent transaction.");n=null}}),s&&n&&!n.active&&(n=null)}}catch(c){return n?n._promise(null,(d,f)=>{f(c)}):on(c)}const l=d_.bind(null,this,o,A,n,a);return n?n._promise(o,l,"lock"):Qt.trans?$d(Qt.transless,()=>this._whenReady(l)):this._whenReady(l)}table(t){if(!rs(this._allTables,t))throw new Yt.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const QI=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class qI{constructor(t){this._subscribe=t}subscribe(t,r,a){return this._subscribe(t&&typeof t!="function"?t:{next:t,error:r,complete:a})}[QI](){return this}}function f_(e,t){return Za(t).forEach(r=>{_h(e[r]||(e[r]=new Qo),t[r])}),e}function KI(e){let t,r=!1;const a=new qI(n=>{const s=E2(e);let o=!1,A={},l={};const c={get closed(){return o},unsubscribe:()=>{o=!0,nl.storagemutated.unsubscribe(u)}};n.start&&n.start(c);let d=!1,f=!1;function p(){return Za(l).some(h=>A[h]&&MI(A[h],l[h]))}const u=h=>{f_(A,h),p()&&g()},g=()=>{if(d||o)return;A={};const h={},y=function(x){s&&Vd();const v=()=>rl(e,{subscr:x,trans:null}),E=Qt.trans?$d(Qt.transless,v):v();return s&&E.then(rA,rA),E}(h);f||(nl(Nf,u),f=!0),d=!0,Promise.resolve(y).then(x=>{r=!0,t=x,d=!1,o||(p()?g():(A={},l=h,n.next&&n.next(x)))},x=>{d=!1,r=!1,n.error&&n.error(x),c.unsubscribe()})};return g(),c});return a.hasValue=()=>r,a.getValue=()=>t,a}let xx;try{xx={indexedDB:oa.indexedDB||oa.mozIndexedDB||oa.webkitIndexedDB||oa.msIndexedDB,IDBKeyRange:oa.IDBKeyRange||oa.webkitIDBKeyRange}}catch{xx={indexedDB:null,IDBKeyRange:null}}const Sl=zl;function nh(e){let t=Go;try{Go=!0,nl.storagemutated.fire(e)}finally{Go=t}}Qd(Sl,{...Jp,delete:e=>new Sl(e,{addons:[]}).delete(),exists:e=>new Sl(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(e){try{return function({indexedDB:t,IDBKeyRange:r}){return I2(t)?Promise.resolve(t.databases()).then(a=>a.map(n=>n.name).filter(n=>n!==hm)):O2(t,r).toCollection().primaryKeys()}(Sl.dependencies).then(e)}catch{return on(new Yt.MissingAPI)}},defineClass:()=>function(e){yi(this,e)},ignoreTransaction:e=>Qt.trans?$d(Qt.transless,e):e(),vip:hx,async:function(e){return function(){try{var t=mx(e.apply(this,arguments));return t&&typeof t.then=="function"?t:It.resolve(t)}catch(r){return on(r)}}},spawn:function(e,t,r){try{var a=mx(e.apply(r,t||[]));return a&&typeof a.then=="function"?a:It.resolve(a)}catch(n){return on(n)}},currentTransaction:{get:()=>Qt.trans||null},waitFor:function(e,t){const r=It.resolve(typeof e=="function"?Sl.ignoreTransaction(e):e).timeout(t||6e4);return Qt.trans?Qt.trans.waitFor(r):r},Promise:It,debug:{get:()=>yo,set:e=>{Hb(e,e==="dexie"?()=>!0:n_)}},derive:Cd,extend:yi,props:Qd,override:Ub,Events:Af,on:nl,liveQuery:KI,extendObservabilitySet:f_,getByKeyPath:Yo,setByKeyPath:Ks,delByKeyPath:function(e,t){typeof t=="string"?Ks(e,t,void 0):"length"in t&&[].map.call(t,function(r){Ks(e,r,void 0)})},shallowClone:Qb,deepClone:r0,getObjectDiff:N2,cmp:gi,asap:Mb,minKey:ox,addons:[],connections:of,errnames:_2,dependencies:xx,semVer:Lv,version:Lv.split(".").map(e=>parseInt(e)).reduce((e,t,r)=>e+t/Math.pow(10,2*r))}),Sl.maxKey=Ff(Sl.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(nl(Nf,e=>{if(!Go){let t;pm?(t=document.createEvent("CustomEvent"),t.initCustomEvent(jA,!0,!0,e)):t=new CustomEvent(jA,{detail:e}),Go=!0,dispatchEvent(t),Go=!1}}),addEventListener(jA,({detail:e})=>{Go||nh(e)}));let Go=!1;if(typeof BroadcastChannel<"u"){const e=new BroadcastChannel(jA);typeof e.unref=="function"&&e.unref(),nl(Nf,t=>{Go||e.postMessage(t)}),e.onmessage=t=>{t.data&&nh(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){nl(Nf,t=>{try{Go||(typeof localStorage<"u"&&localStorage.setItem(jA,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(r=>r.postMessage({type:jA,changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key===jA){const r=JSON.parse(t.newValue);r&&nh(r.changedParts)}});const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",function({data:t}){t&&t.type===jA&&nh(t.changedParts)})}It.rejectionMapper=function(e,t){if(!e||e instanceof Bd||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Rv[e.name])return e;var r=new Rv[e.name](t||e.message,e);return"stack"in e&&$o(r,"stack",{get:function(){return this.inner.stack}}),r},Hb(yo,n_);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var kf={};kf.version="0.18.5";var Zi=1200,nc=1252,HI=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],R2={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},mm=function(e){HI.indexOf(e)!=-1&&(nc=R2[0]=e)};function GI(){mm(1252)}var bs=function(e){Zi=e,mm(e)};function gm(){bs(1200),GI()}function Ch(e){for(var t=[],r=0,a=e.length;r<a;++r)t[r]=e.charCodeAt(r);return t}function zI(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function p_(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var wd=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?zI(e.slice(2)):t==254&&r==255?p_(e.slice(2)):t==65279?e.slice(1):e},Hu=function(t){return String.fromCharCode(t)},yx=function(t){return String.fromCharCode(t)},_r;function VI(e){_r=e,bs=function(t){Zi=t,mm(t)},wd=function(t){return t.charCodeAt(0)===255&&t.charCodeAt(1)===254?_r.utils.decode(1200,Ch(t.slice(2))):t},Hu=function(r){return Zi===1200?String.fromCharCode(r):_r.utils.decode(Zi,[r&255,r>>8])[0]},yx=function(r){return _r.utils.decode(nc,[r])[0]},K_()}var MA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Df(e){for(var t="",r=0,a=0,n=0,s=0,o=0,A=0,l=0,c=0;c<e.length;)r=e.charCodeAt(c++),s=r>>2,a=e.charCodeAt(c++),o=(r&3)<<4|a>>4,n=e.charCodeAt(c++),A=(a&15)<<2|n>>6,l=n&63,isNaN(a)?A=l=64:isNaN(n)&&(l=64),t+=MA.charAt(s)+MA.charAt(o)+MA.charAt(A)+MA.charAt(l);return t}function as(e){var t="",r=0,a=0,n=0,s=0,o=0,A=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)s=MA.indexOf(e.charAt(c++)),o=MA.indexOf(e.charAt(c++)),r=s<<2|o>>4,t+=String.fromCharCode(r),A=MA.indexOf(e.charAt(c++)),a=(o&15)<<4|A>>2,A!==64&&(t+=String.fromCharCode(a)),l=MA.indexOf(e.charAt(c++)),n=(A&3)<<6|l,l!==64&&(t+=String.fromCharCode(n));return t}var dr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),iA=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function il(e){return dr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function Gv(e){return dr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var $i=function(t){return dr?iA(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function i0(e){if(typeof ArrayBuffer>"u")return $i(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),a=0;a!=e.length;++a)r[a]=e.charCodeAt(a)&255;return t}function fl(e){if(Array.isArray(e))return e.map(function(a){return String.fromCharCode(a)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function $I(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function k2(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return k2(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var gn=dr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:iA(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var a=new Uint8Array(r),n=0;for(t=0,r=0;t<e.length;r+=n,++t)if(n=e[t].length,e[t]instanceof Uint8Array)a.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";a.set(new Uint8Array(e[t]),r)}return a}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function YI(e){for(var t=[],r=0,a=e.length+250,n=il(e.length+255),s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o<128)n[r++]=o;else if(o<2048)n[r++]=192|o>>6&31,n[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var A=e.charCodeAt(++s)&1023;n[r++]=240|o>>8&7,n[r++]=128|o>>2&63,n[r++]=128|A>>6&15|(o&3)<<4,n[r++]=128|A&63}else n[r++]=224|o>>12&15,n[r++]=128|o>>6&63,n[r++]=128|o&63;r>a&&(t.push(n.slice(0,r)),r=0,n=il(65535),a=65530)}return t.push(n.slice(0,r)),gn(t)}var Jn=/\u0000/g,Gu=/[\u0001-\u0006]/g;function Td(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function qs(e,t){var r=""+e;return r.length>=t?r:Ba("0",t-r.length)+r}function D2(e,t){var r=""+e;return r.length>=t?r:Ba(" ",t-r.length)+r}function Bh(e,t){var r=""+e;return r.length>=t?r:r+Ba(" ",t-r.length)}function WI(e,t){var r=""+Math.round(e);return r.length>=t?r:Ba("0",t-r.length)+r}function XI(e,t){var r=""+e;return r.length>=t?r:Ba("0",t-r.length)+r}var zv=Math.pow(2,32);function $c(e,t){if(e>zv||e<-zv)return WI(e,t);var r=Math.round(e);return XI(r,t)}function Sh(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var Vv=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Tg=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function JI(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var Ht={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},$v={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},ZI={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Th(e,t,r){for(var a=e<0?-1:1,n=e*a,s=0,o=1,A=0,l=1,c=0,d=0,f=Math.floor(n);c<t&&(f=Math.floor(n),A=f*o+s,d=f*c+l,!(n-f<5e-8));)n=1/(n-f),s=o,o=A,l=c,c=d;if(d>t&&(c>t?(d=l,A=s):(d=c,A=o)),!r)return[0,a*A,d];var p=Math.floor(a*A/d);return[p,a*A-p*d,d]}function PA(e,t,r){if(e>2958465||e<0)return null;var a=e|0,n=Math.floor(86400*(e-a)),s=0,o=[],A={D:a,T:n,u:86400*(e-a)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(A.u)<1e-6&&(A.u=0),t&&t.date1904&&(a+=1462),A.u>.9999&&(A.u=0,++n==86400&&(A.T=n=0,++a,++A.D)),a===60)o=r?[1317,10,29]:[1900,2,29],s=3;else if(a===0)o=r?[1317,8,29]:[1900,1,0],s=6;else{a>60&&--a;var l=new Date(1900,0,1);l.setDate(l.getDate()+a-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),a<60&&(s=(s+6)%7),r&&(s=i3(l,o))}return A.y=o[0],A.m=o[1],A.d=o[2],A.S=n%60,n=Math.floor(n/60),A.M=n%60,n=Math.floor(n/60),A.H=n,A.q=s,A}var h_=new Date(1899,11,31,0,0,0),e3=h_.getTime(),t3=new Date(1900,2,1,0,0,0);function m_(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=t3&&(r+=24*60*60*1e3),(r-(e3+(e.getTimezoneOffset()-h_.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function j2(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function r3(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function a3(e){var t=e<0?12:11,r=j2(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function n3(e){var t=j2(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function jf(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=a3(e):t===10?r=e.toFixed(10).substr(0,12):r=n3(e),j2(r3(r.toUpperCase()))}function ic(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):jf(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return ns(14,m_(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function i3(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function s3(e,t,r,a){var n="",s=0,o=0,A=r.y,l,c=0;switch(e){case 98:A=r.y+543;case 121:switch(t.length){case 1:case 2:l=A%100,c=2;break;default:l=A%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,c=t.length;break;case 3:return Tg[r.m-1][1];case 5:return Tg[r.m-1][0];default:return Tg[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,c=t.length;break;case 3:return Vv[r.q][0];default:return Vv[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?qs(r.S,t.length):(a>=2?o=a===3?1e3:100:o=a===1?10:1,s=Math.round(o*(r.S+r.u)),s>=60*o&&(s=0),t==="s"?s===0?"0":""+s/o:(n=qs(s,2+a),t==="ss"?n.substr(0,2):"."+n.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=A,c=1;break}var d=c>0?qs(l,c):"";return d}function QA(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,a=e.substr(0,r);r!=e.length;r+=t)a+=(a.length>0?",":"")+e.substr(r,t);return a}var g_=/%/g;function o3(e,t,r){var a=t.replace(g_,""),n=t.length-a.length;return Wo(e,a,r*Math.pow(10,2*n))+Ba("%",n)}function A3(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return Wo(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function x_(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+x_(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%n;if(s<0&&(s+=n),r=(t/Math.pow(10,s)).toPrecision(a+1+(n+s)%n),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,n)+"."+r.substr(2+n),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(A,l,c,d){return l+c+d.substr(0,(n+s)%n)+"."+d.substr(s)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var y_=/# (\?+)( ?)\/( ?)(\d+)/;function l3(e,t,r){var a=parseInt(e[4],10),n=Math.round(t*a),s=Math.floor(n/a),o=n-s*a,A=a;return r+(s===0?"":""+s)+" "+(o===0?Ba(" ",e[1].length+1+e[4].length):D2(o,e[1].length)+e[2]+"/"+e[3]+qs(A,e[4].length))}function c3(e,t,r){return r+(t===0?"":""+t)+Ba(" ",e[1].length+2+e[4].length)}var v_=/^#*0*\.([0#]+)/,w_=/\).*[0#]/,E_=/\(###\) ###\\?-####/;function ui(e){for(var t="",r,a=0;a!=e.length;++a)switch(r=e.charCodeAt(a)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function Yv(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function Wv(e,t){var r=e-Math.floor(e),a=Math.pow(10,t);return t<(""+Math.round(r*a)).length?0:Math.round(r*a)}function d3(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function u3(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function ms(e,t,r){if(e.charCodeAt(0)===40&&!t.match(w_)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ms("n",a,r):"("+ms("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return A3(e,t,r);if(t.indexOf("%")!==-1)return o3(e,t,r);if(t.indexOf("E")!==-1)return x_(t,r);if(t.charCodeAt(0)===36)return"$"+ms(e,t.substr(t.charAt(1)==" "?2:1),r);var n,s,o,A,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+$c(l,t.length);if(t.match(/^[#?]+$/))return n=$c(r,0),n==="0"&&(n=""),n.length>t.length?n:ui(t.substr(0,t.length-n.length))+n;if(s=t.match(y_))return l3(s,l,c);if(t.match(/^#+0+$/))return c+$c(l,t.length-t.indexOf("0"));if(s=t.match(v_))return n=Yv(r,s[1].length).replace(/^([^\.]+)$/,"$1."+ui(s[1])).replace(/\.$/,"."+ui(s[1])).replace(/\.(\d*)$/,function(g,h){return"."+h+Ba("0",ui(s[1]).length-h.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+Yv(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+QA($c(l,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ms(e,t,-r):QA(""+(Math.floor(r)+d3(r,s[1].length)))+"."+qs(Wv(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return ms(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Td(ms(e,t.replace(/[\\-]/g,""),r)),o=0,Td(Td(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<n.length?n.charAt(o++):g==="0"?"0":""}));if(t.match(E_))return n=ms(e,"##########",r),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),A=Th(l,Math.pow(10,o)-1,!1),n=""+c,d=Wo("n",s[1],A[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),n+=d+s[2]+"/"+s[3],d=Bh(A[2],o),d.length<s[4].length&&(d=ui(s[4].substr(s[4].length-d.length))+d),n+=d,n;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),A=Th(l,Math.pow(10,o)-1,!0),c+(A[0]||(A[1]?"":"0"))+" "+(A[1]?D2(A[1],o)+s[2]+"/"+s[3]+Bh(A[2],o):Ba(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return n=$c(r,0),t.length<=n.length?n:ui(t.substr(0,t.length-n.length))+n;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){n=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=n.indexOf(".");var f=t.indexOf(".")-o,p=t.length-n.length-f;return ui(t.substr(0,f)+n+t.substr(t.length-p))}if(s=t.match(/^00,000\.([#0]*0)$/))return o=Wv(r,s[1].length),r<0?"-"+ms(e,t,-r):QA(u3(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?qs(0,3-g.length):"")+g})+"."+qs(o,s[1].length);switch(t){case"###,##0.00":return ms(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var u=QA($c(l,0));return u!=="0"?c+u:"";case"###,###.00":return ms(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ms(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function f3(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return Wo(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function p3(e,t,r){var a=t.replace(g_,""),n=t.length-a.length;return Wo(e,a,r*Math.pow(10,2*n))+Ba("%",n)}function b_(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+b_(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%n;if(s<0&&(s+=n),r=(t/Math.pow(10,s)).toPrecision(a+1+(n+s)%n),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(A,l,c,d){return l+c+d.substr(0,(n+s)%n)+"."+d.substr(s)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function oo(e,t,r){if(e.charCodeAt(0)===40&&!t.match(w_)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?oo("n",a,r):"("+oo("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return f3(e,t,r);if(t.indexOf("%")!==-1)return p3(e,t,r);if(t.indexOf("E")!==-1)return b_(t,r);if(t.charCodeAt(0)===36)return"$"+oo(e,t.substr(t.charAt(1)==" "?2:1),r);var n,s,o,A,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+qs(l,t.length);if(t.match(/^[#?]+$/))return n=""+r,r===0&&(n=""),n.length>t.length?n:ui(t.substr(0,t.length-n.length))+n;if(s=t.match(y_))return c3(s,l,c);if(t.match(/^#+0+$/))return c+qs(l,t.length-t.indexOf("0"));if(s=t.match(v_))return n=(""+r).replace(/^([^\.]+)$/,"$1."+ui(s[1])).replace(/\.$/,"."+ui(s[1])),n=n.replace(/\.(\d*)$/,function(g,h){return"."+h+Ba("0",ui(s[1]).length-h.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+QA(""+l);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+oo(e,t,-r):QA(""+r)+"."+Ba("0",s[1].length);if(s=t.match(/^#,#*,#0/))return oo(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Td(oo(e,t.replace(/[\\-]/g,""),r)),o=0,Td(Td(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<n.length?n.charAt(o++):g==="0"?"0":""}));if(t.match(E_))return n=oo(e,"##########",r),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),A=Th(l,Math.pow(10,o)-1,!1),n=""+c,d=Wo("n",s[1],A[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),n+=d+s[2]+"/"+s[3],d=Bh(A[2],o),d.length<s[4].length&&(d=ui(s[4].substr(s[4].length-d.length))+d),n+=d,n;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),A=Th(l,Math.pow(10,o)-1,!0),c+(A[0]||(A[1]?"":"0"))+" "+(A[1]?D2(A[1],o)+s[2]+"/"+s[3]+Bh(A[2],o):Ba(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return n=""+r,t.length<=n.length?n:ui(t.substr(0,t.length-n.length))+n;if(s=t.match(/^([#0]+)\.([#0]+)$/)){n=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=n.indexOf(".");var f=t.indexOf(".")-o,p=t.length-n.length-f;return ui(t.substr(0,f)+n+t.substr(t.length-p))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+oo(e,t,-r):QA(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?qs(0,3-g.length):"")+g})+"."+qs(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var u=QA(""+l);return u!=="0"?c+u:"";default:if(t.match(/\.[0#?]*$/))return oo(e,t.slice(0,t.lastIndexOf(".")),r)+ui(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Wo(e,t,r){return(r|0)===r?oo(e,t,r):ms(e,t,r)}function h3(e){for(var t=[],r=!1,a=0,n=0;a<e.length;++a)switch(e.charCodeAt(a)){case 34:r=!r;break;case 95:case 42:case 92:++a;break;case 59:t[t.length]=e.substr(n,a-n),n=a+1}if(t[t.length]=e.substr(n),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var __=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function fc(e){for(var t=0,r="",a="";t<e.length;)switch(r=e.charAt(t)){case"G":Sh(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(a=r;e.charAt(t++)!=="]"&&t<e.length;)a+=e.charAt(t);if(a.match(__))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function m3(e,t,r,a){for(var n=[],s="",o=0,A="",l="t",c,d,f,p="H";o<e.length;)switch(A=e.charAt(o)){case"G":if(!Sh(e,o))throw new Error("unrecognized character "+A+" in "+e);n[n.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(f=e.charCodeAt(++o))!==34&&o<e.length;)s+=String.fromCharCode(f);n[n.length]={t:"t",v:s},++o;break;case"\\":var u=e.charAt(++o),g=u==="("||u===")"?u:"t";n[n.length]={t:g,v:u},++o;break;case"_":n[n.length]={t:"t",v:" "},o+=2;break;case"@":n[n.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(c==null&&(c=PA(t,r,e.charAt(o+1)==="2"),c==null))return"";n[n.length]={t:"X",v:e.substr(o,2)},l=A,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":A=A.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=PA(t,r),c==null))return"";for(s=A;++o<e.length&&e.charAt(o).toLowerCase()===A;)s+=A;A==="m"&&l.toLowerCase()==="h"&&(A="M"),A==="h"&&(A=p),n[n.length]={t:A,v:s},l=A;break;case"A":case"a":case"上":var h={t:A,v:A};if(c==null&&(c=PA(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(c!=null&&(h.v=c.H>=12?"P":"A"),h.t="T",p="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(c!=null&&(h.v=c.H>=12?"PM":"AM"),h.t="T",o+=5,p="h"):e.substr(o,5).toUpperCase()==="上午/下午"?(c!=null&&(h.v=c.H>=12?"下午":"上午"),h.t="T",o+=5,p="h"):(h.t="t",++o),c==null&&h.t==="T")return"";n[n.length]=h,l=A;break;case"[":for(s=A;e.charAt(o++)!=="]"&&o<e.length;)s+=e.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(__)){if(c==null&&(c=PA(t,r),c==null))return"";n[n.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",fc(e)||(n[n.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=A;++o<e.length&&(A=e.charAt(o))==="0";)s+=A;n[n.length]={t:"s",v:s};break}case"0":case"#":for(s=A;++o<e.length&&"0#?.,E+-%".indexOf(A=e.charAt(o))>-1;)s+=A;n[n.length]={t:"n",v:s};break;case"?":for(s=A;e.charAt(++o)===A;)s+=A;n[n.length]={t:A,v:s},l=A;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":n[n.length]={t:a===1?"t":A,v:A},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=A;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)s+=e.charAt(o);n[n.length]={t:"D",v:s};break;case" ":n[n.length]={t:A,v:A},++o;break;case"$":n[n.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(A)===-1)throw new Error("unrecognized character "+A+" in "+e);n[n.length]={t:"t",v:A},++o;break}var y=0,x=0,v;for(o=n.length-1,l="t";o>=0;--o)switch(n[o].t){case"h":case"H":n[o].t=p,l="h",y<1&&(y=1);break;case"s":(v=n[o].v.match(/\.0+$/))&&(x=Math.max(x,v[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":l=n[o].t;break;case"m":l==="s"&&(n[o].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&n[o].v.match(/[Hh]/)&&(y=1),y<2&&n[o].v.match(/[Mm]/)&&(y=2),y<3&&n[o].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var E="",R;for(o=0;o<n.length;++o)switch(n[o].t){case"t":case"T":case" ":case"D":break;case"X":n[o].v="",n[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":n[o].v=s3(n[o].t.charCodeAt(0),n[o].v,c,x),n[o].t="t";break;case"n":case"?":for(R=o+1;n[R]!=null&&((A=n[R].t)==="?"||A==="D"||(A===" "||A==="t")&&n[R+1]!=null&&(n[R+1].t==="?"||n[R+1].t==="t"&&n[R+1].v==="/")||n[o].t==="("&&(A===" "||A==="n"||A===")")||A==="t"&&(n[R].v==="/"||n[R].v===" "&&n[R+1]!=null&&n[R+1].t=="?"));)n[o].v+=n[R].v,n[R]={v:"",t:";"},++R;E+=n[o].v,o=R-1;break;case"G":n[o].t="t",n[o].v=ic(t,r);break}var b="",T,_;if(E.length>0){E.charCodeAt(0)==40?(T=t<0&&E.charCodeAt(0)===45?-t:t,_=Wo("n",E,T)):(T=t<0&&a>1?-t:t,_=Wo("n",E,T),T<0&&n[0]&&n[0].t=="t"&&(_=_.substr(1),n[0].v="-"+n[0].v)),R=_.length-1;var S=n.length;for(o=0;o<n.length;++o)if(n[o]!=null&&n[o].t!="t"&&n[o].v.indexOf(".")>-1){S=o;break}var O=n.length;if(S===n.length&&_.indexOf("E")===-1){for(o=n.length-1;o>=0;--o)n[o]==null||"n?".indexOf(n[o].t)===-1||(R>=n[o].v.length-1?(R-=n[o].v.length,n[o].v=_.substr(R+1,n[o].v.length)):R<0?n[o].v="":(n[o].v=_.substr(0,R+1),R=-1),n[o].t="t",O=o);R>=0&&O<n.length&&(n[O].v=_.substr(0,R+1)+n[O].v)}else if(S!==n.length&&_.indexOf("E")===-1){for(R=_.indexOf(".")-1,o=S;o>=0;--o)if(!(n[o]==null||"n?".indexOf(n[o].t)===-1)){for(d=n[o].v.indexOf(".")>-1&&o===S?n[o].v.indexOf(".")-1:n[o].v.length-1,b=n[o].v.substr(d+1);d>=0;--d)R>=0&&(n[o].v.charAt(d)==="0"||n[o].v.charAt(d)==="#")&&(b=_.charAt(R--)+b);n[o].v=b,n[o].t="t",O=o}for(R>=0&&O<n.length&&(n[O].v=_.substr(0,R+1)+n[O].v),R=_.indexOf(".")+1,o=S;o<n.length;++o)if(!(n[o]==null||"n?(".indexOf(n[o].t)===-1&&o!==S)){for(d=n[o].v.indexOf(".")>-1&&o===S?n[o].v.indexOf(".")+1:0,b=n[o].v.substr(0,d);d<n[o].v.length;++d)R<_.length&&(b+=_.charAt(R++));n[o].v=b,n[o].t="t",O=o}}}for(o=0;o<n.length;++o)n[o]!=null&&"n?".indexOf(n[o].t)>-1&&(T=a>1&&t<0&&o>0&&n[o-1].v==="-"?-t:t,n[o].v=Wo(n[o].t,n[o].v,T),n[o].t="t");var M="";for(o=0;o!==n.length;++o)n[o]!=null&&(M+=n[o].v);return M}var Xv=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Jv(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function g3(e,t){var r=h3(e),a=r.length,n=r[a-1].indexOf("@");if(a<4&&n>-1&&--a,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||n>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=n>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=n>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=n>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[a,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(Xv),A=r[1].match(Xv);return Jv(t,o)?[a,r[0]]:Jv(t,A)?[a,r[1]]:[a,r[o!=null&&A!=null?2:1]]}return[a,s]}function ns(e,t,r){r==null&&(r={});var a="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?a=r.dateNF:a=e;break;case"number":e==14&&r.dateNF?a=r.dateNF:a=(r.table!=null?r.table:Ht)[e],a==null&&(a=r.table&&r.table[$v[e]]||Ht[$v[e]]),a==null&&(a=ZI[e]||"General");break}if(Sh(a,0))return ic(t,r);t instanceof Date&&(t=m_(t,r.date1904));var n=g3(a,t);if(Sh(n[1]))return ic(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return m3(n[1],t,r,n[0])}function mo(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Ht[r]==null){t<0&&(t=r);continue}if(Ht[r]==e){t=r;break}}t<0&&(t=391)}return Ht[t]=e,t}function s0(e){for(var t=0;t!=392;++t)e[t]!==void 0&&mo(e[t],t)}function Yd(){Ht=JI()}var C_={format:ns,load:mo,_table:Ht,load_table:s0,parse_date_code:PA,is_date:fc,get_table:function(){return C_._table=Ht}},x3={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},B_=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function y3(e){var t=typeof e=="number"?Ht[e]:e;return t=t.replace(B_,"(\\d+)"),new RegExp("^"+t+"$")}function v3(e,t,r){var a=-1,n=-1,s=-1,o=-1,A=-1,l=-1;(t.match(B_)||[]).forEach(function(f,p){var u=parseInt(r[p+1],10);switch(f.toLowerCase().charAt(0)){case"y":a=u;break;case"d":s=u;break;case"h":o=u;break;case"s":l=u;break;case"m":o>=0?A=u:n=u;break}}),l>=0&&A==-1&&n>=0&&(A=n,n=-1);var c=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(A>=0?A:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return o==-1&&A==-1&&l==-1?c:a==-1&&n==-1&&s==-1?d:c+"T"+d}var w3=function(){var e={};e.version="1.2.0";function t(){for(var _=0,S=new Array(256),O=0;O!=256;++O)_=O,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,S[O]=_;return typeof Int32Array<"u"?new Int32Array(S):S}var r=t();function a(_){var S=0,O=0,M=0,I=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(M=0;M!=256;++M)I[M]=_[M];for(M=0;M!=256;++M)for(O=_[M],S=256+M;S<4096;S+=256)O=I[S]=O>>>8^_[O&255];var D=[];for(M=1;M!=16;++M)D[M-1]=typeof Int32Array<"u"?I.subarray(M*256,M*256+256):I.slice(M*256,M*256+256);return D}var n=a(r),s=n[0],o=n[1],A=n[2],l=n[3],c=n[4],d=n[5],f=n[6],p=n[7],u=n[8],g=n[9],h=n[10],y=n[11],x=n[12],v=n[13],E=n[14];function R(_,S){for(var O=S^-1,M=0,I=_.length;M<I;)O=O>>>8^r[(O^_.charCodeAt(M++))&255];return~O}function b(_,S){for(var O=S^-1,M=_.length-15,I=0;I<M;)O=E[_[I++]^O&255]^v[_[I++]^O>>8&255]^x[_[I++]^O>>16&255]^y[_[I++]^O>>>24]^h[_[I++]]^g[_[I++]]^u[_[I++]]^p[_[I++]]^f[_[I++]]^d[_[I++]]^c[_[I++]]^l[_[I++]]^A[_[I++]]^o[_[I++]]^s[_[I++]]^r[_[I++]];for(M+=15;I<M;)O=O>>>8^r[(O^_[I++])&255];return~O}function T(_,S){for(var O=S^-1,M=0,I=_.length,D=0,L=0;M<I;)D=_.charCodeAt(M++),D<128?O=O>>>8^r[(O^D)&255]:D<2048?(O=O>>>8^r[(O^(192|D>>6&31))&255],O=O>>>8^r[(O^(128|D&63))&255]):D>=55296&&D<57344?(D=(D&1023)+64,L=_.charCodeAt(M++)&1023,O=O>>>8^r[(O^(240|D>>8&7))&255],O=O>>>8^r[(O^(128|D>>2&63))&255],O=O>>>8^r[(O^(128|L>>6&15|(D&3)<<4))&255],O=O>>>8^r[(O^(128|L&63))&255]):(O=O>>>8^r[(O^(224|D>>12&15))&255],O=O>>>8^r[(O^(128|D>>6&63))&255],O=O>>>8^r[(O^(128|D&63))&255]);return~O}return e.table=r,e.bstr=R,e.buf=b,e.str=T,e}(),Ut=function(){var t={};t.version="1.2.1";function r(U,W){for(var ee=U.split("/"),oe=W.split("/"),re=0,le=0,we=Math.min(ee.length,oe.length);re<we;++re){if(le=ee[re].length-oe[re].length)return le;if(ee[re]!=oe[re])return ee[re]<oe[re]?-1:1}return ee.length-oe.length}function a(U){if(U.charAt(U.length-1)=="/")return U.slice(0,-1).indexOf("/")===-1?U:a(U.slice(0,-1));var W=U.lastIndexOf("/");return W===-1?U:U.slice(0,W+1)}function n(U){if(U.charAt(U.length-1)=="/")return n(U.slice(0,-1));var W=U.lastIndexOf("/");return W===-1?U:U.slice(W+1)}function s(U,W){typeof W=="string"&&(W=new Date(W));var ee=W.getHours();ee=ee<<6|W.getMinutes(),ee=ee<<5|W.getSeconds()>>>1,U.write_shift(2,ee);var oe=W.getFullYear()-1980;oe=oe<<4|W.getMonth()+1,oe=oe<<5|W.getDate(),U.write_shift(2,oe)}function o(U){var W=U.read_shift(2)&65535,ee=U.read_shift(2)&65535,oe=new Date,re=ee&31;ee>>>=5;var le=ee&15;ee>>>=4,oe.setMilliseconds(0),oe.setFullYear(ee+1980),oe.setMonth(le-1),oe.setDate(re);var we=W&31;W>>>=5;var Ue=W&63;return W>>>=6,oe.setHours(W),oe.setMinutes(Ue),oe.setSeconds(we<<1),oe}function A(U){Tn(U,0);for(var W={},ee=0;U.l<=U.length-4;){var oe=U.read_shift(2),re=U.read_shift(2),le=U.l+re,we={};switch(oe){case 21589:ee=U.read_shift(1),ee&1&&(we.mtime=U.read_shift(4)),re>5&&(ee&2&&(we.atime=U.read_shift(4)),ee&4&&(we.ctime=U.read_shift(4))),we.mtime&&(we.mt=new Date(we.mtime*1e3));break}U.l=le,W[oe]=we}return W}var l;function c(){return l||(l={})}function d(U,W){if(U[0]==80&&U[1]==75)return jr(U,W);if((U[0]|32)==109&&(U[1]|32)==105)return Ei(U,W);if(U.length<512)throw new Error("CFB file size "+U.length+" < 512");var ee=3,oe=512,re=0,le=0,we=0,Ue=0,Ne=0,Se=[],ke=U.slice(0,512);Tn(ke,0);var $e=f(ke);switch(ee=$e[0],ee){case 3:oe=512;break;case 4:oe=4096;break;case 0:if($e[1]==0)return jr(U,W);default:throw new Error("Major Version: Expected 3 or 4 saw "+ee)}oe!==512&&(ke=U.slice(0,oe),Tn(ke,28));var ze=U.slice(0,oe);p(ke,ee);var mt=ke.read_shift(4,"i");if(ee===3&&mt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+mt);ke.l+=4,we=ke.read_shift(4,"i"),ke.l+=4,ke.chk("00100000","Mini Stream Cutoff Size: "),Ue=ke.read_shift(4,"i"),re=ke.read_shift(4,"i"),Ne=ke.read_shift(4,"i"),le=ke.read_shift(4,"i");for(var it=-1,pt=0;pt<109&&(it=ke.read_shift(4,"i"),!(it<0));++pt)Se[pt]=it;var Rt=u(U,oe);y(Ne,le,Rt,oe,Se);var vr=v(Rt,we,Se,oe);vr[we].name="!Directory",re>0&&Ue!==L&&(vr[Ue].name="!MiniFAT"),vr[Se[0]].name="!FAT",vr.fat_addrs=Se,vr.ssz=oe;var Cr={},ia=[],ji=[],is=[];E(we,vr,Rt,ia,re,Cr,ji,Ue),g(ji,is,ia),ia.shift();var ii={FileIndex:ji,FullPaths:is};return W&&W.raw&&(ii.raw={header:ze,sectors:Rt}),ii}function f(U){if(U[U.l]==80&&U[U.l+1]==75)return[0,0];U.chk(N,"Header Signature: "),U.l+=16;var W=U.read_shift(2,"u");return[U.read_shift(2,"u"),W]}function p(U,W){var ee=9;switch(U.l+=2,ee=U.read_shift(2)){case 9:if(W!=3)throw new Error("Sector Shift: Expected 9 saw "+ee);break;case 12:if(W!=4)throw new Error("Sector Shift: Expected 12 saw "+ee);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ee)}U.chk("0600","Mini Sector Shift: "),U.chk("000000000000","Reserved: ")}function u(U,W){for(var ee=Math.ceil(U.length/W)-1,oe=[],re=1;re<ee;++re)oe[re-1]=U.slice(re*W,(re+1)*W);return oe[ee-1]=U.slice(ee*W),oe}function g(U,W,ee){for(var oe=0,re=0,le=0,we=0,Ue=0,Ne=ee.length,Se=[],ke=[];oe<Ne;++oe)Se[oe]=ke[oe]=oe,W[oe]=ee[oe];for(;Ue<ke.length;++Ue)oe=ke[Ue],re=U[oe].L,le=U[oe].R,we=U[oe].C,Se[oe]===oe&&(re!==-1&&Se[re]!==re&&(Se[oe]=Se[re]),le!==-1&&Se[le]!==le&&(Se[oe]=Se[le])),we!==-1&&(Se[we]=oe),re!==-1&&oe!=Se[oe]&&(Se[re]=Se[oe],ke.lastIndexOf(re)<Ue&&ke.push(re)),le!==-1&&oe!=Se[oe]&&(Se[le]=Se[oe],ke.lastIndexOf(le)<Ue&&ke.push(le));for(oe=1;oe<Ne;++oe)Se[oe]===oe&&(le!==-1&&Se[le]!==le?Se[oe]=Se[le]:re!==-1&&Se[re]!==re&&(Se[oe]=Se[re]));for(oe=1;oe<Ne;++oe)if(U[oe].type!==0){if(Ue=oe,Ue!=Se[Ue])do Ue=Se[Ue],W[oe]=W[Ue]+"/"+W[oe];while(Ue!==0&&Se[Ue]!==-1&&Ue!=Se[Ue]);Se[oe]=-1}for(W[0]+="/",oe=1;oe<Ne;++oe)U[oe].type!==2&&(W[oe]+="/")}function h(U,W,ee){for(var oe=U.start,re=U.size,le=[],we=oe;ee&&re>0&&we>=0;)le.push(W.slice(we*D,we*D+D)),re-=D,we=jl(ee,we*4);return le.length===0?Je(0):gn(le).slice(0,U.size)}function y(U,W,ee,oe,re){var le=L;if(U===L){if(W!==0)throw new Error("DIFAT chain shorter than expected")}else if(U!==-1){var we=ee[U],Ue=(oe>>>2)-1;if(!we)return;for(var Ne=0;Ne<Ue&&(le=jl(we,Ne*4))!==L;++Ne)re.push(le);y(jl(we,oe-4),W-1,ee,oe,re)}}function x(U,W,ee,oe,re){var le=[],we=[];re||(re=[]);var Ue=oe-1,Ne=0,Se=0;for(Ne=W;Ne>=0;){re[Ne]=!0,le[le.length]=Ne,we.push(U[Ne]);var ke=ee[Math.floor(Ne*4/oe)];if(Se=Ne*4&Ue,oe<4+Se)throw new Error("FAT boundary crossed: "+Ne+" 4 "+oe);if(!U[ke])break;Ne=jl(U[ke],Se)}return{nodes:le,data:c4([we])}}function v(U,W,ee,oe){var re=U.length,le=[],we=[],Ue=[],Ne=[],Se=oe-1,ke=0,$e=0,ze=0,mt=0;for(ke=0;ke<re;++ke)if(Ue=[],ze=ke+W,ze>=re&&(ze-=re),!we[ze]){Ne=[];var it=[];for($e=ze;$e>=0;){it[$e]=!0,we[$e]=!0,Ue[Ue.length]=$e,Ne.push(U[$e]);var pt=ee[Math.floor($e*4/oe)];if(mt=$e*4&Se,oe<4+mt)throw new Error("FAT boundary crossed: "+$e+" 4 "+oe);if(!U[pt]||($e=jl(U[pt],mt),it[$e]))break}le[ze]={nodes:Ue,data:c4([Ne])}}return le}function E(U,W,ee,oe,re,le,we,Ue){for(var Ne=0,Se=oe.length?2:0,ke=W[U].data,$e=0,ze=0,mt;$e<ke.length;$e+=128){var it=ke.slice($e,$e+128);Tn(it,64),ze=it.read_shift(2),mt=wm(it,0,ze-Se),oe.push(mt);var pt={name:mt,type:it.read_shift(1),color:it.read_shift(1),L:it.read_shift(4,"i"),R:it.read_shift(4,"i"),C:it.read_shift(4,"i"),clsid:it.read_shift(16),state:it.read_shift(4,"i"),start:0,size:0},Rt=it.read_shift(2)+it.read_shift(2)+it.read_shift(2)+it.read_shift(2);Rt!==0&&(pt.ct=R(it,it.l-8));var vr=it.read_shift(2)+it.read_shift(2)+it.read_shift(2)+it.read_shift(2);vr!==0&&(pt.mt=R(it,it.l-8)),pt.start=it.read_shift(4,"i"),pt.size=it.read_shift(4,"i"),pt.size<0&&pt.start<0&&(pt.size=pt.type=0,pt.start=L,pt.name=""),pt.type===5?(Ne=pt.start,re>0&&Ne!==L&&(W[Ne].name="!StreamData")):pt.size>=4096?(pt.storage="fat",W[pt.start]===void 0&&(W[pt.start]=x(ee,pt.start,W.fat_addrs,W.ssz)),W[pt.start].name=pt.name,pt.content=W[pt.start].data.slice(0,pt.size)):(pt.storage="minifat",pt.size<0?pt.size=0:Ne!==L&&pt.start!==L&&W[Ne]&&(pt.content=h(pt,W[Ne].data,(W[Ue]||{}).data))),pt.content&&Tn(pt.content,0),le[mt]=pt,we.push(pt)}}function R(U,W){return new Date((mn(U,W+4)/1e7*Math.pow(2,32)+mn(U,W)/1e7-11644473600)*1e3)}function b(U,W){return c(),d(l.readFileSync(U),W)}function T(U,W){var ee=W&&W.type;switch(ee||dr&&Buffer.isBuffer(U)&&(ee="buffer"),ee||"base64"){case"file":return b(U,W);case"base64":return d($i(as(U)),W);case"binary":return d($i(U),W)}return d(U,W)}function _(U,W){var ee=W||{},oe=ee.root||"Root Entry";if(U.FullPaths||(U.FullPaths=[]),U.FileIndex||(U.FileIndex=[]),U.FullPaths.length!==U.FileIndex.length)throw new Error("inconsistent CFB structure");U.FullPaths.length===0&&(U.FullPaths[0]=oe+"/",U.FileIndex[0]={name:oe,type:5}),ee.CLSID&&(U.FileIndex[0].clsid=ee.CLSID),S(U)}function S(U){var W="Sh33tJ5";if(!Ut.find(U,"/"+W)){var ee=Je(4);ee[0]=55,ee[1]=ee[3]=50,ee[2]=54,U.FileIndex.push({name:W,type:2,content:ee,size:4,L:69,R:69,C:69}),U.FullPaths.push(U.FullPaths[0]+W),O(U)}}function O(U,W){_(U);for(var ee=!1,oe=!1,re=U.FullPaths.length-1;re>=0;--re){var le=U.FileIndex[re];switch(le.type){case 0:oe?ee=!0:(U.FileIndex.pop(),U.FullPaths.pop());break;case 1:case 2:case 5:oe=!0,isNaN(le.R*le.L*le.C)&&(ee=!0),le.R>-1&&le.L>-1&&le.R==le.L&&(ee=!0);break;default:ee=!0;break}}if(!(!ee&&!W)){var we=new Date(1987,1,19),Ue=0,Ne=Object.create?Object.create(null):{},Se=[];for(re=0;re<U.FullPaths.length;++re)Ne[U.FullPaths[re]]=!0,U.FileIndex[re].type!==0&&Se.push([U.FullPaths[re],U.FileIndex[re]]);for(re=0;re<Se.length;++re){var ke=a(Se[re][0]);oe=Ne[ke],oe||(Se.push([ke,{name:n(ke).replace("/",""),type:1,clsid:Q,ct:we,mt:we,content:null}]),Ne[ke]=!0)}for(Se.sort(function(mt,it){return r(mt[0],it[0])}),U.FullPaths=[],U.FileIndex=[],re=0;re<Se.length;++re)U.FullPaths[re]=Se[re][0],U.FileIndex[re]=Se[re][1];for(re=0;re<Se.length;++re){var $e=U.FileIndex[re],ze=U.FullPaths[re];if($e.name=n(ze).replace("/",""),$e.L=$e.R=$e.C=-($e.color=1),$e.size=$e.content?$e.content.length:0,$e.start=0,$e.clsid=$e.clsid||Q,re===0)$e.C=Se.length>1?1:-1,$e.size=0,$e.type=5;else if(ze.slice(-1)=="/"){for(Ue=re+1;Ue<Se.length&&a(U.FullPaths[Ue])!=ze;++Ue);for($e.C=Ue>=Se.length?-1:Ue,Ue=re+1;Ue<Se.length&&a(U.FullPaths[Ue])!=a(ze);++Ue);$e.R=Ue>=Se.length?-1:Ue,$e.type=1}else a(U.FullPaths[re+1]||"")==a(ze)&&($e.R=re+1),$e.type=2}}}function M(U,W){var ee=W||{};if(ee.fileType=="mad")return Pt(U,ee);switch(O(U),ee.fileType){case"zip":return Di(U,ee)}var oe=function(mt){for(var it=0,pt=0,Rt=0;Rt<mt.FileIndex.length;++Rt){var vr=mt.FileIndex[Rt];if(vr.content){var Cr=vr.content.length;Cr>0&&(Cr<4096?it+=Cr+63>>6:pt+=Cr+511>>9)}}for(var ia=mt.FullPaths.length+3>>2,ji=it+7>>3,is=it+127>>7,ii=ji+pt+ia+is,yn=ii+127>>7,ss=yn<=109?0:Math.ceil((yn-109)/127);ii+yn+ss+127>>7>yn;)ss=++yn<=109?0:Math.ceil((yn-109)/127);var si=[1,ss,yn,is,ia,pt,it,0];return mt.FileIndex[0].size=it<<6,si[7]=(mt.FileIndex[0].start=si[0]+si[1]+si[2]+si[3]+si[4]+si[5])+(si[6]+7>>3),si}(U),re=Je(oe[7]<<9),le=0,we=0;{for(le=0;le<8;++le)re.write_shift(1,P[le]);for(le=0;le<8;++le)re.write_shift(2,0);for(re.write_shift(2,62),re.write_shift(2,3),re.write_shift(2,65534),re.write_shift(2,9),re.write_shift(2,6),le=0;le<3;++le)re.write_shift(2,0);for(re.write_shift(4,0),re.write_shift(4,oe[2]),re.write_shift(4,oe[0]+oe[1]+oe[2]+oe[3]-1),re.write_shift(4,0),re.write_shift(4,4096),re.write_shift(4,oe[3]?oe[0]+oe[1]+oe[2]-1:L),re.write_shift(4,oe[3]),re.write_shift(-4,oe[1]?oe[0]-1:L),re.write_shift(4,oe[1]),le=0;le<109;++le)re.write_shift(-4,le<oe[2]?oe[1]+le:-1)}if(oe[1])for(we=0;we<oe[1];++we){for(;le<236+we*127;++le)re.write_shift(-4,le<oe[2]?oe[1]+le:-1);re.write_shift(-4,we===oe[1]-1?L:we+1)}var Ue=function(mt){for(we+=mt;le<we-1;++le)re.write_shift(-4,le+1);mt&&(++le,re.write_shift(-4,L))};for(we=le=0,we+=oe[1];le<we;++le)re.write_shift(-4,J.DIFSECT);for(we+=oe[2];le<we;++le)re.write_shift(-4,J.FATSECT);Ue(oe[3]),Ue(oe[4]);for(var Ne=0,Se=0,ke=U.FileIndex[0];Ne<U.FileIndex.length;++Ne)ke=U.FileIndex[Ne],ke.content&&(Se=ke.content.length,!(Se<4096)&&(ke.start=we,Ue(Se+511>>9)));for(Ue(oe[6]+7>>3);re.l&511;)re.write_shift(-4,J.ENDOFCHAIN);for(we=le=0,Ne=0;Ne<U.FileIndex.length;++Ne)ke=U.FileIndex[Ne],ke.content&&(Se=ke.content.length,!(!Se||Se>=4096)&&(ke.start=we,Ue(Se+63>>6)));for(;re.l&511;)re.write_shift(-4,J.ENDOFCHAIN);for(le=0;le<oe[4]<<2;++le){var $e=U.FullPaths[le];if(!$e||$e.length===0){for(Ne=0;Ne<17;++Ne)re.write_shift(4,0);for(Ne=0;Ne<3;++Ne)re.write_shift(4,-1);for(Ne=0;Ne<12;++Ne)re.write_shift(4,0);continue}ke=U.FileIndex[le],le===0&&(ke.start=ke.size?ke.start-1:L);var ze=le===0&&ee.root||ke.name;if(Se=2*(ze.length+1),re.write_shift(64,ze,"utf16le"),re.write_shift(2,Se),re.write_shift(1,ke.type),re.write_shift(1,ke.color),re.write_shift(-4,ke.L),re.write_shift(-4,ke.R),re.write_shift(-4,ke.C),ke.clsid)re.write_shift(16,ke.clsid,"hex");else for(Ne=0;Ne<4;++Ne)re.write_shift(4,0);re.write_shift(4,ke.state||0),re.write_shift(4,0),re.write_shift(4,0),re.write_shift(4,0),re.write_shift(4,0),re.write_shift(4,ke.start),re.write_shift(4,ke.size),re.write_shift(4,0)}for(le=1;le<U.FileIndex.length;++le)if(ke=U.FileIndex[le],ke.size>=4096)if(re.l=ke.start+1<<9,dr&&Buffer.isBuffer(ke.content))ke.content.copy(re,re.l,0,ke.size),re.l+=ke.size+511&-512;else{for(Ne=0;Ne<ke.size;++Ne)re.write_shift(1,ke.content[Ne]);for(;Ne&511;++Ne)re.write_shift(1,0)}for(le=1;le<U.FileIndex.length;++le)if(ke=U.FileIndex[le],ke.size>0&&ke.size<4096)if(dr&&Buffer.isBuffer(ke.content))ke.content.copy(re,re.l,0,ke.size),re.l+=ke.size+63&-64;else{for(Ne=0;Ne<ke.size;++Ne)re.write_shift(1,ke.content[Ne]);for(;Ne&63;++Ne)re.write_shift(1,0)}if(dr)re.l=re.length;else for(;re.l<re.length;)re.write_shift(1,0);return re}function I(U,W){var ee=U.FullPaths.map(function(Ne){return Ne.toUpperCase()}),oe=ee.map(function(Ne){var Se=Ne.split("/");return Se[Se.length-(Ne.slice(-1)=="/"?2:1)]}),re=!1;W.charCodeAt(0)===47?(re=!0,W=ee[0].slice(0,-1)+W):re=W.indexOf("/")!==-1;var le=W.toUpperCase(),we=re===!0?ee.indexOf(le):oe.indexOf(le);if(we!==-1)return U.FileIndex[we];var Ue=!le.match(Gu);for(le=le.replace(Jn,""),Ue&&(le=le.replace(Gu,"!")),we=0;we<ee.length;++we)if((Ue?ee[we].replace(Gu,"!"):ee[we]).replace(Jn,"")==le||(Ue?oe[we].replace(Gu,"!"):oe[we]).replace(Jn,"")==le)return U.FileIndex[we];return null}var D=64,L=-2,N="d0cf11e0a1b11ae1",P=[208,207,17,224,161,177,26,225],Q="00000000000000000000000000000000",J={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:L,FREESECT:-1,HEADER_SIGNATURE:N,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Q,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function te(U,W,ee){c();var oe=M(U,ee);l.writeFileSync(W,oe)}function V(U){for(var W=new Array(U.length),ee=0;ee<U.length;++ee)W[ee]=String.fromCharCode(U[ee]);return W.join("")}function G(U,W){var ee=M(U,W);switch(W&&W.type||"buffer"){case"file":return c(),l.writeFileSync(W.filename,ee),ee;case"binary":return typeof ee=="string"?ee:V(ee);case"base64":return Df(typeof ee=="string"?ee:V(ee));case"buffer":if(dr)return Buffer.isBuffer(ee)?ee:iA(ee);case"array":return typeof ee=="string"?$i(ee):ee}return ee}var z;function C(U){try{var W=U.InflateRaw,ee=new W;if(ee._processChunk(new Uint8Array([3,0]),ee._finishFlushFlag),ee.bytesRead)z=U;else throw new Error("zlib does not expose bytesRead")}catch(oe){console.error("cannot use native zlib: "+(oe.message||oe))}}function k(U,W){if(!z)return Jt(U,W);var ee=z.InflateRaw,oe=new ee,re=oe._processChunk(U.slice(U.l),oe._finishFlushFlag);return U.l+=oe.bytesRead,re}function j(U){return z?z.deflateRawSync(U):ft(U)}var H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],de=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ue(U){var W=(U<<1|U<<11)&139536|(U<<5|U<<15)&558144;return(W>>16|W>>8|W)&255}for(var he=typeof Uint8Array<"u",xe=he?new Uint8Array(256):[],ve=0;ve<256;++ve)xe[ve]=ue(ve);function se(U,W){var ee=xe[U&255];return W<=8?ee>>>8-W:(ee=ee<<8|xe[U>>8&255],W<=16?ee>>>16-W:(ee=ee<<8|xe[U>>16&255],ee>>>24-W))}function Ke(U,W){var ee=W&7,oe=W>>>3;return(U[oe]|(ee<=6?0:U[oe+1]<<8))>>>ee&3}function Ee(U,W){var ee=W&7,oe=W>>>3;return(U[oe]|(ee<=5?0:U[oe+1]<<8))>>>ee&7}function pe(U,W){var ee=W&7,oe=W>>>3;return(U[oe]|(ee<=4?0:U[oe+1]<<8))>>>ee&15}function ce(U,W){var ee=W&7,oe=W>>>3;return(U[oe]|(ee<=3?0:U[oe+1]<<8))>>>ee&31}function He(U,W){var ee=W&7,oe=W>>>3;return(U[oe]|(ee<=1?0:U[oe+1]<<8))>>>ee&127}function Ze(U,W,ee){var oe=W&7,re=W>>>3,le=(1<<ee)-1,we=U[re]>>>oe;return ee<8-oe||(we|=U[re+1]<<8-oe,ee<16-oe)||(we|=U[re+2]<<16-oe,ee<24-oe)||(we|=U[re+3]<<24-oe),we&le}function Ye(U,W,ee){var oe=W&7,re=W>>>3;return oe<=5?U[re]|=(ee&7)<<oe:(U[re]|=ee<<oe&255,U[re+1]=(ee&7)>>8-oe),W+3}function tt(U,W,ee){var oe=W&7,re=W>>>3;return ee=(ee&1)<<oe,U[re]|=ee,W+1}function je(U,W,ee){var oe=W&7,re=W>>>3;return ee<<=oe,U[re]|=ee&255,ee>>>=8,U[re+1]=ee,W+8}function _e(U,W,ee){var oe=W&7,re=W>>>3;return ee<<=oe,U[re]|=ee&255,ee>>>=8,U[re+1]=ee&255,U[re+2]=ee>>>8,W+16}function ct(U,W){var ee=U.length,oe=2*ee>W?2*ee:W+5,re=0;if(ee>=W)return U;if(dr){var le=Gv(oe);if(U.copy)U.copy(le);else for(;re<U.length;++re)le[re]=U[re];return le}else if(he){var we=new Uint8Array(oe);if(we.set)we.set(U);else for(;re<ee;++re)we[re]=U[re];return we}return U.length=oe,U}function _t(U){for(var W=new Array(U),ee=0;ee<U;++ee)W[ee]=0;return W}function St(U,W,ee){var oe=1,re=0,le=0,we=0,Ue=0,Ne=U.length,Se=he?new Uint16Array(32):_t(32);for(le=0;le<32;++le)Se[le]=0;for(le=Ne;le<ee;++le)U[le]=0;Ne=U.length;var ke=he?new Uint16Array(Ne):_t(Ne);for(le=0;le<Ne;++le)Se[re=U[le]]++,oe<re&&(oe=re),ke[le]=0;for(Se[0]=0,le=1;le<=oe;++le)Se[le+16]=Ue=Ue+Se[le-1]<<1;for(le=0;le<Ne;++le)Ue=U[le],Ue!=0&&(ke[le]=Se[Ue+16]++);var $e=0;for(le=0;le<Ne;++le)if($e=U[le],$e!=0)for(Ue=se(ke[le],oe)>>oe-$e,we=(1<<oe+4-$e)-1;we>=0;--we)W[Ue|we<<$e]=$e&15|le<<4;return oe}var Et=he?new Uint16Array(512):_t(512),Ft=he?new Uint16Array(32):_t(32);if(!he){for(var Lt=0;Lt<512;++Lt)Et[Lt]=0;for(Lt=0;Lt<32;++Lt)Ft[Lt]=0}(function(){for(var U=[],W=0;W<32;W++)U.push(5);St(U,Ft,32);var ee=[];for(W=0;W<=143;W++)ee.push(8);for(;W<=255;W++)ee.push(9);for(;W<=279;W++)ee.push(7);for(;W<=287;W++)ee.push(8);St(ee,Et,288)})();var bt=function(){for(var W=he?new Uint8Array(32768):[],ee=0,oe=0;ee<de.length-1;++ee)for(;oe<de[ee+1];++oe)W[oe]=ee;for(;oe<32768;++oe)W[oe]=29;var re=he?new Uint8Array(259):[];for(ee=0,oe=0;ee<Y.length-1;++ee)for(;oe<Y[ee+1];++oe)re[oe]=ee;function le(Ue,Ne){for(var Se=0;Se<Ue.length;){var ke=Math.min(65535,Ue.length-Se),$e=Se+ke==Ue.length;for(Ne.write_shift(1,+$e),Ne.write_shift(2,ke),Ne.write_shift(2,~ke&65535);ke-- >0;)Ne[Ne.l++]=Ue[Se++]}return Ne.l}function we(Ue,Ne){for(var Se=0,ke=0,$e=he?new Uint16Array(32768):[];ke<Ue.length;){var ze=Math.min(65535,Ue.length-ke);if(ze<10){for(Se=Ye(Ne,Se,+(ke+ze==Ue.length)),Se&7&&(Se+=8-(Se&7)),Ne.l=Se/8|0,Ne.write_shift(2,ze),Ne.write_shift(2,~ze&65535);ze-- >0;)Ne[Ne.l++]=Ue[ke++];Se=Ne.l*8;continue}Se=Ye(Ne,Se,+(ke+ze==Ue.length)+2);for(var mt=0;ze-- >0;){var it=Ue[ke];mt=(mt<<5^it)&32767;var pt=-1,Rt=0;if((pt=$e[mt])&&(pt|=ke&-32768,pt>ke&&(pt-=32768),pt<ke))for(;Ue[pt+Rt]==Ue[ke+Rt]&&Rt<250;)++Rt;if(Rt>2){it=re[Rt],it<=22?Se=je(Ne,Se,xe[it+1]>>1)-1:(je(Ne,Se,3),Se+=5,je(Ne,Se,xe[it-23]>>5),Se+=3);var vr=it<8?0:it-4>>2;vr>0&&(_e(Ne,Se,Rt-Y[it]),Se+=vr),it=W[ke-pt],Se=je(Ne,Se,xe[it]>>3),Se-=3;var Cr=it<4?0:it-2>>1;Cr>0&&(_e(Ne,Se,ke-pt-de[it]),Se+=Cr);for(var ia=0;ia<Rt;++ia)$e[mt]=ke&32767,mt=(mt<<5^Ue[ke])&32767,++ke;ze-=Rt-1}else it<=143?it=it+48:Se=tt(Ne,Se,1),Se=je(Ne,Se,xe[it]),$e[mt]=ke&32767,++ke}Se=je(Ne,Se,0)-1}return Ne.l=(Se+7)/8|0,Ne.l}return function(Ne,Se){return Ne.length<8?le(Ne,Se):we(Ne,Se)}}();function ft(U){var W=Je(50+Math.floor(U.length*1.1)),ee=bt(U,W);return W.slice(0,ee)}var lt=he?new Uint16Array(32768):_t(32768),Er=he?new Uint16Array(32768):_t(32768),jt=he?new Uint16Array(128):_t(128),Fr=1,fr=1;function yt(U,W){var ee=ce(U,W)+257;W+=5;var oe=ce(U,W)+1;W+=5;var re=pe(U,W)+4;W+=4;for(var le=0,we=he?new Uint8Array(19):_t(19),Ue=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ne=1,Se=he?new Uint8Array(8):_t(8),ke=he?new Uint8Array(8):_t(8),$e=we.length,ze=0;ze<re;++ze)we[H[ze]]=le=Ee(U,W),Ne<le&&(Ne=le),Se[le]++,W+=3;var mt=0;for(Se[0]=0,ze=1;ze<=Ne;++ze)ke[ze]=mt=mt+Se[ze-1]<<1;for(ze=0;ze<$e;++ze)(mt=we[ze])!=0&&(Ue[ze]=ke[mt]++);var it=0;for(ze=0;ze<$e;++ze)if(it=we[ze],it!=0){mt=xe[Ue[ze]]>>8-it;for(var pt=(1<<7-it)-1;pt>=0;--pt)jt[mt|pt<<it]=it&7|ze<<3}var Rt=[];for(Ne=1;Rt.length<ee+oe;)switch(mt=jt[He(U,W)],W+=mt&7,mt>>>=3){case 16:for(le=3+Ke(U,W),W+=2,mt=Rt[Rt.length-1];le-- >0;)Rt.push(mt);break;case 17:for(le=3+Ee(U,W),W+=3;le-- >0;)Rt.push(0);break;case 18:for(le=11+He(U,W),W+=7;le-- >0;)Rt.push(0);break;default:Rt.push(mt),Ne<mt&&(Ne=mt);break}var vr=Rt.slice(0,ee),Cr=Rt.slice(ee);for(ze=ee;ze<286;++ze)vr[ze]=0;for(ze=oe;ze<30;++ze)Cr[ze]=0;return Fr=St(vr,lt,286),fr=St(Cr,Er,30),W}function hr(U,W){if(U[0]==3&&!(U[1]&3))return[il(W),2];for(var ee=0,oe=0,re=Gv(W||1<<18),le=0,we=re.length>>>0,Ue=0,Ne=0;!(oe&1);){if(oe=Ee(U,ee),ee+=3,oe>>>1)oe>>1==1?(Ue=9,Ne=5):(ee=yt(U,ee),Ue=Fr,Ne=fr);else{ee&7&&(ee+=8-(ee&7));var Se=U[ee>>>3]|U[(ee>>>3)+1]<<8;if(ee+=32,Se>0)for(!W&&we<le+Se&&(re=ct(re,le+Se),we=re.length);Se-- >0;)re[le++]=U[ee>>>3],ee+=8;continue}for(;;){!W&&we<le+32767&&(re=ct(re,le+32767),we=re.length);var ke=Ze(U,ee,Ue),$e=oe>>>1==1?Et[ke]:lt[ke];if(ee+=$e&15,$e>>>=4,!($e>>>8&255))re[le++]=$e;else{if($e==256)break;$e-=257;var ze=$e<8?0:$e-4>>2;ze>5&&(ze=0);var mt=le+Y[$e];ze>0&&(mt+=Ze(U,ee,ze),ee+=ze),ke=Ze(U,ee,Ne),$e=oe>>>1==1?Ft[ke]:Er[ke],ee+=$e&15,$e>>>=4;var it=$e<4?0:$e-2>>1,pt=de[$e];for(it>0&&(pt+=Ze(U,ee,it),ee+=it),!W&&we<mt&&(re=ct(re,mt+100),we=re.length);le<mt;)re[le]=re[le-pt],++le}}}return W?[re,ee+7>>>3]:[re.slice(0,le),ee+7>>>3]}function Jt(U,W){var ee=U.slice(U.l||0),oe=hr(ee,W);return U.l+=oe[1],oe[0]}function ln(U,W){if(U)typeof console<"u"&&console.error(W);else throw new Error(W)}function jr(U,W){var ee=U;Tn(ee,0);var oe=[],re=[],le={FileIndex:oe,FullPaths:re};_(le,{root:W.root});for(var we=ee.length-4;(ee[we]!=80||ee[we+1]!=75||ee[we+2]!=5||ee[we+3]!=6)&&we>=0;)--we;ee.l=we+4,ee.l+=4;var Ue=ee.read_shift(2);ee.l+=6;var Ne=ee.read_shift(4);for(ee.l=Ne,we=0;we<Ue;++we){ee.l+=20;var Se=ee.read_shift(4),ke=ee.read_shift(4),$e=ee.read_shift(2),ze=ee.read_shift(2),mt=ee.read_shift(2);ee.l+=8;var it=ee.read_shift(4),pt=A(ee.slice(ee.l+$e,ee.l+$e+ze));ee.l+=$e+ze+mt;var Rt=ee.l;ee.l=it+4,ai(ee,Se,ke,le,pt),ee.l=Rt}return le}function ai(U,W,ee,oe,re){U.l+=2;var le=U.read_shift(2),we=U.read_shift(2),Ue=o(U);if(le&8257)throw new Error("Unsupported ZIP encryption");for(var Ne=U.read_shift(4),Se=U.read_shift(4),ke=U.read_shift(4),$e=U.read_shift(2),ze=U.read_shift(2),mt="",it=0;it<$e;++it)mt+=String.fromCharCode(U[U.l++]);if(ze){var pt=A(U.slice(U.l,U.l+ze));(pt[21589]||{}).mt&&(Ue=pt[21589].mt),((re||{})[21589]||{}).mt&&(Ue=re[21589].mt)}U.l+=ze;var Rt=U.slice(U.l,U.l+Se);switch(we){case 8:Rt=k(U,ke);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+we)}var vr=!1;le&8&&(Ne=U.read_shift(4),Ne==134695760&&(Ne=U.read_shift(4),vr=!0),Se=U.read_shift(4),ke=U.read_shift(4)),Se!=W&&ln(vr,"Bad compressed size: "+W+" != "+Se),ke!=ee&&ln(vr,"Bad uncompressed size: "+ee+" != "+ke),kn(oe,mt,Rt,{unsafe:!0,mt:Ue})}function Di(U,W){var ee=W||{},oe=[],re=[],le=Je(1),we=ee.compression?8:0,Ue=0,Ne=0,Se=0,ke=0,$e=0,ze=U.FullPaths[0],mt=ze,it=U.FileIndex[0],pt=[],Rt=0;for(Ne=1;Ne<U.FullPaths.length;++Ne)if(mt=U.FullPaths[Ne].slice(ze.length),it=U.FileIndex[Ne],!(!it.size||!it.content||mt=="Sh33tJ5")){var vr=ke,Cr=Je(mt.length);for(Se=0;Se<mt.length;++Se)Cr.write_shift(1,mt.charCodeAt(Se)&127);Cr=Cr.slice(0,Cr.l),pt[$e]=w3.buf(it.content,0);var ia=it.content;we==8&&(ia=j(ia)),le=Je(30),le.write_shift(4,67324752),le.write_shift(2,20),le.write_shift(2,Ue),le.write_shift(2,we),it.mt?s(le,it.mt):le.write_shift(4,0),le.write_shift(-4,pt[$e]),le.write_shift(4,ia.length),le.write_shift(4,it.content.length),le.write_shift(2,Cr.length),le.write_shift(2,0),ke+=le.length,oe.push(le),ke+=Cr.length,oe.push(Cr),ke+=ia.length,oe.push(ia),le=Je(46),le.write_shift(4,33639248),le.write_shift(2,0),le.write_shift(2,20),le.write_shift(2,Ue),le.write_shift(2,we),le.write_shift(4,0),le.write_shift(-4,pt[$e]),le.write_shift(4,ia.length),le.write_shift(4,it.content.length),le.write_shift(2,Cr.length),le.write_shift(2,0),le.write_shift(2,0),le.write_shift(2,0),le.write_shift(2,0),le.write_shift(4,0),le.write_shift(4,vr),Rt+=le.l,re.push(le),Rt+=Cr.length,re.push(Cr),++$e}return le=Je(22),le.write_shift(4,101010256),le.write_shift(2,0),le.write_shift(2,0),le.write_shift(2,$e),le.write_shift(2,$e),le.write_shift(4,Rt),le.write_shift(4,ke),le.write_shift(2,0),gn([gn(oe),gn(re),le])}var Lr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function $t(U,W){if(U.ctype)return U.ctype;var ee=U.name||"",oe=ee.match(/\.([^\.]+)$/);return oe&&Lr[oe[1]]||W&&(oe=(ee=W).match(/[\.\\]([^\.\\])+$/),oe&&Lr[oe[1]])?Lr[oe[1]]:"application/octet-stream"}function yr(U){for(var W=Df(U),ee=[],oe=0;oe<W.length;oe+=76)ee.push(W.slice(oe,oe+76));return ee.join(`\r
`)+`\r
`}function Is(U){var W=U.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Se){var ke=Se.charCodeAt(0).toString(16).toUpperCase();return"="+(ke.length==1?"0"+ke:ke)});W=W.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),W.charAt(0)==`
`&&(W="=0D"+W.slice(1)),W=W.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ee=[],oe=W.split(`\r
`),re=0;re<oe.length;++re){var le=oe[re];if(le.length==0){ee.push("");continue}for(var we=0;we<le.length;){var Ue=76,Ne=le.slice(we,we+Ue);Ne.charAt(Ue-1)=="="?Ue--:Ne.charAt(Ue-2)=="="?Ue-=2:Ne.charAt(Ue-3)=="="&&(Ue-=3),Ne=le.slice(we,we+Ue),we+=Ue,we<le.length&&(Ne+="="),ee.push(Ne)}}return ee.join(`\r
`)}function ya(U){for(var W=[],ee=0;ee<U.length;++ee){for(var oe=U[ee];ee<=U.length&&oe.charAt(oe.length-1)=="=";)oe=oe.slice(0,oe.length-1)+U[++ee];W.push(oe)}for(var re=0;re<W.length;++re)W[re]=W[re].replace(/[=][0-9A-Fa-f]{2}/g,function(le){return String.fromCharCode(parseInt(le.slice(1),16))});return $i(W.join(`\r
`))}function ni(U,W,ee){for(var oe="",re="",le="",we,Ue=0;Ue<10;++Ue){var Ne=W[Ue];if(!Ne||Ne.match(/^\s*$/))break;var Se=Ne.match(/^(.*?):\s*([^\s].*)$/);if(Se)switch(Se[1].toLowerCase()){case"content-location":oe=Se[2].trim();break;case"content-type":le=Se[2].trim();break;case"content-transfer-encoding":re=Se[2].trim();break}}switch(++Ue,re.toLowerCase()){case"base64":we=$i(as(W.slice(Ue).join("")));break;case"quoted-printable":we=ya(W.slice(Ue));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+re)}var ke=kn(U,oe.slice(ee.length),we,{unsafe:!0});le&&(ke.ctype=le)}function Ei(U,W){if(V(U.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ee=W&&W.root||"",oe=(dr&&Buffer.isBuffer(U)?U.toString("binary"):V(U)).split(`\r
`),re=0,le="";for(re=0;re<oe.length;++re)if(le=oe[re],!!/^Content-Location:/i.test(le)&&(le=le.slice(le.indexOf("file")),ee||(ee=le.slice(0,le.lastIndexOf("/")+1)),le.slice(0,ee.length)!=ee))for(;ee.length>0&&(ee=ee.slice(0,ee.length-1),ee=ee.slice(0,ee.lastIndexOf("/")+1),le.slice(0,ee.length)!=ee););var we=(oe[1]||"").match(/boundary="(.*?)"/);if(!we)throw new Error("MAD cannot find boundary");var Ue="--"+(we[1]||""),Ne=[],Se=[],ke={FileIndex:Ne,FullPaths:Se};_(ke);var $e,ze=0;for(re=0;re<oe.length;++re){var mt=oe[re];mt!==Ue&&mt!==Ue+"--"||(ze++&&ni(ke,oe.slice($e,re),ee),$e=re)}return ke}function Pt(U,W){var ee=W||{},oe=ee.boundary||"SheetJS";oe="------="+oe;for(var re=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+oe.slice(2)+'"',"","",""],le=U.FullPaths[0],we=le,Ue=U.FileIndex[0],Ne=1;Ne<U.FullPaths.length;++Ne)if(we=U.FullPaths[Ne].slice(le.length),Ue=U.FileIndex[Ne],!(!Ue.size||!Ue.content||we=="Sh33tJ5")){we=we.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Rt){return"_x"+Rt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Rt){return"_u"+Rt.charCodeAt(0).toString(16)+"_"});for(var Se=Ue.content,ke=dr&&Buffer.isBuffer(Se)?Se.toString("binary"):V(Se),$e=0,ze=Math.min(1024,ke.length),mt=0,it=0;it<=ze;++it)(mt=ke.charCodeAt(it))>=32&&mt<128&&++$e;var pt=$e>=ze*4/5;re.push(oe),re.push("Content-Location: "+(ee.root||"file:///C:/SheetJS/")+we),re.push("Content-Transfer-Encoding: "+(pt?"quoted-printable":"base64")),re.push("Content-Type: "+$t(Ue,we)),re.push(""),re.push(pt?Is(ke):yr(ke))}return re.push(oe+`--\r
`),re.join(`\r
`)}function va(U){var W={};return _(W,U),W}function kn(U,W,ee,oe){var re=oe&&oe.unsafe;re||_(U);var le=!re&&Ut.find(U,W);if(!le){var we=U.FullPaths[0];W.slice(0,we.length)==we?we=W:(we.slice(-1)!="/"&&(we+="/"),we=(we+W).replace("//","/")),le={name:n(W),type:2},U.FileIndex.push(le),U.FullPaths.push(we),re||Ut.utils.cfb_gc(U)}return le.content=ee,le.size=ee?ee.length:0,oe&&(oe.CLSID&&(le.clsid=oe.CLSID),oe.mt&&(le.mt=oe.mt),oe.ct&&(le.ct=oe.ct)),le}function Na(U,W){_(U);var ee=Ut.find(U,W);if(ee){for(var oe=0;oe<U.FileIndex.length;++oe)if(U.FileIndex[oe]==ee)return U.FileIndex.splice(oe,1),U.FullPaths.splice(oe,1),!0}return!1}function da(U,W,ee){_(U);var oe=Ut.find(U,W);if(oe){for(var re=0;re<U.FileIndex.length;++re)if(U.FileIndex[re]==oe)return U.FileIndex[re].name=n(ee),U.FullPaths[re]=ee,!0}return!1}function na(U){O(U,!0)}return t.find=I,t.read=T,t.parse=d,t.write=G,t.writeFile=te,t.utils={cfb_new:va,cfb_add:kn,cfb_del:Na,cfb_mov:da,cfb_gc:na,ReadShift:cf,CheckField:H_,prep_blob:Tn,bconcat:gn,use_zlib:C,_deflateRaw:ft,_inflateRaw:Jt,consts:J},t}();let qA;function E3(e){qA=e}function b3(e){return typeof e=="string"?i0(e):Array.isArray(e)?$I(e):e}function o0(e,t,r){if(typeof qA<"u"&&qA.writeFileSync)return r?qA.writeFileSync(e,t,r):qA.writeFileSync(e,t);if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=i0(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var a=r=="utf8"?fo(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(a,e);if(typeof Blob<"u"){var n=new Blob([b3(a)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(n,e);if(typeof saveAs<"u")return saveAs(n,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(n);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var A=File(e);return A.open("w"),A.encoding="binary",Array.isArray(t)&&(t=fl(t)),A.write(t),A.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function _3(e){if(typeof qA<"u")return qA.readFileSync(e);if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(a){if(!a.message||!a.message.match(/onstruct/))throw a}throw new Error("Cannot access file "+e)}function Ia(e){for(var t=Object.keys(e),r=[],a=0;a<t.length;++a)Object.prototype.hasOwnProperty.call(e,t[a])&&r.push(t[a]);return r}function Zv(e,t){for(var r=[],a=Ia(e),n=0;n!==a.length;++n)r[e[a[n]][t]]==null&&(r[e[a[n]][t]]=a[n]);return r}function xm(e){for(var t=[],r=Ia(e),a=0;a!==r.length;++a)t[e[r[a]]]=r[a];return t}function ym(e){for(var t=[],r=Ia(e),a=0;a!==r.length;++a)t[e[r[a]]]=parseInt(r[a],10);return t}function C3(e){for(var t=[],r=Ia(e),a=0;a!==r.length;++a)t[e[r[a]]]==null&&(t[e[r[a]]]=[]),t[e[r[a]]].push(r[a]);return t}var Oh=new Date(1899,11,30,0,0,0);function An(e,t){var r=e.getTime(),a=Oh.getTime()+(e.getTimezoneOffset()-Oh.getTimezoneOffset())*6e4;return(r-a)/(24*60*60*1e3)}var S_=new Date,B3=Oh.getTime()+(S_.getTimezoneOffset()-Oh.getTimezoneOffset())*6e4,e4=S_.getTimezoneOffset();function vm(e){var t=new Date;return t.setTime(e*24*60*60*1e3+B3),t.getTimezoneOffset()!==e4&&t.setTime(t.getTime()+(t.getTimezoneOffset()-e4)*6e4),t}function S3(e){var t=0,r=0,a=!1,n=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!n)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=n.length;++s)if(n[s]){switch(r=1,s>3&&(a=!0),n[s].slice(n[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+n[s].slice(n[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(a)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(n[s],10)}return t}var t4=new Date("2017-02-19T19:06:09.000Z"),T_=isNaN(t4.getFullYear())?new Date("2/19/17"):t4,T3=T_.getFullYear()==2017;function ca(e,t){var r=new Date(e);if(T3)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(T_.getFullYear()==1917&&!isNaN(r.getFullYear())){var a=r.getFullYear();return e.indexOf(""+a)>-1||r.setFullYear(r.getFullYear()+100),r}var n=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+n[0],+n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function sc(e,t){if(dr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return fo(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return fo(p_(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return fo(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return fo(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(s){return r[s]||s})}catch{}for(var a=[],n=0;n!=e.length;++n)a.push(String.fromCharCode(e[n]));return a.join("")}function ea(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=ea(e[r]));return t}function Ba(e,t){for(var r="";r.length<t;)r+=e;return r}function Hs(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,a=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(a))||(a=a.replace(/[(](.*)[)]/,function(n,s){return r=-r,s}),!isNaN(t=Number(a)))?t/r:t}var O3=["january","february","march","april","may","june","july","august","september","october","november","december"];function qd(e){var t=new Date(e),r=new Date(NaN),a=t.getYear(),n=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&O3.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return a<0||a>8099?r:(n>0||s>1)&&a!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var I3=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,a,n){if(e||typeof a=="string")return r.split(a);for(var s=r.split(a),o=[s[0]],A=1;A<s.length;++A)o.push(n),o.push(s[A]);return o}}();function O_(e){return e?e.content&&e.type?sc(e.content,!0):e.data?wd(e.data):e.asNodeBuffer&&dr?wd(e.asNodeBuffer().toString("binary")):e.asBinary?wd(e.asBinary()):e._data&&e._data.getContent?wd(sc(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function I_(e){if(!e)return null;if(e.data)return Ch(e.data);if(e.asNodeBuffer&&dr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?Ch(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function N3(e){return e&&e.name.slice(-4)===".bin"?I_(e):O_(e)}function ys(e,t){for(var r=e.FullPaths||Ia(e.files),a=t.toLowerCase().replace(/[\/]/g,"\\"),n=a.replace(/\\/g,"/"),s=0;s<r.length;++s){var o=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(a==o||n==o)return e.files?e.files[r[s]]:e.FileIndex[s]}return null}function L2(e,t){var r=ys(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Wa(e,t,r){if(!r)return N3(L2(e,t));if(!t)return null;try{return Wa(e,t)}catch{return null}}function Yi(e,t,r){if(!r)return O_(L2(e,t));if(!t)return null;try{return Yi(e,t)}catch{return null}}function F3(e,t,r){return I_(L2(e,t))}function r4(e){for(var t=e.FullPaths||Ia(e.files),r=[],a=0;a<t.length;++a)t[a].slice(-1)!="/"&&r.push(t[a].replace(/^Root Entry[\/]/,""));return r.sort()}function or(e,t,r){if(e.FullPaths){if(typeof r=="string"){var a;return dr?a=iA(r):a=YI(r),Ut.utils.cfb_add(e,t,a)}Ut.utils.cfb_add(e,t,r)}else e.file(t,r)}function U2(){return Ut.utils.cfb_new()}function N_(e,t){switch(t.type){case"base64":return Ut.read(e,{type:"base64"});case"binary":return Ut.read(e,{type:"binary"});case"buffer":case"array":return Ut.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function zu(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var a=e.split("/");a.length!==0;){var n=a.shift();n===".."?r.pop():n!=="."&&r.push(n)}return r.join("/")}var Ka=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,R3=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,a4=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,k3=/<[^>]*>/g,ri=Ka.match(a4)?a4:k3,D3=/<\w*:/,j3=/<(\/?)\w+:/;function Wt(e,t,r){for(var a={},n=0,s=0;n!==e.length&&!((s=e.charCodeAt(n))===32||s===10||s===13);++n);if(t||(a[0]=e.slice(0,n)),n===e.length)return a;var o=e.match(R3),A=0,l="",c=0,d="",f="",p=1;if(o)for(c=0;c!=o.length;++c){for(f=o[c],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(d=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(p=(n=f.charCodeAt(s+1))==34||n==39?1:0,l=f.slice(s+1+p,f.length-p),A=0;A!=d.length&&d.charCodeAt(A)!==58;++A);if(A===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),a[d]=l,a[d.toLowerCase()]=l;else{var u=(A===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(A+1);if(a[u]&&d.slice(A-3,A)=="ext")continue;a[u]=l,a[u.toLowerCase()]=l}}return a}function vo(e){return e.replace(j3,"<$1")}var F_={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},M2=xm(F_),Tr=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(a){var n=a+"",s=n.indexOf("<![CDATA[");if(s==-1)return n.replace(e,function(A,l){return F_[A]||String.fromCharCode(parseInt(l,A.indexOf("x")>-1?16:10))||A}).replace(t,function(A,l){return String.fromCharCode(parseInt(l,16))});var o=n.indexOf("]]>");return r(n.slice(0,s))+n.slice(s+9,o)+r(n.slice(o+3))}}(),P2=/[&<>'"]/g,L3=/[\u0000-\u0008\u000b-\u001f]/g;function Kr(e){var t=e+"";return t.replace(P2,function(r){return M2[r]}).replace(L3,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function n4(e){return Kr(e).replace(/ /g,"_x0020_")}var R_=/[\u0000-\u001f]/g;function Q2(e){var t=e+"";return t.replace(P2,function(r){return M2[r]}).replace(/\n/g,"<br/>").replace(R_,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function U3(e){var t=e+"";return t.replace(P2,function(r){return M2[r]}).replace(R_,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var i4=function(){var e=/&#(\d+);/g;function t(r,a){return String.fromCharCode(parseInt(a,10))}return function(a){return a.replace(e,t)}}();function M3(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function sa(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Og(e){for(var t="",r=0,a=0,n=0,s=0,o=0,A=0;r<e.length;){if(a=e.charCodeAt(r++),a<128){t+=String.fromCharCode(a);continue}if(n=e.charCodeAt(r++),a>191&&a<224){o=(a&31)<<6,o|=n&63,t+=String.fromCharCode(o);continue}if(s=e.charCodeAt(r++),a<240){t+=String.fromCharCode((a&15)<<12|(n&63)<<6|s&63);continue}o=e.charCodeAt(r++),A=((a&7)<<18|(n&63)<<12|(s&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(A>>>10&1023)),t+=String.fromCharCode(56320+(A&1023))}return t}function s4(e){var t=il(2*e.length),r,a,n=1,s=0,o=0,A;for(a=0;a<e.length;a+=n)n=1,(A=e.charCodeAt(a))<128?r=A:A<224?(r=(A&31)*64+(e.charCodeAt(a+1)&63),n=2):A<240?(r=(A&15)*4096+(e.charCodeAt(a+1)&63)*64+(e.charCodeAt(a+2)&63),n=3):(n=4,r=(A&7)*262144+(e.charCodeAt(a+1)&63)*4096+(e.charCodeAt(a+2)&63)*64+(e.charCodeAt(a+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[s++]=o&255,t[s++]=o>>>8,o=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function o4(e){return iA(e,"binary").toString("utf8")}var op="foo bar bazâð£",zr=dr&&(o4(op)==Og(op)&&o4||s4(op)==Og(op)&&s4)||Og,fo=dr?function(e){return iA(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,a=0,n=0;r<e.length;)switch(a=e.charCodeAt(r++),!0){case a<128:t.push(String.fromCharCode(a));break;case a<2048:t.push(String.fromCharCode(192+(a>>6))),t.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,n=e.charCodeAt(r++)-56320+(a<<10),t.push(String.fromCharCode(240+(n>>18&7))),t.push(String.fromCharCode(144+(n>>12&63))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)));break;default:t.push(String.fromCharCode(224+(a>>12))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)))}return t.join("")},Lf=function(){var e={};return function(r,a){var n=r+"|"+(a||"");return e[n]?e[n]:e[n]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",a||"")}}(),k_=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var a=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),n=0;n<e.length;++n)a=a.replace(e[n][0],e[n][1]);return a}}(),P3=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),Q3=/<\/?(?:vt:)?variant>/g,q3=/<(?:vt:)([^>]*)>([\s\S]*)</;function A4(e,t){var r=Wt(e),a=e.match(P3(r.baseType))||[],n=[];if(a.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+a.length+" != "+r.size);return n}return a.forEach(function(s){var o=s.replace(Q3,"").match(q3);o&&n.push({v:zr(o[2]),t:o[1]})}),n}var D_=/(^\s|\s$|\n)/;function In(e,t){return"<"+e+(t.match(D_)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Uf(e){return Ia(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function gt(e,t,r){return"<"+e+(r!=null?Uf(r):"")+(t!=null?(t.match(D_)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function vx(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function K3(e,t){switch(typeof e){case"string":var r=gt("vt:lpwstr",Kr(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return gt((e|0)==e?"vt:i4":"vt:r8",Kr(String(e)));case"boolean":return gt("vt:bool",e?"true":"false")}if(e instanceof Date)return gt("vt:filetime",vx(e));throw new Error("Unable to serialize "+e)}function q2(e){if(dr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return zr(fl(k2(e)));throw new Error("Bad input format: expected Buffer or string")}var Mf=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,sn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},pc=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Vi={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function H3(e,t){for(var r=1-2*(e[t+7]>>>7),a=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),n=e[t+6]&15,s=5;s>=0;--s)n=n*256+e[t+s];return a==2047?n==0?r*(1/0):NaN:(a==0?a=-1022:(a-=1023,n+=Math.pow(2,52)),r*Math.pow(2,a-52)*n)}function G3(e,t,r){var a=(t<0||1/t==-1/0?1:0)<<7,n=0,s=0,o=a?-t:t;isFinite(o)?o==0?n=s=0:(n=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-n),n<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?n=-1022:(s-=Math.pow(2,52),n+=1023)):(n=2047,s=isNaN(t)?26985:0);for(var A=0;A<=5;++A,s/=256)e[r+A]=s&255;e[r+6]=(n&15)<<4|s&15,e[r+7]=n>>4|a}var l4=function(e){for(var t=[],r=10240,a=0;a<e[0].length;++a)if(e[0][a])for(var n=0,s=e[0][a].length;n<s;n+=r)t.push.apply(t,e[0][a].slice(n,n+r));return t},c4=dr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:iA(t)})):l4(e)}:l4,d4=function(e,t,r){for(var a=[],n=t;n<r;n+=2)a.push(String.fromCharCode(zo(e,n)));return a.join("").replace(Jn,"")},wm=dr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Jn,""):d4(e,t,r)}:d4,u4=function(e,t,r){for(var a=[],n=t;n<t+r;++n)a.push(("0"+e[n].toString(16)).slice(-2));return a.join("")},j_=dr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):u4(e,t,r)}:u4,f4=function(e,t,r){for(var a=[],n=t;n<r;n++)a.push(String.fromCharCode(hd(e,n)));return a.join("")},Wd=dr?function(t,r,a){return Buffer.isBuffer(t)?t.toString("utf8",r,a):f4(t,r,a)}:f4,L_=function(e,t){var r=mn(e,t);return r>0?Wd(e,t+4,t+4+r-1):""},K2=L_,U_=function(e,t){var r=mn(e,t);return r>0?Wd(e,t+4,t+4+r-1):""},H2=U_,M_=function(e,t){var r=2*mn(e,t);return r>0?Wd(e,t+4,t+4+r-1):""},G2=M_,P_=function(t,r){var a=mn(t,r);return a>0?wm(t,r+4,r+4+a):""},z2=P_,Q_=function(e,t){var r=mn(e,t);return r>0?Wd(e,t+4,t+4+r):""},V2=Q_,q_=function(e,t){return H3(e,t)},Ih=q_,$2=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};dr&&(K2=function(t,r){if(!Buffer.isBuffer(t))return L_(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},H2=function(t,r){if(!Buffer.isBuffer(t))return U_(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},G2=function(t,r){if(!Buffer.isBuffer(t))return M_(t,r);var a=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a-1)},z2=function(t,r){if(!Buffer.isBuffer(t))return P_(t,r);var a=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a)},V2=function(t,r){if(!Buffer.isBuffer(t))return Q_(t,r);var a=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+a)},Ih=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):q_(t,r)},$2=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});function K_(){wm=function(e,t,r){return _r.utils.decode(1200,e.slice(t,r)).replace(Jn,"")},Wd=function(e,t,r){return _r.utils.decode(65001,e.slice(t,r))},K2=function(e,t){var r=mn(e,t);return r>0?_r.utils.decode(nc,e.slice(t+4,t+4+r-1)):""},H2=function(e,t){var r=mn(e,t);return r>0?_r.utils.decode(Zi,e.slice(t+4,t+4+r-1)):""},G2=function(e,t){var r=2*mn(e,t);return r>0?_r.utils.decode(1200,e.slice(t+4,t+4+r-1)):""},z2=function(e,t){var r=mn(e,t);return r>0?_r.utils.decode(1200,e.slice(t+4,t+4+r)):""},V2=function(e,t){var r=mn(e,t);return r>0?_r.utils.decode(65001,e.slice(t+4,t+4+r)):""}}typeof _r<"u"&&K_();var hd=function(e,t){return e[t]},zo=function(e,t){return e[t+1]*256+e[t]},z3=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},mn=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},jl=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},V3=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function cf(e,t){var r="",a,n,s=[],o,A,l,c;switch(t){case"dbcs":if(c=this.l,dr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(zo(this,c)),c+=2;e*=2;break;case"utf8":r=Wd(this,this.l,this.l+e);break;case"utf16le":e*=2,r=wm(this,this.l,this.l+e);break;case"wstr":if(typeof _r<"u")r=_r.utils.decode(Zi,this.slice(this.l,this.l+2*e));else return cf.call(this,e,"dbcs");e=2*e;break;case"lpstr-ansi":r=K2(this,this.l),e=4+mn(this,this.l);break;case"lpstr-cp":r=H2(this,this.l),e=4+mn(this,this.l);break;case"lpwstr":r=G2(this,this.l),e=4+2*mn(this,this.l);break;case"lpp4":e=4+mn(this,this.l),r=z2(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+mn(this,this.l),r=V2(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=hd(this,this.l+e++))!==0;)s.push(Hu(o));r=s.join("");break;case"_wstr":for(e=0,r="";(o=zo(this,this.l+e))!==0;)s.push(Hu(o)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return o=hd(this,c),this.l=c+1,A=cf.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),s.join("")+A;s.push(Hu(zo(this,c))),c+=2}r=s.join(""),e*=2;break;case"cpstr":if(typeof _r<"u"){r=_r.utils.decode(Zi,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(r="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return o=hd(this,c),this.l=c+1,A=cf.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),s.join("")+A;s.push(Hu(hd(this,c))),c+=1}r=s.join("");break;default:switch(e){case 1:return a=hd(this,this.l),this.l++,a;case 2:return a=(t==="i"?z3:zo)(this,this.l),this.l+=2,a;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(a=(e>0?jl:V3)(this,this.l),this.l+=4,a):(n=mn(this,this.l),this.l+=4,n);case 8:case-8:if(t==="f")return e==8?n=Ih(this,this.l):n=Ih([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;e=8;case 16:r=j_(this,this.l,e);break}}return this.l+=e,r}var $3=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Y3=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},W3=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function X3(e,t,r){var a=0,n=0;if(r==="dbcs"){for(n=0;n!=t.length;++n)W3(this,t.charCodeAt(n),this.l+2*n);a=2*t.length}else if(r==="sbcs"){if(typeof _r<"u"&&nc==874)for(n=0;n!=t.length;++n){var s=_r.utils.encode(nc,t.charAt(n));this[this.l+n]=s[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),n=0;n!=t.length;++n)this[this.l+n]=t.charCodeAt(n)&255;a=t.length}else if(r==="hex"){for(;n<e;++n)this[this.l++]=parseInt(t.slice(2*n,2*n+2),16)||0;return this}else if(r==="utf16le"){var o=Math.min(this.l+e,this.length);for(n=0;n<Math.min(t.length,e);++n){var A=t.charCodeAt(n);this[this.l++]=A&255,this[this.l++]=A>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(e){case 1:a=1,this[this.l]=t&255;break;case 2:a=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:a=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:a=4,$3(this,t,this.l);break;case 8:if(a=8,r==="f"){G3(this,t,this.l);break}case 16:break;case-4:a=4,Y3(this,t,this.l);break}return this.l+=a,this}function H_(e,t){var r=j_(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Tn(e,t){e.l=t,e.read_shift=cf,e.chk=H_,e.write_shift=X3}function ti(e,t){e.l+=t}function Je(e){var t=il(e);return Tn(t,0),t}function sA(e,t,r){if(e){var a,n,s;Tn(e,e.l||0);for(var o=e.length,A=0,l=0;e.l<o;){A=e.read_shift(1),A&128&&(A=(A&127)+((e.read_shift(1)&127)<<7));var c=Gf[A]||Gf[65535];for(a=e.read_shift(1),s=a&127,n=1;n<4&&a&128;++n)s+=((a=e.read_shift(1))&127)<<7*n;l=e.l+s;var d=c.f&&c.f(e,s,r);if(e.l=l,t(d,c,A))return}}}function Fi(){var e=[],t=dr?256:2048,r=function(c){var d=Je(c);return Tn(d,0),d},a=r(t),n=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&e.push(a),a=null)},s=function(c){return a&&c<a.length-a.l?a:(n(),a=r(Math.max(c+1,t)))},o=function(){return n(),gn(e)},A=function(c){n(),a=c,a.l==null&&(a.l=a.length),s(t)};return{next:s,push:A,end:o,_bufs:e}}function st(e,t,r,a){var n=+t,s;if(!isNaN(n)){a||(a=Gf[n].p||(r||[]).length||0),s=1+(n>=128?1:0)+1,a>=128&&++s,a>=16384&&++s,a>=2097152&&++s;var o=e.next(s);n<=127?o.write_shift(1,n):(o.write_shift(1,(n&127)+128),o.write_shift(1,n>>7));for(var A=0;A!=4;++A)if(a>=128)o.write_shift(1,(a&127)+128),a>>=7;else{o.write_shift(1,a);break}a>0&&$2(r)&&e.push(r)}}function df(e,t,r){var a=ea(e);if(t.s?(a.cRel&&(a.c+=t.s.c),a.rRel&&(a.r+=t.s.r)):(a.cRel&&(a.c+=t.c),a.rRel&&(a.r+=t.r)),!r||r.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function p4(e,t,r){var a=ea(e);return a.s=df(a.s,t.s,r),a.e=df(a.e,t.s,r),a}function uf(e,t){if(e.cRel&&e.c<0)for(e=ea(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=ea(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Vt(e);return!e.cRel&&e.cRel!=null&&(r=eN(r)),!e.rRel&&e.rRel!=null&&(r=J3(r)),r}function Ig(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+la(e.s.c)+":"+(e.e.cRel?"":"$")+la(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ta(e.s.r)+":"+(e.e.rRel?"":"$")+Ta(e.e.r):uf(e.s,t.biff)+":"+uf(e.e,t.biff)}function Y2(e){return parseInt(Z3(e),10)-1}function Ta(e){return""+(e+1)}function J3(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Z3(e){return e.replace(/\$(\d+)$/,"$1")}function W2(e){for(var t=tN(e),r=0,a=0;a!==t.length;++a)r=26*r+t.charCodeAt(a)-64;return r-1}function la(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function eN(e){return e.replace(/^([A-Z])/,"$$$1")}function tN(e){return e.replace(/^\$([A-Z])/,"$1")}function rN(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function xa(e){for(var t=0,r=0,a=0;a<e.length;++a){var n=e.charCodeAt(a);n>=48&&n<=57?t=10*t+(n-48):n>=65&&n<=90&&(r=26*r+(n-64))}return{c:r-1,r:t-1}}function Vt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function vi(e){var t=e.indexOf(":");return t==-1?{s:xa(e),e:xa(e)}:{s:xa(e.slice(0,t)),e:xa(e.slice(t+1))}}function sr(e,t){return typeof t>"u"||typeof t=="number"?sr(e.s,e.e):(typeof e!="string"&&(e=Vt(e)),typeof t!="string"&&(t=Vt(t)),e==t?e:e+":"+t)}function xr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,a=0,n=0,s=e.length;for(r=0;a<s&&!((n=e.charCodeAt(a)-64)<1||n>26);++a)r=26*r+n;for(t.s.c=--r,r=0;a<s&&!((n=e.charCodeAt(a)-48)<0||n>9);++a)r=10*r+n;if(t.s.r=--r,a===s||n!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++a,r=0;a!=s&&!((n=e.charCodeAt(a)-64)<1||n>26);++a)r=26*r+n;for(t.e.c=--r,r=0;a!=s&&!((n=e.charCodeAt(a)-48)<0||n>9);++a)r=10*r+n;return t.e.r=--r,t}function h4(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=ns(e.z,r?An(t):t)}catch{}try{return e.w=ns((e.XF||{}).numFmtId||(r?14:0),r?An(t):t)}catch{return""+t}}function xo(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?oA[e.v]||e.v:t==null?h4(e,e.v):h4(e,t))}function pl(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",a={};return a[r]=e,{SheetNames:[r],Sheets:a}}function G_(e,t,r){var a=r||{},n=e?Array.isArray(e):a.dense,s=e||(n?[]:{}),o=0,A=0;if(s&&a.origin!=null){if(typeof a.origin=="number")o=a.origin;else{var l=typeof a.origin=="string"?xa(a.origin):a.origin;o=l.r,A=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=xr(s["!ref"]);c.s.c=d.s.c,c.s.r=d.s.r,c.e.c=Math.max(c.e.c,d.e.c),c.e.r=Math.max(c.e.r,d.e.r),o==-1&&(c.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=t[f].length;++p)if(!(typeof t[f][p]>"u")){var u={v:t[f][p]},g=o+f,h=A+p;if(c.s.r>g&&(c.s.r=g),c.s.c>h&&(c.s.c=h),c.e.r<g&&(c.e.r=g),c.e.c<h&&(c.e.c=h),t[f][p]&&typeof t[f][p]=="object"&&!Array.isArray(t[f][p])&&!(t[f][p]instanceof Date))u=t[f][p];else if(Array.isArray(u.v)&&(u.f=t[f][p][1],u.v=u.v[0]),u.v===null)if(u.f)u.t="n";else if(a.nullError)u.t="e",u.v=0;else if(a.sheetStubs)u.t="z";else continue;else typeof u.v=="number"?u.t="n":typeof u.v=="boolean"?u.t="b":u.v instanceof Date?(u.z=a.dateNF||Ht[14],a.cellDates?(u.t="d",u.w=ns(u.z,An(u.v))):(u.t="n",u.v=An(u.v),u.w=ns(u.z,u.v))):u.t="s";if(n)s[g]||(s[g]=[]),s[g][h]&&s[g][h].z&&(u.z=s[g][h].z),s[g][h]=u;else{var y=Vt({c:h,r:g});s[y]&&s[y].z&&(u.z=s[y].z),s[y]=u}}}return c.s.c<1e7&&(s["!ref"]=sr(c)),s}function Xd(e,t){return G_(null,e,t)}function aN(e){return e.read_shift(4,"i")}function Gs(e,t){return t||(t=Je(4)),t.write_shift(4,e),t}function Zn(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function xn(e,t){var r=!1;return t==null&&(r=!0,t=Je(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function nN(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function iN(e,t){return t||(t=Je(4)),t.write_shift(2,0),t.write_shift(2,0),t}function X2(e,t){var r=e.l,a=e.read_shift(1),n=Zn(e),s=[],o={t:n,h:n};if(a&1){for(var A=e.read_shift(4),l=0;l!=A;++l)s.push(nN(e));o.r=s}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function sN(e,t){var r=!1;return t==null&&(r=!0,t=Je(15+4*e.t.length)),t.write_shift(1,0),xn(e.t,t),r?t.slice(0,t.l):t}var oN=X2;function AN(e,t){var r=!1;return t==null&&(r=!0,t=Je(23+4*e.t.length)),t.write_shift(1,1),xn(e.t,t),t.write_shift(4,1),iN({},t),r?t.slice(0,t.l):t}function Os(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function hc(e,t){return t==null&&(t=Je(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function mc(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function gc(e,t){return t==null&&(t=Je(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var lN=Zn,z_=xn;function J2(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Nh(e,t){var r=!1;return t==null&&(r=!0,t=Je(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var cN=Zn,wx=J2,Z2=Nh;function ey(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,a=t[0]&2;e.l+=4;var n=a===0?Ih([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):jl(t,0)>>2;return r?n/100:n}function V_(e,t){t==null&&(t=Je(4));var r=0,a=0,n=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?a=1:n==(n|0)&&n>=-536870912&&n<1<<29&&(a=1,r=1),a)t.write_shift(-4,((r?n:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function $_(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function dN(e,t){return t||(t=Je(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var xc=$_,Jd=dN;function Yn(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function oc(e,t){return(t||Je(8)).write_shift(8,e,"f")}function uN(e){var t={},r=e.read_shift(1),a=r>>>1,n=e.read_shift(1),s=e.read_shift(2,"i"),o=e.read_shift(1),A=e.read_shift(1),l=e.read_shift(1);switch(e.l++,a){case 0:t.auto=1;break;case 1:t.index=n;var c=Vl[n];c&&(t.rgb=Qf(c));break;case 2:t.rgb=Qf([o,A,l]);break;case 3:t.theme=n;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function Fh(e,t){if(t||(t=Je(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var a=e.rgb||"FFFFFF";typeof a=="number"&&(a=("000000"+a.toString(16)).slice(-6)),t.write_shift(1,parseInt(a.slice(0,2),16)),t.write_shift(1,parseInt(a.slice(2,4),16)),t.write_shift(1,parseInt(a.slice(4,6),16)),t.write_shift(1,255)}return t}function fN(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function pN(e,t){t||(t=Je(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function Y_(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},a=e.read_shift(4);switch(a){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(a>400)throw new Error("Unsupported Clipboard: "+a.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function hN(e){return Y_(e,1)}function mN(e){return Y_(e,2)}var ty=2,Oi=3,Ap=11,m4=12,Rh=19,lp=64,gN=65,xN=71,yN=4108,vN=4126,pn=80,W_=81,wN=[pn,W_],Ex={1:{n:"CodePage",t:ty},2:{n:"Category",t:pn},3:{n:"PresentationFormat",t:pn},4:{n:"ByteCount",t:Oi},5:{n:"LineCount",t:Oi},6:{n:"ParagraphCount",t:Oi},7:{n:"SlideCount",t:Oi},8:{n:"NoteCount",t:Oi},9:{n:"HiddenCount",t:Oi},10:{n:"MultimediaClipCount",t:Oi},11:{n:"ScaleCrop",t:Ap},12:{n:"HeadingPairs",t:yN},13:{n:"TitlesOfParts",t:vN},14:{n:"Manager",t:pn},15:{n:"Company",t:pn},16:{n:"LinksUpToDate",t:Ap},17:{n:"CharacterCount",t:Oi},19:{n:"SharedDoc",t:Ap},22:{n:"HyperlinksChanged",t:Ap},23:{n:"AppVersion",t:Oi,p:"version"},24:{n:"DigSig",t:gN},26:{n:"ContentType",t:pn},27:{n:"ContentStatus",t:pn},28:{n:"Language",t:pn},29:{n:"Version",t:pn},255:{},2147483648:{n:"Locale",t:Rh},2147483651:{n:"Behavior",t:Rh},1919054434:{}},bx={1:{n:"CodePage",t:ty},2:{n:"Title",t:pn},3:{n:"Subject",t:pn},4:{n:"Author",t:pn},5:{n:"Keywords",t:pn},6:{n:"Comments",t:pn},7:{n:"Template",t:pn},8:{n:"LastAuthor",t:pn},9:{n:"RevNumber",t:pn},10:{n:"EditTime",t:lp},11:{n:"LastPrinted",t:lp},12:{n:"CreatedDate",t:lp},13:{n:"ModifiedDate",t:lp},14:{n:"PageCount",t:Oi},15:{n:"WordCount",t:Oi},16:{n:"CharCount",t:Oi},17:{n:"Thumbnail",t:xN},18:{n:"Application",t:pn},19:{n:"DocSecurity",t:Oi},255:{},2147483648:{n:"Locale",t:Rh},2147483651:{n:"Behavior",t:Rh},1919054434:{}},g4={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},EN=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function bN(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var _N=bN([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Vl=ea(_N),oA={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},X_={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},_x={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},cp={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function ry(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function CN(e){var t=ry();if(!e||!e.match)return t;var r={};if((e.match(ri)||[]).forEach(function(a){var n=Wt(a);switch(n[0].replace(D3,"<")){case"<?xml":break;case"<Types":t.xmlns=n["xmlns"+(n[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[n.Extension]=n.ContentType;break;case"<Override":t[_x[n.ContentType]]!==void 0&&t[_x[n.ContentType]].push(n.PartName);break}}),t.xmlns!==sn.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function J_(e,t){var r=C3(_x),a=[],n;a[a.length]=Ka,a[a.length]=gt("Types",null,{xmlns:sn.CT,"xmlns:xsd":sn.xsd,"xmlns:xsi":sn.xsi}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return gt("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){e[l]&&e[l].length>0&&(n=e[l][0],a[a.length]=gt("Override",null,{PartName:(n[0]=="/"?"":"/")+n,ContentType:cp[l][t.bookType]||cp[l].xlsx}))},o=function(l){(e[l]||[]).forEach(function(c){a[a.length]=gt("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:cp[l][t.bookType]||cp[l].xlsx})})},A=function(l){(e[l]||[]).forEach(function(c){a[a.length]=gt("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:r[l][0]})})};return s("workbooks"),o("sheets"),o("charts"),A("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(A),A("vba"),A("comments"),A("threadedcomments"),A("drawings"),o("metadata"),A("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var ur={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Pf(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function ff(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var a={};return(e.match(ri)||[]).forEach(function(n){var s=Wt(n);if(s[0]==="<Relationship"){var o={};o.Type=s.Type,o.Target=s.Target,o.Id=s.Id,s.TargetMode&&(o.TargetMode=s.TargetMode);var A=s.TargetMode==="External"?s.Target:zu(s.Target,t);r[A]=o,a[s.Id]=o}}),r["!id"]=a,r}function Od(e){var t=[Ka,gt("Relationships",null,{xmlns:sn.RELS})];return Ia(e["!id"]).forEach(function(r){t[t.length]=gt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function qr(e,t,r,a,n,s){if(n||(n={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,n.Id="rId"+t,n.Type=a,n.Target=r,[ur.HLINK,ur.XPATH,ur.XMISS].indexOf(n.Type)>-1&&(n.TargetMode="External"),e["!id"][n.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][n.Id]=n,e[("/"+n.Target).replace("//","/")]=n,t}var BN="application/vnd.oasis.opendocument.spreadsheet";function SN(e,t){for(var r=q2(e),a,n;a=Mf.exec(r);)switch(a[3]){case"manifest":break;case"file-entry":if(n=Wt(a[0],!1),n.path=="/"&&n.type!==BN)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw a}}function TN(e){var t=[Ka];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function x4(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function ON(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function IN(e){var t=[Ka];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(x4(e[r][0],e[r][1])),t.push(ON("",e[r][0]));return t.push(x4("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function Z_(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+kf.version+"</meta:generator></office:meta></office:document-meta>"}var Bs=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],NN=function(){for(var e=new Array(Bs.length),t=0;t<Bs.length;++t){var r=Bs[t],a="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+a+"[^>]*>([\\s\\S]*?)</"+a+">")}return e}();function e5(e){var t={};e=zr(e);for(var r=0;r<Bs.length;++r){var a=Bs[r],n=e.match(NN[r]);n!=null&&n.length>0&&(t[a[1]]=Tr(n[1])),a[2]==="date"&&t[a[1]]&&(t[a[1]]=ca(t[a[1]]))}return t}function Ng(e,t,r,a,n){n[e]!=null||t==null||t===""||(n[e]=t,t=Kr(t),a[a.length]=r?gt(e,t,r):In(e,t))}function t5(e,t){var r=t||{},a=[Ka,gt("cp:coreProperties",null,{"xmlns:cp":sn.CORE_PROPS,"xmlns:dc":sn.dc,"xmlns:dcterms":sn.dcterms,"xmlns:dcmitype":sn.dcmitype,"xmlns:xsi":sn.xsi})],n={};if(!e&&!r.Props)return a.join("");e&&(e.CreatedDate!=null&&Ng("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:vx(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n),e.ModifiedDate!=null&&Ng("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:vx(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n));for(var s=0;s!=Bs.length;++s){var o=Bs[s],A=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;A===!0?A="1":A===!1?A="0":typeof A=="number"&&(A=String(A)),A!=null&&Ng(o[0],A,null,a,n)}return a.length>2&&(a[a.length]="</cp:coreProperties>",a[1]=a[1].replace("/>",">")),a.join("")}var $l=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],r5=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function a5(e,t,r,a){var n=[];if(typeof e=="string")n=A4(e,a);else for(var s=0;s<e.length;++s)n=n.concat(e[s].map(function(d){return{v:d}}));var o=typeof t=="string"?A4(t,a).map(function(d){return d.v}):t,A=0,l=0;if(o.length>0)for(var c=0;c!==n.length;c+=2){switch(l=+n[c+1].v,n[c].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=o.slice(A,A+l);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=l,r.DefinedNames=o.slice(A,A+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=o.slice(A,A+l);break}A+=l}}function FN(e,t,r){var a={};return t||(t={}),e=zr(e),$l.forEach(function(n){var s=(e.match(Lf(n[0]))||[])[1];switch(n[2]){case"string":s&&(t[n[1]]=Tr(s));break;case"bool":t[n[1]]=s==="true";break;case"raw":var o=e.match(new RegExp("<"+n[0]+"[^>]*>([\\s\\S]*?)</"+n[0]+">"));o&&o.length>0&&(a[n[1]]=o[1]);break}}),a.HeadingPairs&&a.TitlesOfParts&&a5(a.HeadingPairs,a.TitlesOfParts,t,r),t}function n5(e){var t=[],r=gt;return e||(e={}),e.Application="SheetJS",t[t.length]=Ka,t[t.length]=gt("Properties",null,{xmlns:sn.EXT_PROPS,"xmlns:vt":sn.vt}),$l.forEach(function(a){if(e[a[1]]!==void 0){var n;switch(a[2]){case"string":n=Kr(String(e[a[1]]));break;case"bool":n=e[a[1]]?"true":"false";break}n!==void 0&&(t[t.length]=r(a[0],n))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(a){return"<vt:lpstr>"+Kr(a)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var RN=/<[^>]+>[^<]*/g;function kN(e,t){var r={},a="",n=e.match(RN);if(n)for(var s=0;s!=n.length;++s){var o=n[s],A=Wt(o);switch(A[0]){case"<?xml":break;case"<Properties":break;case"<property":a=Tr(A.name);break;case"</property>":a=null;break;default:if(o.indexOf("<vt:")===0){var l=o.split(">"),c=l[0].slice(4),d=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[a]=Tr(d);break;case"bool":r[a]=sa(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[a]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[a]=parseFloat(d);break;case"filetime":case"date":r[a]=ca(d);break;case"cy":case"error":r[a]=Tr(d);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,c,l)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return r}function i5(e){var t=[Ka,gt("Properties",null,{xmlns:sn.CUST_PROPS,"xmlns:vt":sn.vt})];if(!e)return t.join("");var r=1;return Ia(e).forEach(function(n){++r,t[t.length]=gt("property",K3(e[n]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Kr(n)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var Cx={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Fg;function DN(e,t,r){Fg||(Fg=xm(Cx)),t=Fg[t]||t,e[t]=r}function jN(e,t){var r=[];return Ia(Cx).map(function(a){for(var n=0;n<Bs.length;++n)if(Bs[n][1]==a)return Bs[n];for(n=0;n<$l.length;++n)if($l[n][1]==a)return $l[n];throw a}).forEach(function(a){if(e[a[1]]!=null){var n=t&&t.Props&&t.Props[a[1]]!=null?t.Props[a[1]]:e[a[1]];switch(a[2]){case"date":n=new Date(n).toISOString().replace(/\.\d*Z/,"Z");break}typeof n=="number"?n=String(n):n===!0||n===!1?n=n?"1":"0":n instanceof Date&&(n=new Date(n).toISOString().replace(/\.\d*Z/,"")),r.push(In(Cx[a[1]]||a[1],n))}}),gt("DocumentProperties",r.join(""),{xmlns:Vi.o})}function LN(e,t){var r=["Worksheets","SheetNames"],a="CustomDocumentProperties",n=[];return e&&Ia(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var o=0;o<Bs.length;++o)if(s==Bs[o][1])return;for(o=0;o<$l.length;++o)if(s==$l[o][1])return;for(o=0;o<r.length;++o)if(s==r[o])return;var A=e[s],l="string";typeof A=="number"?(l="float",A=String(A)):A===!0||A===!1?(l="boolean",A=A?"1":"0"):A=String(A),n.push(gt(n4(s),A,{"dt:dt":l}))}}),t&&Ia(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!(e&&Object.prototype.hasOwnProperty.call(e,s))){var o=t[s],A="string";typeof o=="number"?(A="float",o=String(o)):o===!0||o===!1?(A="boolean",o=o?"1":"0"):o instanceof Date?(A="dateTime.tz",o=o.toISOString()):o=String(o),n.push(gt(n4(s),o,{"dt:dt":A}))}}),"<"+a+' xmlns="'+Vi.o+'">'+n.join("")+"</"+a+">"}function ay(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function UN(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,a=r%Math.pow(2,32),n=(r-a)/Math.pow(2,32);a*=1e7,n*=1e7;var s=a/Math.pow(2,32)|0;s>0&&(a=a%Math.pow(2,32),n+=s);var o=Je(8);return o.write_shift(4,a),o.write_shift(4,n),o}function s5(e,t,r){var a=e.l,n=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-a&3;)++e.l;return n}function o5(e,t,r){var a=e.read_shift(0,"lpwstr");return a}function A5(e,t,r){return t===31?o5(e):s5(e,t,r)}function Bx(e,t,r){return A5(e,t,r===!1?0:4)}function MN(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return A5(e,t,0)}function PN(e){for(var t=e.read_shift(4),r=[],a=0;a!=t;++a){var n=e.l;r[a]=e.read_shift(0,"lpwstr").replace(Jn,""),e.l-n&2&&(e.l+=2)}return r}function QN(e){for(var t=e.read_shift(4),r=[],a=0;a!=t;++a)r[a]=e.read_shift(0,"lpstr-cp").replace(Jn,"");return r}function qN(e){var t=e.l,r=kh(e,W_);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var a=kh(e,Oi);return[r,a]}function KN(e){for(var t=e.read_shift(4),r=[],a=0;a<t/2;++a)r.push(qN(e));return r}function y4(e,t){for(var r=e.read_shift(4),a={},n=0;n!=r;++n){var s=e.read_shift(4),o=e.read_shift(4);a[s]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(Jn,"").replace(Gu,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),a}function l5(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function HN(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function kh(e,t,r){var a=e.read_shift(2),n,s=r||{};if(e.l+=2,t!==m4&&a!==t&&wN.indexOf(t)===-1&&!((t&65534)==4126&&(a&65534)==4126))throw new Error("Expected type "+t+" saw "+a);switch(t===m4?a:t){case 2:return n=e.read_shift(2,"i"),s.raw||(e.l+=2),n;case 3:return n=e.read_shift(4,"i"),n;case 11:return e.read_shift(4)!==0;case 19:return n=e.read_shift(4),n;case 30:return s5(e,a,4).replace(Jn,"");case 31:return o5(e);case 64:return ay(e);case 65:return l5(e);case 71:return HN(e);case 80:return Bx(e,a,!s.raw).replace(Jn,"");case 81:return MN(e,a).replace(Jn,"");case 4108:return KN(e);case 4126:case 4127:return a==4127?PN(e):QN(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+a)}}function v4(e,t){var r=Je(4),a=Je(4);switch(r.write_shift(4,e==80?31:e),e){case 3:a.write_shift(-4,t);break;case 5:a=Je(8),a.write_shift(8,t,"f");break;case 11:a.write_shift(4,t?1:0);break;case 64:a=UN(t);break;case 31:case 80:for(a=Je(4+2*(t.length+1)+(t.length%2?0:2)),a.write_shift(4,t.length+1),a.write_shift(0,t,"dbcs");a.l!=a.length;)a.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return gn([r,a])}function w4(e,t){var r=e.l,a=e.read_shift(4),n=e.read_shift(4),s=[],o=0,A=0,l=-1,c={};for(o=0;o!=n;++o){var d=e.read_shift(4),f=e.read_shift(4);s[o]=[d,f+r]}s.sort(function(v,E){return v[1]-E[1]});var p={};for(o=0;o!=n;++o){if(e.l!==s[o][1]){var u=!0;if(o>0&&t)switch(t[s[o-1][0]].t){case 2:e.l+2===s[o][1]&&(e.l+=2,u=!1);break;case 80:e.l<=s[o][1]&&(e.l=s[o][1],u=!1);break;case 4108:e.l<=s[o][1]&&(e.l=s[o][1],u=!1);break}if((!t||o==0)&&e.l<=s[o][1]&&(u=!1,e.l=s[o][1]),u)throw new Error("Read Error: Expected address "+s[o][1]+" at "+e.l+" :"+o)}if(t){var g=t[s[o][0]];if(p[g.n]=kh(e,g.t,{raw:!0}),g.p==="version"&&(p[g.n]=String(p[g.n]>>16)+"."+("0000"+String(p[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(p[g.n]){case 0:p[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:bs(A=p[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+p[g.n])}}else if(s[o][0]===1){if(A=p.CodePage=kh(e,ty),bs(A),l!==-1){var h=e.l;e.l=s[l][1],c=y4(e,A),e.l=h}}else if(s[o][0]===0){if(A===0){l=o,e.l=s[o+1][1];continue}c=y4(e,A)}else{var y=c[s[o][0]],x;switch(e[e.l]){case 65:e.l+=4,x=l5(e);break;case 30:e.l+=4,x=Bx(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,x=Bx(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,x=e.read_shift(4,"i");break;case 19:e.l+=4,x=e.read_shift(4);break;case 5:e.l+=4,x=e.read_shift(8,"f");break;case 11:e.l+=4,x=Da(e,4);break;case 64:e.l+=4,x=ca(ay(e));break;default:throw new Error("unparsed value: "+e[e.l])}p[y]=x}}return e.l=r+a,p}var c5=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function GN(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function E4(e,t,r){var a=Je(8),n=[],s=[],o=8,A=0,l=Je(8),c=Je(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),s.push(l),n.push(c),o+=8+l.length,!t){c=Je(8),c.write_shift(4,0),n.unshift(c);var d=[Je(4)];for(d[0].write_shift(4,e.length),A=0;A<e.length;++A){var f=e[A][0];for(l=Je(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,A+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);d.push(l)}l=gn(d),s.unshift(l),o+=8+l.length}for(A=0;A<e.length;++A)if(!(t&&!t[e[A][0]])&&!(c5.indexOf(e[A][0])>-1||r5.indexOf(e[A][0])>-1)&&e[A][1]!=null){var p=e[A][1],u=0;if(t){u=+t[e[A][0]];var g=r[u];if(g.p=="version"&&typeof p=="string"){var h=p.split(".");p=(+h[0]<<16)+(+h[1]||0)}l=v4(g.t,p)}else{var y=GN(p);y==-1&&(y=31,p=String(p)),l=v4(y,p)}s.push(l),c=Je(8),c.write_shift(4,t?u:2+A),n.push(c),o+=8+l.length}var x=8*(s.length+1);for(A=0;A<s.length;++A)n[A].write_shift(4,x),x+=s[A].length;return a.write_shift(4,o),a.write_shift(4,s.length),gn([a].concat(n).concat(s))}function b4(e,t,r){var a=e.content;if(!a)return{};Tn(a,0);var n,s,o,A,l=0;a.chk("feff","Byte Order: "),a.read_shift(2);var c=a.read_shift(4),d=a.read_shift(16);if(d!==Ut.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(n=a.read_shift(4),n!==1&&n!==2)throw new Error("Unrecognized #Sets: "+n);if(s=a.read_shift(16),A=a.read_shift(4),n===1&&A!==a.l)throw new Error("Length mismatch: "+A+" !== "+a.l);n===2&&(o=a.read_shift(16),l=a.read_shift(4));var f=w4(a,t),p={SystemIdentifier:c};for(var u in f)p[u]=f[u];if(p.FMTID=s,n===1)return p;if(l-a.l==2&&(a.l+=2),a.l!==l)throw new Error("Length mismatch 2: "+a.l+" !== "+l);var g;try{g=w4(a,null)}catch{}for(u in g)p[u]=g[u];return p.FMTID=[s,o],p}function _4(e,t,r,a,n,s){var o=Je(n?68:48),A=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Ut.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,n?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,n?68:48);var l=E4(e,r,a);if(A.push(l),n){var c=E4(n,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+l.length),A.push(c)}return gn(A)}function _A(e,t){return e.read_shift(t),null}function zN(e,t){t||(t=Je(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function VN(e,t,r){for(var a=[],n=e.l+t;e.l<n;)a.push(r(e,n-e.l));if(n!==e.l)throw new Error("Slurp error");return a}function Da(e,t){return e.read_shift(t)===1}function fi(e,t){return t||(t=Je(2)),t.write_shift(2,+!!e),t}function Xa(e){return e.read_shift(2,"u")}function ws(e,t){return t||(t=Je(2)),t.write_shift(2,e),t}function d5(e,t){return VN(e,t,Xa)}function $N(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function u5(e,t,r){return r||(r=Je(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function A0(e,t,r){var a=e.read_shift(r&&r.biff>=12?2:1),n="sbcs-cont",s=Zi;if(r&&r.biff>=8&&(Zi=1200),!r||r.biff==8){var o=e.read_shift(1);o&&(n="dbcs-cont")}else r.biff==12&&(n="wstr");r.biff>=2&&r.biff<=5&&(n="cpstr");var A=a?e.read_shift(a,n):"";return Zi=s,A}function YN(e){var t=Zi;Zi=1200;var r=e.read_shift(2),a=e.read_shift(1),n=a&4,s=a&8,o=1+(a&1),A=0,l,c={};s&&(A=e.read_shift(2)),n&&(l=e.read_shift(4));var d=o==2?"dbcs-cont":"sbcs-cont",f=r===0?"":e.read_shift(r,d);return s&&(e.l+=4*A),n&&(e.l+=l),c.t=f,s||(c.raw="<t>"+c.t+"</t>",c.r=c.t),Zi=t,c}function WN(e){var t=e.t||"",r=Je(3);r.write_shift(2,t.length),r.write_shift(1,1);var a=Je(2*t.length);a.write_shift(2*t.length,t,"utf16le");var n=[r,a];return gn(n)}function Ac(e,t,r){var a;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var n=e.read_shift(1);return n===0?a=e.read_shift(t,"sbcs-cont"):a=e.read_shift(t,"dbcs-cont"),a}function l0(e,t,r){var a=e.read_shift(r&&r.biff==2?1:2);return a===0?(e.l++,""):Ac(e,a,r)}function yc(e,t,r){if(r.biff>5)return l0(e,t,r);var a=e.read_shift(1);return a===0?(e.l++,""):e.read_shift(a,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function f5(e,t,r){return r||(r=Je(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function XN(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function JN(e){var t=e.read_shift(4),r=e.l,a=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(a=!0),e.l=r);var n=e.read_shift((a?t-24:t)>>1,"utf16le").replace(Jn,"");return a&&(e.l+=24),n}function ZN(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var a=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var n=e.read_shift(4);if(n===0)return r+a.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(s>>1,"utf16le").replace(Jn,"");return r+o}function eF(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return JN(e);case"0303000000000000c000000000000046":return ZN(e);default:throw new Error("Unsupported Moniker "+r)}}function dp(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Jn,""):"";return r}function C4(e,t){t||(t=Je(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function tF(e,t){var r=e.l+t,a=e.read_shift(4);if(a!==2)throw new Error("Unrecognized streamVersion: "+a);var n=e.read_shift(2);e.l+=2;var s,o,A,l,c="",d,f;n&16&&(s=dp(e,r-e.l)),n&128&&(o=dp(e,r-e.l)),(n&257)===257&&(A=dp(e,r-e.l)),(n&257)===1&&(l=eF(e,r-e.l)),n&8&&(c=dp(e,r-e.l)),n&32&&(d=e.read_shift(16)),n&64&&(f=ay(e)),e.l=r;var p=o||A||l||"";p&&c&&(p+="#"+c),p||(p="#"+c),n&2&&p.charAt(0)=="/"&&p.charAt(1)!="/"&&(p="file://"+p);var u={Target:p};return d&&(u.guid=d),f&&(u.time=f),s&&(u.Tooltip=s),u}function rF(e){var t=Je(512),r=0,a=e.Target;a.slice(0,7)=="file://"&&(a=a.slice(7));var n=a.indexOf("#"),s=n>-1?31:23;switch(a.charAt(0)){case"#":s=28;break;case".":s&=-3;break}t.write_shift(4,2),t.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(s==28)a=a.slice(1),C4(a,t);else if(s&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var A=n>-1?a.slice(0,n):a;for(t.write_shift(4,2*(A.length+1)),r=0;r<A.length;++r)t.write_shift(2,A.charCodeAt(r));t.write_shift(2,0),s&8&&C4(n>-1?a.slice(n+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var l=0;a.slice(l*3,l*3+3)=="../"||a.slice(l*3,l*3+3)=="..\\";)++l;for(t.write_shift(2,l),t.write_shift(4,a.length-3*l+1),r=0;r<a.length-3*l;++r)t.write_shift(1,a.charCodeAt(r+3*l)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function p5(e){var t=e.read_shift(1),r=e.read_shift(1),a=e.read_shift(1),n=e.read_shift(1);return[t,r,a,n]}function h5(e,t){var r=p5(e);return r[3]=0,r}function wo(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2);return{r:t,c:r,ixfe:a}}function lc(e,t,r,a){return a||(a=Je(6)),a.write_shift(2,e),a.write_shift(2,t),a.write_shift(2,r||0),a}function aF(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function nF(e,t,r){return t===0?"":yc(e,t,r)}function iF(e,t,r){var a=r.biff>8?4:2,n=e.read_shift(a),s=e.read_shift(a,"i"),o=e.read_shift(a,"i");return[n,s,o]}function m5(e){var t=e.read_shift(2),r=ey(e);return[t,r]}function sF(e,t,r){e.l+=4,t-=4;var a=e.l+t,n=A0(e,t,r),s=e.read_shift(2);if(a-=e.l,s!==a)throw new Error("Malformed AddinUdf: padding = "+a+" != "+s);return e.l+=s,n}function Em(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2),n=e.read_shift(2);return{s:{c:a,r:t},e:{c:n,r}}}function g5(e,t){return t||(t=Je(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function x5(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(1),n=e.read_shift(1);return{s:{c:a,r:t},e:{c:n,r}}}var oF=x5;function y5(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2);return e.l+=12,[r,t,a]}function AF(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function lF(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Ln(e){e.l+=2,e.l+=e.read_shift(2)}var cF={0:Ln,4:Ln,5:Ln,6:Ln,7:lF,8:Ln,9:Ln,10:Ln,11:Ln,12:Ln,13:AF,14:Ln,15:Ln,16:Ln,17:Ln,18:Ln,19:Ln,20:Ln,21:y5};function dF(e,t){for(var r=e.l+t,a=[];e.l<r;){var n=e.read_shift(2);e.l-=2;try{a.push(cF[n](e,r-e.l))}catch{return e.l=r,a}}return e.l!=r&&(e.l=r),a}function up(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function ny(e,t,r){var a=1536,n=16;switch(r.bookType){case"biff8":break;case"biff5":a=1280,n=8;break;case"biff4":a=4,n=6;break;case"biff3":a=3,n=6;break;case"biff2":a=2,n=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Je(n);return s.write_shift(2,a),s.write_shift(2,t),n>4&&s.write_shift(2,29282),n>6&&s.write_shift(2,1997),n>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function uF(e,t){return t===0||e.read_shift(2),1200}function fF(e,t,r){if(r.enc)return e.l+=t,"";var a=e.l,n=yc(e,0,r);return e.read_shift(t+a-e.l),n}function pF(e,t){var r=!t||t.biff==8,a=Je(r?112:54);for(a.write_shift(t.biff==8?2:1,7),r&&a.write_shift(1,0),a.write_shift(4,859007059),a.write_shift(4,5458548|(r?0:536870912));a.l<a.length;)a.write_shift(1,r?0:32);return a}function hF(e,t,r){var a=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:a&16,fBelow:a&64,fRight:a&128}}function mF(e,t,r){var a=e.read_shift(4),n=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var o=A0(e,0,r);return o.length===0&&(o="Sheet1"),{pos:a,hs:n,dt:s,name:o}}function gF(e,t){var r=!t||t.biff>=8?2:1,a=Je(8+r*e.name.length);a.write_shift(4,e.pos),a.write_shift(1,e.hs||0),a.write_shift(1,e.dt),a.write_shift(1,e.name.length),t.biff>=8&&a.write_shift(1,1),a.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var n=a.slice(0,a.l);return n.l=a.l,n}function xF(e,t){for(var r=e.l+t,a=e.read_shift(4),n=e.read_shift(4),s=[],o=0;o!=n&&e.l<r;++o)s.push(YN(e));return s.Count=a,s.Unique=n,s}function yF(e,t){var r=Je(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var a=[],n=0;n<e.length;++n)a[n]=WN(e[n]);var s=gn([r].concat(a));return s.parts=[r.length].concat(a.map(function(o){return o.length})),s}function vF(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function wF(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var a=e.read_shift(1);return e.l+=3,a&7&&(t.level=a&7),a&32&&(t.hidden=!0),a&64&&(t.hpt=r/20),t}function EF(e){var t=aF(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function bF(e){return e.read_shift(2),e.read_shift(4)}function B4(e,t,r){var a=0;r&&r.biff==2||(a=e.read_shift(2));var n=e.read_shift(2);r&&r.biff==2&&(a=1-(n>>15),n&=32767);var s={Unsynced:a&1,DyZero:(a&2)>>1,ExAsc:(a&4)>>2,ExDsc:(a&8)>>3};return[s,n]}function _F(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2),n=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),A=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,r],Dim:[a,n],Flags:s,CurTab:o,FirstTab:A,Selected:l,TabRatio:c}}function CF(){var e=Je(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function BF(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var a=e.read_shift(2);return{RTL:a&64}}function SF(e){var t=Je(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function TF(){}function OF(e,t,r){var a={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return a.name=A0(e,0,r),a}function IF(e,t){var r=e.name||"Arial",a=t&&t.biff==5,n=a?15+r.length:16+2*r.length,s=Je(n);return s.write_shift(2,e.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),a||s.write_shift(1,1),s.write_shift((a?1:2)*r.length,r,a?"sbcs":"utf16le"),s}function NF(e){var t=wo(e);return t.isst=e.read_shift(4),t}function FF(e,t,r,a){var n=Je(10);return lc(e,t,a,n),n.write_shift(4,r),n}function RF(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var a=e.l+t,n=wo(e);r.biff==2&&e.l++;var s=l0(e,a-e.l,r);return n.val=s,n}function kF(e,t,r,a,n){var s=!n||n.biff==8,o=Je(8+ +s+(1+s)*r.length);return lc(e,t,a,o),o.write_shift(2,r.length),s&&o.write_shift(1,1),o.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),o}function DF(e,t,r){var a=e.read_shift(2),n=yc(e,0,r);return[a,n]}function jF(e,t,r,a){var n=r&&r.biff==5;a||(a=Je(n?3+t.length:5+2*t.length)),a.write_shift(2,e),a.write_shift(n?1:2,t.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le");var s=a.length>a.l?a.slice(0,a.l):a;return s.l==null&&(s.l=s.length),s}var LF=yc;function S4(e,t,r){var a=e.l+t,n=r.biff==8||!r.biff?4:2,s=e.read_shift(n),o=e.read_shift(n),A=e.read_shift(2),l=e.read_shift(2);return e.l=a,{s:{r:s,c:A},e:{r:o,c:l}}}function UF(e,t){var r=t.biff==8||!t.biff?4:2,a=Je(2*r+6);return a.write_shift(r,e.s.r),a.write_shift(r,e.e.r+1),a.write_shift(2,e.s.c),a.write_shift(2,e.e.c+1),a.write_shift(2,0),a}function MF(e){var t=e.read_shift(2),r=e.read_shift(2),a=m5(e);return{r:t,c:r,ixfe:a[0],rknum:a[1]}}function PF(e,t){for(var r=e.l+t-2,a=e.read_shift(2),n=e.read_shift(2),s=[];e.l<r;)s.push(m5(e));if(e.l!==r)throw new Error("MulRK read error");var o=e.read_shift(2);if(s.length!=o-n+1)throw new Error("MulRK length mismatch");return{r:a,c:n,C:o,rkrec:s}}function QF(e,t){for(var r=e.l+t-2,a=e.read_shift(2),n=e.read_shift(2),s=[];e.l<r;)s.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var o=e.read_shift(2);if(s.length!=o-n+1)throw new Error("MulBlank length mismatch");return{r:a,c:n,C:o,ixfe:s}}function qF(e,t,r,a){var n={},s=e.read_shift(4),o=e.read_shift(4),A=e.read_shift(4),l=e.read_shift(2);return n.patternType=EN[A>>26],a.cellStyles&&(n.alc=s&7,n.fWrap=s>>3&1,n.alcV=s>>4&7,n.fJustLast=s>>7&1,n.trot=s>>8&255,n.cIndent=s>>16&15,n.fShrinkToFit=s>>20&1,n.iReadOrder=s>>22&2,n.fAtrNum=s>>26&1,n.fAtrFnt=s>>27&1,n.fAtrAlc=s>>28&1,n.fAtrBdr=s>>29&1,n.fAtrPat=s>>30&1,n.fAtrProt=s>>31&1,n.dgLeft=o&15,n.dgRight=o>>4&15,n.dgTop=o>>8&15,n.dgBottom=o>>12&15,n.icvLeft=o>>16&127,n.icvRight=o>>23&127,n.grbitDiag=o>>30&3,n.icvTop=A&127,n.icvBottom=A>>7&127,n.icvDiag=A>>14&127,n.dgDiag=A>>21&15,n.icvFore=l&127,n.icvBack=l>>7&127,n.fsxButton=l>>14&1),n}function KF(e,t,r){var a={};return a.ifnt=e.read_shift(2),a.numFmtId=e.read_shift(2),a.flags=e.read_shift(2),a.fStyle=a.flags>>2&1,t-=6,a.data=qF(e,t,a.fStyle,r),a}function T4(e,t,r,a){var n=r&&r.biff==5;a||(a=Je(n?16:20)),a.write_shift(2,0),e.style?(a.write_shift(2,e.numFmtId||0),a.write_shift(2,65524)):(a.write_shift(2,e.numFmtId||0),a.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&n&&(s|=1024),a.write_shift(4,s),a.write_shift(4,0),n||a.write_shift(4,0),a.write_shift(2,0),a}function HF(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function GF(e){var t=Je(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function O4(e,t,r){var a=wo(e);(r.biff==2||t==9)&&++e.l;var n=$N(e);return a.val=n,a.t=n===!0||n===!1?"b":"e",a}function zF(e,t,r,a,n,s){var o=Je(8);return lc(e,t,a,o),u5(r,s,o),o}function VF(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var a=wo(e),n=Yn(e);return a.val=n,a}function $F(e,t,r,a){var n=Je(14);return lc(e,t,a,n),oc(r,n),n}var I4=nF;function YF(e,t,r){var a=e.l+t,n=e.read_shift(2),s=e.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,n];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var o=Ac(e,s),A=[];a>e.l;)A.push(l0(e));return[s,n,o,A]}function N4(e,t,r){var a=e.read_shift(2),n,s={fBuiltIn:a&1,fWantAdvise:a>>>1&1,fWantPict:a>>>2&1,fOle:a>>>3&1,fOleLink:a>>>4&1,cf:a>>>5&1023,fIcon:a>>>15&1};return r.sbcch===14849&&(n=sF(e,t-2,r)),s.body=n||e.read_shift(t-2),typeof n=="string"&&(s.Name=n),s}var WF=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function F4(e,t,r){var a=e.l+t,n=e.read_shift(2),s=e.read_shift(1),o=e.read_shift(1),A=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var c=Ac(e,o,r);n&32&&(c=WF[c.charCodeAt(0)]);var d=a-e.l;r&&r.biff==2&&--d;var f=a==e.l||A===0||!(d>0)?[]:d8(e,d,r,A);return{chKey:s,Name:c,itab:l,rgce:f}}function v5(e,t,r){if(r.biff<8)return XF(e,t,r);for(var a=[],n=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)a.push(iF(e,r.biff>8?12:6,r));if(e.l!=n)throw new Error("Bad ExternSheet: "+e.l+" != "+n);return a}function XF(e,t,r){e[e.l+1]==3&&e[e.l]++;var a=A0(e,t,r);return a.charCodeAt(0)==3?a.slice(1):a}function JF(e,t,r){if(r.biff<8){e.l+=t;return}var a=e.read_shift(2),n=e.read_shift(2),s=Ac(e,a,r),o=Ac(e,n,r);return[s,o]}function ZF(e,t,r){var a=x5(e);e.l++;var n=e.read_shift(1);return t-=8,[u8(e,t,r),n,a]}function R4(e,t,r){var a=oF(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[a,l8(e,t,r)]}function eR(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,a=e.read_shift(4);return[t,r,a]}function tR(e,t,r){if(!(r.biff<8)){var a=e.read_shift(2),n=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),A=yc(e,0,r);return r.biff<8&&e.read_shift(1),[{r:a,c:n},A,o,s]}}function rR(e,t,r){return tR(e,t,r)}function aR(e,t){for(var r=[],a=e.read_shift(2);a--;)r.push(Em(e));return r}function nR(e){var t=Je(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)g5(e[r],t);return t}function iR(e,t,r){if(r&&r.biff<8)return oR(e,t,r);var a=y5(e),n=dF(e,t-22,a[1]);return{cmo:a,ft:n}}var sR={8:function(e,t){var r=e.l+t;e.l+=10;var a=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var n=e.read_shift(1);return e.l+=n,e.l=r,{fmt:a}}};function oR(e,t,r){e.l+=4;var a=e.read_shift(2),n=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((sR[a]||ti)(e,t,r)),{cmo:[n,a,s],ft:o}}function AR(e,t,r){var a=e.l,n="";try{e.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:o=XN(e,6,r);var A=e.read_shift(2);e.read_shift(2),Xa(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-a!=e.lens[c])throw new Error("TxO: bad continue record");var d=e[e.l],f=Ac(e,e.lens[c+1]-e.lens[c]-1);if(n+=f,n.length>=(d?A:2*A))break}if(n.length!==A&&n.length!==A*2)throw new Error("cchText: "+A+" != "+n.length);return e.l=a+t,{t:n}}catch{return e.l=a+t,{t:n}}}function lR(e,t){var r=Em(e);e.l+=16;var a=tF(e,t-24);return[r,a]}function cR(e){var t=Je(24),r=xa(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<16;++n)t.write_shift(1,parseInt(a[n],16));return gn([t,rF(e[1])])}function dR(e,t){e.read_shift(2);var r=Em(e),a=e.read_shift((t-10)/2,"dbcs-cont");return a=a.replace(Jn,""),[r,a]}function uR(e){var t=e[1].Tooltip,r=Je(10+2*(t.length+1));r.write_shift(2,2048);var a=xa(e[0]);r.write_shift(2,a.r),r.write_shift(2,a.r),r.write_shift(2,a.c),r.write_shift(2,a.c);for(var n=0;n<t.length;++n)r.write_shift(2,t.charCodeAt(n));return r.write_shift(2,0),r}function fR(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=g4[r]||r,r=e.read_shift(2),t[1]=g4[r]||r,t}function pR(e){return e||(e=Je(4)),e.write_shift(2,1),e.write_shift(2,1),e}function hR(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(h5(e));return r}function mR(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(h5(e));return r}function gR(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function w5(e,t,r){if(!r.cellStyles)return ti(e,t);var a=r&&r.biff>=12?4:2,n=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(a),A=e.read_shift(a),l=e.read_shift(2);a==2&&(e.l+=2);var c={s:n,e:s,w:o,ixfe:A,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function xR(e,t){var r=Je(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var a=0;return e.hidden&&(a|=1),r.write_shift(1,a),a=e.level||0,r.write_shift(1,a),r.write_shift(2,0),r}function yR(e,t){var r={};return t<32||(e.l+=16,r.header=Yn(e),r.footer=Yn(e),e.l+=2),r}function vR(e,t,r){var a={area:!1};if(r.biff!=5)return e.l+=t,a;var n=e.read_shift(1);return e.l+=3,n&16&&(a.area=!0),a}function wR(e){for(var t=Je(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var ER=wo,bR=d5,_R=l0;function CR(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(4),n={fmt:t,env:r,len:a,data:e.slice(e.l,e.l+a)};return e.l+=a,n}function BR(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var a=wo(e);++e.l;var n=yc(e,t-7,r);return a.t="str",a.val=n,a}function SR(e){var t=wo(e);++e.l;var r=Yn(e);return t.t="n",t.val=r,t}function TR(e,t,r){var a=Je(15);return f0(a,e,t),a.write_shift(8,r,"f"),a}function OR(e){var t=wo(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function IR(e,t,r){var a=Je(9);return f0(a,e,t),a.write_shift(2,r),a}function NR(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function FR(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function RR(e,t,r){var a=e.l+t,n=wo(e),s=e.read_shift(2),o=Ac(e,s,r);return e.l=a,n.t="str",n.val=o,n}var kR=[2,3,48,49,131,139,140,245],Sx=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=xm({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(A,l){var c=[],d=il(1);switch(l.type){case"base64":d=$i(as(A));break;case"binary":d=$i(A);break;case"buffer":case"array":d=A;break}Tn(d,0);var f=d.read_shift(1),p=!!(f&136),u=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:u=!0,p=!0;break;case 49:u=!0,p=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var h=0,y=521;f==2&&(h=d.read_shift(2)),d.l+=3,f!=2&&(h=d.read_shift(4)),h>1048576&&(h=1e6),f!=2&&(y=d.read_shift(2));var x=d.read_shift(2),v=l.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(v=e[d[d.l]]),d.l+=1,d.l+=2),g&&(d.l+=36);for(var E=[],R={},b=Math.min(d.length,f==2?521:y-10-(u?264:0)),T=g?32:11;d.l<b&&d[d.l]!=13;)switch(R={},R.name=_r.utils.decode(v,d.slice(d.l,d.l+T)).replace(/[\u0000\r\n].*$/g,""),d.l+=T,R.type=String.fromCharCode(d.read_shift(1)),f!=2&&!g&&(R.offset=d.read_shift(4)),R.len=d.read_shift(1),f==2&&(R.offset=d.read_shift(2)),R.dec=d.read_shift(1),R.name.length&&E.push(R),f!=2&&(d.l+=g?13:14),R.type){case"B":(!u||R.len!=8)&&l.WTF&&console.log("Skipping "+R.name+":"+R.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+R.name+":"+R.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+R.type)}if(d[d.l]!==13&&(d.l=y-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=y;var _=0,S=0;for(c[0]=[],S=0;S!=E.length;++S)c[0][S]=E[S].name;for(;h-- >0;){if(d[d.l]===42){d.l+=x;continue}for(++d.l,c[++_]=[],S=0,S=0;S!=E.length;++S){var O=d.slice(d.l,d.l+E[S].len);d.l+=E[S].len,Tn(O,0);var M=_r.utils.decode(v,O);switch(E[S].type){case"C":M.trim().length&&(c[_][S]=M.replace(/\s+$/,""));break;case"D":M.length===8?c[_][S]=new Date(+M.slice(0,4),+M.slice(4,6)-1,+M.slice(6,8)):c[_][S]=M;break;case"F":c[_][S]=parseFloat(M.trim());break;case"+":case"I":c[_][S]=g?O.read_shift(-4,"i")^2147483648:O.read_shift(4,"i");break;case"L":switch(M.trim().toUpperCase()){case"Y":case"T":c[_][S]=!0;break;case"N":case"F":c[_][S]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+M+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[_][S]="##MEMO##"+(g?parseInt(M.trim(),10):O.read_shift(4));break;case"N":M=M.replace(/\u0000/g,"").trim(),M&&M!="."&&(c[_][S]=+M||0);break;case"@":c[_][S]=new Date(O.read_shift(-8,"f")-621356832e5);break;case"T":c[_][S]=new Date((O.read_shift(4)-2440588)*864e5+O.read_shift(4));break;case"Y":c[_][S]=O.read_shift(4,"i")/1e4+O.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[_][S]=-O.read_shift(-8,"f");break;case"B":if(u&&E[S].len==8){c[_][S]=O.read_shift(8,"f");break}case"G":case"P":O.l+=E[S].len;break;case"0":if(E[S].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+E[S].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=E,c}function a(A,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var d=Xd(r(A,c),c);return d["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,d}function n(A,l){try{return pl(a(A,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(A,l){var c=l||{};if(+c.codepage>=0&&bs(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var d=Fi(),f=Uh(A,{header:1,raw:!0,cellDates:!0}),p=f[0],u=f.slice(1),g=A["!cols"]||[],h=0,y=0,x=0,v=1;for(h=0;h<p.length;++h){if(((g[h]||{}).DBF||{}).name){p[h]=g[h].DBF.name,++x;continue}if(p[h]!=null){if(++x,typeof p[h]=="number"&&(p[h]=p[h].toString(10)),typeof p[h]!="string")throw new Error("DBF Invalid column name "+p[h]+" |"+typeof p[h]+"|");if(p.indexOf(p[h])!==h){for(y=0;y<1024;++y)if(p.indexOf(p[h]+"_"+y)==-1){p[h]+="_"+y;break}}}}var E=xr(A["!ref"]),R=[],b=[],T=[];for(h=0;h<=E.e.c-E.s.c;++h){var _="",S="",O=0,M=[];for(y=0;y<u.length;++y)u[y][h]!=null&&M.push(u[y][h]);if(M.length==0||p[h]==null){R[h]="?";continue}for(y=0;y<M.length;++y){switch(typeof M[y]){case"number":S="B";break;case"string":S="C";break;case"boolean":S="L";break;case"object":S=M[y]instanceof Date?"D":"C";break;default:S="C"}O=Math.max(O,String(M[y]).length),_=_&&_!=S?"C":S}O>250&&(O=250),S=((g[h]||{}).DBF||{}).type,S=="C"&&g[h].DBF.len>O&&(O=g[h].DBF.len),_=="B"&&S=="N"&&(_="N",T[h]=g[h].DBF.dec,O=g[h].DBF.len),b[h]=_=="C"||S=="N"?O:s[_]||0,v+=b[h],R[h]=_}var I=d.next(32);for(I.write_shift(4,318902576),I.write_shift(4,u.length),I.write_shift(2,296+32*x),I.write_shift(2,v),h=0;h<4;++h)I.write_shift(4,0);for(I.write_shift(4,0|(+t[nc]||3)<<8),h=0,y=0;h<p.length;++h)if(p[h]!=null){var D=d.next(32),L=(p[h].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);D.write_shift(1,L,"sbcs"),D.write_shift(1,R[h]=="?"?"C":R[h],"sbcs"),D.write_shift(4,y),D.write_shift(1,b[h]||s[R[h]]||0),D.write_shift(1,T[h]||0),D.write_shift(1,2),D.write_shift(4,0),D.write_shift(1,0),D.write_shift(4,0),D.write_shift(4,0),y+=b[h]||s[R[h]]||0}var N=d.next(264);for(N.write_shift(4,13),h=0;h<65;++h)N.write_shift(4,0);for(h=0;h<u.length;++h){var P=d.next(v);for(P.write_shift(1,0),y=0;y<p.length;++y)if(p[y]!=null)switch(R[y]){case"L":P.write_shift(1,u[h][y]==null?63:u[h][y]?84:70);break;case"B":P.write_shift(8,u[h][y]||0,"f");break;case"N":var Q="0";for(typeof u[h][y]=="number"&&(Q=u[h][y].toFixed(T[y]||0)),x=0;x<b[y]-Q.length;++x)P.write_shift(1,32);P.write_shift(1,Q,"sbcs");break;case"D":u[h][y]?(P.write_shift(4,("0000"+u[h][y].getFullYear()).slice(-4),"sbcs"),P.write_shift(2,("00"+(u[h][y].getMonth()+1)).slice(-2),"sbcs"),P.write_shift(2,("00"+u[h][y].getDate()).slice(-2),"sbcs")):P.write_shift(8,"00000000","sbcs");break;case"C":var J=String(u[h][y]!=null?u[h][y]:"").slice(0,b[y]);for(P.write_shift(1,J,"sbcs"),x=0;x<b[y]-J.length;++x)P.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:n,to_sheet:a,from_sheet:o}}(),E5=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Ia(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(p,u){var g=e[u];return typeof g=="number"?yx(g):g},a=function(p,u,g){var h=u.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return h==59?p:yx(h)};e["|"]=254;function n(p,u){switch(u.type){case"base64":return s(as(p),u);case"binary":return s(p,u);case"buffer":return s(dr&&Buffer.isBuffer(p)?p.toString("binary"):fl(p),u);case"array":return s(sc(p),u)}throw new Error("Unrecognized type "+u.type)}function s(p,u){var g=p.split(/[\n\r]+/),h=-1,y=-1,x=0,v=0,E=[],R=[],b=null,T={},_=[],S=[],O=[],M=0,I;for(+u.codepage>=0&&bs(+u.codepage);x!==g.length;++x){M=0;var D=g[x].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(t,r),L=D.replace(/;;/g,"\0").split(";").map(function(H){return H.replace(/\u0000/g,";")}),N=L[0],P;if(D.length>0)switch(N){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":L[1].charAt(0)=="P"&&R.push(D.slice(3).replace(/;;/g,";"));break;case"C":var Q=!1,J=!1,te=!1,V=!1,G=-1,z=-1;for(v=1;v<L.length;++v)switch(L[v].charAt(0)){case"A":break;case"X":y=parseInt(L[v].slice(1))-1,J=!0;break;case"Y":for(h=parseInt(L[v].slice(1))-1,J||(y=0),I=E.length;I<=h;++I)E[I]=[];break;case"K":P=L[v].slice(1),P.charAt(0)==='"'?P=P.slice(1,P.length-1):P==="TRUE"?P=!0:P==="FALSE"?P=!1:isNaN(Hs(P))?isNaN(qd(P).getDate())||(P=ca(P)):(P=Hs(P),b!==null&&fc(b)&&(P=vm(P))),typeof _r<"u"&&typeof P=="string"&&(u||{}).type!="string"&&(u||{}).codepage&&(P=_r.utils.decode(u.codepage,P)),Q=!0;break;case"E":V=!0;var C=Id(L[v].slice(1),{r:h,c:y});E[h][y]=[E[h][y],C];break;case"S":te=!0,E[h][y]=[E[h][y],"S5S"];break;case"G":break;case"R":G=parseInt(L[v].slice(1))-1;break;case"C":z=parseInt(L[v].slice(1))-1;break;default:if(u&&u.WTF)throw new Error("SYLK bad record "+D)}if(Q&&(E[h][y]&&E[h][y].length==2?E[h][y][0]=P:E[h][y]=P,b=null),te){if(V)throw new Error("SYLK shared formula cannot have own formula");var k=G>-1&&E[G][z];if(!k||!k[1])throw new Error("SYLK shared formula cannot find base");E[h][y][1]=P5(k[1],{r:h-G,c:y-z})}break;case"F":var j=0;for(v=1;v<L.length;++v)switch(L[v].charAt(0)){case"X":y=parseInt(L[v].slice(1))-1,++j;break;case"Y":for(h=parseInt(L[v].slice(1))-1,I=E.length;I<=h;++I)E[I]=[];break;case"M":M=parseInt(L[v].slice(1))/20;break;case"F":break;case"G":break;case"P":b=R[parseInt(L[v].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(O=L[v].slice(1).split(" "),I=parseInt(O[0],10);I<=parseInt(O[1],10);++I)M=parseInt(O[2],10),S[I-1]=M===0?{hidden:!0}:{wch:M},sl(S[I-1]);break;case"C":y=parseInt(L[v].slice(1))-1,S[y]||(S[y]={});break;case"R":h=parseInt(L[v].slice(1))-1,_[h]||(_[h]={}),M>0?(_[h].hpt=M,_[h].hpx=Hd(M)):M===0&&(_[h].hidden=!0);break;default:if(u&&u.WTF)throw new Error("SYLK bad record "+D)}j<1&&(b=null);break;default:if(u&&u.WTF)throw new Error("SYLK bad record "+D)}}return _.length>0&&(T["!rows"]=_),S.length>0&&(T["!cols"]=S),u&&u.sheetRows&&(E=E.slice(0,u.sheetRows)),[E,T]}function o(p,u){var g=n(p,u),h=g[0],y=g[1],x=Xd(h,u);return Ia(y).forEach(function(v){x[v]=y[v]}),x}function A(p,u){return pl(o(p,u),u)}function l(p,u,g,h){var y="C;Y"+(g+1)+";X"+(h+1)+";K";switch(p.t){case"n":y+=p.v||0,p.f&&!p.F&&(y+=";E"+cy(p.f,{r:g,c:h}));break;case"b":y+=p.v?"TRUE":"FALSE";break;case"e":y+=p.w||p.v;break;case"d":y+='"'+(p.w||p.v)+'"';break;case"s":y+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function c(p,u){u.forEach(function(g,h){var y="F;W"+(h+1)+" "+(h+1)+" ";g.hidden?y+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=qf(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=Kf(g.wpx)),typeof g.wch=="number"&&(y+=Math.round(g.wch))),y.charAt(y.length-1)!=" "&&p.push(y)})}function d(p,u){u.forEach(function(g,h){var y="F;";g.hidden?y+="M0;":g.hpt?y+="M"+20*g.hpt+";":g.hpx&&(y+="M"+20*Hf(g.hpx)+";"),y.length>2&&p.push(y+"R"+(h+1))})}function f(p,u){var g=["ID;PWXL;N;E"],h=[],y=xr(p["!ref"]),x,v=Array.isArray(p),E=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),p["!cols"]&&c(g,p["!cols"]),p["!rows"]&&d(g,p["!rows"]),g.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var R=y.s.r;R<=y.e.r;++R)for(var b=y.s.c;b<=y.e.c;++b){var T=Vt({r:R,c:b});x=v?(p[R]||[])[b]:p[T],!(!x||x.v==null&&(!x.f||x.F))&&h.push(l(x,p,R,b))}return g.join(E)+E+h.join(E)+E+"E"+E}return{to_workbook:A,to_sheet:o,from_sheet:f}}(),b5=function(){function e(s,o){switch(o.type){case"base64":return t(as(s),o);case"binary":return t(s,o);case"buffer":return t(dr&&Buffer.isBuffer(s)?s.toString("binary"):fl(s),o);case"array":return t(sc(s),o)}throw new Error("Unrecognized type "+o.type)}function t(s,o){for(var A=s.split(`
`),l=-1,c=-1,d=0,f=[];d!==A.length;++d){if(A[d].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var p=A[d].trim().split(","),u=p[0],g=p[1];++d;for(var h=A[d]||"";(h.match(/["]/g)||[]).length&1&&d<A.length-1;)h+=`
`+A[++d];switch(h=h.trim(),+u){case-1:if(h==="BOT"){f[++l]=[],c=0;continue}else if(h!=="EOD")throw new Error("Unrecognized DIF special command "+h);break;case 0:h==="TRUE"?f[l][c]=!0:h==="FALSE"?f[l][c]=!1:isNaN(Hs(g))?isNaN(qd(g).getDate())?f[l][c]=g:f[l][c]=ca(g):f[l][c]=Hs(g),++c;break;case 1:h=h.slice(1,h.length-1),h=h.replace(/""/g,'"'),h&&h.match(/^=".*"$/)&&(h=h.slice(2,-1)),f[l][c++]=h!==""?h:null;break}if(h==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(s,o){return Xd(e(s,o),o)}function a(s,o){return pl(r(s,o),o)}var n=function(){var s=function(l,c,d,f,p){l.push(c),l.push(d+","+f),l.push('"'+p.replace(/"/g,'""')+'"')},o=function(l,c,d,f){l.push(c+","+d),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],d=xr(l["!ref"]),f,p=Array.isArray(l);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,d.e.r-d.s.r+1,""),s(c,"TUPLES",0,d.e.c-d.s.c+1,""),s(c,"DATA",0,0,"");for(var u=d.s.r;u<=d.e.r;++u){o(c,-1,0,"BOT");for(var g=d.s.c;g<=d.e.c;++g){var h=Vt({r:u,c:g});if(f=p?(l[u]||[])[g]:l[h],!f){o(c,1,0,"");continue}switch(f.t){case"n":var y=f.w;!y&&f.v!=null&&(y=f.v),y==null?f.f&&!f.F?o(c,1,0,"="+f.f):o(c,1,0,""):o(c,0,y,"V");break;case"b":o(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=ns(f.z||Ht[14],An(ca(f.v)))),o(c,0,f.w,"V");break;default:o(c,1,0,"")}}}o(c,-1,0,"EOD");var x=`\r
`,v=c.join(x);return v}}();return{to_workbook:a,to_sheet:r,from_sheet:n}}(),_5=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,p){for(var u=f.split(`
`),g=-1,h=-1,y=0,x=[];y!==u.length;++y){var v=u[y].trim().split(":");if(v[0]==="cell"){var E=xa(v[1]);if(x.length<=E.r)for(g=x.length;g<=E.r;++g)x[g]||(x[g]=[]);switch(g=E.r,h=E.c,v[2]){case"t":x[g][h]=e(v[3]);break;case"v":x[g][h]=+v[3];break;case"vtf":var R=v[v.length-1];case"vtc":switch(v[3]){case"nl":x[g][h]=!!+v[4];break;default:x[g][h]=+v[4];break}v[2]=="vtf"&&(x[g][h]=[x[g][h],R])}}}return p&&p.sheetRows&&(x=x.slice(0,p.sheetRows)),x}function a(f,p){return Xd(r(f,p),p)}function n(f,p){return pl(a(f,p),p)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,A=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var p=[],u=[],g,h="",y=vi(f["!ref"]),x=Array.isArray(f),v=y.s.r;v<=y.e.r;++v)for(var E=y.s.c;E<=y.e.c;++E)if(h=Vt({r:v,c:E}),g=x?(f[v]||[])[E]:f[h],!(!g||g.v==null||g.t==="z")){switch(u=["cell",h,"t"],g.t){case"s":case"str":u.push(t(g.v));break;case"n":g.f?(u[2]="vtf",u[3]="n",u[4]=g.v,u[5]=t(g.f)):(u[2]="v",u[3]=g.v);break;case"b":u[2]="vt"+(g.f?"f":"c"),u[3]="nl",u[4]=g.v?"1":"0",u[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var R=An(ca(g.v));u[2]="vtc",u[3]="nd",u[4]=""+R,u[5]=g.w||ns(g.z||Ht[14],R);break;case"e":continue}p.push(u.join(":"))}return p.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function d(f){return[s,o,A,o,c(f),l].join(`
`)}return{to_workbook:n,to_sheet:a,from_sheet:d}}(),Kd=function(){function e(d,f,p,u,g){g.raw?f[p][u]=d:d===""||(d==="TRUE"?f[p][u]=!0:d==="FALSE"?f[p][u]=!1:isNaN(Hs(d))?isNaN(qd(d).getDate())?f[p][u]=d:f[p][u]=ca(d):f[p][u]=Hs(d))}function t(d,f){var p=f||{},u=[];if(!d||d.length===0)return u;for(var g=d.split(/[\r\n]/),h=g.length-1;h>=0&&g[h].length===0;)--h;for(var y=10,x=0,v=0;v<=h;++v)x=g[v].indexOf(" "),x==-1?x=g[v].length:x++,y=Math.max(y,x);for(v=0;v<=h;++v){u[v]=[];var E=0;for(e(g[v].slice(0,y).trim(),u,v,E,p),E=1;E<=(g[v].length-y)/10+1;++E)e(g[v].slice(y+(E-1)*10,y+E*10).trim(),u,v,E,p)}return p.sheetRows&&(u=u.slice(0,p.sheetRows)),u}var r={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function n(d){for(var f={},p=!1,u=0,g=0;u<d.length;++u)(g=d.charCodeAt(u))==34?p=!p:!p&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(u in f)Object.prototype.hasOwnProperty.call(f,u)&&g.push([f[u],u]);if(!g.length){f=a;for(u in f)Object.prototype.hasOwnProperty.call(f,u)&&g.push([f[u],u])}return g.sort(function(h,y){return h[0]-y[0]||a[h[1]]-a[y[1]]}),r[g.pop()[1]]||44}function s(d,f){var p=f||{},u="",g=p.dense?[]:{},h={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(u=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(u=d.charAt(4),d=d.slice(6)):u=n(d.slice(0,1024)):p&&p.FS?u=p.FS:u=n(d.slice(0,1024));var y=0,x=0,v=0,E=0,R=0,b=u.charCodeAt(0),T=!1,_=0,S=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var O=p.dateNF!=null?y3(p.dateNF):null;function M(){var I=d.slice(E,R),D={};if(I.charAt(0)=='"'&&I.charAt(I.length-1)=='"'&&(I=I.slice(1,-1).replace(/""/g,'"')),I.length===0)D.t="z";else if(p.raw)D.t="s",D.v=I;else if(I.trim().length===0)D.t="s",D.v=I;else if(I.charCodeAt(0)==61)I.charCodeAt(1)==34&&I.charCodeAt(I.length-1)==34?(D.t="s",D.v=I.slice(2,-1).replace(/""/g,'"')):Yk(I)?(D.t="n",D.f=I.slice(1)):(D.t="s",D.v=I);else if(I=="TRUE")D.t="b",D.v=!0;else if(I=="FALSE")D.t="b",D.v=!1;else if(!isNaN(v=Hs(I)))D.t="n",p.cellText!==!1&&(D.w=I),D.v=v;else if(!isNaN(qd(I).getDate())||O&&I.match(O)){D.z=p.dateNF||Ht[14];var L=0;O&&I.match(O)&&(I=v3(I,p.dateNF,I.match(O)||[]),L=1),p.cellDates?(D.t="d",D.v=ca(I,L)):(D.t="n",D.v=An(ca(I,L))),p.cellText!==!1&&(D.w=ns(D.z,D.v instanceof Date?An(D.v):D.v)),p.cellNF||delete D.z}else D.t="s",D.v=I;if(D.t=="z"||(p.dense?(g[y]||(g[y]=[]),g[y][x]=D):g[Vt({c:x,r:y})]=D),E=R+1,S=d.charCodeAt(E),h.e.c<x&&(h.e.c=x),h.e.r<y&&(h.e.r=y),_==b)++x;else if(x=0,++y,p.sheetRows&&p.sheetRows<=y)return!0}e:for(;R<d.length;++R)switch(_=d.charCodeAt(R)){case 34:S===34&&(T=!T);break;case b:case 10:case 13:if(!T&&M())break e;break}return R-E>0&&M(),g["!ref"]=sr(h),g}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,f):Xd(t(d,f),f)}function A(d,f){var p="",u=f.type=="string"?[0,0,0,0]:yy(d,f);switch(f.type){case"base64":p=as(d);break;case"binary":p=d;break;case"buffer":f.codepage==65001?p=d.toString("utf8"):f.codepage&&typeof _r<"u"?p=_r.utils.decode(f.codepage,d):p=dr&&Buffer.isBuffer(d)?d.toString("binary"):fl(d);break;case"array":p=sc(d);break;case"string":p=d;break;default:throw new Error("Unrecognized type "+f.type)}return u[0]==239&&u[1]==187&&u[2]==191?p=zr(p.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?p=zr(p):f.type=="binary"&&typeof _r<"u"&&f.codepage&&(p=_r.utils.decode(f.codepage,_r.utils.encode(28591,p))),p.slice(0,19)=="socialcalc:version:"?_5.to_sheet(f.type=="string"?p:zr(p),f):o(p,f)}function l(d,f){return pl(A(d,f),f)}function c(d){for(var f=[],p=xr(d["!ref"]),u,g=Array.isArray(d),h=p.s.r;h<=p.e.r;++h){for(var y=[],x=p.s.c;x<=p.e.c;++x){var v=Vt({r:h,c:x});if(u=g?(d[h]||[])[x]:d[v],!u||u.v==null){y.push("          ");continue}for(var E=(u.w||(xo(u),u.w)||"").slice(0,10);E.length<10;)E+=" ";y.push(E+(x===0?" ":""))}f.push(y.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:A,from_sheet:c}}();function DR(e,t){var r=t||{},a=!!r.WTF;r.WTF=!0;try{var n=E5.to_workbook(e,r);return r.WTF=a,n}catch(s){if(r.WTF=a,!s.message.match(/SYLK bad record ID/)&&a)throw s;return Kd.to_workbook(e,t)}}var Yl=function(){function e(C,k,j){if(C){Tn(C,C.l||0);for(var H=j.Enum||G;C.l<C.length;){var Y=C.read_shift(2),de=H[Y]||H[65535],ue=C.read_shift(2),he=C.l+ue,xe=de.f&&de.f(C,ue,j);if(C.l=he,k(xe,de,Y))return}}}function t(C,k){switch(k.type){case"base64":return r($i(as(C)),k);case"binary":return r($i(C),k);case"buffer":case"array":return r(C,k)}throw"Unsupported type "+k.type}function r(C,k){if(!C)return C;var j=k||{},H=j.dense?[]:{},Y="Sheet1",de="",ue=0,he={},xe=[],ve=[],se={s:{r:0,c:0},e:{r:0,c:0}},Ke=j.sheetRows||0;if(C[2]==0&&(C[3]==8||C[3]==9)&&C.length>=16&&C[14]==5&&C[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(C[2]==2)j.Enum=G,e(C,function(He,Ze,Ye){switch(Ye){case 0:j.vers=He,He>=4096&&(j.qpro=!0);break;case 6:se=He;break;case 204:He&&(de=He);break;case 222:de=He;break;case 15:case 51:j.qpro||(He[1].v=He[1].v.slice(1));case 13:case 14:case 16:Ye==14&&(He[2]&112)==112&&(He[2]&15)>1&&(He[2]&15)<15&&(He[1].z=j.dateNF||Ht[14],j.cellDates&&(He[1].t="d",He[1].v=vm(He[1].v))),j.qpro&&He[3]>ue&&(H["!ref"]=sr(se),he[Y]=H,xe.push(Y),H=j.dense?[]:{},se={s:{r:0,c:0},e:{r:0,c:0}},ue=He[3],Y=de||"Sheet"+(ue+1),de="");var tt=j.dense?(H[He[0].r]||[])[He[0].c]:H[Vt(He[0])];if(tt){tt.t=He[1].t,tt.v=He[1].v,He[1].z!=null&&(tt.z=He[1].z),He[1].f!=null&&(tt.f=He[1].f);break}j.dense?(H[He[0].r]||(H[He[0].r]=[]),H[He[0].r][He[0].c]=He[1]):H[Vt(He[0])]=He[1];break}},j);else if(C[2]==26||C[2]==14)j.Enum=z,C[2]==14&&(j.qpro=!0,C.l=0),e(C,function(He,Ze,Ye){switch(Ye){case 204:Y=He;break;case 22:He[1].v=He[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(He[3]>ue&&(H["!ref"]=sr(se),he[Y]=H,xe.push(Y),H=j.dense?[]:{},se={s:{r:0,c:0},e:{r:0,c:0}},ue=He[3],Y="Sheet"+(ue+1)),Ke>0&&He[0].r>=Ke)break;j.dense?(H[He[0].r]||(H[He[0].r]=[]),H[He[0].r][He[0].c]=He[1]):H[Vt(He[0])]=He[1],se.e.c<He[0].c&&(se.e.c=He[0].c),se.e.r<He[0].r&&(se.e.r=He[0].r);break;case 27:He[14e3]&&(ve[He[14e3][0]]=He[14e3][1]);break;case 1537:ve[He[0]]=He[1],He[0]==ue&&(Y=He[1]);break}},j);else throw new Error("Unrecognized LOTUS BOF "+C[2]);if(H["!ref"]=sr(se),he[de||Y]=H,xe.push(de||Y),!ve.length)return{SheetNames:xe,Sheets:he};for(var Ee={},pe=[],ce=0;ce<ve.length;++ce)he[xe[ce]]?(pe.push(ve[ce]||xe[ce]),Ee[ve[ce]]=he[ve[ce]]||he[xe[ce]]):(pe.push(ve[ce]),Ee[ve[ce]]={"!ref":"A1"});return{SheetNames:pe,Sheets:Ee}}function a(C,k){var j=k||{};if(+j.codepage>=0&&bs(+j.codepage),j.type=="string")throw new Error("Cannot write WK1 to JS string");var H=Fi(),Y=xr(C["!ref"]),de=Array.isArray(C),ue=[];xt(H,0,s(1030)),xt(H,6,l(Y));for(var he=Math.min(Y.e.r,8191),xe=Y.s.r;xe<=he;++xe)for(var ve=Ta(xe),se=Y.s.c;se<=Y.e.c;++se){xe===Y.s.r&&(ue[se]=la(se));var Ke=ue[se]+ve,Ee=de?(C[xe]||[])[se]:C[Ke];if(!(!Ee||Ee.t=="z"))if(Ee.t=="n")(Ee.v|0)==Ee.v&&Ee.v>=-32768&&Ee.v<=32767?xt(H,13,u(xe,se,Ee.v)):xt(H,14,h(xe,se,Ee.v));else{var pe=xo(Ee);xt(H,15,f(xe,se,pe.slice(0,239)))}}return xt(H,1),H.end()}function n(C,k){var j=k||{};if(+j.codepage>=0&&bs(+j.codepage),j.type=="string")throw new Error("Cannot write WK3 to JS string");var H=Fi();xt(H,0,o(C));for(var Y=0,de=0;Y<C.SheetNames.length;++Y)(C.Sheets[C.SheetNames[Y]]||{})["!ref"]&&xt(H,27,V(C.SheetNames[Y],de++));var ue=0;for(Y=0;Y<C.SheetNames.length;++Y){var he=C.Sheets[C.SheetNames[Y]];if(!(!he||!he["!ref"])){for(var xe=xr(he["!ref"]),ve=Array.isArray(he),se=[],Ke=Math.min(xe.e.r,8191),Ee=xe.s.r;Ee<=Ke;++Ee)for(var pe=Ta(Ee),ce=xe.s.c;ce<=xe.e.c;++ce){Ee===xe.s.r&&(se[ce]=la(ce));var He=se[ce]+pe,Ze=ve?(he[Ee]||[])[ce]:he[He];if(!(!Ze||Ze.t=="z"))if(Ze.t=="n")xt(H,23,M(Ee,ce,ue,Ze.v));else{var Ye=xo(Ze);xt(H,22,_(Ee,ce,ue,Ye.slice(0,239)))}}++ue}}return xt(H,1),H.end()}function s(C){var k=Je(2);return k.write_shift(2,C),k}function o(C){var k=Je(26);k.write_shift(2,4096),k.write_shift(2,4),k.write_shift(4,0);for(var j=0,H=0,Y=0,de=0;de<C.SheetNames.length;++de){var ue=C.SheetNames[de],he=C.Sheets[ue];if(!(!he||!he["!ref"])){++Y;var xe=vi(he["!ref"]);j<xe.e.r&&(j=xe.e.r),H<xe.e.c&&(H=xe.e.c)}}return j>8191&&(j=8191),k.write_shift(2,j),k.write_shift(1,Y),k.write_shift(1,H),k.write_shift(2,0),k.write_shift(2,0),k.write_shift(1,1),k.write_shift(1,2),k.write_shift(4,0),k.write_shift(4,0),k}function A(C,k,j){var H={s:{c:0,r:0},e:{c:0,r:0}};return k==8&&j.qpro?(H.s.c=C.read_shift(1),C.l++,H.s.r=C.read_shift(2),H.e.c=C.read_shift(1),C.l++,H.e.r=C.read_shift(2),H):(H.s.c=C.read_shift(2),H.s.r=C.read_shift(2),k==12&&j.qpro&&(C.l+=2),H.e.c=C.read_shift(2),H.e.r=C.read_shift(2),k==12&&j.qpro&&(C.l+=2),H.s.c==65535&&(H.s.c=H.e.c=H.s.r=H.e.r=0),H)}function l(C){var k=Je(8);return k.write_shift(2,C.s.c),k.write_shift(2,C.s.r),k.write_shift(2,C.e.c),k.write_shift(2,C.e.r),k}function c(C,k,j){var H=[{c:0,r:0},{t:"n",v:0},0,0];return j.qpro&&j.vers!=20768?(H[0].c=C.read_shift(1),H[3]=C.read_shift(1),H[0].r=C.read_shift(2),C.l+=2):(H[2]=C.read_shift(1),H[0].c=C.read_shift(2),H[0].r=C.read_shift(2)),H}function d(C,k,j){var H=C.l+k,Y=c(C,k,j);if(Y[1].t="s",j.vers==20768){C.l++;var de=C.read_shift(1);return Y[1].v=C.read_shift(de,"utf8"),Y}return j.qpro&&C.l++,Y[1].v=C.read_shift(H-C.l,"cstr"),Y}function f(C,k,j){var H=Je(7+j.length);H.write_shift(1,255),H.write_shift(2,k),H.write_shift(2,C),H.write_shift(1,39);for(var Y=0;Y<H.length;++Y){var de=j.charCodeAt(Y);H.write_shift(1,de>=128?95:de)}return H.write_shift(1,0),H}function p(C,k,j){var H=c(C,k,j);return H[1].v=C.read_shift(2,"i"),H}function u(C,k,j){var H=Je(7);return H.write_shift(1,255),H.write_shift(2,k),H.write_shift(2,C),H.write_shift(2,j,"i"),H}function g(C,k,j){var H=c(C,k,j);return H[1].v=C.read_shift(8,"f"),H}function h(C,k,j){var H=Je(13);return H.write_shift(1,255),H.write_shift(2,k),H.write_shift(2,C),H.write_shift(8,j,"f"),H}function y(C,k,j){var H=C.l+k,Y=c(C,k,j);if(Y[1].v=C.read_shift(8,"f"),j.qpro)C.l=H;else{var de=C.read_shift(2);R(C.slice(C.l,C.l+de),Y),C.l+=de}return Y}function x(C,k,j){var H=k&32768;return k&=-32769,k=(H?C:0)+(k>=8192?k-16384:k),(H?"":"$")+(j?la(k):Ta(k))}var v={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},E=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function R(C,k){Tn(C,0);for(var j=[],H=0,Y="",de="",ue="",he="";C.l<C.length;){var xe=C[C.l++];switch(xe){case 0:j.push(C.read_shift(8,"f"));break;case 1:de=x(k[0].c,C.read_shift(2),!0),Y=x(k[0].r,C.read_shift(2),!1),j.push(de+Y);break;case 2:{var ve=x(k[0].c,C.read_shift(2),!0),se=x(k[0].r,C.read_shift(2),!1);de=x(k[0].c,C.read_shift(2),!0),Y=x(k[0].r,C.read_shift(2),!1),j.push(ve+se+":"+de+Y)}break;case 3:if(C.l<C.length){console.error("WK1 premature formula end");return}break;case 4:j.push("("+j.pop()+")");break;case 5:j.push(C.read_shift(2));break;case 6:{for(var Ke="";xe=C[C.l++];)Ke+=String.fromCharCode(xe);j.push('"'+Ke.replace(/"/g,'""')+'"')}break;case 8:j.push("-"+j.pop());break;case 23:j.push("+"+j.pop());break;case 22:j.push("NOT("+j.pop()+")");break;case 20:case 21:he=j.pop(),ue=j.pop(),j.push(["AND","OR"][xe-20]+"("+ue+","+he+")");break;default:if(xe<32&&E[xe])he=j.pop(),ue=j.pop(),j.push(ue+E[xe]+he);else if(v[xe]){if(H=v[xe][1],H==69&&(H=C[C.l++]),H>j.length){console.error("WK1 bad formula parse 0x"+xe.toString(16)+":|"+j.join("|")+"|");return}var Ee=j.slice(-H);j.length-=H,j.push(v[xe][0]+"("+Ee.join(",")+")")}else return xe<=7?console.error("WK1 invalid opcode "+xe.toString(16)):xe<=24?console.error("WK1 unsupported op "+xe.toString(16)):xe<=30?console.error("WK1 invalid opcode "+xe.toString(16)):xe<=115?console.error("WK1 unsupported function opcode "+xe.toString(16)):console.error("WK1 unrecognized opcode "+xe.toString(16))}}j.length==1?k[1].f=""+j[0]:console.error("WK1 bad formula parse |"+j.join("|")+"|")}function b(C){var k=[{c:0,r:0},{t:"n",v:0},0];return k[0].r=C.read_shift(2),k[3]=C[C.l++],k[0].c=C[C.l++],k}function T(C,k){var j=b(C);return j[1].t="s",j[1].v=C.read_shift(k-4,"cstr"),j}function _(C,k,j,H){var Y=Je(6+H.length);Y.write_shift(2,C),Y.write_shift(1,j),Y.write_shift(1,k),Y.write_shift(1,39);for(var de=0;de<H.length;++de){var ue=H.charCodeAt(de);Y.write_shift(1,ue>=128?95:ue)}return Y.write_shift(1,0),Y}function S(C,k){var j=b(C);j[1].v=C.read_shift(2);var H=j[1].v>>1;if(j[1].v&1)switch(H&7){case 0:H=(H>>3)*5e3;break;case 1:H=(H>>3)*500;break;case 2:H=(H>>3)/20;break;case 3:H=(H>>3)/200;break;case 4:H=(H>>3)/2e3;break;case 5:H=(H>>3)/2e4;break;case 6:H=(H>>3)/16;break;case 7:H=(H>>3)/64;break}return j[1].v=H,j}function O(C,k){var j=b(C),H=C.read_shift(4),Y=C.read_shift(4),de=C.read_shift(2);if(de==65535)return H===0&&Y===3221225472?(j[1].t="e",j[1].v=15):H===0&&Y===3489660928?(j[1].t="e",j[1].v=42):j[1].v=0,j;var ue=de&32768;return de=(de&32767)-16446,j[1].v=(1-ue*2)*(Y*Math.pow(2,de+32)+H*Math.pow(2,de)),j}function M(C,k,j,H){var Y=Je(14);if(Y.write_shift(2,C),Y.write_shift(1,j),Y.write_shift(1,k),H==0)return Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(2,65535),Y;var de=0,ue=0,he=0,xe=0;return H<0&&(de=1,H=-H),ue=Math.log2(H)|0,H/=Math.pow(2,ue-31),xe=H>>>0,xe&2147483648||(H/=2,++ue,xe=H>>>0),H-=xe,xe|=2147483648,xe>>>=0,H*=Math.pow(2,32),he=H>>>0,Y.write_shift(4,he),Y.write_shift(4,xe),ue+=16383+(de?32768:0),Y.write_shift(2,ue),Y}function I(C,k){var j=O(C);return C.l+=k-14,j}function D(C,k){var j=b(C),H=C.read_shift(4);return j[1].v=H>>6,j}function L(C,k){var j=b(C),H=C.read_shift(8,"f");return j[1].v=H,j}function N(C,k){var j=L(C);return C.l+=k-10,j}function P(C,k){return C[C.l+k-1]==0?C.read_shift(k,"cstr"):""}function Q(C,k){var j=C[C.l++];j>k-1&&(j=k-1);for(var H="";H.length<j;)H+=String.fromCharCode(C[C.l++]);return H}function J(C,k,j){if(!(!j.qpro||k<21)){var H=C.read_shift(1);C.l+=17,C.l+=1,C.l+=2;var Y=C.read_shift(k-21,"cstr");return[H,Y]}}function te(C,k){for(var j={},H=C.l+k;C.l<H;){var Y=C.read_shift(2);if(Y==14e3){for(j[Y]=[0,""],j[Y][0]=C.read_shift(2);C[C.l];)j[Y][1]+=String.fromCharCode(C[C.l]),C.l++;C.l++}}return j}function V(C,k){var j=Je(5+C.length);j.write_shift(2,14e3),j.write_shift(2,k);for(var H=0;H<C.length;++H){var Y=C.charCodeAt(H);j[j.l++]=Y>127?95:Y}return j[j.l++]=0,j}var G={0:{n:"BOF",f:Xa},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:A},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:P},222:{n:"SHEETNAMELP",f:Q},65535:{n:""}},z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:T},23:{n:"NUMBER17",f:O},24:{n:"NUMBER18",f:S},25:{n:"FORMULA19",f:I},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:te},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:D},38:{n:"??"},39:{n:"NUMBER27",f:L},40:{n:"FORMULA28",f:N},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:P},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:J},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:n,to_workbook:t}}();function jR(e){var t={},r=e.match(ri),a=0,n=!1;if(r)for(;a!=r.length;++a){var s=Wt(r[a]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=R2[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(s[0].charCodeAt(1)!==47&&!n)throw new Error("Unrecognized rich format "+s[0])}}return t}var LR=function(){var e=Lf("t"),t=Lf("rPr");function r(s){var o=s.match(e);if(!o)return{t:"s",v:""};var A={t:"s",v:Tr(o[1])},l=s.match(t);return l&&(A.s=jR(l[1])),A}var a=/<(?:\w+:)?r>/g,n=/<\/(?:\w+:)?r>/;return function(o){return o.replace(a,"").split(n).map(r).filter(function(A){return A.v})}}(),UR=function(){var t=/(\r\n|\n)/g;function r(n,s,o){var A=[];n.u&&A.push("text-decoration: underline;"),n.uval&&A.push("text-underline-style:"+n.uval+";"),n.sz&&A.push("font-size:"+n.sz+"pt;"),n.outline&&A.push("text-effect: outline;"),n.shadow&&A.push("text-shadow: auto;"),s.push('<span style="'+A.join("")+'">'),n.b&&(s.push("<b>"),o.push("</b>")),n.i&&(s.push("<i>"),o.push("</i>")),n.strike&&(s.push("<s>"),o.push("</s>"));var l=n.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),o.push("</"+l+">")),o.push("</span>"),n}function a(n){var s=[[],n.v,[]];return n.v?(n.s&&r(n.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(a).join("")}}(),MR=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,PR=/<(?:\w+:)?r>/,QR=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function iy(e,t){var r=t?t.cellHTML:!0,a={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(a.t=Tr(zr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),a.r=zr(e),r&&(a.h=Q2(a.t))):e.match(PR)&&(a.r=zr(e),a.t=Tr(zr((e.replace(QR,"").match(MR)||[]).join("").replace(ri,""))),r&&(a.h=UR(LR(a.r)))),a):{t:""}}var qR=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,KR=/<(?:\w+:)?(?:si|sstItem)>/g,HR=/<\/(?:\w+:)?(?:si|sstItem)>/;function GR(e,t){var r=[],a="";if(!e)return r;var n=e.match(qR);if(n){a=n[2].replace(KR,"").split(HR);for(var s=0;s!=a.length;++s){var o=iy(a[s].trim(),t);o!=null&&(r[r.length]=o)}n=Wt(n[1]),r.Count=n.count,r.Unique=n.uniqueCount}return r}var zR=/^\s|\s$|[\t\n\r]/;function C5(e,t){if(!t.bookSST)return"";var r=[Ka];r[r.length]=gt("sst",null,{xmlns:pc[0],count:e.Count,uniqueCount:e.Unique});for(var a=0;a!=e.length;++a)if(e[a]!=null){var n=e[a],s="<si>";n.r?s+=n.r:(s+="<t",n.t||(n.t=""),n.t.match(zR)&&(s+=' xml:space="preserve"'),s+=">"+Kr(n.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function VR(e){return[e.read_shift(4),e.read_shift(4)]}function $R(e,t){var r=[],a=!1;return sA(e,function(s,o,A){switch(A){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:a=!0;break;case 36:a=!1;break;default:if(o.T,!a||t.WTF)throw new Error("Unexpected record 0x"+A.toString(16))}}),r}function YR(e,t){return t||(t=Je(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var WR=sN;function XR(e){var t=Fi();st(t,159,YR(e));for(var r=0;r<e.length;++r)st(t,19,WR(e[r]));return st(t,160),t.end()}function B5(e){if(typeof _r<"u")return _r.utils.encode(nc,e);for(var t=[],r=e.split(""),a=0;a<r.length;++a)t[a]=r[a].charCodeAt(0);return t}function Xo(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function JR(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Xo(e,4),t.U=Xo(e,4),t.W=Xo(e,4),t}function ZR(e){for(var t=e.read_shift(4),r=e.l+t-4,a={},n=e.read_shift(4),s=[];n-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(a.name=e.read_shift(0,"lpp4"),a.comps=s,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return a}function e6(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(ZR(e));return t}function t6(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function r6(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Xo(e,4),t.U=Xo(e,4),t.W=Xo(e,4),t}function a6(e){var t=r6(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function S5(e,t){var r=e.l+t,a={};a.Flags=e.read_shift(4)&63,e.l+=4,a.AlgID=e.read_shift(4);var n=!1;switch(a.AlgID){case 26126:case 26127:case 26128:n=a.Flags==36;break;case 26625:n=a.Flags==4;break;case 0:n=a.Flags==16||a.Flags==4||a.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+a.AlgID}if(!n)throw new Error("Encryption Flags/AlgID mismatch");return a.AlgIDHash=e.read_shift(4),a.KeySize=e.read_shift(4),a.ProviderType=e.read_shift(4),e.l+=8,a.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,a}function T5(e,t){var r={},a=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,a),e.l=a,r}function n6(e){var t=Xo(e);switch(t.Minor){case 2:return[t.Minor,i6(e)];case 3:return[t.Minor,s6()];case 4:return[t.Minor,o6(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function i6(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),a=S5(e,r),n=T5(e,e.length-e.l);return{t:"Std",h:a,v:n}}function s6(){throw new Error("File is password-protected: ECMA-376 Extensible")}function o6(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),a={};return r.replace(ri,function(s){var o=Wt(s);switch(vo(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(A){a[A]=o[A]});break;case"<dataIntegrity":a.encryptedHmacKey=o.encryptedHmacKey,a.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":a.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":a.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":a.encs.push(o);break;default:throw o[0]}}),a}function A6(e,t){var r={},a=r.EncryptionVersionInfo=Xo(e,4);if(t-=4,a.Minor!=2)throw new Error("unrecognized minor version code: "+a.Minor);if(a.Major>4||a.Major<2)throw new Error("unrecognized major version code: "+a.Major);r.Flags=e.read_shift(4),t-=4;var n=e.read_shift(4);return t-=4,r.EncryptionHeader=S5(e,n),t-=n,r.EncryptionVerifier=T5(e,t),r}function l6(e){var t={},r=t.EncryptionVersionInfo=Xo(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function sy(e){var t=0,r,a=B5(e),n=a.length+1,s,o,A,l,c;for(r=il(n),r[0]=a.length,s=1;s!=n;++s)r[s]=a[s-1];for(s=n-1;s>=0;--s)o=r[s],A=t&16384?1:0,l=t<<1&32767,c=A|l,t=c^o;return t^52811}var O5=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],a=function(o){return(o/2|o*128)&255},n=function(o,A){return a(o^A)},s=function(o){for(var A=t[o.length-1],l=104,c=o.length-1;c>=0;--c)for(var d=o[c],f=0;f!=7;++f)d&64&&(A^=r[l]),d*=2,--l;return A};return function(o){for(var A=B5(o),l=s(A),c=A.length,d=il(16),f=0;f!=16;++f)d[f]=0;var p,u,g;for((c&1)===1&&(p=l>>8,d[c]=n(e[0],p),--c,p=l&255,u=A[A.length-1],d[c]=n(u,p));c>0;)--c,p=l>>8,d[c]=n(A[c],p),--c,p=l&255,d[c]=n(A[c],p);for(c=15,g=15-A.length;g>0;)p=l>>8,d[c]=n(e[g],p),--c,--g,p=l&255,d[c]=n(A[c],p),--c,--g;return d}}(),c6=function(e,t,r,a,n){n||(n=t),a||(a=O5(e));var s,o;for(s=0;s!=t.length;++s)o=t[s],o^=a[r],o=(o>>5|o<<3)&255,n[s]=o,++r;return[n,r,a]},d6=function(e){var t=0,r=O5(e);return function(a){var n=c6("",a,t,r);return t=n[1],n[0]}};function u6(e,t,r,a){var n={key:Xa(e),verificationBytes:Xa(e)};return r.password&&(n.verifier=sy(r.password)),a.valid=n.verificationBytes===n.verifier,a.valid&&(a.insitu=d6(r.password)),n}function f6(e,t,r){var a=r||{};return a.Info=e.read_shift(2),e.l-=2,a.Info===1?a.Data=l6(e):a.Data=A6(e,t),a}function p6(e,t,r){var a={Type:r.biff>=8?e.read_shift(2):0};return a.Type?f6(e,t-2,a):u6(e,r.biff>=8?t:t-2,r,a),a}var I5=function(){function e(n,s){switch(s.type){case"base64":return t(as(n),s);case"binary":return t(n,s);case"buffer":return t(dr&&Buffer.isBuffer(n)?n.toString("binary"):fl(n),s);case"array":return t(sc(n),s)}throw new Error("Unrecognized type "+s.type)}function t(n,s){var o=s||{},A=o.dense?[]:{},l=n.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(d,f){Array.isArray(A)&&(A[f]=[]);for(var p=/\\\w+\b/g,u=0,g,h=-1;g=p.exec(d);){switch(g[0]){case"\\cell":var y=d.slice(u,p.lastIndex-g[0].length);if(y[0]==" "&&(y=y.slice(1)),++h,y.length){var x={v:y,t:"s"};Array.isArray(A)?A[f][h]=x:A[Vt({r:f,c:h})]=x}break}u=p.lastIndex}h>c.e.c&&(c.e.c=h)}),A["!ref"]=sr(c),A}function r(n,s){return pl(e(n,s),s)}function a(n){for(var s=["{\\rtf1\\ansi"],o=xr(n["!ref"]),A,l=Array.isArray(n),c=o.s.r;c<=o.e.r;++c){s.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=Vt({r:c,c:d});A=l?(n[c]||[])[d]:n[f],!(!A||A.v==null&&(!A.f||A.F))&&(s.push(" "+(A.w||(xo(A),A.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:a}}();function h6(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Qf(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function m6(e){var t=e[0]/255,r=e[1]/255,a=e[2]/255,n=Math.max(t,r,a),s=Math.min(t,r,a),o=n-s;if(o===0)return[0,0,t];var A=0,l=0,c=n+s;switch(l=o/(c>1?2-c:c),n){case t:A=((r-a)/o+6)%6;break;case r:A=(a-t)/o+2;break;case a:A=(t-r)/o+4;break}return[A/6,l,c/2]}function g6(e){var t=e[0],r=e[1],a=e[2],n=r*2*(a<.5?a:1-a),s=a-n/2,o=[s,s,s],A=6*t,l;if(r!==0)switch(A|0){case 0:case 6:l=n*A,o[0]+=n,o[1]+=l;break;case 1:l=n*(2-A),o[0]+=l,o[1]+=n;break;case 2:l=n*(A-2),o[1]+=n,o[2]+=l;break;case 3:l=n*(4-A),o[1]+=l,o[2]+=n;break;case 4:l=n*(A-4),o[2]+=n,o[0]+=l;break;case 5:l=n*(6-A),o[2]+=l,o[0]+=n;break}for(var c=0;c!=3;++c)o[c]=Math.round(o[c]*255);return o}function Dh(e,t){if(t===0)return e;var r=m6(h6(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Qf(g6(r))}var N5=6,x6=15,y6=1,zn=N5;function qf(e){return Math.floor((e+Math.round(128/zn)/256)*zn)}function Kf(e){return Math.floor((e-5)/zn*100+.5)/100}function jh(e){return Math.round((e*zn+5)/zn*256)/256}function Rg(e){return jh(Kf(qf(e)))}function oy(e){var t=Math.abs(e-Rg(e)),r=zn;if(t>.005)for(zn=y6;zn<x6;++zn)Math.abs(e-Rg(e))<=t&&(t=Math.abs(e-Rg(e)),r=zn);zn=r}function sl(e){e.width?(e.wpx=qf(e.width),e.wch=Kf(e.wpx),e.MDW=zn):e.wpx?(e.wch=Kf(e.wpx),e.width=jh(e.wch),e.MDW=zn):typeof e.wch=="number"&&(e.width=jh(e.wch),e.wpx=qf(e.width),e.MDW=zn),e.customWidth&&delete e.customWidth}var v6=96,F5=v6;function Hf(e){return e*96/F5}function Hd(e){return e*F5/96}var w6={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function E6(e,t,r,a){t.Borders=[];var n={},s=!1;(e[0].match(ri)||[]).forEach(function(o){var A=Wt(o);switch(vo(A[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":n={},A.diagonalUp&&(n.diagonalUp=sa(A.diagonalUp)),A.diagonalDown&&(n.diagonalDown=sa(A.diagonalDown)),t.Borders.push(n);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(a&&a.WTF&&!s)throw new Error("unrecognized "+A[0]+" in borders")}})}function b6(e,t,r,a){t.Fills=[];var n={},s=!1;(e[0].match(ri)||[]).forEach(function(o){var A=Wt(o);switch(vo(A[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":n={},t.Fills.push(n);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(n),n={};break;case"<patternFill":case"<patternFill>":A.patternType&&(n.patternType=A.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":n.bgColor||(n.bgColor={}),A.indexed&&(n.bgColor.indexed=parseInt(A.indexed,10)),A.theme&&(n.bgColor.theme=parseInt(A.theme,10)),A.tint&&(n.bgColor.tint=parseFloat(A.tint)),A.rgb&&(n.bgColor.rgb=A.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":n.fgColor||(n.fgColor={}),A.theme&&(n.fgColor.theme=parseInt(A.theme,10)),A.tint&&(n.fgColor.tint=parseFloat(A.tint)),A.rgb!=null&&(n.fgColor.rgb=A.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(a&&a.WTF&&!s)throw new Error("unrecognized "+A[0]+" in fills")}})}function _6(e,t,r,a){t.Fonts=[];var n={},s=!1;(e[0].match(ri)||[]).forEach(function(o){var A=Wt(o);switch(vo(A[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(n),n={};break;case"<name":A.val&&(n.name=zr(A.val));break;case"<name/>":case"</name>":break;case"<b":n.bold=A.val?sa(A.val):1;break;case"<b/>":n.bold=1;break;case"<i":n.italic=A.val?sa(A.val):1;break;case"<i/>":n.italic=1;break;case"<u":switch(A.val){case"none":n.underline=0;break;case"single":n.underline=1;break;case"double":n.underline=2;break;case"singleAccounting":n.underline=33;break;case"doubleAccounting":n.underline=34;break}break;case"<u/>":n.underline=1;break;case"<strike":n.strike=A.val?sa(A.val):1;break;case"<strike/>":n.strike=1;break;case"<outline":n.outline=A.val?sa(A.val):1;break;case"<outline/>":n.outline=1;break;case"<shadow":n.shadow=A.val?sa(A.val):1;break;case"<shadow/>":n.shadow=1;break;case"<condense":n.condense=A.val?sa(A.val):1;break;case"<condense/>":n.condense=1;break;case"<extend":n.extend=A.val?sa(A.val):1;break;case"<extend/>":n.extend=1;break;case"<sz":A.val&&(n.sz=+A.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":A.val&&(n.vertAlign=A.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":A.val&&(n.family=parseInt(A.val,10));break;case"<family/>":case"</family>":break;case"<scheme":A.val&&(n.scheme=A.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(A.val=="1")break;A.codepage=R2[parseInt(A.val,10)];break;case"<color":if(n.color||(n.color={}),A.auto&&(n.color.auto=sa(A.auto)),A.rgb)n.color.rgb=A.rgb.slice(-6);else if(A.indexed){n.color.index=parseInt(A.indexed,10);var l=Vl[n.color.index];n.color.index==81&&(l=Vl[1]),l||(l=Vl[1]),n.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else A.theme&&(n.color.theme=parseInt(A.theme,10),A.tint&&(n.color.tint=parseFloat(A.tint)),A.theme&&r.themeElements&&r.themeElements.clrScheme&&(n.color.rgb=Dh(r.themeElements.clrScheme[n.color.theme].rgb,n.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(a&&a.WTF&&!s)throw new Error("unrecognized "+A[0]+" in fonts")}})}function C6(e,t,r){t.NumberFmt=[];for(var a=Ia(Ht),n=0;n<a.length;++n)t.NumberFmt[a[n]]=Ht[a[n]];var s=e[0].match(ri);if(s)for(n=0;n<s.length;++n){var o=Wt(s[n]);switch(vo(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var A=Tr(zr(o.formatCode)),l=parseInt(o.numFmtId,10);if(t.NumberFmt[l]=A,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=A}mo(A,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}function B6(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&(t[t.length]=gt("numFmt",null,{numFmtId:a,formatCode:Kr(e[a])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=gt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var fp=["numFmtId","fillId","fontId","borderId","xfId"],pp=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function S6(e,t,r){t.CellXf=[];var a,n=!1;(e[0].match(ri)||[]).forEach(function(s){var o=Wt(s),A=0;switch(vo(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(a=o,delete a[0],A=0;A<fp.length;++A)a[fp[A]]&&(a[fp[A]]=parseInt(a[fp[A]],10));for(A=0;A<pp.length;++A)a[pp[A]]&&(a[pp[A]]=sa(a[pp[A]]));if(t.NumberFmt&&a.numFmtId>392){for(A=392;A>60;--A)if(t.NumberFmt[a.numFmtId]==t.NumberFmt[A]){a.numFmtId=A;break}}t.CellXf.push(a);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};o.vertical&&(l.vertical=o.vertical),o.horizontal&&(l.horizontal=o.horizontal),o.textRotation!=null&&(l.textRotation=o.textRotation),o.indent&&(l.indent=o.indent),o.wrapText&&(l.wrapText=sa(o.wrapText)),a.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":n=!0;break;case"</AlternateContent>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(r&&r.WTF&&!n)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}function T6(e){var t=[];return t[t.length]=gt("cellXfs",null),e.forEach(function(r){t[t.length]=gt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=gt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var O6=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,a=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,n=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(A,l,c){var d={};if(!A)return d;A=A.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=A.match(t))&&C6(f,d,c),(f=A.match(n))&&_6(f,d,l,c),(f=A.match(a))&&b6(f,d,l,c),(f=A.match(s))&&E6(f,d,l,c),(f=A.match(r))&&S6(f,d,c),d}}();function R5(e,t){var r=[Ka,gt("styleSheet",null,{xmlns:pc[0],"xmlns:vt":sn.vt})],a;return e.SSF&&(a=B6(e.SSF))!=null&&(r[r.length]=a),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=T6(t.cellXfs))&&(r[r.length]=a),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function I6(e,t){var r=e.read_shift(2),a=Zn(e);return[r,a]}function N6(e,t,r){r||(r=Je(6+4*t.length)),r.write_shift(2,e),xn(t,r);var a=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),a}function F6(e,t,r){var a={};a.sz=e.read_shift(2)/20;var n=fN(e);n.fItalic&&(a.italic=1),n.fCondense&&(a.condense=1),n.fExtend&&(a.extend=1),n.fShadow&&(a.shadow=1),n.fOutline&&(a.outline=1),n.fStrikeout&&(a.strike=1);var s=e.read_shift(2);switch(s===700&&(a.bold=1),e.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(a.underline=o);var A=e.read_shift(1);A>0&&(a.family=A);var l=e.read_shift(1);switch(l>0&&(a.charset=l),e.l++,a.color=uN(e),e.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=Zn(e),a}function R6(e,t){t||(t=Je(25+4*32)),t.write_shift(2,e.sz*20),pN(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Fh(e.color,t);var a=0;return a=2,t.write_shift(1,a),xn(e.name,t),t.length>t.l?t.slice(0,t.l):t}var k6=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],kg,D6=ti;function k4(e,t){t||(t=Je(4*3+8*7+16*1)),kg||(kg=xm(k6));var r=kg[e.patternType];r==null&&(r=40),t.write_shift(4,r);var a=0;if(r!=40)for(Fh({auto:1},t),Fh({auto:1},t);a<12;++a)t.write_shift(4,0);else{for(;a<4;++a)t.write_shift(4,0);for(;a<12;++a)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function j6(e,t){var r=e.l+t,a=e.read_shift(2),n=e.read_shift(2);return e.l=r,{ixfe:a,numFmtId:n}}function k5(e,t,r){r||(r=Je(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var a=0;return r.write_shift(1,a),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Tu(e,t){return t||(t=Je(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var L6=ti;function U6(e,t){return t||(t=Je(51)),t.write_shift(1,0),Tu(null,t),Tu(null,t),Tu(null,t),Tu(null,t),Tu(null,t),t.length>t.l?t.slice(0,t.l):t}function M6(e,t){return t||(t=Je(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Nh(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function P6(e,t,r){var a=Je(2052);return a.write_shift(4,e),Nh(t,a),Nh(r,a),a.length>a.l?a.slice(0,a.l):a}function Q6(e,t,r){var a={};a.NumberFmt=[];for(var n in Ht)a.NumberFmt[n]=Ht[n];a.CellXf=[],a.Fonts=[];var s=[],o=!1;return sA(e,function(l,c,d){switch(d){case 44:a.NumberFmt[l[0]]=l[1],mo(l[1],l[0]);break;case 43:a.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=Dh(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&a.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(d),o=!0;break;case 38:s.pop(),o=!1;break;default:if(c.T>0)s.push(d);else if(c.T<0)s.pop();else if(!o||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),a}function q6(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&++r}),r!=0&&(st(e,615,Gs(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&st(e,44,N6(n,t[n]))}),st(e,616))}}function K6(e){var t=1;st(e,611,Gs(t)),st(e,43,R6({sz:12,color:{theme:1},name:"Calibri",family:2})),st(e,612)}function H6(e){var t=2;st(e,603,Gs(t)),st(e,45,k4({patternType:"none"})),st(e,45,k4({patternType:"gray125"})),st(e,604)}function G6(e){var t=1;st(e,613,Gs(t)),st(e,46,U6()),st(e,614)}function z6(e){var t=1;st(e,626,Gs(t)),st(e,47,k5({numFmtId:0},65535)),st(e,627)}function V6(e,t){st(e,617,Gs(t.length)),t.forEach(function(r){st(e,47,k5(r,0))}),st(e,618)}function $6(e){var t=1;st(e,619,Gs(t)),st(e,48,M6({xfId:0,name:"Normal"})),st(e,620)}function Y6(e){var t=0;st(e,505,Gs(t)),st(e,506)}function W6(e){var t=0;st(e,508,P6(t,"TableStyleMedium9","PivotStyleMedium4")),st(e,509)}function X6(e,t){var r=Fi();return st(r,278),q6(r,e.SSF),K6(r),H6(r),G6(r),z6(r),V6(r,t.cellXfs),$6(r),Y6(r),W6(r),st(r,279),r.end()}var J6=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Z6(e,t,r){t.themeElements.clrScheme=[];var a={};(e[0].match(ri)||[]).forEach(function(n){var s=Wt(n);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":a.rgb=s.val;break;case"<a:sysClr":a.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[J6.indexOf(s[0])]=a,a={}):a.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function ek(){}function tk(){}var rk=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,ak=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,nk=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function ik(e,t,r){t.themeElements={};var a;[["clrScheme",rk,Z6],["fontScheme",ak,ek],["fmtScheme",nk,tk]].forEach(function(n){if(!(a=e.match(n[1])))throw new Error(n[0]+" not found in themeElements");n[2](a,t,r)})}var sk=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function D5(e,t){(!e||e.length===0)&&(e=Ay());var r,a={};if(!(r=e.match(sk)))throw new Error("themeElements not found in theme");return ik(r[0],a,t),a.raw=e,a}function Ay(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Ka];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function ok(e,t,r){var a=e.l+t,n=e.read_shift(4);if(n!==124226){if(!r.cellStyles){e.l=a;return}var s=e.slice(e.l);e.l=a;var o;try{o=N_(s,{type:"array"})}catch{return}var A=Yi(o,"theme/theme/theme1.xml",!0);if(A)return D5(A,r)}}function Ak(e){return e.read_shift(4)}function lk(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=ck(e,4);break;case 2:t.xclrValue=p5(e);break;case 3:t.xclrValue=Ak(e);break;case 4:e.l+=4;break}return e.l+=8,t}function ck(e,t){return ti(e,t)}function dk(e,t){return ti(e,t)}function uk(e){var t=e.read_shift(2),r=e.read_shift(2)-4,a=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:a[1]=lk(e);break;case 6:a[1]=dk(e,r);break;case 14:case 15:a[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return a}function fk(e,t){var r=e.l+t;e.l+=2;var a=e.read_shift(2);e.l+=2;for(var n=e.read_shift(2),s=[];n-- >0;)s.push(uk(e,r-e.l));return{ixfe:a,ext:s}}function pk(e,t){t.forEach(function(r){switch(r[0]){}})}function hk(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Zn(e)}}function mk(e){var t=Je(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),xn(e.name,t),t.slice(0,t.l)}function gk(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function xk(e){var t=Je(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function yk(e,t){var r=Je(8+2*t.length);return r.write_shift(4,e),xn(t,r),r.slice(0,r.l)}function vk(e){return e.l+=4,e.read_shift(4)!=0}function wk(e,t){var r=Je(8);return r.write_shift(4,e),r.write_shift(4,1),r}function Ek(e,t,r){var a={Types:[],Cell:[],Value:[]},n=r||{},s=[],o=!1,A=2;return sA(e,function(l,c,d){switch(d){case 335:a.Types.push({name:l.name});break;case 51:l.forEach(function(f){A==1?a.Cell.push({type:a.Types[f[0]-1].name,index:f[1]}):A==0&&a.Value.push({type:a.Types[f[0]-1].name,index:f[1]})});break;case 337:A=l?1:0;break;case 338:A=2;break;case 35:s.push(d),o=!0;break;case 36:s.pop(),o=!1;break;default:if(!c.T){if(!o||n.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),a}function bk(){var e=Fi();return st(e,332),st(e,334,Gs(1)),st(e,335,mk({name:"XLDAPR",version:12e4,flags:3496657072})),st(e,336),st(e,339,yk(1,"XLDAPR")),st(e,52),st(e,35,Gs(514)),st(e,4096,Gs(0)),st(e,4097,ws(1)),st(e,36),st(e,53),st(e,340),st(e,337,wk(1)),st(e,51,xk([[1,0]])),st(e,338),st(e,333),e.end()}function _k(e,t,r){var a={Types:[],Cell:[],Value:[]};if(!e)return a;var n=!1,s=2,o;return e.replace(ri,function(A){var l=Wt(A);switch(vo(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":a.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<a.Types.length;++c)a.Types[c].name==l.name&&(o=a.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?a.Cell.push({type:a.Types[l.t-1].name,index:+l.v}):s==0&&a.Value.push({type:a.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+l.i);break;default:if(!n&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return A}),a}function j5(){var e=[Ka];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function Ck(e){var t=[];if(!e)return t;var r=1;return(e.match(ri)||[]).forEach(function(a){var n=Wt(a);switch(n[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete n[0],n.i?r=n.i:n.i=r,t.push(n);break}}),t}function Bk(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Vt(r);var a=e.read_shift(1);return a&2&&(t.l="1"),a&8&&(t.a="1"),t}function Sk(e,t,r){var a=[];return sA(e,function(s,o,A){switch(A){case 63:a.push(s);break;default:if(!o.T)throw new Error("Unexpected record 0x"+A.toString(16))}}),a}function Tk(e,t,r,a){if(!e)return e;var n=a||{},s=!1;sA(e,function(A,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||n.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},n)}function Ok(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var Ed=1024;function L5(e,t){for(var r=[21600,21600],a=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),n=[gt("xml",null,{"xmlns:v":Vi.v,"xmlns:o":Vi.o,"xmlns:x":Vi.x,"xmlns:mv":Vi.mv}).replace(/\/>/,">"),gt("o:shapelayout",gt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),gt("v:shapetype",[gt("v:stroke",null,{joinstyle:"miter"}),gt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:a})];Ed<e*1e3;)Ed+=1e3;return t.forEach(function(s){var o=xa(s[0]),A={color2:"#BEFF82",type:"gradient"};A.type=="gradient"&&(A.angle="-180");var l=A.type=="gradient"?gt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=gt("v:fill",l,A),d={on:"t",obscured:"t"};++Ed,n=n.concat(["<v:shape"+Uf({id:"_x0000_s"+Ed,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,gt("v:shadow",null,d),gt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",In("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),In("x:AutoFill","False"),In("x:Row",String(o.r)),In("x:Column",String(o.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),n.push("</xml>"),n.join("")}function D4(e,t,r,a){var n=Array.isArray(e),s;t.forEach(function(o){var A=xa(o.ref);if(n?(e[A.r]||(e[A.r]=[]),s=e[A.r][A.c]):s=e[o.ref],!s){s={t:"z"},n?e[A.r][A.c]=s:e[o.ref]=s;var l=xr(e["!ref"]||"BDWGO1000001:A1");l.s.r>A.r&&(l.s.r=A.r),l.e.r<A.r&&(l.e.r=A.r),l.s.c>A.c&&(l.s.c=A.c),l.e.c<A.c&&(l.e.c=A.c);var c=sr(l);c!==e["!ref"]&&(e["!ref"]=c)}s.c||(s.c=[]);var d={a:o.author,t:o.t,r:o.r,T:r};o.h&&(d.h=o.h);for(var f=s.c.length-1;f>=0;--f){if(!r&&s.c[f].T)return;r&&!s.c[f].T&&s.c.splice(f,1)}if(r&&a){for(f=0;f<a.length;++f)if(d.a==a[f].id){d.a=a[f].name||d.a;break}}s.c.push(d)})}function Ik(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],a=[],n=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);n&&n[1]&&n[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var A=o.match(/<(?:\w+:)?author[^>]*>(.*)/);A&&r.push(A[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var A=o.match(/<(?:\w+:)?comment[^>]*>/);if(A){var l=Wt(A[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},d=xa(l.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),p=!!f&&!!f[1]&&iy(f[1])||{r:"",t:"",h:""};c.r=p.r,p.r=="<t></t>"&&(p.t=p.h=""),c.t=(p.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=p.h),a.push(c)}}}}),a}function U5(e){var t=[Ka,gt("comments",null,{xmlns:pc[0]})],r=[];return t.push("<authors>"),e.forEach(function(a){a[1].forEach(function(n){var s=Kr(n.a);r.indexOf(s)==-1&&(r.push(s),t.push("<author>"+s+"</author>")),n.T&&n.ID&&r.indexOf("tc="+n.ID)==-1&&(r.push("tc="+n.ID),t.push("<author>tc="+n.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(a){var n=0,s=[];if(a[1][0]&&a[1][0].T&&a[1][0].ID?n=r.indexOf("tc="+a[1][0].ID):a[1].forEach(function(l){l.a&&(n=r.indexOf(Kr(l.a))),s.push(l.t||"")}),t.push('<comment ref="'+a[0]+'" authorId="'+n+'"><text>'),s.length<=1)t.push(In("t",Kr(s[0]||"")));else{for(var o=`Comment:
    `+s[0]+`
`,A=1;A<s.length;++A)o+=`Reply:
    `+s[A]+`
`;t.push(In("t",Kr(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Nk(e,t){var r=[],a=!1,n={},s=0;return e.replace(ri,function(A,l){var c=Wt(A);switch(vo(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":n={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":n.t!=null&&r.push(n);break;case"<text>":case"<text":s=l+A.length;break;case"</text>":n.t=e.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":a=!0;break;case"</mentions>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return A}),r}function Fk(e,t,r){var a=[Ka,gt("ThreadedComments",null,{xmlns:sn.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(n){var s="";(n[1]||[]).forEach(function(o,A){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var l={ref:n[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};A==0?s=l.id:l.parentId=s,o.ID=l.id,o.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),a.push(gt("threadedComment",In("text",o.t||""),l))})}),a.push("</ThreadedComments>"),a.join("")}function Rk(e,t){var r=[],a=!1;return e.replace(ri,function(s){var o=Wt(s);switch(vo(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return s}),r}function kk(e){var t=[Ka,gt("personList",null,{xmlns:sn.TCMNT,"xmlns:x":pc[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,a){t.push(gt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+a).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Dk(e){var t={};t.iauthor=e.read_shift(4);var r=xc(e);return t.rfx=r.s,t.ref=Vt(r.s),e.l+=16,t}function jk(e,t){return t==null&&(t=Je(36)),t.write_shift(4,e[1].iauthor),Jd(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Lk=Zn;function Uk(e){return xn(e.slice(0,54))}function Mk(e,t){var r=[],a=[],n={},s=!1;return sA(e,function(A,l,c){switch(c){case 632:a.push(A);break;case 635:n=A;break;case 637:n.t=A.t,n.h=A.h,n.r=A.r;break;case 636:if(n.author=a[n.iauthor],delete n.iauthor,t.sheetRows&&n.rfx&&t.sheetRows<=n.rfx.r)break;n.t||(n.t=""),delete n.rfx,r.push(n);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}function Pk(e){var t=Fi(),r=[];return st(t,628),st(t,630),e.forEach(function(a){a[1].forEach(function(n){r.indexOf(n.a)>-1||(r.push(n.a.slice(0,54)),st(t,632,Uk(n.a)))})}),st(t,631),st(t,633),e.forEach(function(a){a[1].forEach(function(n){n.iauthor=r.indexOf(n.a);var s={s:xa(a[0]),e:xa(a[0])};st(t,635,jk([s,n])),n.t&&n.t.length>0&&st(t,637,AN(n)),st(t,636),delete n.iauthor})}),st(t,634),st(t,629),t.end()}var Qk="application/vnd.ms-office.vbaProject";function qk(e){var t=Ut.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,a){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var n=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Ut.utils.cfb_add(t,n,e.FileIndex[a].content)}}),Ut.write(t)}function Kk(e,t){t.FullPaths.forEach(function(r,a){if(a!=0){var n=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");n.slice(-1)!=="/"&&Ut.utils.cfb_add(e,n,t.FileIndex[a].content)}})}var M5=["xlsb","xlsm","xlam","biff8","xla"];function Hk(){return{"!type":"dialog"}}function Gk(){return{"!type":"dialog"}}function zk(){return{"!type":"macro"}}function Vk(){return{"!type":"macro"}}var Id=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(a,n,s,o){var A=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),o.length==0?A=!0:o.charAt(0)=="["&&(A=!0,o=o.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return A?d+=t.c:--d,l?c+=t.r:--c,n+(A?"":"$")+la(d)+(l?"":"$")+Ta(c)}return function(n,s){return t=s,n.replace(e,r)}}(),ly=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,cy=function(){return function(t,r){return t.replace(ly,function(a,n,s,o,A,l){var c=W2(o)-(s?0:r.c),d=Y2(l)-(A?0:r.r),f=d==0?"":A?d+1:"["+d+"]",p=c==0?"":s?c+1:"["+c+"]";return n+"R"+f+"C"+p})}}();function P5(e,t){return e.replace(ly,function(r,a,n,s,o,A){return a+(n=="$"?n+s:la(W2(s)+t.c))+(o=="$"?o+A:Ta(Y2(A)+t.r))})}function $k(e,t,r){var a=vi(t),n=a.s,s=xa(r),o={r:s.r-n.r,c:s.c-n.c};return P5(e,o)}function Yk(e){return e.length!=1}function j4(e){return e.replace(/_xlfn\./g,"")}function Va(e){e.l+=1}function ol(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function Q5(e,t,r){var a=2;if(r){if(r.biff>=2&&r.biff<=5)return q5(e);r.biff==12&&(a=4)}var n=e.read_shift(a),s=e.read_shift(a),o=ol(e),A=ol(e);return{s:{r:n,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:A[0],cRel:A[1],rRel:A[2]}}}function q5(e){var t=ol(e),r=ol(e),a=e.read_shift(1),n=e.read_shift(1);return{s:{r:t[0],c:a,cRel:t[1],rRel:t[2]},e:{r:r[0],c:n,cRel:r[1],rRel:r[2]}}}function Wk(e,t,r){if(r.biff<8)return q5(e);var a=e.read_shift(r.biff==12?4:2),n=e.read_shift(r.biff==12?4:2),s=ol(e),o=ol(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:n,c:o[0],cRel:o[1],rRel:o[2]}}}function K5(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Xk(e);var a=e.read_shift(r&&r.biff==12?4:2),n=ol(e);return{r:a,c:n[0],cRel:n[1],rRel:n[2]}}function Xk(e){var t=ol(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Jk(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Zk(e,t,r){var a=r&&r.biff?r.biff:8;if(a>=2&&a<=5)return eD(e);var n=e.read_shift(a>=12?4:2),s=e.read_shift(2),o=(s&16384)>>14,A=(s&32768)>>15;if(s&=16383,A==1)for(;n>524287;)n-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:n,c:s,cRel:o,rRel:A}}function eD(e){var t=e.read_shift(2),r=e.read_shift(1),a=(t&32768)>>15,n=(t&16384)>>14;return t&=16383,a==1&&t>=8192&&(t=t-16384),n==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:n,rRel:a}}function tD(e,t,r){var a=(e[e.l++]&96)>>5,n=Q5(e,r.biff>=2&&r.biff<=5?6:8,r);return[a,n]}function rD(e,t,r){var a=(e[e.l++]&96)>>5,n=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var o=Q5(e,s,r);return[a,n,o]}function aD(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[a]}function nD(e,t,r){var a=(e[e.l++]&96)>>5,n=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[a,n]}function iD(e,t,r){var a=(e[e.l++]&96)>>5,n=Wk(e,t-1,r);return[a,n]}function sD(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[a]}function L4(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function oD(e,t,r){e.l+=2;for(var a=e.read_shift(r&&r.biff==2?1:2),n=[],s=0;s<=a;++s)n.push(e.read_shift(r&&r.biff==2?1:2));return n}function AD(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function lD(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function cD(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function dD(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[a]}function H5(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function uD(e){return e.read_shift(2),H5(e)}function fD(e){return e.read_shift(2),H5(e)}function pD(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var n=K5(e,0,r);return[a,n]}function hD(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var n=Zk(e,0,r);return[a,n]}function mD(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=K5(e,0,r);return[a,n,s]}function gD(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(r&&r.biff<=3?1:2);return[v8[n],V5[n],a]}function xD(e,t,r){var a=e[e.l++],n=e.read_shift(1),s=r&&r.biff<=3?[a==88?-1:0,e.read_shift(1)]:yD(e);return[n,(s[0]===0?V5:y8)[s[1]]]}function yD(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function vD(e,t,r){e.l+=r&&r.biff==2?3:4}function wD(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var a=e.read_shift(2),n=e.read_shift(r&&r.biff==2?1:2);return[a,n]}function ED(e){return e.l++,oA[e.read_shift(1)]}function bD(e){return e.l++,e.read_shift(2)}function _D(e){return e.l++,e.read_shift(1)!==0}function CD(e){return e.l++,Yn(e)}function BD(e,t,r){return e.l++,A0(e,t-1,r)}function SD(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Da(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=oA[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Yn(e);break;case 2:r[1]=yc(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function TD(e,t,r){for(var a=e.read_shift(r.biff==12?4:2),n=[],s=0;s!=a;++s)n.push((r.biff==12?xc:Em)(e));return n}function OD(e,t,r){var a=0,n=0;r.biff==12?(a=e.read_shift(4),n=e.read_shift(4)):(n=1+e.read_shift(1),a=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--a,--n==0&&(n=256));for(var s=0,o=[];s!=a&&(o[s]=[]);++s)for(var A=0;A!=n;++A)o[s][A]=SD(e,r.biff);return o}function ID(e,t,r){var a=e.read_shift(1)>>>5&3,n=!r||r.biff>=8?4:2,s=e.read_shift(n);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[a,0,s]}function ND(e,t,r){if(r.biff==5)return FD(e);var a=e.read_shift(1)>>>5&3,n=e.read_shift(2),s=e.read_shift(4);return[a,n,s]}function FD(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var a=e.read_shift(2);return e.l+=12,[t,r,a]}function RD(e,t,r){var a=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var n=e.read_shift(r&&r.biff==2?1:2);return[a,n]}function kD(e,t,r){var a=e.read_shift(1)>>>5&3,n=e.read_shift(r&&r.biff==2?1:2);return[a,n]}function DD(e,t,r){var a=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[a]}function jD(e,t,r){var a=(e[e.l++]&96)>>5,n=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[a,n]}var LD=ti,UD=ti,MD=ti;function c0(e,t,r){return e.l+=2,[Jk(e)]}function dy(e){return e.l+=6,[]}var PD=c0,QD=dy,qD=dy,KD=c0;function G5(e){return e.l+=2,[Xa(e),e.read_shift(2)&1]}var HD=c0,GD=G5,zD=dy,VD=c0,$D=c0,YD=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function WD(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(4),n=e.read_shift(2),s=e.read_shift(2),o=YD[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:a,c:n,C:s}}function XD(e){return e.l+=2,[e.read_shift(4)]}function JD(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function ZD(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function e8(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function t8(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function r8(e){return e.l+=4,[0,0]}var U4={1:{n:"PtgExp",f:wD},2:{n:"PtgTbl",f:MD},3:{n:"PtgAdd",f:Va},4:{n:"PtgSub",f:Va},5:{n:"PtgMul",f:Va},6:{n:"PtgDiv",f:Va},7:{n:"PtgPower",f:Va},8:{n:"PtgConcat",f:Va},9:{n:"PtgLt",f:Va},10:{n:"PtgLe",f:Va},11:{n:"PtgEq",f:Va},12:{n:"PtgGe",f:Va},13:{n:"PtgGt",f:Va},14:{n:"PtgNe",f:Va},15:{n:"PtgIsect",f:Va},16:{n:"PtgUnion",f:Va},17:{n:"PtgRange",f:Va},18:{n:"PtgUplus",f:Va},19:{n:"PtgUminus",f:Va},20:{n:"PtgPercent",f:Va},21:{n:"PtgParen",f:Va},22:{n:"PtgMissArg",f:Va},23:{n:"PtgStr",f:BD},26:{n:"PtgSheet",f:JD},27:{n:"PtgEndSheet",f:ZD},28:{n:"PtgErr",f:ED},29:{n:"PtgBool",f:_D},30:{n:"PtgInt",f:bD},31:{n:"PtgNum",f:CD},32:{n:"PtgArray",f:sD},33:{n:"PtgFunc",f:gD},34:{n:"PtgFuncVar",f:xD},35:{n:"PtgName",f:ID},36:{n:"PtgRef",f:pD},37:{n:"PtgArea",f:tD},38:{n:"PtgMemArea",f:RD},39:{n:"PtgMemErr",f:LD},40:{n:"PtgMemNoMem",f:UD},41:{n:"PtgMemFunc",f:kD},42:{n:"PtgRefErr",f:DD},43:{n:"PtgAreaErr",f:aD},44:{n:"PtgRefN",f:hD},45:{n:"PtgAreaN",f:iD},46:{n:"PtgMemAreaN",f:e8},47:{n:"PtgMemNoMemN",f:t8},57:{n:"PtgNameX",f:ND},58:{n:"PtgRef3d",f:mD},59:{n:"PtgArea3d",f:rD},60:{n:"PtgRefErr3d",f:jD},61:{n:"PtgAreaErr3d",f:nD},255:{}},a8={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},n8={1:{n:"PtgElfLel",f:G5},2:{n:"PtgElfRw",f:VD},3:{n:"PtgElfCol",f:PD},6:{n:"PtgElfRwV",f:$D},7:{n:"PtgElfColV",f:KD},10:{n:"PtgElfRadical",f:HD},11:{n:"PtgElfRadicalS",f:zD},13:{n:"PtgElfColS",f:QD},15:{n:"PtgElfColSV",f:qD},16:{n:"PtgElfRadicalLel",f:GD},25:{n:"PtgList",f:WD},29:{n:"PtgSxName",f:XD},255:{}},i8={0:{n:"PtgAttrNoop",f:r8},1:{n:"PtgAttrSemi",f:dD},2:{n:"PtgAttrIf",f:lD},4:{n:"PtgAttrChoose",f:oD},8:{n:"PtgAttrGoto",f:AD},16:{n:"PtgAttrSum",f:vD},32:{n:"PtgAttrBaxcel",f:L4},33:{n:"PtgAttrBaxcel",f:L4},64:{n:"PtgAttrSpace",f:uD},65:{n:"PtgAttrSpaceSemi",f:fD},128:{n:"PtgAttrIfError",f:cD},255:{}};function d0(e,t,r,a){if(a.biff<8)return ti(e,t);for(var n=e.l+t,s=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=OD(e,0,a),s.push(r[o][1]);break;case"PtgMemArea":r[o][2]=TD(e,r[o][1],a),s.push(r[o][2]);break;case"PtgExp":a&&a.biff==12&&(r[o][1][1]=e.read_shift(4),s.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=n-e.l,t!==0&&s.push(ti(e,t)),s}function u0(e,t,r){for(var a=e.l+t,n,s,o=[];a!=e.l;)t=a-e.l,s=e[e.l],n=U4[s]||U4[a8[s]],(s===24||s===25)&&(n=(s===24?n8:i8)[e[e.l+1]]),!n||!n.f?ti(e,t):o.push([n.n,n.f(e,t,r)]);return o}function s8(e){for(var t=[],r=0;r<e.length;++r){for(var a=e[r],n=[],s=0;s<a.length;++s){var o=a[s];if(o)switch(o[0]){case 2:n.push('"'+o[1].replace(/"/g,'""')+'"');break;default:n.push(o[1])}else n.push("")}t.push(n.join(","))}return t.join(";")}var o8={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function A8(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function z5(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var a=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!a)return"SH33TJSERR1";var n="";if(r.biff>8)switch(e[a[0]][0]){case 357:return n=a[1]==-1?"#REF":e.SheetNames[a[1]],a[1]==a[2]?n:n+":"+e.SheetNames[a[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[a[0]][0];case 355:default:return"SH33TJSSRC"+e[a[0]][0]}switch(e[a[0]][0][0]){case 1025:return n=a[1]==-1?"#REF":e.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?n:n+":"+e.SheetNames[a[2]];case 14849:return e[a[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[a[0]][0][3]?(n=a[1]==-1?"#REF":e[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?n:n+":"+e[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function M4(e,t,r){var a=z5(e,t,r);return a=="#REF"?a:A8(a,r)}function Hn(e,t,r,a,n){var s=n&&n.biff||8,o={s:{c:0,r:0}},A=[],l,c,d,f=0,p=0,u,g="";if(!e[0]||!e[0][0])return"";for(var h=-1,y="",x=0,v=e[0].length;x<v;++x){var E=e[0][x];switch(E[0]){case"PtgUminus":A.push("-"+A.pop());break;case"PtgUplus":A.push("+"+A.pop());break;case"PtgPercent":A.push(A.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=A.pop(),c=A.pop(),h>=0){switch(e[0][h][1][0]){case 0:y=Ba(" ",e[0][h][1][1]);break;case 1:y=Ba("\r",e[0][h][1][1]);break;default:if(y="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][h][1][0])}c=c+y,h=-1}A.push(c+o8[E[0]]+l);break;case"PtgIsect":l=A.pop(),c=A.pop(),A.push(c+" "+l);break;case"PtgUnion":l=A.pop(),c=A.pop(),A.push(c+","+l);break;case"PtgRange":l=A.pop(),c=A.pop(),A.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=df(E[1][1],o,n),A.push(uf(d,s));break;case"PtgRefN":d=r?df(E[1][1],r,n):E[1][1],A.push(uf(d,s));break;case"PtgRef3d":f=E[1][1],d=df(E[1][2],o,n),g=M4(a,f,n),A.push(g+"!"+uf(d,s));break;case"PtgFunc":case"PtgFuncVar":var R=E[1][0],b=E[1][1];R||(R=0),R&=127;var T=R==0?[]:A.slice(-R);A.length-=R,b==="User"&&(b=T.shift()),A.push(b+"("+T.join(",")+")");break;case"PtgBool":A.push(E[1]?"TRUE":"FALSE");break;case"PtgInt":A.push(E[1]);break;case"PtgNum":A.push(String(E[1]));break;case"PtgStr":A.push('"'+E[1].replace(/"/g,'""')+'"');break;case"PtgErr":A.push(E[1]);break;case"PtgAreaN":u=p4(E[1][1],r?{s:r}:o,n),A.push(Ig(u,n));break;case"PtgArea":u=p4(E[1][1],o,n),A.push(Ig(u,n));break;case"PtgArea3d":f=E[1][1],u=E[1][2],g=M4(a,f,n),A.push(g+"!"+Ig(u,n));break;case"PtgAttrSum":A.push("SUM("+A.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=E[1][2];var _=(a.names||[])[p-1]||(a[0]||[])[p],S=_?_.Name:"SH33TJSNAME"+String(p);S&&S.slice(0,6)=="_xlfn."&&!n.xlfn&&(S=S.slice(6)),A.push(S);break;case"PtgNameX":var O=E[1][1];p=E[1][2];var M;if(n.biff<=5)O<0&&(O=-O),a[O]&&(M=a[O][p]);else{var I="";if(((a[O]||[])[0]||[])[0]==14849||(((a[O]||[])[0]||[])[0]==1025?a[O][p]&&a[O][p].itab>0&&(I=a.SheetNames[a[O][p].itab-1]+"!"):I=a.SheetNames[p-1]+"!"),a[O]&&a[O][p])I+=a[O][p].Name;else if(a[0]&&a[0][p])I+=a[0][p].Name;else{var D=(z5(a,O,n)||"").split(";;");D[p-1]?I=D[p-1]:I+="SH33TJSERRX"}A.push(I);break}M||(M={Name:"SH33TJSERRY"}),A.push(M.Name);break;case"PtgParen":var L="(",N=")";if(h>=0){switch(y="",e[0][h][1][0]){case 2:L=Ba(" ",e[0][h][1][1])+L;break;case 3:L=Ba("\r",e[0][h][1][1])+L;break;case 4:N=Ba(" ",e[0][h][1][1])+N;break;case 5:N=Ba("\r",e[0][h][1][1])+N;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][h][1][0])}h=-1}A.push(L+A.pop()+N);break;case"PtgRefErr":A.push("#REF!");break;case"PtgRefErr3d":A.push("#REF!");break;case"PtgExp":d={c:E[1][1],r:E[1][0]};var P={c:r.c,r:r.r};if(a.sharedf[Vt(d)]){var Q=a.sharedf[Vt(d)];A.push(Hn(Q,o,P,a,n))}else{var J=!1;for(l=0;l!=a.arrayf.length;++l)if(c=a.arrayf[l],!(d.c<c[0].s.c||d.c>c[0].e.c)&&!(d.r<c[0].s.r||d.r>c[0].e.r)){A.push(Hn(c[1],o,P,a,n)),J=!0;break}J||A.push(E[1])}break;case"PtgArray":A.push("{"+s8(E[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":h=x;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":A.push("");break;case"PtgAreaErr":A.push("#REF!");break;case"PtgAreaErr3d":A.push("#REF!");break;case"PtgList":A.push("Table"+E[1].idx+"[#"+E[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(E));default:throw new Error("Unrecognized Formula Token: "+String(E))}var te=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(n.biff!=3&&h>=0&&te.indexOf(e[0][x][0])==-1){E=e[0][h];var V=!0;switch(E[1][0]){case 4:V=!1;case 0:y=Ba(" ",E[1][1]);break;case 5:V=!1;case 1:y=Ba("\r",E[1][1]);break;default:if(y="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+E[1][0])}A.push((V?y:"")+A.pop()+(V?"":y)),h=-1}}if(A.length>1&&n.WTF)throw new Error("bad formula stack");return A[0]}function l8(e,t,r){var a=e.l+t,n=r.biff==2?1:2,s,o=e.read_shift(n);if(o==65535)return[[],ti(e,t-2)];var A=u0(e,o,r);return t!==o+n&&(s=d0(e,t-o-n,A,r)),e.l=a,[A,s]}function c8(e,t,r){var a=e.l+t,n=r.biff==2?1:2,s,o=e.read_shift(n);if(o==65535)return[[],ti(e,t-2)];var A=u0(e,o,r);return t!==o+n&&(s=d0(e,t-o-n,A,r)),e.l=a,[A,s]}function d8(e,t,r,a){var n=e.l+t,s=u0(e,a,r),o;return n!==e.l&&(o=d0(e,n-e.l,s,r)),[s,o]}function u8(e,t,r){var a=e.l+t,n,s=e.read_shift(2),o=u0(e,s,r);return s==65535?[[],ti(e,t-2)]:(t!==s+2&&(n=d0(e,a-s-2,o,r)),[o,n])}function f8(e){var t;if(zo(e,e.l+6)!==65535)return[Yn(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function p8(e){if(e==null){var t=Je(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return oc(e);return oc(0)}function Dg(e,t,r){var a=e.l+t,n=wo(e);r.biff==2&&++e.l;var s=f8(e),o=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var A=c8(e,a-e.l,r);return{cell:n,val:s[0],formula:A,shared:o>>3&1,tt:s[1]}}function h8(e,t,r,a,n){var s=lc(t,r,n),o=p8(e.v),A=Je(6),l=33;A.write_shift(2,l),A.write_shift(4,0);for(var c=Je(e.bf.length),d=0;d<e.bf.length;++d)c[d]=e.bf[d];var f=gn([s,o,A,c]);return f}function bm(e,t,r){var a=e.read_shift(4),n=u0(e,a,r),s=e.read_shift(4),o=s>0?d0(e,s,n,r):null;return[n,o]}var m8=bm,_m=bm,g8=bm,x8=bm,y8={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},V5={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},v8={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function P4(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function w8(e){var t="of:="+e.replace(ly,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function jg(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function E8(e){return e.replace(/\./,"!")}var pf={},Nd={},hf=typeof Map<"u";function uy(e,t,r){var a=0,n=e.length;if(r){if(hf?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var s=hf?r.get(t):r[t];a<s.length;++a)if(e[s[a]].t===t)return e.Count++,s[a]}}else for(;a<n;++a)if(e[a].t===t)return e.Count++,a;return e[n]={t},e.Count++,e.Unique++,r&&(hf?(r.has(t)||r.set(t,[]),r.get(t).push(n)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(n))),n}function Cm(e,t){var r={min:e+1,max:e+1},a=-1;return t.MDW&&(zn=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?a=Kf(t.wpx):t.wch!=null&&(a=t.wch),a>-1?(r.width=jh(a),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function Wl(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function hl(e,t,r){var a=r.revssf[t.z!=null?t.z:"General"],n=60,s=e.length;if(a==null&&r.ssf){for(;n<392;++n)if(r.ssf[n]==null){mo(t.z,n),r.ssf[n]=t.z,r.revssf[t.z]=a=n;break}}for(n=0;n!=s;++n)if(e[n].numFmtId===a)return n;return e[s]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function $5(e,t,r,a,n,s){try{a.cellNF&&(e.z=Ht[t])}catch(A){if(a.WTF)throw A}if(!(e.t==="z"&&!a.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=ca(e.v)),(!a||a.cellText!==!1)&&e.t!=="z")try{if(Ht[t]==null&&mo(x3[t]||"General",t),e.t==="e")e.w=e.w||oA[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=jf(e.v);else if(e.t==="d"){var o=An(e.v);(o|0)===o?e.w=o.toString(10):e.w=jf(o)}else{if(e.v===void 0)return"";e.w=ic(e.v,Nd)}else e.t==="d"?e.w=ns(t,An(e.v),Nd):e.w=ns(t,e.v,Nd)}catch(A){if(a.WTF)throw A}if(a.cellStyles&&r!=null)try{e.s=s.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Dh(n.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),a.WTF&&(e.s.fgColor.raw_rgb=n.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Dh(n.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),a.WTF&&(e.s.bgColor.raw_rgb=n.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(A){if(a.WTF&&s.Fills)throw A}}}function b8(e,t,r){if(e&&e["!ref"]){var a=xr(e["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function _8(e,t){var r=xr(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=sr(r))}var C8=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,B8=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,S8=/<(?:\w:)?hyperlink [^>]*>/mg,T8=/"(\w*:\w*)"/,O8=/<(?:\w:)?col\b[^>]*[\/]?>/g,I8=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,N8=/<(?:\w:)?pageMargins[^>]*\/>/g,Y5=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,F8=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,R8=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function k8(e,t,r,a,n,s,o){if(!e)return e;a||(a={"!id":{}});var A=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",d="",f=e.match(B8);f?(c=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):c=d=e;var p=c.match(Y5);p?fy(p[0],A,n,r):(p=c.match(F8))&&j8(p[0],p[1]||"",A,n,r);var u=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(u>0){var g=c.slice(u,u+50).match(T8);g&&_8(A,g[1])}var h=c.match(R8);h&&h[1]&&Y8(h[1],n);var y=[];if(t.cellStyles){var x=c.match(O8);x&&H8(y,x)}f&&J8(f[1],A,t,l,s,o);var v=d.match(I8);v&&(A["!autofilter"]=z8(v[0]));var E=[],R=d.match(C8);if(R)for(u=0;u!=R.length;++u)E[u]=xr(R[u].slice(R[u].indexOf('"')+1));var b=d.match(S8);b&&Q8(A,b,a);var T=d.match(N8);if(T&&(A["!margins"]=q8(Wt(T[0]))),!A["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(A["!ref"]=sr(l)),t.sheetRows>0&&A["!ref"]){var _=xr(A["!ref"]);t.sheetRows<=+_.e.r&&(_.e.r=t.sheetRows-1,_.e.r>l.e.r&&(_.e.r=l.e.r),_.e.r<_.s.r&&(_.s.r=_.e.r),_.e.c>l.e.c&&(_.e.c=l.e.c),_.e.c<_.s.c&&(_.s.c=_.e.c),A["!fullref"]=A["!ref"],A["!ref"]=sr(_))}return y.length>0&&(A["!cols"]=y),E.length>0&&(A["!merges"]=E),A}function D8(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+sr(e[r])+'"/>';return t+"</mergeCells>"}function fy(e,t,r,a){var n=Wt(e);r.Sheets[a]||(r.Sheets[a]={}),n.codeName&&(r.Sheets[a].CodeName=Tr(zr(n.codeName)))}function j8(e,t,r,a,n){fy(e.slice(0,e.indexOf(">")),r,a,n)}function L8(e,t,r,a,n){var s=!1,o={},A=null;if(a.bookType!=="xlsx"&&t.vbaraw){var l=t.SheetNames[r];try{t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch{}s=!0,o.codeName=fo(Kr(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),A=(A||"")+gt("outlinePr",null,c)}!s&&!A||(n[n.length]=gt("sheetPr",A,o))}var U8=["objects","scenarios","selectLockedCells","selectUnlockedCells"],M8=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function P8(e){var t={sheet:1};return U8.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),M8.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=sy(e.password).toString(16).toUpperCase()),gt("sheetProtection",null,t)}function Q8(e,t,r){for(var a=Array.isArray(e),n=0;n!=t.length;++n){var s=Wt(zr(t[n]),!0);if(!s.ref)return;var o=((r||{})["!id"]||[])[s.id];o?(s.Target=o.Target,s.location&&(s.Target+="#"+Tr(s.location))):(s.Target="#"+Tr(s.location),o={Target:s.Target,TargetMode:"Internal"}),s.Rel=o,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var A=xr(s.ref),l=A.s.r;l<=A.e.r;++l)for(var c=A.s.c;c<=A.e.c;++c){var d=Vt({c,r:l});a?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=s):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=s)}}}function q8(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function K8(e){return Wl(e),gt("pageMargins",null,e)}function H8(e,t){for(var r=!1,a=0;a!=t.length;++a){var n=Wt(t[a],!0);n.hidden&&(n.hidden=sa(n.hidden));var s=parseInt(n.min,10)-1,o=parseInt(n.max,10)-1;for(n.outlineLevel&&(n.level=+n.outlineLevel||0),delete n.min,delete n.max,n.width=+n.width,!r&&n.width&&(r=!0,oy(n.width)),sl(n);s<=o;)e[s++]=ea(n)}}function G8(e,t){for(var r=["<cols>"],a,n=0;n!=t.length;++n)(a=t[n])&&(r[r.length]=gt("col",null,Cm(n,a)));return r[r.length]="</cols>",r.join("")}function z8(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function V8(e,t,r,a){var n=typeof e.ref=="string"?e.ref:sr(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=vi(n);o.s.r==o.e.r&&(o.e.r=vi(t["!ref"]).e.r,n=sr(o));for(var A=0;A<s.length;++A){var l=s[A];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==a){l.Ref="'"+r.SheetNames[a]+"'!"+n;break}}return A==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+n}),gt("autoFilter",null,{ref:n})}var $8=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Y8(e,t){t.Views||(t.Views=[{}]),(e.match($8)||[]).forEach(function(r,a){var n=Wt(r);t.Views[a]||(t.Views[a]={}),+n.zoomScale&&(t.Views[a].zoom=+n.zoomScale),sa(n.rightToLeft)&&(t.Views[a].RTL=!0)})}function W8(e,t,r,a){var n={workbookViewId:"0"};return(((a||{}).Workbook||{}).Views||[])[0]&&(n.rightToLeft=a.Workbook.Views[0].RTL?"1":"0"),gt("sheetViews",gt("sheetView",null,n),{})}function X8(e,t,r,a){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var n="",s=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":n=e.v?"1":"0";break;case"n":n=""+e.v;break;case"e":n=oA[e.v];break;case"d":a&&a.cellDates?n=ca(e.v,-1).toISOString():(e=ea(e),e.t="n",n=""+(e.v=An(ca(e.v)))),typeof e.z>"u"&&(e.z=Ht[14]);break;default:n=e.v;break}var A=In("v",Kr(n)),l={r:t},c=hl(a.cellXfs,e,a);switch(c!==0&&(l.s=c),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){A=In("v",""+uy(a.Strings,e.v,a.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=s&&(e.t=s,e.v=o),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;A=gt("f",Kr(e.f),d)+(e.v!=null?A:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(l.cm=1),gt("c",A,l)}var J8=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,a=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,n=/ref=["']([^"']*)["']/,s=Lf("v"),o=Lf("f");return function(l,c,d,f,p,u){for(var g=0,h="",y=[],x=[],v=0,E=0,R=0,b="",T,_,S=0,O=0,M,I,D=0,L=0,N=Array.isArray(u.CellXf),P,Q=[],J=[],te=Array.isArray(c),V=[],G={},z=!1,C=!!d.sheetStubs,k=l.split(t),j=0,H=k.length;j!=H;++j){h=k[j].trim();var Y=h.length;if(Y!==0){var de=0;e:for(g=0;g<Y;++g)switch(h[g]){case">":if(h[g-1]!="/"){++g;break e}if(d&&d.cellStyles){if(_=Wt(h.slice(de,g),!0),S=_.r!=null?parseInt(_.r,10):S+1,O=-1,d.sheetRows&&d.sheetRows<S)continue;G={},z=!1,_.ht&&(z=!0,G.hpt=parseFloat(_.ht),G.hpx=Hd(G.hpt)),_.hidden=="1"&&(z=!0,G.hidden=!0),_.outlineLevel!=null&&(z=!0,G.level=+_.outlineLevel),z&&(V[S-1]=G)}break;case"<":de=g;break}if(de>=g)break;if(_=Wt(h.slice(de,g),!0),S=_.r!=null?parseInt(_.r,10):S+1,O=-1,!(d.sheetRows&&d.sheetRows<S)){f.s.r>S-1&&(f.s.r=S-1),f.e.r<S-1&&(f.e.r=S-1),d&&d.cellStyles&&(G={},z=!1,_.ht&&(z=!0,G.hpt=parseFloat(_.ht),G.hpx=Hd(G.hpt)),_.hidden=="1"&&(z=!0,G.hidden=!0),_.outlineLevel!=null&&(z=!0,G.level=+_.outlineLevel),z&&(V[S-1]=G)),y=h.slice(g).split(e);for(var ue=0;ue!=y.length&&y[ue].trim().charAt(0)=="<";++ue);for(y=y.slice(ue),g=0;g!=y.length;++g)if(h=y[g].trim(),h.length!==0){if(x=h.match(r),v=g,E=0,R=0,h="<c "+(h.slice(0,1)=="<"?">":"")+h,x!=null&&x.length===2){for(v=0,b=x[1],E=0;E!=b.length&&!((R=b.charCodeAt(E)-64)<1||R>26);++E)v=26*v+R;--v,O=v}else++O;for(E=0;E!=h.length&&h.charCodeAt(E)!==62;++E);if(++E,_=Wt(h.slice(0,E),!0),_.r||(_.r=Vt({r:S-1,c:O})),b=h.slice(E),T={t:""},(x=b.match(s))!=null&&x[1]!==""&&(T.v=Tr(x[1])),d.cellFormula){if((x=b.match(o))!=null&&x[1]!==""){if(T.f=Tr(zr(x[1])).replace(/\r\n/g,`
`),d.xlfn||(T.f=j4(T.f)),x[0].indexOf('t="array"')>-1)T.F=(b.match(n)||[])[1],T.F.indexOf(":")>-1&&Q.push([xr(T.F),T.F]);else if(x[0].indexOf('t="shared"')>-1){I=Wt(x[0]);var he=Tr(zr(x[1]));d.xlfn||(he=j4(he)),J[parseInt(I.si,10)]=[I,he,_.r]}}else(x=b.match(/<f[^>]*\/>/))&&(I=Wt(x[0]),J[I.si]&&(T.f=$k(J[I.si][1],J[I.si][2],_.r)));var xe=xa(_.r);for(E=0;E<Q.length;++E)xe.r>=Q[E][0].s.r&&xe.r<=Q[E][0].e.r&&xe.c>=Q[E][0].s.c&&xe.c<=Q[E][0].e.c&&(T.F=Q[E][1])}if(_.t==null&&T.v===void 0)if(T.f||T.F)T.v=0,T.t="n";else if(C)T.t="z";else continue;else T.t=_.t||"n";switch(f.s.c>O&&(f.s.c=O),f.e.c<O&&(f.e.c=O),T.t){case"n":if(T.v==""||T.v==null){if(!C)continue;T.t="z"}else T.v=parseFloat(T.v);break;case"s":if(typeof T.v>"u"){if(!C)continue;T.t="z"}else M=pf[parseInt(T.v,10)],T.v=M.t,T.r=M.r,d.cellHTML&&(T.h=M.h);break;case"str":T.t="s",T.v=T.v!=null?zr(T.v):"",d.cellHTML&&(T.h=Q2(T.v));break;case"inlineStr":x=b.match(a),T.t="s",x!=null&&(M=iy(x[1]))?(T.v=M.t,d.cellHTML&&(T.h=M.h)):T.v="";break;case"b":T.v=sa(T.v);break;case"d":d.cellDates?T.v=ca(T.v,1):(T.v=An(ca(T.v,1)),T.t="n");break;case"e":(!d||d.cellText!==!1)&&(T.w=T.v),T.v=X_[T.v];break}if(D=L=0,P=null,N&&_.s!==void 0&&(P=u.CellXf[_.s],P!=null&&(P.numFmtId!=null&&(D=P.numFmtId),d.cellStyles&&P.fillId!=null&&(L=P.fillId))),$5(T,D,L,d,p,u),d.cellDates&&N&&T.t=="n"&&fc(Ht[D])&&(T.t="d",T.v=vm(T.v)),_.cm&&d.xlmeta){var ve=(d.xlmeta.Cell||[])[+_.cm-1];ve&&ve.type=="XLDAPR"&&(T.D=!0)}if(te){var se=xa(_.r);c[se.r]||(c[se.r]=[]),c[se.r][se.c]=T}else c[_.r]=T}}}}V.length>0&&(c["!rows"]=V)}}();function Z8(e,t,r,a){var n=[],s=[],o=xr(e["!ref"]),A="",l,c="",d=[],f=0,p=0,u=e["!rows"],g=Array.isArray(e),h={r:c},y,x=-1;for(p=o.s.c;p<=o.e.c;++p)d[p]=la(p);for(f=o.s.r;f<=o.e.r;++f){for(s=[],c=Ta(f),p=o.s.c;p<=o.e.c;++p){l=d[p]+c;var v=g?(e[f]||[])[p]:e[l];v!==void 0&&(A=X8(v,l,e,t))!=null&&s.push(A)}(s.length>0||u&&u[f])&&(h={r:c},u&&u[f]&&(y=u[f],y.hidden&&(h.hidden=1),x=-1,y.hpx?x=Hf(y.hpx):y.hpt&&(x=y.hpt),x>-1&&(h.ht=x,h.customHeight=1),y.level&&(h.outlineLevel=y.level)),n[n.length]=gt("row",s.join(""),h))}if(u)for(;f<u.length;++f)u&&u[f]&&(h={r:f+1},y=u[f],y.hidden&&(h.hidden=1),x=-1,y.hpx?x=Hf(y.hpx):y.hpt&&(x=y.hpt),x>-1&&(h.ht=x,h.customHeight=1),y.level&&(h.outlineLevel=y.level),n[n.length]=gt("row","",h));return n.join("")}function W5(e,t,r,a){var n=[Ka,gt("worksheet",null,{xmlns:pc[0],"xmlns:r":sn.r})],s=r.SheetNames[e],o=0,A="",l=r.Sheets[s];l==null&&(l={});var c=l["!ref"]||"A1",d=xr(c);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),c=sr(d)}a||(a={}),l["!comments"]=[];var f=[];L8(l,r,e,t,n),n[n.length]=gt("dimension",null,{ref:c}),n[n.length]=W8(l,t,e,r),t.sheetFormat&&(n[n.length]=gt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(n[n.length]=G8(l,l["!cols"])),n[o=n.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(A=Z8(l,t),A.length>0&&(n[n.length]=A)),n.length>o+1&&(n[n.length]="</sheetData>",n[o]=n[o].replace("/>",">")),l["!protect"]&&(n[n.length]=P8(l["!protect"])),l["!autofilter"]!=null&&(n[n.length]=V8(l["!autofilter"],l,r,e)),l["!merges"]!=null&&l["!merges"].length>0&&(n[n.length]=D8(l["!merges"]));var p=-1,u,g=-1;return l["!links"].length>0&&(n[n.length]="<hyperlinks>",l["!links"].forEach(function(h){h[1].Target&&(u={ref:h[0]},h[1].Target.charAt(0)!="#"&&(g=qr(a,-1,Kr(h[1].Target).replace(/#.*$/,""),ur.HLINK),u["r:id"]="rId"+g),(p=h[1].Target.indexOf("#"))>-1&&(u.location=Kr(h[1].Target.slice(p+1))),h[1].Tooltip&&(u.tooltip=Kr(h[1].Tooltip)),n[n.length]=gt("hyperlink",null,u))}),n[n.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(n[n.length]=K8(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(n[n.length]=In("ignoredErrors",gt("ignoredError",null,{numberStoredAsText:1,sqref:c}))),f.length>0&&(g=qr(a,-1,"../drawings/drawing"+(e+1)+".xml",ur.DRAW),n[n.length]=gt("drawing",null,{"r:id":"rId"+g}),l["!drawing"]=f),l["!comments"].length>0&&(g=qr(a,-1,"../drawings/vmlDrawing"+(e+1)+".vml",ur.VML),n[n.length]=gt("legacyDrawing",null,{"r:id":"rId"+g}),l["!legacy"]=g),n.length>1&&(n[n.length]="</worksheet>",n[1]=n[1].replace("/>",">")),n.join("")}function ej(e,t){var r={},a=e.l+t;r.r=e.read_shift(4),e.l+=4;var n=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=a,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=n/20),r}function tj(e,t,r){var a=Je(145),n=(r["!rows"]||[])[e]||{};a.write_shift(4,e),a.write_shift(4,0);var s=320;n.hpx?s=Hf(n.hpx)*20:n.hpt&&(s=n.hpt*20),a.write_shift(2,s),a.write_shift(1,0);var o=0;n.level&&(o|=n.level),n.hidden&&(o|=16),(n.hpx||n.hpt)&&(o|=32),a.write_shift(1,o),a.write_shift(1,0);var A=0,l=a.l;a.l+=4;for(var c={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,p=-1,u=d<<10;u<d+1<<10;++u){c.c=u;var g=Array.isArray(r)?(r[c.r]||[])[c.c]:r[Vt(c)];g&&(f<0&&(f=u),p=u)}f<0||(++A,a.write_shift(4,f),a.write_shift(4,p))}var h=a.l;return a.l=l,a.write_shift(4,A),a.l=h,a.length>a.l?a.slice(0,a.l):a}function rj(e,t,r,a){var n=tj(a,r,t);(n.length>17||(t["!rows"]||[])[a])&&st(e,0,n)}var aj=xc,nj=Jd;function ij(){}function sj(e,t){var r={},a=e[e.l];return++e.l,r.above=!(a&64),r.left=!(a&128),e.l+=18,r.name=lN(e),r}function oj(e,t,r){r==null&&(r=Je(84+4*e.length));var a=192;t&&(t.above&&(a&=-65),t.left&&(a&=-129)),r.write_shift(1,a);for(var n=1;n<3;++n)r.write_shift(1,0);return Fh({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),z_(e,r),r.slice(0,r.l)}function Aj(e){var t=Os(e);return[t]}function lj(e,t,r){return r==null&&(r=Je(8)),hc(t,r)}function cj(e){var t=mc(e);return[t]}function dj(e,t,r){return r==null&&(r=Je(4)),gc(t,r)}function uj(e){var t=Os(e),r=e.read_shift(1);return[t,r,"b"]}function fj(e,t,r){return r==null&&(r=Je(9)),hc(t,r),r.write_shift(1,e.v?1:0),r}function pj(e){var t=mc(e),r=e.read_shift(1);return[t,r,"b"]}function hj(e,t,r){return r==null&&(r=Je(5)),gc(t,r),r.write_shift(1,e.v?1:0),r}function mj(e){var t=Os(e),r=e.read_shift(1);return[t,r,"e"]}function gj(e,t,r){return r==null&&(r=Je(9)),hc(t,r),r.write_shift(1,e.v),r}function xj(e){var t=mc(e),r=e.read_shift(1);return[t,r,"e"]}function yj(e,t,r){return r==null&&(r=Je(8)),gc(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function vj(e){var t=Os(e),r=e.read_shift(4);return[t,r,"s"]}function wj(e,t,r){return r==null&&(r=Je(12)),hc(t,r),r.write_shift(4,t.v),r}function Ej(e){var t=mc(e),r=e.read_shift(4);return[t,r,"s"]}function bj(e,t,r){return r==null&&(r=Je(8)),gc(t,r),r.write_shift(4,t.v),r}function _j(e){var t=Os(e),r=Yn(e);return[t,r,"n"]}function Cj(e,t,r){return r==null&&(r=Je(16)),hc(t,r),oc(e.v,r),r}function X5(e){var t=mc(e),r=Yn(e);return[t,r,"n"]}function Bj(e,t,r){return r==null&&(r=Je(12)),gc(t,r),oc(e.v,r),r}function Sj(e){var t=Os(e),r=ey(e);return[t,r,"n"]}function Tj(e,t,r){return r==null&&(r=Je(12)),hc(t,r),V_(e.v,r),r}function Oj(e){var t=mc(e),r=ey(e);return[t,r,"n"]}function Ij(e,t,r){return r==null&&(r=Je(8)),gc(t,r),V_(e.v,r),r}function Nj(e){var t=Os(e),r=X2(e);return[t,r,"is"]}function Fj(e){var t=Os(e),r=Zn(e);return[t,r,"str"]}function Rj(e,t,r){return r==null&&(r=Je(12+4*e.v.length)),hc(t,r),xn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function kj(e){var t=mc(e),r=Zn(e);return[t,r,"str"]}function Dj(e,t,r){return r==null&&(r=Je(8+4*e.v.length)),gc(t,r),xn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function jj(e,t,r){var a=e.l+t,n=Os(e);n.r=r["!row"];var s=e.read_shift(1),o=[n,s,"b"];if(r.cellFormula){e.l+=2;var A=_m(e,a-e.l,r);o[3]=Hn(A,null,n,r.supbooks,r)}else e.l=a;return o}function Lj(e,t,r){var a=e.l+t,n=Os(e);n.r=r["!row"];var s=e.read_shift(1),o=[n,s,"e"];if(r.cellFormula){e.l+=2;var A=_m(e,a-e.l,r);o[3]=Hn(A,null,n,r.supbooks,r)}else e.l=a;return o}function Uj(e,t,r){var a=e.l+t,n=Os(e);n.r=r["!row"];var s=Yn(e),o=[n,s,"n"];if(r.cellFormula){e.l+=2;var A=_m(e,a-e.l,r);o[3]=Hn(A,null,n,r.supbooks,r)}else e.l=a;return o}function Mj(e,t,r){var a=e.l+t,n=Os(e);n.r=r["!row"];var s=Zn(e),o=[n,s,"str"];if(r.cellFormula){e.l+=2;var A=_m(e,a-e.l,r);o[3]=Hn(A,null,n,r.supbooks,r)}else e.l=a;return o}var Pj=xc,Qj=Jd;function qj(e,t){return t==null&&(t=Je(4)),t.write_shift(4,e),t}function Kj(e,t){var r=e.l+t,a=xc(e),n=J2(e),s=Zn(e),o=Zn(e),A=Zn(e);e.l=r;var l={rfx:a,relId:n,loc:s,display:A};return o&&(l.Tooltip=o),l}function Hj(e,t){var r=Je(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Jd({s:xa(e[0]),e:xa(e[0])},r),Z2("rId"+t,r);var a=e[1].Target.indexOf("#"),n=a==-1?"":e[1].Target.slice(a+1);return xn(n||"",r),xn(e[1].Tooltip||"",r),xn("",r),r.slice(0,r.l)}function Gj(){}function zj(e,t,r){var a=e.l+t,n=$_(e),s=e.read_shift(1),o=[n];if(o[2]=s,r.cellFormula){var A=m8(e,a-e.l,r);o[1]=A}else e.l=a;return o}function Vj(e,t,r){var a=e.l+t,n=xc(e),s=[n];if(r.cellFormula){var o=x8(e,a-e.l,r);s[1]=o,e.l=a}else e.l=a;return s}function $j(e,t,r){r==null&&(r=Je(18));var a=Cm(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(a.width||10)*256),r.write_shift(4,0);var n=0;return t.hidden&&(n|=1),typeof a.width=="number"&&(n|=2),t.level&&(n|=t.level<<8),r.write_shift(2,n),r}var J5=["left","right","top","bottom","header","footer"];function Yj(e){var t={};return J5.forEach(function(r){t[r]=Yn(e)}),t}function Wj(e,t){return t==null&&(t=Je(6*8)),Wl(e),J5.forEach(function(r){oc(e[r],t)}),t}function Xj(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Jj(e,t,r){r==null&&(r=Je(30));var a=924;return(((t||{}).Views||[])[0]||{}).RTL&&(a|=32),r.write_shift(2,a),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Zj(e){var t=Je(24);return t.write_shift(4,4),t.write_shift(4,1),Jd(e,t),t}function eL(e,t){return t==null&&(t=Je(16*4+2)),t.write_shift(2,e.password?sy(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function tL(){}function rL(){}function aL(e,t,r,a,n,s,o){if(!e)return e;var A=t||{};a||(a={"!id":{}});var l=A.dense?[]:{},c,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,p=!1,u,g,h,y,x,v,E,R,b,T=[];A.biff=12,A["!row"]=0;var _=0,S=!1,O=[],M={},I=A.supbooks||n.supbooks||[[]];if(I.sharedf=M,I.arrayf=O,I.SheetNames=n.SheetNames||n.Sheets.map(function(te){return te.name}),!A.supbooks&&(A.supbooks=I,n.Names))for(var D=0;D<n.Names.length;++D)I[0][D+1]=n.Names[D];var L=[],N=[],P=!1;Gf[16]={n:"BrtShortReal",f:X5};var Q;if(sA(e,function(V,G,z){if(!p)switch(z){case 148:c=V;break;case 0:u=V,A.sheetRows&&A.sheetRows<=u.r&&(p=!0),R=Ta(y=u.r),A["!row"]=u.r,(V.hidden||V.hpt||V.level!=null)&&(V.hpt&&(V.hpx=Hd(V.hpt)),N[V.r]=V);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:V[2]},V[2]){case"n":g.v=V[1];break;case"s":E=pf[V[1]],g.v=E.t,g.r=E.r;break;case"b":g.v=!!V[1];break;case"e":g.v=V[1],A.cellText!==!1&&(g.w=oA[g.v]);break;case"str":g.t="s",g.v=V[1];break;case"is":g.t="s",g.v=V[1].t;break}if((h=o.CellXf[V[0].iStyleRef])&&$5(g,h.numFmtId,null,A,s,o),x=V[0].c==-1?x+1:V[0].c,A.dense?(l[y]||(l[y]=[]),l[y][x]=g):l[la(x)+R]=g,A.cellFormula){for(S=!1,_=0;_<O.length;++_){var C=O[_];u.r>=C[0].s.r&&u.r<=C[0].e.r&&x>=C[0].s.c&&x<=C[0].e.c&&(g.F=sr(C[0]),S=!0)}!S&&V.length>3&&(g.f=V[3])}if(d.s.r>u.r&&(d.s.r=u.r),d.s.c>x&&(d.s.c=x),d.e.r<u.r&&(d.e.r=u.r),d.e.c<x&&(d.e.c=x),A.cellDates&&h&&g.t=="n"&&fc(Ht[h.numFmtId])){var k=PA(g.v);k&&(g.t="d",g.v=new Date(k.y,k.m-1,k.d,k.H,k.M,k.S,k.u))}Q&&(Q.type=="XLDAPR"&&(g.D=!0),Q=void 0);break;case 1:case 12:if(!A.sheetStubs||f)break;g={t:"z",v:void 0},x=V[0].c==-1?x+1:V[0].c,A.dense?(l[y]||(l[y]=[]),l[y][x]=g):l[la(x)+R]=g,d.s.r>u.r&&(d.s.r=u.r),d.s.c>x&&(d.s.c=x),d.e.r<u.r&&(d.e.r=u.r),d.e.c<x&&(d.e.c=x),Q&&(Q.type=="XLDAPR"&&(g.D=!0),Q=void 0);break;case 176:T.push(V);break;case 49:Q=((A.xlmeta||{}).Cell||[])[V-1];break;case 494:var j=a["!id"][V.relId];for(j?(V.Target=j.Target,V.loc&&(V.Target+="#"+V.loc),V.Rel=j):V.relId==""&&(V.Target="#"+V.loc),y=V.rfx.s.r;y<=V.rfx.e.r;++y)for(x=V.rfx.s.c;x<=V.rfx.e.c;++x)A.dense?(l[y]||(l[y]=[]),l[y][x]||(l[y][x]={t:"z",v:void 0}),l[y][x].l=V):(v=Vt({c:x,r:y}),l[v]||(l[v]={t:"z",v:void 0}),l[v].l=V);break;case 426:if(!A.cellFormula)break;O.push(V),b=A.dense?l[y][x]:l[la(x)+R],b.f=Hn(V[1],d,{r:u.r,c:x},I,A),b.F=sr(V[0]);break;case 427:if(!A.cellFormula)break;M[Vt(V[0].s)]=V[1],b=A.dense?l[y][x]:l[la(x)+R],b.f=Hn(V[1],d,{r:u.r,c:x},I,A);break;case 60:if(!A.cellStyles)break;for(;V.e>=V.s;)L[V.e--]={width:V.w/256,hidden:!!(V.flags&1),level:V.level},P||(P=!0,oy(V.w/256)),sl(L[V.e+1]);break;case 161:l["!autofilter"]={ref:sr(V)};break;case 476:l["!margins"]=V;break;case 147:n.Sheets[r]||(n.Sheets[r]={}),V.name&&(n.Sheets[r].CodeName=V.name),(V.above||V.left)&&(l["!outline"]={above:V.above,left:V.left});break;case 137:n.Views||(n.Views=[{}]),n.Views[0]||(n.Views[0]={}),V.RTL&&(n.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!G.T){if(!f||A.WTF)throw new Error("Unexpected record 0x"+z.toString(16))}}},A),delete A.supbooks,delete A["!row"],!l["!ref"]&&(d.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=sr(c||d)),A.sheetRows&&l["!ref"]){var J=xr(l["!ref"]);A.sheetRows<=+J.e.r&&(J.e.r=A.sheetRows-1,J.e.r>d.e.r&&(J.e.r=d.e.r),J.e.r<J.s.r&&(J.s.r=J.e.r),J.e.c>d.e.c&&(J.e.c=d.e.c),J.e.c<J.s.c&&(J.s.c=J.e.c),l["!fullref"]=l["!ref"],l["!ref"]=sr(J))}return T.length>0&&(l["!merges"]=T),L.length>0&&(l["!cols"]=L),N.length>0&&(l["!rows"]=N),l}function nL(e,t,r,a,n,s,o){if(t.v===void 0)return!1;var A="";switch(t.t){case"b":A=t.v?"1":"0";break;case"d":t=ea(t),t.z=t.z||Ht[14],t.v=An(ca(t.v)),t.t="n";break;case"n":case"e":A=""+t.v;break;default:A=t.v;break}var l={r,c:a};switch(l.s=hl(n.cellXfs,t,n),t.l&&s["!links"].push([Vt(l),t.l]),t.c&&s["!comments"].push([Vt(l),t.c]),t.t){case"s":case"str":return n.bookSST?(A=uy(n.Strings,t.v,n.revStrings),l.t="s",l.v=A,o?st(e,18,bj(t,l)):st(e,7,wj(t,l))):(l.t="str",o?st(e,17,Dj(t,l)):st(e,6,Rj(t,l))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?st(e,13,Ij(t,l)):st(e,2,Tj(t,l)):o?st(e,16,Bj(t,l)):st(e,5,Cj(t,l)),!0;case"b":return l.t="b",o?st(e,15,hj(t,l)):st(e,4,fj(t,l)),!0;case"e":return l.t="e",o?st(e,14,yj(t,l)):st(e,3,gj(t,l)),!0}return o?st(e,12,dj(t,l)):st(e,1,lj(t,l)),!0}function iL(e,t,r,a){var n=xr(t["!ref"]||"A1"),s,o="",A=[];st(e,145);var l=Array.isArray(t),c=n.e.r;t["!rows"]&&(c=Math.max(n.e.r,t["!rows"].length-1));for(var d=n.s.r;d<=c;++d){o=Ta(d),rj(e,t,n,d);var f=!1;if(d<=n.e.r)for(var p=n.s.c;p<=n.e.c;++p){d===n.s.r&&(A[p]=la(p)),s=A[p]+o;var u=l?(t[d]||[])[p]:t[s];if(!u){f=!1;continue}f=nL(e,u,d,p,a,t,f)}}st(e,146)}function sL(e,t){!t||!t["!merges"]||(st(e,177,qj(t["!merges"].length)),t["!merges"].forEach(function(r){st(e,176,Qj(r))}),st(e,178))}function oL(e,t){!t||!t["!cols"]||(st(e,390),t["!cols"].forEach(function(r,a){r&&st(e,60,$j(a,r))}),st(e,391))}function AL(e,t){!t||!t["!ref"]||(st(e,648),st(e,649,Zj(xr(t["!ref"]))),st(e,650))}function lL(e,t,r){t["!links"].forEach(function(a){if(a[1].Target){var n=qr(r,-1,a[1].Target.replace(/#.*$/,""),ur.HLINK);st(e,494,Hj(a,n))}}),delete t["!links"]}function cL(e,t,r,a){if(t["!comments"].length>0){var n=qr(a,-1,"../drawings/vmlDrawing"+(r+1)+".vml",ur.VML);st(e,551,Z2("rId"+n)),t["!legacy"]=n}}function dL(e,t,r,a){if(t["!autofilter"]){var n=t["!autofilter"],s=typeof n.ref=="string"?n.ref:sr(n.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,A=vi(s);A.s.r==A.e.r&&(A.e.r=vi(t["!ref"]).e.r,s=sr(A));for(var l=0;l<o.length;++l){var c=o[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==a){c.Ref="'"+r.SheetNames[a]+"'!"+s;break}}l==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+s}),st(e,161,Jd(xr(s))),st(e,162)}}function uL(e,t,r){st(e,133),st(e,137,Jj(t,r)),st(e,138),st(e,134)}function fL(e,t){t["!protect"]&&st(e,535,eL(t["!protect"]))}function pL(e,t,r,a){var n=Fi(),s=r.SheetNames[e],o=r.Sheets[s]||{},A=s;try{r&&r.Workbook&&(A=r.Workbook.Sheets[e].CodeName||A)}catch{}var l=xr(o["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],st(n,129),(r.vbaraw||o["!outline"])&&st(n,147,oj(A,o["!outline"])),st(n,148,nj(l)),uL(n,o,r.Workbook),oL(n,o),iL(n,o,e,t),fL(n,o),dL(n,o,r,e),sL(n,o),lL(n,o,a),o["!margins"]&&st(n,476,Wj(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&AL(n,o),cL(n,o,e,a),st(n,130),n.end()}function hL(e){var t=[],r=e.match(/^<c:numCache>/),a;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var o=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=r?+o[2]:o[2])});var n=Tr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){a=s.replace(/<.*?>/g,"")}),[t,n,a]}function mL(e,t,r,a,n,s){var o=s||{"!type":"chart"};if(!e)return s;var A=0,l=0,c="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var p=hL(f);d.s.r=d.s.c=0,d.e.c=A,c=la(A),p[0].forEach(function(u,g){o[c+Ta(g)]={t:"n",v:u,z:p[1]},l=g}),d.e.r<l&&(d.e.r=l),++A}),A>0&&(o["!ref"]=sr(d)),o}function gL(e,t,r,a,n){if(!e)return e;a||(a={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o,A=e.match(Y5);return A&&fy(A[0],s,n,r),(o=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=o[1]),a["!id"][s["!rel"]]&&(s["!drawel"]=a["!id"][s["!rel"]]),s}function xL(e,t){e.l+=10;var r=Zn(e);return{name:r}}function yL(e,t,r,a,n){if(!e)return e;a||(a={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o=!1;return sA(e,function(l,c,d){switch(d){case 550:s["!rel"]=l;break;case 651:n.Sheets[r]||(n.Sheets[r]={}),l.name&&(n.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),a["!id"][s["!rel"]]&&(s["!drawel"]=a["!id"][s["!rel"]]),s}var py=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],vL=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],wL=[],EL=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function Q4(e,t){for(var r=0;r!=e.length;++r)for(var a=e[r],n=0;n!=t.length;++n){var s=t[n];if(a[s[0]]==null)a[s[0]]=s[1];else switch(s[2]){case"bool":typeof a[s[0]]=="string"&&(a[s[0]]=sa(a[s[0]]));break;case"int":typeof a[s[0]]=="string"&&(a[s[0]]=parseInt(a[s[0]],10));break}}}function q4(e,t){for(var r=0;r!=t.length;++r){var a=t[r];if(e[a[0]]==null)e[a[0]]=a[1];else switch(a[2]){case"bool":typeof e[a[0]]=="string"&&(e[a[0]]=sa(e[a[0]]));break;case"int":typeof e[a[0]]=="string"&&(e[a[0]]=parseInt(e[a[0]],10));break}}}function Z5(e){q4(e.WBProps,py),q4(e.CalcPr,EL),Q4(e.WBView,vL),Q4(e.Sheets,wL),Nd.date1904=sa(e.WBProps.date1904)}function bL(e){return!e.Workbook||!e.Workbook.WBProps?"false":sa(e.Workbook.WBProps.date1904)?"true":"false"}var _L="][*?/\\".split("");function eC(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return _L.forEach(function(a){if(e.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function CL(e,t,r){e.forEach(function(a,n){eC(a);for(var s=0;s<n;++s)if(a==e[s])throw new Error("Duplicate Sheet Name: "+a);if(r){var o=t&&t[n]&&t[n].CodeName||a;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function tC(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];CL(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)b8(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var BL=/<\w+:workbook/;function SL(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},a=!1,n="xmlns",s={},o=0;if(e.replace(ri,function(l,c){var d=Wt(l);switch(vo(d[0])){case"<?xml":break;case"<workbook":l.match(BL)&&(n="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=d[n];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":py.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=sa(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=zr(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=Tr(zr(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":a=!0;break;case"</definedNames>":a=!1;break;case"<definedName":s={},s.Name=zr(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),sa(d.hidden||"0")&&(s.Hidden=!0),o=c+l.length;break;case"</definedName>":s.Ref=Tr(zr(e.slice(o,c))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":a=!0;break;case"</AlternateContent>":a=!1;break;case"<revisionPtr":break;default:if(!a&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return l}),pc.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return Z5(r),r}function rC(e){var t=[Ka];t[t.length]=gt("workbook",null,{xmlns:pc[0],"xmlns:r":sn.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,a={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(py.forEach(function(A){e.Workbook.WBProps[A[0]]!=null&&e.Workbook.WBProps[A[0]]!=A[1]&&(a[A[0]]=e.Workbook.WBProps[A[0]])}),e.Workbook.WBProps.CodeName&&(a.codeName=e.Workbook.WBProps.CodeName,delete a.CodeName)),t[t.length]=gt("workbookPr",null,a);var n=e.Workbook&&e.Workbook.Sheets||[],s=0;if(n&&n[0]&&n[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&!(!n[s]||!n[s].Hidden);++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var o={name:Kr(e.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),n[s])switch(n[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=gt("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(A){var l={name:A.Name};A.Comment&&(l.comment=A.Comment),A.Sheet!=null&&(l.localSheetId=""+A.Sheet),A.Hidden&&(l.hidden="1"),A.Ref&&(t[t.length]=gt("definedName",Kr(A.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function TL(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=wx(e),r.name=Zn(e),r}function OL(e,t){return t||(t=Je(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),Z2(e.strRelID,t),xn(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function IL(e,t){var r={},a=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var n=t>8?Zn(e):"";return n.length>0&&(r.CodeName=n),r.autoCompressPictures=!!(a&65536),r.backupFile=!!(a&64),r.checkCompatibility=!!(a&4096),r.date1904=!!(a&1),r.filterPrivacy=!!(a&8),r.hidePivotFieldList=!!(a&1024),r.promptedSolutions=!!(a&16),r.publishItems=!!(a&2048),r.refreshAllConnections=!!(a&262144),r.saveExternalLinkValues=!!(a&128),r.showBorderUnselectedTables=!!(a&4),r.showInkAnnotation=!!(a&32),r.showObjects=["all","placeholders","none"][a>>13&3],r.showPivotChartFilter=!!(a&32768),r.updateLinks=["userSet","never","always"][a>>8&3],r}function NL(e,t){t||(t=Je(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),z_(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function FL(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function RL(e,t,r){var a=e.l+t;e.l+=4,e.l+=1;var n=e.read_shift(4),s=cN(e),o=g8(e,0,r),A=J2(e);e.l=a;var l={Name:s,Ptg:o};return n<268435455&&(l.Sheet=n),A&&(l.Comment=A),l}function kL(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},a=[],n=!1;t||(t={}),t.biff=12;var s=[],o=[[]];return o.SheetNames=[],o.XTI=[],Gf[16]={n:"BrtFRTArchID$",f:FL},sA(e,function(l,c,d){switch(d){case 156:o.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=Hn(l.Ptg,null,null,o,t),delete t.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([d,l]):o[0]=[d,l],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(l),o.XTI=o.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:a.push(d),n=!0;break;case 36:a.pop(),n=!1;break;case 37:a.push(d),n=!0;break;case 38:a.pop(),n=!1;break;case 16:break;default:if(!c.T){if(!n||t.WTF&&a[a.length-1]!=37&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),Z5(r),r.Names=s,r.supbooks=o,r}function DL(e,t){st(e,143);for(var r=0;r!=t.SheetNames.length;++r){var a=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,n={Hidden:a,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};st(e,156,OL(n))}st(e,144)}function jL(e,t){t||(t=Je(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return xn("SheetJS",t),xn(kf.version,t),xn(kf.version,t),xn("7262",t),t.length>t.l?t.slice(0,t.l):t}function LL(e,t){t||(t=Je(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function UL(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,a=0,n=-1,s=-1;a<r.length;++a)!r[a]||!r[a].Hidden&&n==-1?n=a:r[a].Hidden==1&&s==-1&&(s=a);s>n||(st(e,135),st(e,158,LL(n)),st(e,136))}}function ML(e,t){var r=Fi();return st(r,131),st(r,128,jL()),st(r,153,NL(e.Workbook&&e.Workbook.WBProps||null)),UL(r,e),DL(r,e),st(r,132),r.end()}function PL(e,t,r){return t.slice(-4)===".bin"?kL(e,r):SL(e,r)}function QL(e,t,r,a,n,s,o,A){return t.slice(-4)===".bin"?aL(e,a,r,n,s,o,A):k8(e,a,r,n,s,o,A)}function qL(e,t,r,a,n,s,o,A){return t.slice(-4)===".bin"?yL(e,a,r,n,s):gL(e,a,r,n,s)}function KL(e,t,r,a,n,s,o,A){return t.slice(-4)===".bin"?zk():Vk()}function HL(e,t,r,a,n,s,o,A){return t.slice(-4)===".bin"?Hk():Gk()}function GL(e,t,r,a){return t.slice(-4)===".bin"?Q6(e,r,a):O6(e,r,a)}function zL(e,t,r){return D5(e,r)}function VL(e,t,r){return t.slice(-4)===".bin"?$R(e,r):GR(e,r)}function $L(e,t,r){return t.slice(-4)===".bin"?Mk(e,r):Ik(e,r)}function YL(e,t,r){return t.slice(-4)===".bin"?Sk(e):Ck(e)}function WL(e,t,r,a){return r.slice(-4)===".bin"?Tk(e,t,r,a):void 0}function XL(e,t,r){return t.slice(-4)===".bin"?Ek(e,t,r):_k(e,t,r)}function JL(e,t,r){return(t.slice(-4)===".bin"?ML:rC)(e)}function ZL(e,t,r,a,n){return(t.slice(-4)===".bin"?pL:W5)(e,r,a,n)}function eU(e,t,r){return(t.slice(-4)===".bin"?X6:R5)(e,r)}function tU(e,t,r){return(t.slice(-4)===".bin"?XR:C5)(e,r)}function rU(e,t,r){return(t.slice(-4)===".bin"?Pk:U5)(e)}function aU(e){return(e.slice(-4)===".bin"?bk:j5)()}var aC=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,nC=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function js(e,t){var r=e.split(/\s+/),a=[];if(a[0]=r[0],r.length===1)return a;var n=e.match(aC),s,o,A,l;if(n)for(l=0;l!=n.length;++l)s=n[l].match(nC),(o=s[1].indexOf(":"))===-1?a[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?A="xmlns"+s[1].slice(6):A=s[1].slice(o+1),a[A]=s[2].slice(1,s[2].length-1));return a}function nU(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var a=e.match(aC),n,s,o,A;if(a)for(A=0;A!=a.length;++A)n=a[A].match(nC),(s=n[1].indexOf(":"))===-1?r[n[1]]=n[2].slice(1,n[2].length-1):(n[1].slice(0,6)==="xmlns:"?o="xmlns"+n[1].slice(6):o=n[1].slice(s+1),r[o]=n[2].slice(1,n[2].length-1));return r}var mf;function iU(e,t){var r=mf[e]||Tr(e);return r==="General"?ic(t):ns(r,t)}function sU(e,t,r,a){var n=a;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":n=sa(a);break;case"i2":case"int":n=parseInt(a,10);break;case"r4":case"float":n=parseFloat(a);break;case"date":case"dateTime.tz":n=ca(a);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Tr(t)]=n}function oU(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||oA[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=jf(e.v):e.w=ic(e.v):e.w=iU(t||"General",e.v)}catch(s){if(r.WTF)throw s}try{var a=mf[t]||t||"General";if(r.cellNF&&(e.z=a),r.cellDates&&e.t=="n"&&fc(a)){var n=PA(e.v);n&&(e.t="d",e.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}catch(s){if(r.WTF)throw s}}}function AU(e,t,r){if(r.cellStyles&&t.Interior){var a=t.Interior;a.Pattern&&(a.patternType=w6[a.Pattern]||a.Pattern)}e[t.ID]=t}function lU(e,t,r,a,n,s,o,A,l,c){var d="General",f=a.StyleID,p={};c=c||{};var u=[],g=0;for(f===void 0&&A&&(f=A.StyleID),f===void 0&&o&&(f=o.StyleID);s[f]!==void 0&&(s[f].nf&&(d=s[f].nf),s[f].Interior&&u.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(r.Type){case"Boolean":a.t="b",a.v=sa(e);break;case"String":a.t="s",a.r=i4(Tr(e)),a.v=e.indexOf("<")>-1?Tr(t||e).replace(/<.*?>/g,""):a.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),a.v=(ca(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),a.v!==a.v?a.v=Tr(e):a.v<60&&(a.v=a.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":a.v===void 0&&(a.v=+e),a.t||(a.t="n");break;case"Error":a.t="e",a.v=X_[e],c.cellText!==!1&&(a.w=e);break;default:e==""&&t==""?a.t="z":(a.t="s",a.v=i4(t||e));break}if(oU(a,d,c),c.cellFormula!==!1)if(a.Formula){var h=Tr(a.Formula);h.charCodeAt(0)==61&&(h=h.slice(1)),a.f=Id(h,n),delete a.Formula,a.ArrayRange=="RC"?a.F=Id("RC:RC",n):a.ArrayRange&&(a.F=Id(a.ArrayRange,n),l.push([xr(a.F),a.F]))}else for(g=0;g<l.length;++g)n.r>=l[g][0].s.r&&n.r<=l[g][0].e.r&&n.c>=l[g][0].s.c&&n.c<=l[g][0].e.c&&(a.F=l[g][1]);c.cellStyles&&(u.forEach(function(y){!p.patternType&&y.patternType&&(p.patternType=y.patternType)}),a.s=p),a.StyleID!==void 0&&(a.ixfe=a.StyleID)}function cU(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function Lg(e,t){var r=t||{};Yd();var a=wd(q2(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(typeof _r<"u"?a=_r.utils.decode(65001,Ch(a)):a=zr(a));var n=a.slice(0,1024).toLowerCase(),s=!1;if(n=n.replace(/".*?"/g,""),(n.indexOf(">")&1023)>Math.min(n.indexOf(",")&1023,n.indexOf(";")&1023)){var o=ea(r);return o.type="string",Kd.to_workbook(a,o)}if(n.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Ze){n.indexOf("<"+Ze)>=0&&(s=!0)}),s)return zU(a,r);mf={"General Number":"General","General Date":Ht[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Ht[15],"Short Date":Ht[14],"Long Time":Ht[19],"Medium Time":Ht[18],"Short Time":Ht[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Ht[2],Standard:Ht[4],Percent:Ht[10],Scientific:Ht[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var A,l=[],c,d={},f=[],p=r.dense?[]:{},u="",g={},h={},y=js('<Data ss:Type="String">'),x=0,v=0,E=0,R={s:{r:2e6,c:2e6},e:{r:0,c:0}},b={},T={},_="",S=0,O=[],M={},I={},D=0,L=[],N=[],P={},Q=[],J,te=!1,V=[],G=[],z={},C=0,k=0,j={Sheets:[],WBProps:{date1904:!1}},H={};Mf.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"");for(var Y="";A=Mf.exec(a);)switch(A[3]=(Y=A[3]).toLowerCase()){case"data":if(Y=="data"){if(A[1]==="/"){if((c=l.pop())[0]!==A[3])throw new Error("Bad state: "+c.join("|"))}else A[0].charAt(A[0].length-2)!=="/"&&l.push([A[3],!0]);break}if(l[l.length-1][1])break;A[1]==="/"?lU(a.slice(x,A.index),_,y,l[l.length-1][0]=="comment"?P:g,{c:v,r:E},b,Q[v],h,V,r):(_="",y=js(A[0]),x=A.index+A[0].length);break;case"cell":if(A[1]==="/")if(N.length>0&&(g.c=N),(!r.sheetRows||r.sheetRows>E)&&g.v!==void 0&&(r.dense?(p[E]||(p[E]=[]),p[E][v]=g):p[la(v)+Ta(E)]=g),g.HRef&&(g.l={Target:Tr(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(C=v+(parseInt(g.MergeAcross,10)|0),k=E+(parseInt(g.MergeDown,10)|0),O.push({s:{c:v,r:E},e:{c:C,r:k}})),!r.sheetStubs)g.MergeAcross?v=C+1:++v;else if(g.MergeAcross||g.MergeDown){for(var de=v;de<=C;++de)for(var ue=E;ue<=k;++ue)(de>v||ue>E)&&(r.dense?(p[ue]||(p[ue]=[]),p[ue][de]={t:"z"}):p[la(de)+Ta(ue)]={t:"z"});v=C+1}else++v;else g=nU(A[0]),g.Index&&(v=+g.Index-1),v<R.s.c&&(R.s.c=v),v>R.e.c&&(R.e.c=v),A[0].slice(-2)==="/>"&&++v,N=[];break;case"row":A[1]==="/"||A[0].slice(-2)==="/>"?(E<R.s.r&&(R.s.r=E),E>R.e.r&&(R.e.r=E),A[0].slice(-2)==="/>"&&(h=js(A[0]),h.Index&&(E=+h.Index-1)),v=0,++E):(h=js(A[0]),h.Index&&(E=+h.Index-1),z={},(h.AutoFitHeight=="0"||h.Height)&&(z.hpx=parseInt(h.Height,10),z.hpt=Hf(z.hpx),G[E]=z),h.Hidden=="1"&&(z.hidden=!0,G[E]=z));break;case"worksheet":if(A[1]==="/"){if((c=l.pop())[0]!==A[3])throw new Error("Bad state: "+c.join("|"));f.push(u),R.s.r<=R.e.r&&R.s.c<=R.e.c&&(p["!ref"]=sr(R),r.sheetRows&&r.sheetRows<=R.e.r&&(p["!fullref"]=p["!ref"],R.e.r=r.sheetRows-1,p["!ref"]=sr(R))),O.length&&(p["!merges"]=O),Q.length>0&&(p["!cols"]=Q),G.length>0&&(p["!rows"]=G),d[u]=p}else R={s:{r:2e6,c:2e6},e:{r:0,c:0}},E=v=0,l.push([A[3],!1]),c=js(A[0]),u=Tr(c.Name),p=r.dense?[]:{},O=[],V=[],G=[],H={name:u,Hidden:0},j.Sheets.push(H);break;case"table":if(A[1]==="/"){if((c=l.pop())[0]!==A[3])throw new Error("Bad state: "+c.join("|"))}else{if(A[0].slice(-2)=="/>")break;l.push([A[3],!1]),Q=[],te=!1}break;case"style":A[1]==="/"?AU(b,T,r):T=js(A[0]);break;case"numberformat":T.nf=Tr(js(A[0]).Format||"General"),mf[T.nf]&&(T.nf=mf[T.nf]);for(var he=0;he!=392&&Ht[he]!=T.nf;++he);if(he==392){for(he=57;he!=392;++he)if(Ht[he]==null){mo(T.nf,he);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(J=js(A[0]),J.Hidden&&(J.hidden=!0,delete J.Hidden),J.Width&&(J.wpx=parseInt(J.Width,10)),!te&&J.wpx>10){te=!0,zn=N5;for(var xe=0;xe<Q.length;++xe)Q[xe]&&sl(Q[xe])}te&&sl(J),Q[J.Index-1||Q.length]=J;for(var ve=0;ve<+J.Span;++ve)Q[Q.length]=ea(J);break;case"namedrange":if(A[1]==="/")break;j.Names||(j.Names=[]);var se=Wt(A[0]),Ke={Name:se.Name,Ref:Id(se.RefersTo.slice(1),{r:0,c:0})};j.Sheets.length>0&&(Ke.Sheet=j.Sheets.length-1),j.Names.push(Ke);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(A[0].slice(-2)==="/>")break;A[1]==="/"?_+=a.slice(S,A.index):S=A.index+A[0].length;break;case"interior":if(!r.cellStyles)break;T.Interior=js(A[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(A[0].slice(-2)==="/>")break;A[1]==="/"?DN(M,Y,a.slice(D,A.index)):D=A.index+A[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(A[1]==="/"){if((c=l.pop())[0]!==A[3])throw new Error("Bad state: "+c.join("|"))}else l.push([A[3],!1]);break;case"comment":if(A[1]==="/"){if((c=l.pop())[0]!==A[3])throw new Error("Bad state: "+c.join("|"));cU(P),N.push(P)}else l.push([A[3],!1]),c=js(A[0]),P={a:c.Author};break;case"autofilter":if(A[1]==="/"){if((c=l.pop())[0]!==A[3])throw new Error("Bad state: "+c.join("|"))}else if(A[0].charAt(A[0].length-2)!=="/"){var Ee=js(A[0]);p["!autofilter"]={ref:Id(Ee.Range).replace(/\$/g,"")},l.push([A[3],!0])}break;case"name":break;case"datavalidation":if(A[1]==="/"){if((c=l.pop())[0]!==A[3])throw new Error("Bad state: "+c.join("|"))}else A[0].charAt(A[0].length-2)!=="/"&&l.push([A[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(A[1]==="/"){if((c=l.pop())[0]!==A[3])throw new Error("Bad state: "+c.join("|"))}else A[0].charAt(A[0].length-2)!=="/"&&l.push([A[3],!0]);break;case"null":break;default:if(l.length==0&&A[3]=="document"||l.length==0&&A[3]=="uof")return V4(a,r);var pe=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(A[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:pe=!1}break;case"componentoptions":switch(A[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:pe=!1}break;case"excelworkbook":switch(A[3]){case"date1904":j.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:pe=!1}break;case"workbookoptions":switch(A[3]){case"owcversion":break;case"height":break;case"width":break;default:pe=!1}break;case"worksheetoptions":switch(A[3]){case"visible":if(A[0].slice(-2)!=="/>")if(A[1]==="/")switch(a.slice(D,A.index)){case"SheetHidden":H.Hidden=1;break;case"SheetVeryHidden":H.Hidden=2;break}else D=A.index+A[0].length;break;case"header":p["!margins"]||Wl(p["!margins"]={},"xlml"),isNaN(+Wt(A[0]).Margin)||(p["!margins"].header=+Wt(A[0]).Margin);break;case"footer":p["!margins"]||Wl(p["!margins"]={},"xlml"),isNaN(+Wt(A[0]).Margin)||(p["!margins"].footer=+Wt(A[0]).Margin);break;case"pagemargins":var ce=Wt(A[0]);p["!margins"]||Wl(p["!margins"]={},"xlml"),isNaN(+ce.Top)||(p["!margins"].top=+ce.Top),isNaN(+ce.Left)||(p["!margins"].left=+ce.Left),isNaN(+ce.Right)||(p["!margins"].right=+ce.Right),isNaN(+ce.Bottom)||(p["!margins"].bottom=+ce.Bottom);break;case"displayrighttoleft":j.Views||(j.Views=[]),j.Views[0]||(j.Views[0]={}),j.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:pe=!1}break;case"pivottable":case"pivotcache":switch(A[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:pe=!1}break;case"pagebreaks":switch(A[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:pe=!1}break;case"autofilter":switch(A[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:pe=!1}break;case"querytable":switch(A[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:pe=!1}break;case"datavalidation":switch(A[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:pe=!1}break;case"sorting":case"conditionalformatting":switch(A[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:pe=!1}break;case"mapinfo":case"schema":case"data":switch(A[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:pe=!1}break;case"smarttags":break;default:pe=!1;break}if(pe||A[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+A[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(A[0].slice(-2)==="/>")break;A[1]==="/"?sU(I,Y,L,a.slice(D,A.index)):(L=A,D=A.index+A[0].length);break}if(r.WTF)throw"Unrecognized tag: "+A[3]+"|"+l.join("|")}var He={};return!r.bookSheets&&!r.bookProps&&(He.Sheets=d),He.SheetNames=f,He.Workbook=j,He.SSF=ea(Ht),He.Props=M,He.Custprops=I,He}function Tx(e,t){switch(gy(t=t||{}),t.type||"base64"){case"base64":return Lg(as(e),t);case"binary":case"buffer":case"file":return Lg(e,t);case"array":return Lg(fl(e),t)}}function dU(e,t){var r=[];return e.Props&&r.push(jN(e.Props,t)),e.Custprops&&r.push(LN(e.Props,e.Custprops)),r.join("")}function uU(){return""}function fU(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(a,n){var s=[];s.push(gt("NumberFormat",null,{"ss:Format":Kr(Ht[a.numFmtId])}));var o={"ss:ID":"s"+(21+n)};r.push(gt("Style",s.join(""),o))}),gt("Styles",r.join(""))}function iC(e){return gt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+cy(e.Ref,{r:0,c:0})})}function pU(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],a=0;a<t.length;++a){var n=t[a];n.Sheet==null&&(n.Name.match(/^_xlfn\./)||r.push(iC(n)))}return gt("Names",r.join(""))}function hU(e,t,r,a){if(!e||!((a||{}).Workbook||{}).Names)return"";for(var n=a.Workbook.Names,s=[],o=0;o<n.length;++o){var A=n[o];A.Sheet==r&&(A.Name.match(/^_xlfn\./)||s.push(iC(A)))}return s.join("")}function mU(e,t,r,a){if(!e)return"";var n=[];if(e["!margins"]&&(n.push("<PageSetup>"),e["!margins"].header&&n.push(gt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&n.push(gt("Footer",null,{"x:Margin":e["!margins"].footer})),n.push(gt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),n.push("</PageSetup>")),a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[r])if(a.Workbook.Sheets[r].Hidden)n.push(gt("Visible",a.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(a.Workbook.Sheets[s]&&!a.Workbook.Sheets[s].Hidden);++s);s==r&&n.push("<Selected/>")}return((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL&&n.push("<DisplayRightToLeft/>"),e["!protect"]&&(n.push(In("ProtectContents","True")),e["!protect"].objects&&n.push(In("ProtectObjects","True")),e["!protect"].scenarios&&n.push(In("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?n.push(In("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&n.push(In("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&n.push("<"+o[1]+"/>")})),n.length==0?"":gt("WorksheetOptions",n.join(""),{xmlns:Vi.x})}function gU(e){return e.map(function(t){var r=M3(t.t||""),a=gt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return gt("Comment",a,{"ss:Author":t.a})}).join("")}function xU(e,t,r,a,n,s,o){if(!e||e.v==null&&e.f==null)return"";var A={};if(e.f&&(A["ss:Formula"]="="+Kr(cy(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var l=xa(e.F.slice(t.length+1));A["ss:ArrayRange"]="RC:R"+(l.r==o.r?"":"["+(l.r-o.r)+"]")+"C"+(l.c==o.c?"":"["+(l.c-o.c)+"]")}if(e.l&&e.l.Target&&(A["ss:HRef"]=Kr(e.l.Target),e.l.Tooltip&&(A["x:HRefScreenTip"]=Kr(e.l.Tooltip))),r["!merges"])for(var c=r["!merges"],d=0;d!=c.length;++d)c[d].s.c!=o.c||c[d].s.r!=o.r||(c[d].e.c>c[d].s.c&&(A["ss:MergeAcross"]=c[d].e.c-c[d].s.c),c[d].e.r>c[d].s.r&&(A["ss:MergeDown"]=c[d].e.r-c[d].s.r));var f="",p="";switch(e.t){case"z":if(!a.sheetStubs)return"";break;case"n":f="Number",p=String(e.v);break;case"b":f="Boolean",p=e.v?"1":"0";break;case"e":f="Error",p=oA[e.v];break;case"d":f="DateTime",p=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Ht[14]);break;case"s":f="String",p=U3(e.v||"");break}var u=hl(a.cellXfs,e,a);A["ss:StyleID"]="s"+(21+u),A["ss:Index"]=o.c+1;var g=e.v!=null?p:"",h=e.t=="z"?"":'<Data ss:Type="'+f+'">'+g+"</Data>";return(e.c||[]).length>0&&(h+=gU(e.c)),gt("Cell",h,A)}function yU(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Hd(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function vU(e,t,r,a){if(!e["!ref"])return"";var n=xr(e["!ref"]),s=e["!merges"]||[],o=0,A=[];e["!cols"]&&e["!cols"].forEach(function(y,x){sl(y);var v=!!y.width,E=Cm(x,y),R={"ss:Index":x+1};v&&(R["ss:Width"]=qf(E.width)),y.hidden&&(R["ss:Hidden"]="1"),A.push(gt("Column",null,R))});for(var l=Array.isArray(e),c=n.s.r;c<=n.e.r;++c){for(var d=[yU(c,(e["!rows"]||[])[c])],f=n.s.c;f<=n.e.c;++f){var p=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>f)&&!(s[o].s.r>c)&&!(s[o].e.c<f)&&!(s[o].e.r<c)){(s[o].s.c!=f||s[o].s.r!=c)&&(p=!0);break}if(!p){var u={r:c,c:f},g=Vt(u),h=l?(e[c]||[])[f]:e[g];d.push(xU(h,g,e,t,r,a,u))}}d.push("</Row>"),d.length>2&&A.push(d.join(""))}return A.join("")}function wU(e,t,r){var a=[],n=r.SheetNames[e],s=r.Sheets[n],o=s?hU(s,t,e,r):"";return o.length>0&&a.push("<Names>"+o+"</Names>"),o=s?vU(s,t,e,r):"",o.length>0&&a.push("<Table>"+o+"</Table>"),a.push(mU(s,t,e,r)),a.join("")}function EU(e,t){t||(t={}),e.SSF||(e.SSF=ea(Ht)),e.SSF&&(Yd(),s0(e.SSF),t.revssf=ym(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],hl(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(dU(e,t)),r.push(uU()),r.push(""),r.push("");for(var a=0;a<e.SheetNames.length;++a)r.push(gt("Worksheet",wU(a,t,e),{"ss:Name":Kr(e.SheetNames[a])}));return r[2]=fU(e,t),r[3]=pU(e),Ka+gt("Workbook",r.join(""),{xmlns:Vi.ss,"xmlns:o":Vi.o,"xmlns:x":Vi.x,"xmlns:ss":Vi.ss,"xmlns:dt":Vi.dt,"xmlns:html":Vi.html})}function bU(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=hN(r),r.length-r.l<=4)return t;var a=r.read_shift(4);if(a==0||a>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(a=r.read_shift(4),a!==1907505652)||(t.UnicodeClipboardFormat=mN(r),a=r.read_shift(4),a==0||a>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var _U=[60,1084,2066,2165,2175];function CU(e,t,r,a,n){var s=a,o=[],A=r.slice(r.l,r.l+s);if(n&&n.enc&&n.enc.insitu&&A.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:n.enc.insitu(A)}o.push(A),r.l+=s;for(var l=zo(r,r.l),c=Ox[l],d=0;c!=null&&_U.indexOf(l)>-1;)s=zo(r,r.l+2),d=r.l+4,l==2066?d+=4:(l==2165||l==2175)&&(d+=12),A=r.slice(d,r.l+4+s),o.push(A),r.l+=4+s,c=Ox[l=zo(r,r.l)];var f=gn(o);Tn(f,0);var p=0;f.lens=[];for(var u=0;u<o.length;++u)f.lens.push(p),p+=o[u].length;if(f.length<a)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+a;return t.f(f,f.length,n)}function no(e,t,r){if(e.t!=="z"&&e.XF){var a=0;try{a=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Ht[a])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||oA[e.v]:a===0||a=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=jf(e.v):e.w=ic(e.v):e.w=ns(a,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&a&&e.t=="n"&&fc(Ht[a]||String(a))){var n=PA(e.v);n&&(e.t="d",e.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}}function hp(e,t,r){return{v:e,ixfe:t,t:r}}function BU(e,t){var r={opts:{}},a={},n=t.dense?[]:{},s={},o={},A=null,l=[],c="",d={},f,p="",u,g,h,y,x={},v=[],E,R,b=[],T=[],_={Sheets:[],WBProps:{date1904:!1},Views:[{}]},S={},O=function(ft){return ft<8?Vl[ft]:ft<64&&T[ft-8]||Vl[ft]},M=function(ft,lt,Er){var jt=lt.XF.data;if(!(!jt||!jt.patternType||!Er||!Er.cellStyles)){lt.s={},lt.s.patternType=jt.patternType;var Fr;(Fr=Qf(O(jt.icvFore)))&&(lt.s.fgColor={rgb:Fr}),(Fr=Qf(O(jt.icvBack)))&&(lt.s.bgColor={rgb:Fr})}},I=function(ft,lt,Er){if(!(z>1)&&!(Er.sheetRows&&ft.r>=Er.sheetRows)){if(Er.cellStyles&&lt.XF&&lt.XF.data&&M(ft,lt,Er),delete lt.ixfe,delete lt.XF,f=ft,p=Vt(ft),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),ft.r<o.s.r&&(o.s.r=ft.r),ft.c<o.s.c&&(o.s.c=ft.c),ft.r+1>o.e.r&&(o.e.r=ft.r+1),ft.c+1>o.e.c&&(o.e.c=ft.c+1),Er.cellFormula&&lt.f){for(var jt=0;jt<v.length;++jt)if(!(v[jt][0].s.c>ft.c||v[jt][0].s.r>ft.r)&&!(v[jt][0].e.c<ft.c||v[jt][0].e.r<ft.r)){lt.F=sr(v[jt][0]),(v[jt][0].s.c!=ft.c||v[jt][0].s.r!=ft.r)&&delete lt.f,lt.f&&(lt.f=""+Hn(v[jt][1],o,ft,V,D));break}}Er.dense?(n[ft.r]||(n[ft.r]=[]),n[ft.r][ft.c]=lt):n[p]=lt}},D={enc:!1,sbcch:0,snames:[],sharedf:x,arrayf:v,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(D.password=t.password);var L,N=[],P=[],Q=[],J=[],te=!1,V=[];V.SheetNames=D.snames,V.sharedf=D.sharedf,V.arrayf=D.arrayf,V.names=[],V.XTI=[];var G=0,z=0,C=0,k=[],j=[],H;D.codepage=1200,bs(1200);for(var Y=!1;e.l<e.length-1;){var de=e.l,ue=e.read_shift(2);if(ue===0&&G===10)break;var he=e.l===e.length?0:e.read_shift(2),xe=Ox[ue];if(xe&&xe.f){if(t.bookSheets&&G===133&&ue!==133)break;if(G=ue,xe.r===2||xe.r==12){var ve=e.read_shift(2);if(he-=2,!D.enc&&ve!==ue&&((ve&255)<<8|ve>>8)!==ue)throw new Error("rt mismatch: "+ve+"!="+ue);xe.r==12&&(e.l+=10,he-=10)}var se={};if(ue===10?se=xe.f(e,he,D):se=CU(ue,xe,e,he,D),z==0&&[9,521,1033,2057].indexOf(G)===-1)continue;switch(ue){case 34:r.opts.Date1904=_.WBProps.date1904=se;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(D.enc||(e.l=0),D.enc=se,!t.password)throw new Error("File is password-protected");if(se.valid==null)throw new Error("Encryption scheme unsupported");if(!se.valid)throw new Error("Password is incorrect");break;case 92:D.lastuser=se;break;case 66:var Ke=Number(se);switch(Ke){case 21010:Ke=1200;break;case 32768:Ke=1e4;break;case 32769:Ke=1252;break}bs(D.codepage=Ke),Y=!0;break;case 317:D.rrtabid=se;break;case 25:D.winlocked=se;break;case 439:r.opts.RefreshAll=se;break;case 12:r.opts.CalcCount=se;break;case 16:r.opts.CalcDelta=se;break;case 17:r.opts.CalcIter=se;break;case 13:r.opts.CalcMode=se;break;case 14:r.opts.CalcPrecision=se;break;case 95:r.opts.CalcSaveRecalc=se;break;case 15:D.CalcRefMode=se;break;case 2211:r.opts.FullCalc=se;break;case 129:se.fDialog&&(n["!type"]="dialog"),se.fBelow||((n["!outline"]||(n["!outline"]={})).above=!0),se.fRight||((n["!outline"]||(n["!outline"]={})).left=!0);break;case 224:b.push(se);break;case 430:V.push([se]),V[V.length-1].XTI=[];break;case 35:case 547:V[V.length-1].push(se);break;case 24:case 536:H={Name:se.Name,Ref:Hn(se.rgce,o,null,V,D)},se.itab>0&&(H.Sheet=se.itab-1),V.names.push(H),V[0]||(V[0]=[],V[0].XTI=[]),V[V.length-1].push(se),se.Name=="_xlnm._FilterDatabase"&&se.itab>0&&se.rgce&&se.rgce[0]&&se.rgce[0][0]&&se.rgce[0][0][0]=="PtgArea3d"&&(j[se.itab-1]={ref:sr(se.rgce[0][0][1][2])});break;case 22:D.ExternCount=se;break;case 23:V.length==0&&(V[0]=[],V[0].XTI=[]),V[V.length-1].XTI=V[V.length-1].XTI.concat(se),V.XTI=V.XTI.concat(se);break;case 2196:if(D.biff<8)break;H!=null&&(H.Comment=se[1]);break;case 18:n["!protect"]=se;break;case 19:se!==0&&D.WTF&&console.error("Password verifier: "+se);break;case 133:s[se.pos]=se,D.snames.push(se.name);break;case 10:{if(--z)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,n["!ref"]=sr(o),t.sheetRows&&t.sheetRows<=o.e.r){var Ee=o.e.r;o.e.r=t.sheetRows-1,n["!fullref"]=n["!ref"],n["!ref"]=sr(o),o.e.r=Ee}o.e.r++,o.e.c++}N.length>0&&(n["!merges"]=N),P.length>0&&(n["!objects"]=P),Q.length>0&&(n["!cols"]=Q),J.length>0&&(n["!rows"]=J),_.Sheets.push(S)}c===""?d=n:a[c]=n,n=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(D.biff===8&&(D.biff={9:2,521:3,1033:4}[ue]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[se.BIFFVer]||8),D.biffguess=se.BIFFVer==0,se.BIFFVer==0&&se.dt==4096&&(D.biff=5,Y=!0,bs(D.codepage=28591)),D.biff==8&&se.BIFFVer==0&&se.dt==16&&(D.biff=2),z++)break;if(n=t.dense?[]:{},D.biff<8&&!Y&&(Y=!0,bs(D.codepage=t.codepage||1252)),D.biff<5||se.BIFFVer==0&&se.dt==4096){c===""&&(c="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var pe={pos:e.l-he,name:c};s[pe.pos]=pe,D.snames.push(c)}else c=(s[de]||{name:""}).name;se.dt==32&&(n["!type"]="chart"),se.dt==64&&(n["!type"]="macro"),N=[],P=[],D.arrayf=v=[],Q=[],J=[],te=!1,S={Hidden:(s[de]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:n["!type"]=="chart"&&(t.dense?(n[se.r]||[])[se.c]:n[Vt({c:se.c,r:se.r})])&&++se.c,E={ixfe:se.ixfe,XF:b[se.ixfe]||{},v:se.val,t:"n"},C>0&&(E.z=k[E.ixfe>>8&63]),no(E,t,r.opts.Date1904),I({c:se.c,r:se.r},E,t);break;case 5:case 517:E={ixfe:se.ixfe,XF:b[se.ixfe],v:se.val,t:se.t},C>0&&(E.z=k[E.ixfe>>8&63]),no(E,t,r.opts.Date1904),I({c:se.c,r:se.r},E,t);break;case 638:E={ixfe:se.ixfe,XF:b[se.ixfe],v:se.rknum,t:"n"},C>0&&(E.z=k[E.ixfe>>8&63]),no(E,t,r.opts.Date1904),I({c:se.c,r:se.r},E,t);break;case 189:for(var ce=se.c;ce<=se.C;++ce){var He=se.rkrec[ce-se.c][0];E={ixfe:He,XF:b[He],v:se.rkrec[ce-se.c][1],t:"n"},C>0&&(E.z=k[E.ixfe>>8&63]),no(E,t,r.opts.Date1904),I({c:ce,r:se.r},E,t)}break;case 6:case 518:case 1030:{if(se.val=="String"){A=se;break}if(E=hp(se.val,se.cell.ixfe,se.tt),E.XF=b[E.ixfe],t.cellFormula){var Ze=se.formula;if(Ze&&Ze[0]&&Ze[0][0]&&Ze[0][0][0]=="PtgExp"){var Ye=Ze[0][0][1][0],tt=Ze[0][0][1][1],je=Vt({r:Ye,c:tt});x[je]?E.f=""+Hn(se.formula,o,se.cell,V,D):E.F=((t.dense?(n[Ye]||[])[tt]:n[je])||{}).F}else E.f=""+Hn(se.formula,o,se.cell,V,D)}C>0&&(E.z=k[E.ixfe>>8&63]),no(E,t,r.opts.Date1904),I(se.cell,E,t),A=se}break;case 7:case 519:if(A)A.val=se,E=hp(se,A.cell.ixfe,"s"),E.XF=b[E.ixfe],t.cellFormula&&(E.f=""+Hn(A.formula,o,A.cell,V,D)),C>0&&(E.z=k[E.ixfe>>8&63]),no(E,t,r.opts.Date1904),I(A.cell,E,t),A=null;else throw new Error("String record expects Formula");break;case 33:case 545:{v.push(se);var _e=Vt(se[0].s);if(u=t.dense?(n[se[0].s.r]||[])[se[0].s.c]:n[_e],t.cellFormula&&u){if(!A||!_e||!u)break;u.f=""+Hn(se[1],o,se[0],V,D),u.F=sr(se[0])}}break;case 1212:{if(!t.cellFormula)break;if(p){if(!A)break;x[Vt(A.cell)]=se[0],u=t.dense?(n[A.cell.r]||[])[A.cell.c]:n[Vt(A.cell)],(u||{}).f=""+Hn(se[0],o,f,V,D)}}break;case 253:E=hp(l[se.isst].t,se.ixfe,"s"),l[se.isst].h&&(E.h=l[se.isst].h),E.XF=b[E.ixfe],C>0&&(E.z=k[E.ixfe>>8&63]),no(E,t,r.opts.Date1904),I({c:se.c,r:se.r},E,t);break;case 513:t.sheetStubs&&(E={ixfe:se.ixfe,XF:b[se.ixfe],t:"z"},C>0&&(E.z=k[E.ixfe>>8&63]),no(E,t,r.opts.Date1904),I({c:se.c,r:se.r},E,t));break;case 190:if(t.sheetStubs)for(var ct=se.c;ct<=se.C;++ct){var _t=se.ixfe[ct-se.c];E={ixfe:_t,XF:b[_t],t:"z"},C>0&&(E.z=k[E.ixfe>>8&63]),no(E,t,r.opts.Date1904),I({c:ct,r:se.r},E,t)}break;case 214:case 516:case 4:E=hp(se.val,se.ixfe,"s"),E.XF=b[E.ixfe],C>0&&(E.z=k[E.ixfe>>8&63]),no(E,t,r.opts.Date1904),I({c:se.c,r:se.r},E,t);break;case 0:case 512:z===1&&(o=se);break;case 252:l=se;break;case 1054:if(D.biff==4){k[C++]=se[1];for(var St=0;St<C+163&&Ht[St]!=se[1];++St);St>=163&&mo(se[1],C+163)}else mo(se[1],se[0]);break;case 30:{k[C++]=se;for(var Et=0;Et<C+163&&Ht[Et]!=se;++Et);Et>=163&&mo(se,C+163)}break;case 229:N=N.concat(se);break;case 93:P[se.cmo[0]]=D.lastobj=se;break;case 438:D.lastobj.TxO=se;break;case 127:D.lastobj.ImData=se;break;case 440:for(y=se[0].s.r;y<=se[0].e.r;++y)for(h=se[0].s.c;h<=se[0].e.c;++h)u=t.dense?(n[y]||[])[h]:n[Vt({c:h,r:y})],u&&(u.l=se[1]);break;case 2048:for(y=se[0].s.r;y<=se[0].e.r;++y)for(h=se[0].s.c;h<=se[0].e.c;++h)u=t.dense?(n[y]||[])[h]:n[Vt({c:h,r:y})],u&&u.l&&(u.l.Tooltip=se[1]);break;case 28:{if(D.biff<=5&&D.biff>=2)break;u=t.dense?(n[se[0].r]||[])[se[0].c]:n[Vt(se[0])];var Ft=P[se[2]];u||(t.dense?(n[se[0].r]||(n[se[0].r]=[]),u=n[se[0].r][se[0].c]={t:"z"}):u=n[Vt(se[0])]={t:"z"},o.e.r=Math.max(o.e.r,se[0].r),o.s.r=Math.min(o.s.r,se[0].r),o.e.c=Math.max(o.e.c,se[0].c),o.s.c=Math.min(o.s.c,se[0].c)),u.c||(u.c=[]),g={a:se[1],t:Ft.TxO.t},u.c.push(g)}break;case 2173:pk(b[se.ixfe],se.ext);break;case 125:{if(!D.cellStyles)break;for(;se.e>=se.s;)Q[se.e--]={width:se.w/256,level:se.level||0,hidden:!!(se.flags&1)},te||(te=!0,oy(se.w/256)),sl(Q[se.e+1])}break;case 520:{var Lt={};se.level!=null&&(J[se.r]=Lt,Lt.level=se.level),se.hidden&&(J[se.r]=Lt,Lt.hidden=!0),se.hpt&&(J[se.r]=Lt,Lt.hpt=se.hpt,Lt.hpx=Hd(se.hpt))}break;case 38:case 39:case 40:case 41:n["!margins"]||Wl(n["!margins"]={}),n["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ue]]=se;break;case 161:n["!margins"]||Wl(n["!margins"]={}),n["!margins"].header=se.header,n["!margins"].footer=se.footer;break;case 574:se.RTL&&(_.Views[0].RTL=!0);break;case 146:T=se;break;case 2198:L=se;break;case 140:R=se;break;case 442:c?S.CodeName=se||S.name:_.WBProps.CodeName=se||"ThisWorkbook";break}}else xe||console.error("Missing Info for XLS Record 0x"+ue.toString(16)),e.l+=he}return r.SheetNames=Ia(s).sort(function(bt,ft){return Number(bt)-Number(ft)}).map(function(bt){return s[bt].name}),t.bookSheets||(r.Sheets=a),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&j.forEach(function(bt,ft){r.Sheets[r.SheetNames[ft]]["!autofilter"]=bt}),r.Strings=l,r.SSF=ea(Ht),D.enc&&(r.Encryption=D.enc),L&&(r.Themes=L),r.Metadata={},R!==void 0&&(r.Metadata.Country=R),V.names.length>0&&(_.Names=V.names),r.Workbook=_,r}var gf={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function SU(e,t,r){var a=Ut.find(e,"/!DocumentSummaryInformation");if(a&&a.size>0)try{var n=b4(a,Ex,gf.DSI);for(var s in n)t[s]=n[s]}catch(c){if(r.WTF)throw c}var o=Ut.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var A=b4(o,bx,gf.SI);for(var l in A)t[l]==null&&(t[l]=A[l])}catch(c){if(r.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(a5(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function TU(e,t){var r=[],a=[],n=[],s=0,o,A=Zv(Ex,"n"),l=Zv(bx,"n");if(e.Props)for(o=Ia(e.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(A,o[s])?r:Object.prototype.hasOwnProperty.call(l,o[s])?a:n).push([o[s],e.Props[o[s]]]);if(e.Custprops)for(o=Ia(e.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(A,o[s])?r:Object.prototype.hasOwnProperty.call(l,o[s])?a:n).push([o[s],e.Custprops[o[s]]]);var c=[];for(s=0;s<n.length;++s)c5.indexOf(n[s][0])>-1||r5.indexOf(n[s][0])>-1||n[s][1]!=null&&c.push(n[s]);a.length&&Ut.utils.cfb_add(t,"/SummaryInformation",_4(a,gf.SI,l,bx)),(r.length||c.length)&&Ut.utils.cfb_add(t,"/DocumentSummaryInformation",_4(r,gf.DSI,A,Ex,c.length?c:null,gf.UDI))}function hy(e,t){t||(t={}),gy(t),gm(),t.codepage&&mm(t.codepage);var r,a;if(e.FullPaths){if(Ut.find(e,"/encryption"))throw new Error("File is password-protected");r=Ut.find(e,"!CompObj"),a=Ut.find(e,"/Workbook")||Ut.find(e,"/Book")}else{switch(t.type){case"base64":e=$i(as(e));break;case"binary":e=$i(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Tn(e,0),a={content:e}}var n,s;if(r&&bU(r),t.bookProps&&!t.bookSheets)n={};else{var o=dr?"buffer":"array";if(a&&a.content)n=BU(a.content,t);else if((s=Ut.find(e,"PerfectOffice_MAIN"))&&s.content)n=Yl.to_workbook(s.content,(t.type=o,t));else if((s=Ut.find(e,"NativeContent_MAIN"))&&s.content)n=Yl.to_workbook(s.content,(t.type=o,t));else throw(s=Ut.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Ut.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(n.vbaraw=qk(e))}var A={};return e.FullPaths&&SU(e,A,t),n.Props=n.Custprops=A,t.bookFiles&&(n.cfb=e),n}function OU(e,t){var r=t||{},a=Ut.utils.cfb_new({root:"R"}),n="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":n="/Workbook",r.biff=8;break;case"biff5":n="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Ut.utils.cfb_add(a,n,sC(e,r)),r.biff==8&&(e.Props||e.Custprops)&&TU(e,a),r.biff==8&&e.vbaraw&&Kk(a,Ut.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),a}var Gf={0:{f:ej},1:{f:Aj},2:{f:Sj},3:{f:mj},4:{f:uj},5:{f:_j},6:{f:Fj},7:{f:vj},8:{f:Mj},9:{f:Uj},10:{f:jj},11:{f:Lj},12:{f:cj},13:{f:Oj},14:{f:xj},15:{f:pj},16:{f:X5},17:{f:kj},18:{f:Ej},19:{f:X2},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:RL},40:{},42:{},43:{f:F6},44:{f:I6},45:{f:D6},46:{f:L6},47:{f:j6},48:{},49:{f:aN},50:{},51:{f:gk},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:w5},62:{f:Nj},63:{f:Bk},64:{f:tL},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ti,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Xj},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:sj},148:{f:aj,p:16},151:{f:Gj},152:{},153:{f:IL},154:{},155:{},156:{f:TL},157:{},158:{},159:{T:1,f:VR},160:{T:-1},161:{T:1,f:xc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Pj},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:hk},336:{T:-1},337:{f:vk,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:wx},357:{},358:{},359:{},360:{T:1},361:{},362:{f:v5},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:zj},427:{f:Vj},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Yj},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:ij},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Kj},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:wx},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Lk},633:{T:1},634:{T:-1},635:{T:1,f:Dk},636:{T:-1},637:{f:oN},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:xL},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:rL},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Ox={6:{f:Dg},10:{f:_A},12:{f:Xa},13:{f:Xa},14:{f:Da},15:{f:Da},16:{f:Yn},17:{f:Da},18:{f:Da},19:{f:Xa},20:{f:I4},21:{f:I4},23:{f:v5},24:{f:F4},25:{f:Da},26:{},27:{},28:{f:rR},29:{},34:{f:Da},35:{f:N4},38:{f:Yn},39:{f:Yn},40:{f:Yn},41:{f:Yn},42:{f:Da},43:{f:Da},47:{f:p6},49:{f:OF},51:{f:Xa},60:{},61:{f:_F},64:{f:Da},65:{f:TF},66:{f:Xa},77:{},80:{},81:{},82:{},85:{f:Xa},89:{},90:{},91:{},92:{f:fF},93:{f:iR},94:{},95:{f:Da},96:{},97:{},99:{f:Da},125:{f:w5},128:{f:HF},129:{f:hF},130:{f:Xa},131:{f:Da},132:{f:Da},133:{f:mF},134:{},140:{f:fR},141:{f:Xa},144:{},146:{f:mR},151:{},152:{},153:{},154:{},155:{},156:{f:Xa},157:{},158:{},160:{f:bR},161:{f:yR},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:PF},190:{f:QF},193:{f:_A},197:{},198:{},199:{},200:{},201:{},202:{f:Da},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Xa},220:{},221:{f:Da},222:{},224:{f:KF},225:{f:uF},226:{f:_A},227:{},229:{f:aR},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:xF},253:{f:NF},255:{f:vF},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:d5},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Da},353:{f:_A},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:YF},431:{f:Da},432:{},433:{},434:{},437:{},438:{f:AR},439:{f:Da},440:{f:lR},441:{},442:{f:l0},443:{},444:{f:Xa},445:{},446:{},448:{f:_A},449:{f:bF,r:2},450:{f:_A},512:{f:S4},513:{f:ER},515:{f:VF},516:{f:RF},517:{f:O4},519:{f:_R},520:{f:wF},523:{},545:{f:R4},549:{f:B4},566:{},574:{f:BF},638:{f:MF},659:{},1048:{},1054:{f:DF},1084:{},1212:{f:ZF},2048:{f:dR},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:up},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:_A},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:gR,r:12},2173:{f:fk,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Da,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:JF,r:12},2197:{},2198:{f:ok,r:12},2199:{},2200:{},2201:{},2202:{f:eR,r:12},2203:{f:_A},2204:{},2205:{},2206:{},2207:{},2211:{f:EF},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Xa},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:vR},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:hR},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:S4},1:{},2:{f:OR},3:{f:SR},4:{f:BR},5:{f:O4},7:{f:NR},8:{},9:{f:up},11:{},22:{f:Xa},30:{f:LF},31:{},32:{},33:{f:R4},36:{},37:{f:B4},50:{f:FR},62:{},52:{},67:{},68:{f:Xa},69:{},86:{},126:{},127:{f:CR},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:RR},223:{},234:{},354:{},421:{},518:{f:Dg},521:{f:up},536:{f:F4},547:{f:N4},561:{},579:{},1030:{f:Dg},1033:{f:up},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function xt(e,t,r,a){var n=t;if(!isNaN(n)){var s=a||(r||[]).length||0,o=e.next(4);o.write_shift(2,n),o.write_shift(2,s),s>0&&$2(r)&&e.push(r)}}function IU(e,t,r,a){var n=(r||[]).length||0;if(n<=8224)return xt(e,t,r,n);var s=t;if(!isNaN(s)){for(var o=r.parts||[],A=0,l=0,c=0;c+(o[A]||8224)<=8224;)c+=o[A]||8224,A++;var d=e.next(4);for(d.write_shift(2,s),d.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c;l<n;){for(d=e.next(4),d.write_shift(2,60),c=0;c+(o[A]||8224)<=8224;)c+=o[A]||8224,A++;d.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c}}}function f0(e,t,r){return e||(e=Je(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function NU(e,t,r,a){var n=Je(9);return f0(n,e,t),u5(r,a||"b",n),n}function FU(e,t,r){var a=Je(8+2*r.length);return f0(a,e,t),a.write_shift(1,r.length),a.write_shift(r.length,r,"sbcs"),a.l<a.length?a.slice(0,a.l):a}function RU(e,t,r,a){if(t.v!=null)switch(t.t){case"d":case"n":var n=t.t=="d"?An(ca(t.v)):t.v;n==(n|0)&&n>=0&&n<65536?xt(e,2,IR(r,a,n)):xt(e,3,TR(r,a,n));return;case"b":case"e":xt(e,5,NU(r,a,t.v,t.t));return;case"s":case"str":xt(e,4,FU(r,a,(t.v||"").slice(0,255)));return}xt(e,1,f0(null,r,a))}function kU(e,t,r,a){var n=Array.isArray(t),s=xr(t["!ref"]||"A1"),o,A="",l=[];if(s.e.c>255||s.e.r>16383){if(a.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),o=sr(s)}for(var c=s.s.r;c<=s.e.r;++c){A=Ta(c);for(var d=s.s.c;d<=s.e.c;++d){c===s.s.r&&(l[d]=la(d)),o=l[d]+A;var f=n?(t[c]||[])[d]:t[o];f&&RU(e,f,c,d)}}}function DU(e,t){for(var r=t||{},a=Fi(),n=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==r.sheet&&(n=s);if(n==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return xt(a,r.biff==4?1033:r.biff==3?521:9,ny(e,16,r)),kU(a,e.Sheets[e.SheetNames[n]],n,r),xt(a,10),a.end()}function jU(e,t,r){xt(e,49,IF({sz:12,name:"Arial"},r))}function LU(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&xt(e,1054,jF(n,t[n],r))})}function UU(e,t){var r=Je(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),xt(e,2151,r),r=Je(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),g5(xr(t["!ref"]||"A1"),r),r.write_shift(4,4),xt(e,2152,r)}function MU(e,t){for(var r=0;r<16;++r)xt(e,224,T4({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(a){xt(e,224,T4(a,0,t))})}function PU(e,t){for(var r=0;r<t["!links"].length;++r){var a=t["!links"][r];xt(e,440,cR(a)),a[1].Tooltip&&xt(e,2048,uR(a))}delete t["!links"]}function QU(e,t){if(t){var r=0;t.forEach(function(a,n){++r<=256&&a&&xt(e,125,xR(Cm(n,a),n))})}}function qU(e,t,r,a,n){var s=16+hl(n.cellXfs,t,n);if(t.v==null&&!t.bf){xt(e,513,lc(r,a,s));return}if(t.bf)xt(e,6,h8(t,r,a,n,s));else switch(t.t){case"d":case"n":var o=t.t=="d"?An(ca(t.v)):t.v;xt(e,515,$F(r,a,o,s));break;case"b":case"e":xt(e,517,zF(r,a,t.v,s,n,t.t));break;case"s":case"str":if(n.bookSST){var A=uy(n.Strings,t.v,n.revStrings);xt(e,253,FF(r,a,A,s))}else xt(e,516,kF(r,a,(t.v||"").slice(0,255),s,n));break;default:xt(e,513,lc(r,a,s))}}function KU(e,t,r){var a=Fi(),n=r.SheetNames[e],s=r.Sheets[n]||{},o=(r||{}).Workbook||{},A=(o.Sheets||[])[e]||{},l=Array.isArray(s),c=t.biff==8,d,f="",p=[],u=xr(s["!ref"]||"A1"),g=c?65536:16384;if(u.e.c>255||u.e.r>=g){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");u.e.c=Math.min(u.e.c,255),u.e.r=Math.min(u.e.c,g-1)}xt(a,2057,ny(r,16,t)),xt(a,13,ws(1)),xt(a,12,ws(100)),xt(a,15,fi(!0)),xt(a,17,fi(!1)),xt(a,16,oc(.001)),xt(a,95,fi(!0)),xt(a,42,fi(!1)),xt(a,43,fi(!1)),xt(a,130,ws(1)),xt(a,128,GF()),xt(a,131,fi(!1)),xt(a,132,fi(!1)),c&&QU(a,s["!cols"]),xt(a,512,UF(u,t)),c&&(s["!links"]=[]);for(var h=u.s.r;h<=u.e.r;++h){f=Ta(h);for(var y=u.s.c;y<=u.e.c;++y){h===u.s.r&&(p[y]=la(y)),d=p[y]+f;var x=l?(s[h]||[])[y]:s[d];x&&(qU(a,x,h,y,t),c&&x.l&&s["!links"].push([d,x.l]))}}var v=A.CodeName||A.name||n;return c&&xt(a,574,SF((o.Views||[])[0])),c&&(s["!merges"]||[]).length&&xt(a,229,nR(s["!merges"])),c&&PU(a,s),xt(a,442,f5(v)),c&&UU(a,s),xt(a,10),a.end()}function HU(e,t,r){var a=Fi(),n=(e||{}).Workbook||{},s=n.Sheets||[],o=n.WBProps||{},A=r.biff==8,l=r.biff==5;if(xt(a,2057,ny(e,5,r)),r.bookType=="xla"&&xt(a,135),xt(a,225,A?ws(1200):null),xt(a,193,zN(2)),l&&xt(a,191),l&&xt(a,192),xt(a,226),xt(a,92,pF("SheetJS",r)),xt(a,66,ws(A?1200:1252)),A&&xt(a,353,ws(0)),A&&xt(a,448),xt(a,317,wR(e.SheetNames.length)),A&&e.vbaraw&&xt(a,211),A&&e.vbaraw){var c=o.CodeName||"ThisWorkbook";xt(a,442,f5(c))}xt(a,156,ws(17)),xt(a,25,fi(!1)),xt(a,18,fi(!1)),xt(a,19,ws(0)),A&&xt(a,431,fi(!1)),A&&xt(a,444,ws(0)),xt(a,61,CF()),xt(a,64,fi(!1)),xt(a,141,ws(0)),xt(a,34,fi(bL(e)=="true")),xt(a,14,fi(!0)),A&&xt(a,439,fi(!1)),xt(a,218,ws(0)),jU(a,e,r),LU(a,e.SSF,r),MU(a,r),A&&xt(a,352,fi(!1));var d=a.end(),f=Fi();A&&xt(f,140,pR()),A&&r.Strings&&IU(f,252,yF(r.Strings)),xt(f,10);var p=f.end(),u=Fi(),g=0,h=0;for(h=0;h<e.SheetNames.length;++h)g+=(A?12:11)+(A?2:1)*e.SheetNames[h].length;var y=d.length+g+p.length;for(h=0;h<e.SheetNames.length;++h){var x=s[h]||{};xt(u,133,gF({pos:y,hs:x.Hidden||0,dt:0,name:e.SheetNames[h]},r)),y+=t[h].length}var v=u.end();if(g!=v.length)throw new Error("BS8 "+g+" != "+v.length);var E=[];return d.length&&E.push(d),v.length&&E.push(v),p.length&&E.push(p),gn(E)}function GU(e,t){var r=t||{},a=[];e&&!e.SSF&&(e.SSF=ea(Ht)),e&&e.SSF&&(Yd(),s0(e.SSF),r.revssf=ym(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,xy(r),r.cellXfs=[],hl(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var n=0;n<e.SheetNames.length;++n)a[a.length]=KU(n,r,e);return a.unshift(HU(e,a,r)),gn(a)}function sC(e,t){for(var r=0;r<=e.SheetNames.length;++r){var a=e.Sheets[e.SheetNames[r]];if(!(!a||!a["!ref"])){var n=vi(a["!ref"]);n.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=t||{};switch(s.biff||2){case 8:case 5:return GU(e,t);case 4:case 3:case 2:return DU(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function K4(e,t){var r=t||{},a=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var n=e.match(/<table/i);if(!n)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),o=n.index,A=s&&s.index||e.length,l=I3(e.slice(o,A),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,d=0,f=0,p=0,u={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(o=0;o<l.length;++o){var h=l[o].trim(),y=h.slice(0,3).toLowerCase();if(y=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}d=0;continue}if(!(y!="<td"&&y!="<th")){var x=h.split(/<\/t[dh]>/i);for(A=0;A<x.length;++A){var v=x[A].trim();if(v.match(/<t[dh]/i)){for(var E=v,R=0;E.charAt(0)=="<"&&(R=E.indexOf(">"))>-1;)E=E.slice(R+1);for(var b=0;b<g.length;++b){var T=g[b];T.s.c==d&&T.s.r<c&&c<=T.e.r&&(d=T.e.c+1,b=-1)}var _=Wt(v.slice(0,v.indexOf(">")));p=_.colspan?+_.colspan:1,((f=+_.rowspan)>1||p>1)&&g.push({s:{r:c,c:d},e:{r:c+(f||1)-1,c:d+p-1}});var S=_.t||_["data-t"]||"";if(!E.length){d+=p;continue}if(E=k_(E),u.s.r>c&&(u.s.r=c),u.e.r<c&&(u.e.r=c),u.s.c>d&&(u.s.c=d),u.e.c<d&&(u.e.c=d),!E.length){d+=p;continue}var O={t:"s",v:E};r.raw||!E.trim().length||S=="s"||(E==="TRUE"?O={t:"b",v:!0}:E==="FALSE"?O={t:"b",v:!1}:isNaN(Hs(E))?isNaN(qd(E).getDate())||(O={t:"d",v:ca(E)},r.cellDates||(O={t:"n",v:An(O.v)}),O.z=r.dateNF||Ht[14]):O={t:"n",v:Hs(E)}),r.dense?(a[c]||(a[c]=[]),a[c][d]=O):a[Vt({r:c,c:d})]=O,d+=p}}}}return a["!ref"]=sr(u),g.length&&(a["!merges"]=g),a}function oC(e,t,r,a){for(var n=e["!merges"]||[],s=[],o=t.s.c;o<=t.e.c;++o){for(var A=0,l=0,c=0;c<n.length;++c)if(!(n[c].s.r>r||n[c].s.c>o)&&!(n[c].e.r<r||n[c].e.c<o)){if(n[c].s.r<r||n[c].s.c<o){A=-1;break}A=n[c].e.r-n[c].s.r+1,l=n[c].e.c-n[c].s.c+1;break}if(!(A<0)){var d=Vt({r,c:o}),f=a.dense?(e[r]||[])[o]:e[d],p=f&&f.v!=null&&(f.h||Q2(f.w||(xo(f),f.w)||""))||"",u={};A>1&&(u.rowspan=A),l>1&&(u.colspan=l),a.editable?p='<span contenteditable="true">'+p+"</span>":f&&(u["data-t"]=f&&f.t||"z",f.v!=null&&(u["data-v"]=f.v),f.z!=null&&(u["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+f.l.Target+'">'+p+"</a>")),u.id=(a.id||"sjs")+"-"+d,s.push(gt("td",p,u))}}var g="<tr>";return g+s.join("")+"</tr>"}var AC='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',lC="</body></html>";function zU(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return pl(K4(r[0],t),t);var a=by();return r.forEach(function(n,s){_y(a,K4(n,t),"Sheet"+(s+1))}),a}function cC(e,t,r){var a=[];return a.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function dC(e,t){var r=t||{},a=r.header!=null?r.header:AC,n=r.footer!=null?r.footer:lC,s=[a],o=vi(e["!ref"]);r.dense=Array.isArray(e),s.push(cC(e,o,r));for(var A=o.s.r;A<=o.e.r;++A)s.push(oC(e,o,A,r));return s.push("</table>"+n),s.join("")}function uC(e,t,r){var a=r||{},n=0,s=0;if(a.origin!=null)if(typeof a.origin=="number")n=a.origin;else{var o=typeof a.origin=="string"?xa(a.origin):a.origin;n=o.r,s=o.c}var A=t.getElementsByTagName("tr"),l=Math.min(a.sheetRows||1e7,A.length),c={s:{r:0,c:0},e:{r:n,c:s}};if(e["!ref"]){var d=vi(e["!ref"]);c.s.r=Math.min(c.s.r,d.s.r),c.s.c=Math.min(c.s.c,d.s.c),c.e.r=Math.max(c.e.r,d.e.r),c.e.c=Math.max(c.e.c,d.e.c),n==-1&&(c.e.r=n=d.e.r+1)}var f=[],p=0,u=e["!rows"]||(e["!rows"]=[]),g=0,h=0,y=0,x=0,v=0,E=0;for(e["!cols"]||(e["!cols"]=[]);g<A.length&&h<l;++g){var R=A[g];if(H4(R)){if(a.display)continue;u[h]={hidden:!0}}var b=R.children;for(y=x=0;y<b.length;++y){var T=b[y];if(!(a.display&&H4(T))){var _=T.hasAttribute("data-v")?T.getAttribute("data-v"):T.hasAttribute("v")?T.getAttribute("v"):k_(T.innerHTML),S=T.getAttribute("data-z")||T.getAttribute("z");for(p=0;p<f.length;++p){var O=f[p];O.s.c==x+s&&O.s.r<h+n&&h+n<=O.e.r&&(x=O.e.c+1-s,p=-1)}E=+T.getAttribute("colspan")||1,((v=+T.getAttribute("rowspan")||1)>1||E>1)&&f.push({s:{r:h+n,c:x+s},e:{r:h+n+(v||1)-1,c:x+s+(E||1)-1}});var M={t:"s",v:_},I=T.getAttribute("data-t")||T.getAttribute("t")||"";_!=null&&(_.length==0?M.t=I||"z":a.raw||_.trim().length==0||I=="s"||(_==="TRUE"?M={t:"b",v:!0}:_==="FALSE"?M={t:"b",v:!1}:isNaN(Hs(_))?isNaN(qd(_).getDate())||(M={t:"d",v:ca(_)},a.cellDates||(M={t:"n",v:An(M.v)}),M.z=a.dateNF||Ht[14]):M={t:"n",v:Hs(_)})),M.z===void 0&&S!=null&&(M.z=S);var D="",L=T.getElementsByTagName("A");if(L&&L.length)for(var N=0;N<L.length&&!(L[N].hasAttribute("href")&&(D=L[N].getAttribute("href"),D.charAt(0)!="#"));++N);D&&D.charAt(0)!="#"&&(M.l={Target:D}),a.dense?(e[h+n]||(e[h+n]=[]),e[h+n][x+s]=M):e[Vt({c:x+s,r:h+n})]=M,c.e.c<x+s&&(c.e.c=x+s),x+=E}}++h}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,h-1+n),e["!ref"]=sr(c),h>=l&&(e["!fullref"]=sr((c.e.r=A.length-g+h-1+n,c))),e}function fC(e,t){var r=t||{},a=r.dense?[]:{};return uC(a,e,t)}function VU(e,t){return pl(fC(e,t),t)}function H4(e){var t="",r=$U(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function $U(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function YU(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(a,n){return Array(parseInt(n,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Tr(t.replace(/<[^>]*>/g,""));return[r]}var G4={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function pC(e,t){var r=t||{},a=q2(e),n=[],s,o,A={name:""},l="",c=0,d,f,p={},u=[],g=r.dense?[]:{},h,y,x={value:""},v="",E=0,R=[],b=-1,T=-1,_={s:{r:1e6,c:1e7},e:{r:0,c:0}},S=0,O={},M=[],I={},D=0,L=0,N=[],P=1,Q=1,J=[],te={Names:[]},V={},G=["",""],z=[],C={},k="",j=0,H=!1,Y=!1,de=0;for(Mf.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");h=Mf.exec(a);)switch(h[3]=h[3].replace(/_.*$/,"")){case"table":case"工作表":h[1]==="/"?(_.e.c>=_.s.c&&_.e.r>=_.s.r?g["!ref"]=sr(_):g["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=_.e.r&&(g["!fullref"]=g["!ref"],_.e.r=r.sheetRows-1,g["!ref"]=sr(_)),M.length&&(g["!merges"]=M),N.length&&(g["!rows"]=N),d.name=d.名称||d.name,typeof JSON<"u"&&JSON.stringify(d),u.push(d.name),p[d.name]=g,Y=!1):h[0].charAt(h[0].length-2)!=="/"&&(d=Wt(h[0],!1),b=T=-1,_.s.r=_.s.c=1e7,_.e.r=_.e.c=0,g=r.dense?[]:{},M=[],N=[],Y=!0);break;case"table-row-group":h[1]==="/"?--S:++S;break;case"table-row":case"行":if(h[1]==="/"){b+=P,P=1;break}if(f=Wt(h[0],!1),f.行号?b=f.行号-1:b==-1&&(b=0),P=+f["number-rows-repeated"]||1,P<10)for(de=0;de<P;++de)S>0&&(N[b+de]={level:S});T=-1;break;case"covered-table-cell":h[1]!=="/"&&++T,r.sheetStubs&&(r.dense?(g[b]||(g[b]=[]),g[b][T]={t:"z"}):g[Vt({r:b,c:T})]={t:"z"}),v="",R=[];break;case"table-cell":case"数据":if(h[0].charAt(h[0].length-2)==="/")++T,x=Wt(h[0],!1),Q=parseInt(x["number-columns-repeated"]||"1",10),y={t:"z",v:null},x.formula&&r.cellFormula!=!1&&(y.f=P4(Tr(x.formula))),(x.数据类型||x["value-type"])=="string"&&(y.t="s",y.v=Tr(x["string-value"]||""),r.dense?(g[b]||(g[b]=[]),g[b][T]=y):g[Vt({r:b,c:T})]=y),T+=Q-1;else if(h[1]!=="/"){++T,v="",E=0,R=[],Q=1;var ue=P?b+P-1:b;if(T>_.e.c&&(_.e.c=T),T<_.s.c&&(_.s.c=T),b<_.s.r&&(_.s.r=b),ue>_.e.r&&(_.e.r=ue),x=Wt(h[0],!1),z=[],C={},y={t:x.数据类型||x["value-type"],v:null},r.cellFormula)if(x.formula&&(x.formula=Tr(x.formula)),x["number-matrix-columns-spanned"]&&x["number-matrix-rows-spanned"]&&(D=parseInt(x["number-matrix-rows-spanned"],10)||0,L=parseInt(x["number-matrix-columns-spanned"],10)||0,I={s:{r:b,c:T},e:{r:b+D-1,c:T+L-1}},y.F=sr(I),J.push([I,y.F])),x.formula)y.f=P4(x.formula);else for(de=0;de<J.length;++de)b>=J[de][0].s.r&&b<=J[de][0].e.r&&T>=J[de][0].s.c&&T<=J[de][0].e.c&&(y.F=J[de][1]);switch((x["number-columns-spanned"]||x["number-rows-spanned"])&&(D=parseInt(x["number-rows-spanned"],10)||0,L=parseInt(x["number-columns-spanned"],10)||0,I={s:{r:b,c:T},e:{r:b+D-1,c:T+L-1}},M.push(I)),x["number-columns-repeated"]&&(Q=parseInt(x["number-columns-repeated"],10)),y.t){case"boolean":y.t="b",y.v=sa(x["boolean-value"]);break;case"float":y.t="n",y.v=parseFloat(x.value);break;case"percentage":y.t="n",y.v=parseFloat(x.value);break;case"currency":y.t="n",y.v=parseFloat(x.value);break;case"date":y.t="d",y.v=ca(x["date-value"]),r.cellDates||(y.t="n",y.v=An(y.v)),y.z="m/d/yy";break;case"time":y.t="n",y.v=S3(x["time-value"])/86400,r.cellDates&&(y.t="d",y.v=vm(y.v)),y.z="HH:MM:SS";break;case"number":y.t="n",y.v=parseFloat(x.数据数值);break;default:if(y.t==="string"||y.t==="text"||!y.t)y.t="s",x["string-value"]!=null&&(v=Tr(x["string-value"]),R=[]);else throw new Error("Unsupported value type "+y.t)}}else{if(H=!1,y.t==="s"&&(y.v=v||"",R.length&&(y.R=R),H=E==0),V.Target&&(y.l=V),z.length>0&&(y.c=z,z=[]),v&&r.cellText!==!1&&(y.w=v),H&&(y.t="z",delete y.v),(!H||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=b))for(var he=0;he<P;++he){if(Q=parseInt(x["number-columns-repeated"]||"1",10),r.dense)for(g[b+he]||(g[b+he]=[]),g[b+he][T]=he==0?y:ea(y);--Q>0;)g[b+he][T+Q]=ea(y);else for(g[Vt({r:b+he,c:T})]=y;--Q>0;)g[Vt({r:b+he,c:T+Q})]=ea(y);_.e.c<=T&&(_.e.c=T)}Q=parseInt(x["number-columns-repeated"]||"1",10),T+=Q-1,Q=0,y={},v="",R=[]}V={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(h[1]==="/"){if((s=n.pop())[0]!==h[3])throw"Bad state: "+s}else h[0].charAt(h[0].length-2)!=="/"&&n.push([h[3],!0]);break;case"annotation":if(h[1]==="/"){if((s=n.pop())[0]!==h[3])throw"Bad state: "+s;C.t=v,R.length&&(C.R=R),C.a=k,z.push(C)}else h[0].charAt(h[0].length-2)!=="/"&&n.push([h[3],!1]);k="",j=0,v="",E=0,R=[];break;case"creator":h[1]==="/"?k=a.slice(j,h.index):j=h.index+h[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(h[1]==="/"){if((s=n.pop())[0]!==h[3])throw"Bad state: "+s}else h[0].charAt(h[0].length-2)!=="/"&&n.push([h[3],!1]);v="",E=0,R=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(h[1]==="/"){if(O[A.name]=l,(s=n.pop())[0]!==h[3])throw"Bad state: "+s}else h[0].charAt(h[0].length-2)!=="/"&&(l="",A=Wt(h[0],!1),n.push([h[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(n[n.length-1][0]){case"time-style":case"date-style":o=Wt(h[0],!1),l+=G4[h[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(n[n.length-1][0]){case"time-style":case"date-style":o=Wt(h[0],!1),l+=G4[h[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(h[0].slice(-2)==="/>")break;if(h[1]==="/")switch(n[n.length-1][0]){case"number-style":case"date-style":case"time-style":l+=a.slice(c,h.index);break}else c=h.index+h[0].length;break;case"named-range":o=Wt(h[0],!1),G=jg(o["cell-range-address"]);var xe={Name:o.name,Ref:G[0]+"!"+G[1]};Y&&(xe.Sheet=u.length),te.Names.push(xe);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(n[n.length-1][0])>-1)break;if(h[1]==="/"&&(!x||!x["string-value"])){var ve=YU(a.slice(E,h.index));v=(v.length>0?v+`
`:"")+ve[0]}else Wt(h[0],!1),E=h.index+h[0].length;break;case"s":break;case"database-range":if(h[1]==="/")break;try{G=jg(Wt(h[0])["target-range-address"]),p[G[0]]["!autofilter"]={ref:G[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(h[1]!=="/"){if(V=Wt(h[0],!1),!V.href)break;V.Target=Tr(V.href),delete V.href,V.Target.charAt(0)=="#"&&V.Target.indexOf(".")>-1?(G=jg(V.Target.slice(1)),V.Target="#"+G[0]+"!"+G[1]):V.Target.match(/^\.\.[\\\/]/)&&(V.Target=V.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(h[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(h)}}var se={Sheets:p,SheetNames:u,Workbook:te};return r.bookSheets&&delete se.Sheets,se}function z4(e,t){t=t||{},ys(e,"META-INF/manifest.xml")&&SN(Wa(e,"META-INF/manifest.xml"),t);var r=Yi(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var a=pC(zr(r),t);return ys(e,"meta.xml")&&(a.Props=e5(Wa(e,"meta.xml"))),a}function V4(e,t){return pC(e,t)}var WU=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Uf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Ka+t}}(),$4=function(){var e=function(s){return Kr(s).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,a=function(s,o,A){var l=[];l.push('      <table:table table:name="'+Kr(o.SheetNames[A])+`" table:style-name="ta1">
`);var c=0,d=0,f=vi(s["!ref"]||"A1"),p=s["!merges"]||[],u=0,g=Array.isArray(s);if(s["!cols"])for(d=0;d<=f.e.c;++d)l.push("        <table:table-column"+(s["!cols"][d]?' table:style-name="co'+s["!cols"][d].ods+'"':"")+`></table:table-column>
`);var h="",y=s["!rows"]||[];for(c=0;c<f.s.r;++c)h=y[c]?' table:style-name="ro'+y[c].ods+'"':"",l.push("        <table:table-row"+h+`></table:table-row>
`);for(;c<=f.e.r;++c){for(h=y[c]?' table:style-name="ro'+y[c].ods+'"':"",l.push("        <table:table-row"+h+`>
`),d=0;d<f.s.c;++d)l.push(t);for(;d<=f.e.c;++d){var x=!1,v={},E="";for(u=0;u!=p.length;++u)if(!(p[u].s.c>d)&&!(p[u].s.r>c)&&!(p[u].e.c<d)&&!(p[u].e.r<c)){(p[u].s.c!=d||p[u].s.r!=c)&&(x=!0),v["table:number-columns-spanned"]=p[u].e.c-p[u].s.c+1,v["table:number-rows-spanned"]=p[u].e.r-p[u].s.r+1;break}if(x){l.push(r);continue}var R=Vt({r:c,c:d}),b=g?(s[c]||[])[d]:s[R];if(b&&b.f&&(v["table:formula"]=Kr(w8(b.f)),b.F&&b.F.slice(0,R.length)==R)){var T=vi(b.F);v["table:number-matrix-columns-spanned"]=T.e.c-T.s.c+1,v["table:number-matrix-rows-spanned"]=T.e.r-T.s.r+1}if(!b){l.push(t);continue}switch(b.t){case"b":E=b.v?"TRUE":"FALSE",v["office:value-type"]="boolean",v["office:boolean-value"]=b.v?"true":"false";break;case"n":E=b.w||String(b.v||0),v["office:value-type"]="float",v["office:value"]=b.v||0;break;case"s":case"str":E=b.v==null?"":b.v,v["office:value-type"]="string";break;case"d":E=b.w||ca(b.v).toISOString(),v["office:value-type"]="date",v["office:date-value"]=ca(b.v).toISOString(),v["table:style-name"]="ce1";break;default:l.push(t);continue}var _=e(E);if(b.l&&b.l.Target){var S=b.l.Target;S=S.charAt(0)=="#"?"#"+E8(S.slice(1)):S,S.charAt(0)!="#"&&!S.match(/^\w+:/)&&(S="../"+S),_=gt("text:a",_,{"xlink:href":S.replace(/&/g,"&amp;")})}l.push("          "+gt("table:table-cell",gt("text:p",_,{}),v)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},n=function(s,o){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var A=0;o.SheetNames.map(function(c){return o.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var d=0;d<c["!cols"].length;++d)if(c["!cols"][d]){var f=c["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;sl(f),f.ods=A;var p=c["!cols"][d].wpx+"px";s.push('  <style:style style:name="co'+A+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),s.push(`  </style:style>
`),++A}}});var l=0;o.SheetNames.map(function(c){return o.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var d=0;d<c["!rows"].length;++d)if(c["!rows"][d]){c["!rows"][d].ods=l;var f=c["!rows"][d].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(o,A){var l=[Ka],c=Uf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=Uf({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});A.bookType=="fods"?(l.push("<office:document"+c+d+`>
`),l.push(Z_().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),n(l,o),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)l.push(a(o.Sheets[o.SheetNames[f]],o,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),A.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function hC(e,t){if(t.bookType=="fods")return $4(e,t);var r=U2(),a="",n=[],s=[];return a="mimetype",or(r,a,"application/vnd.oasis.opendocument.spreadsheet"),a="content.xml",or(r,a,$4(e,t)),n.push([a,"text/xml"]),s.push([a,"ContentFile"]),a="styles.xml",or(r,a,WU(e,t)),n.push([a,"text/xml"]),s.push([a,"StylesFile"]),a="meta.xml",or(r,a,Ka+Z_()),n.push([a,"text/xml"]),s.push([a,"MetadataFile"]),a="manifest.rdf",or(r,a,IN(s)),n.push([a,"application/rdf+xml"]),a="META-INF/manifest.xml",or(r,a,TN(n)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function cc(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Ix(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):zr(fl(e))}function XU(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):$i(fo(e))}function JU(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var a=0;a<t.length;++a)if(e[r+a]!=t[a])continue e;return!0}return!1}function Al(e){var t=e.reduce(function(n,s){return n+s.length},0),r=new Uint8Array(t),a=0;return e.forEach(function(n){r.set(n,a),a+=n.length}),r}function Y4(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function ZU(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,a=e[t+14]&1,n=t+13;n>=t;--n)a=a*256+e[n];return(e[t+15]&128?-a:a)*Math.pow(10,r-6176)}function e7(e,t,r){var a=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,n=r/Math.pow(10,a-6176);e[t+15]|=a>>7,e[t+14]|=(a&127)<<1;for(var s=0;n>=1;++s,n/=256)e[t+s]=n&255;e[t+15]|=r>=0?0:128}function zf(e,t){var r=t?t[0]:0,a=e[r]&127;e:if(e[r++]>=128&&(a|=(e[r]&127)<<7,e[r++]<128||(a|=(e[r]&127)<<14,e[r++]<128)||(a|=(e[r]&127)<<21,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),a}function Qr(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Oa(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Or(e){for(var t=[],r=[0];r[0]<e.length;){var a=r[0],n=zf(e,r),s=n&7;n=Math.floor(n/8);var o=0,A;if(n==0)break;switch(s){case 0:{for(var l=r[0];e[r[0]++]>=128;);A=e.slice(l,r[0])}break;case 5:o=4,A=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,A=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=zf(e,r),A=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(n," at offset ").concat(a))}var c={data:A,type:s};t[n]==null?t[n]=[c]:t[n].push(c)}return t}function _n(e){var t=[];return e.forEach(function(r,a){r.forEach(function(n){n.data&&(t.push(Qr(a*8+n.type)),n.type==2&&t.push(Qr(n.data.length)),t.push(n.data))})}),Al(t)}function my(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function gs(e){for(var t,r=[],a=[0];a[0]<e.length;){var n=zf(e,a),s=Or(e.slice(a[0],a[0]+n));a[0]+=n;var o={id:Oa(s[1][0].data),messages:[]};s[2].forEach(function(A){var l=Or(A.data),c=Oa(l[3][0].data);o.messages.push({meta:l,data:e.slice(a[0],a[0]+c)}),a[0]+=c}),(t=s[3])!=null&&t[0]&&(o.merge=Oa(s[3][0].data)>>>0>0),r.push(o)}return r}function Yc(e){var t=[];return e.forEach(function(r){var a=[];a[1]=[{data:Qr(r.id),type:0}],a[2]=[],r.merge!=null&&(a[3]=[{data:Qr(+!!r.merge),type:0}]);var n=[];r.messages.forEach(function(o){n.push(o.data),o.meta[3]=[{type:0,data:Qr(o.data.length)}],a[2].push({data:_n(o.meta),type:2})});var s=_n(a);t.push(Qr(s.length)),t.push(s),n.forEach(function(o){return t.push(o)})}),Al(t)}function t7(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],a=zf(t,r),n=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var A=o-59;o=t[r[0]],A>1&&(o|=t[r[0]+1]<<8),A>2&&(o|=t[r[0]+2]<<16),A>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=A}n.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var l=0,c=0;if(s==1?(c=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(c=(t[r[0]++]>>2)+1,s==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),n=[Al(n)],l==0)throw new Error("Invalid offset 0");if(l>n[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(n.push(n[0].slice(-l)),c-=l;c>=n[n.length-1].length;)n.push(n[n.length-1]),c-=n[n.length-1].length;n.push(n[0].slice(-l,-l+c))}}var d=Al(n);if(d.length!=a)throw new Error("Unexpected length: ".concat(d.length," != ").concat(a));return d}function xs(e){for(var t=[],r=0;r<e.length;){var a=e[r++],n=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(t7(a,e.slice(r,r+n))),r+=n}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Al(t)}function Wc(e){for(var t=[],r=0;r<e.length;){var a=Math.min(e.length-r,268435455),n=new Uint8Array(4);t.push(n);var s=Qr(a),o=s.length;t.push(s),a<=60?(o++,t.push(new Uint8Array([a-1<<2]))):a<=256?(o+=2,t.push(new Uint8Array([240,a-1&255]))):a<=65536?(o+=3,t.push(new Uint8Array([244,a-1&255,a-1>>8&255]))):a<=16777216?(o+=4,t.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))):a<=4294967296&&(o+=5,t.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))),t.push(e.slice(r,r+a)),o+=a,n[0]=0,n[1]=o&255,n[2]=o>>8&255,n[3]=o>>16&255,r+=a}return Al(t)}function r7(e,t,r,a){var n=cc(e),s=n.getUint32(4,!0),o=(a>1?12:8)+Y4(s&(a>1?3470:398))*4,A=-1,l=-1,c=NaN,d=new Date(2001,0,1);s&512&&(A=n.getUint32(o,!0),o+=4),o+=Y4(s&(a>1?12288:4096))*4,s&16&&(l=n.getUint32(o,!0),o+=4),s&32&&(c=n.getFloat64(o,!0),o+=8),s&64&&(d.setTime(d.getTime()+n.getFloat64(o,!0)*1e3),o+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(A>-1)f={t:"s",v:r[A]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function a7(e,t,r){var a=cc(e),n=a.getUint32(8,!0),s=12,o=-1,A=-1,l=NaN,c=NaN,d=new Date(2001,0,1);n&1&&(l=ZU(e,s),s+=16),n&2&&(c=a.getFloat64(s,!0),s+=8),n&4&&(d.setTime(d.getTime()+a.getFloat64(s,!0)*1e3),s+=8),n&8&&(A=a.getUint32(s,!0),s+=4),n&16&&(o=a.getUint32(s,!0),s+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[A]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)))}return f}function Ug(e,t){var r=new Uint8Array(32),a=cc(r),n=12,s=0;switch(r[0]=5,e.t){case"n":r[1]=2,e7(r,n,e.v),s|=1,n+=16;break;case"b":r[1]=6,a.setFloat64(n,e.v?1:0,!0),s|=2,n+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,a.setUint32(n,t.indexOf(e.v),!0),s|=8,n+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(8,s,!0),r.slice(0,n)}function Mg(e,t){var r=new Uint8Array(32),a=cc(r),n=12,s=0;switch(r[0]=3,e.t){case"n":r[2]=2,a.setFloat64(n,e.v,!0),s|=32,n+=8;break;case"b":r[2]=6,a.setFloat64(n,e.v?1:0,!0),s|=32,n+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,a.setUint32(n,t.indexOf(e.v),!0),s|=16,n+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(4,s,!0),r.slice(0,n)}function n7(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return r7(e,t,r,e[0]);case 5:return a7(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Kn(e){var t=Or(e);return zf(t[1][0].data)}function W4(e,t){var r=Or(t.data),a=Oa(r[1][0].data),n=r[3],s=[];return(n||[]).forEach(function(o){var A=Or(o.data),l=Oa(A[1][0].data)>>>0;switch(a){case 1:s[l]=Ix(A[3][0].data);break;case 8:{var c=e[Kn(A[9][0].data)][0],d=Or(c.data),f=e[Kn(d[1][0].data)][0],p=Oa(f.meta[1][0].data);if(p!=2001)throw new Error("2000 unexpected reference to ".concat(p));var u=Or(f.data);s[l]=u[3].map(function(g){return Ix(g.data)}).join("")}break}}),s}function i7(e,t){var r,a,n,s,o,A,l,c,d,f,p,u,g,h,y=Or(e),x=Oa(y[1][0].data)>>>0,v=Oa(y[2][0].data)>>>0,E=((a=(r=y[8])==null?void 0:r[0])==null?void 0:a.data)&&Oa(y[8][0].data)>0||!1,R,b;if((s=(n=y[7])==null?void 0:n[0])!=null&&s.data&&t!=0)R=(A=(o=y[7])==null?void 0:o[0])==null?void 0:A.data,b=(c=(l=y[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(d=y[4])==null?void 0:d[0])!=null&&f.data&&t!=1)R=(u=(p=y[4])==null?void 0:p[0])==null?void 0:u.data,b=(h=(g=y[3])==null?void 0:g[0])==null?void 0:h.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var T=E?4:1,_=cc(R),S=[],O=0;O<R.length/2;++O){var M=_.getUint16(O*2,!0);M<65535&&S.push([O,M])}if(S.length!=v)throw"Expected ".concat(v," cells, found ").concat(S.length);var I=[];for(O=0;O<S.length-1;++O)I[S[O][0]]=b.subarray(S[O][1]*T,S[O+1][1]*T);return S.length>=1&&(I[S[S.length-1][0]]=b.subarray(S[S.length-1][1]*T)),{R:x,cells:I}}function s7(e,t){var r,a=Or(t.data),n=(r=a==null?void 0:a[7])!=null&&r[0]?Oa(a[7][0].data)>>>0>0?1:0:-1,s=my(a[5],function(o){return i7(o,n)});return{nrows:Oa(a[4][0].data)>>>0,data:s.reduce(function(o,A){return o[A.R]||(o[A.R]=[]),A.cells.forEach(function(l,c){if(o[A.R][c])throw new Error("Duplicate cell r=".concat(A.R," c=").concat(c));o[A.R][c]=l}),o},[])}}function o7(e,t,r){var a,n=Or(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Oa(n[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(n[6][0].data));if(s.e.c=(Oa(n[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(n[7][0].data));r["!ref"]=sr(s);var o=Or(n[4][0].data),A=W4(e,e[Kn(o[4][0].data)][0]),l=(a=o[17])!=null&&a[0]?W4(e,e[Kn(o[17][0].data)][0]):[],c=Or(o[3][0].data),d=0;c[1].forEach(function(f){var p=Or(f.data),u=e[Kn(p[2][0].data)][0],g=Oa(u.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var h=s7(e,u);h.data.forEach(function(y,x){y.forEach(function(v,E){var R=Vt({r:d+x,c:E}),b=n7(v,A,l);b&&(r[R]=b)})}),d+=h.nrows})}function A7(e,t){var r=Or(t.data),a={"!ref":"A1"},n=e[Kn(r[2][0].data)],s=Oa(n[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return o7(e,n[0],a),a}function l7(e,t){var r,a=Or(t.data),n={name:(r=a[1])!=null&&r[0]?Ix(a[1][0].data):"",sheets:[]},s=my(a[2],Kn);return s.forEach(function(o){e[o].forEach(function(A){var l=Oa(A.meta[1][0].data);l==6e3&&n.sheets.push(A7(e,A))})}),n}function c7(e,t){var r=by(),a=Or(t.data),n=my(a[1],Kn);if(n.forEach(function(s){e[s].forEach(function(o){var A=Oa(o.meta[1][0].data);if(A==2){var l=l7(e,o);l.sheets.forEach(function(c,d){_y(r,c,d==0?l.name:l.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function Pg(e){var t,r,a,n,s={},o=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=xs(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var d;try{d=gs(c)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){s[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var A=((n=(a=(r=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:a[1])==null?void 0:n[0].data)&&Oa(s[1][0].meta[1][0].data)==1&&s[1][0];if(A||o.forEach(function(l){s[l].forEach(function(c){var d=Oa(c.meta[1][0].data)>>>0;if(d==1)if(!A)A=c;else throw new Error("Document has multiple roots")})}),!A)throw new Error("Cannot find Document root");return c7(s,A)}function d7(e,t,r){var a,n,s,o;if(!((a=e[6])!=null&&a[0])||!((n=e[7])!=null&&n[0]))throw"Mutation only works on post-BNC storages!";var A=((o=(s=e[8])==null?void 0:s[0])==null?void 0:o.data)&&Oa(e[8][0].data)>0||!1;if(A)throw"Math only works with normal offsets";for(var l=0,c=cc(e[7][0].data),d=0,f=[],p=cc(e[4][0].data),u=0,g=[],h=0;h<t.length;++h){if(t[h]==null){c.setUint16(h*2,65535,!0),p.setUint16(h*2,65535);continue}c.setUint16(h*2,d,!0),p.setUint16(h*2,u,!0);var y,x;switch(typeof t[h]){case"string":y=Ug({t:"s",v:t[h]},r),x=Mg({t:"s",v:t[h]},r);break;case"number":y=Ug({t:"n",v:t[h]},r),x=Mg({t:"n",v:t[h]},r);break;case"boolean":y=Ug({t:"b",v:t[h]},r),x=Mg({t:"b",v:t[h]},r);break;default:throw new Error("Unsupported value "+t[h])}f.push(y),d+=y.length,g.push(x),u+=x.length,++l}for(e[2][0].data=Qr(l);h<e[7][0].data.length/2;++h)c.setUint16(h*2,65535,!0),p.setUint16(h*2,65535,!0);return e[6][0].data=Al(f),e[3][0].data=Al(g),l}function u7(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var a=vi(r["!ref"]);a.s.r=a.s.c=0;var n=!1;a.e.c>9&&(n=!0,a.e.c=9),a.e.r>49&&(n=!0,a.e.r=49),n&&console.error("The Numbers writer is currently limited to ".concat(sr(a)));var s=Uh(r,{range:a,header:1}),o=["~Sh33tJ5~"];s.forEach(function(k){return k.forEach(function(j){typeof j=="string"&&o.push(j)})});var A={},l=[],c=Ut.read(t.numbers,{type:"base64"});c.FileIndex.map(function(k,j){return[k,c.FullPaths[j]]}).forEach(function(k){var j=k[0],H=k[1];if(j.type==2&&j.name.match(/\.iwa/)){var Y=j.content,de=xs(Y),ue=gs(de);ue.forEach(function(he){l.push(he.id),A[he.id]={deps:[],location:H,type:Oa(he.messages[0].meta[1][0].data)}})}}),l.sort(function(k,j){return k-j});var d=l.filter(function(k){return k>1}).map(function(k){return[k,Qr(k)]});c.FileIndex.map(function(k,j){return[k,c.FullPaths[j]]}).forEach(function(k){var j=k[0];if(k[1],!!j.name.match(/\.iwa/)){var H=gs(xs(j.content));H.forEach(function(Y){Y.messages.forEach(function(de){d.forEach(function(ue){Y.messages.some(function(he){return Oa(he.meta[1][0].data)!=11006&&JU(he.data,ue[1])})&&A[ue[0]].deps.push(Y.id)})})})}});for(var f=Ut.find(c,A[1].location),p=gs(xs(f.content)),u,g=0;g<p.length;++g){var h=p[g];h.id==1&&(u=h)}var y=Kn(Or(u.messages[0].data)[1][0].data);for(f=Ut.find(c,A[y].location),p=gs(xs(f.content)),g=0;g<p.length;++g)h=p[g],h.id==y&&(u=h);for(y=Kn(Or(u.messages[0].data)[2][0].data),f=Ut.find(c,A[y].location),p=gs(xs(f.content)),g=0;g<p.length;++g)h=p[g],h.id==y&&(u=h);for(y=Kn(Or(u.messages[0].data)[2][0].data),f=Ut.find(c,A[y].location),p=gs(xs(f.content)),g=0;g<p.length;++g)h=p[g],h.id==y&&(u=h);var x=Or(u.messages[0].data);{x[6][0].data=Qr(a.e.r+1),x[7][0].data=Qr(a.e.c+1);var v=Kn(x[46][0].data),E=Ut.find(c,A[v].location),R=gs(xs(E.content));{for(var b=0;b<R.length&&R[b].id!=v;++b);if(R[b].id!=v)throw"Bad ColumnRowUIDMapArchive";var T=Or(R[b].messages[0].data);T[1]=[],T[2]=[],T[3]=[];for(var _=0;_<=a.e.c;++_){var S=[];S[1]=S[2]=[{type:0,data:Qr(_+420690)}],T[1].push({type:2,data:_n(S)}),T[2].push({type:0,data:Qr(_)}),T[3].push({type:0,data:Qr(_)})}T[4]=[],T[5]=[],T[6]=[];for(var O=0;O<=a.e.r;++O)S=[],S[1]=S[2]=[{type:0,data:Qr(O+726270)}],T[4].push({type:2,data:_n(S)}),T[5].push({type:0,data:Qr(O)}),T[6].push({type:0,data:Qr(O)});R[b].messages[0].data=_n(T)}E.content=Wc(Yc(R)),E.size=E.content.length,delete x[46];var M=Or(x[4][0].data);{M[7][0].data=Qr(a.e.r+1);var I=Or(M[1][0].data),D=Kn(I[2][0].data);E=Ut.find(c,A[D].location),R=gs(xs(E.content));{if(R[0].id!=D)throw"Bad HeaderStorageBucket";var L=Or(R[0].messages[0].data);for(O=0;O<s.length;++O){var N=Or(L[2][0].data);N[1][0].data=Qr(O),N[4][0].data=Qr(s[O].length),L[2][O]={type:L[2][0].type,data:_n(N)}}R[0].messages[0].data=_n(L)}E.content=Wc(Yc(R)),E.size=E.content.length;var P=Kn(M[2][0].data);E=Ut.find(c,A[P].location),R=gs(xs(E.content));{if(R[0].id!=P)throw"Bad HeaderStorageBucket";for(L=Or(R[0].messages[0].data),_=0;_<=a.e.c;++_)N=Or(L[2][0].data),N[1][0].data=Qr(_),N[4][0].data=Qr(a.e.r+1),L[2][_]={type:L[2][0].type,data:_n(N)};R[0].messages[0].data=_n(L)}E.content=Wc(Yc(R)),E.size=E.content.length;var Q=Kn(M[4][0].data);(function(){for(var k=Ut.find(c,A[Q].location),j=gs(xs(k.content)),H,Y=0;Y<j.length;++Y){var de=j[Y];de.id==Q&&(H=de)}var ue=Or(H.messages[0].data);{ue[3]=[];var he=[];o.forEach(function(se,Ke){he[1]=[{type:0,data:Qr(Ke)}],he[2]=[{type:0,data:Qr(1)}],he[3]=[{type:2,data:XU(se)}],ue[3].push({type:2,data:_n(he)})})}H.messages[0].data=_n(ue);var xe=Yc(j),ve=Wc(xe);k.content=ve,k.size=k.content.length})();var J=Or(M[3][0].data);{var te=J[1][0];delete J[2];var V=Or(te.data);{var G=Kn(V[2][0].data);(function(){for(var k=Ut.find(c,A[G].location),j=gs(xs(k.content)),H,Y=0;Y<j.length;++Y){var de=j[Y];de.id==G&&(H=de)}var ue=Or(H.messages[0].data);{delete ue[6],delete J[7];var he=new Uint8Array(ue[5][0].data);ue[5]=[];for(var xe=0,ve=0;ve<=a.e.r;++ve){var se=Or(he);xe+=d7(se,s[ve],o),se[1][0].data=Qr(ve),ue[5].push({data:_n(se),type:2})}ue[1]=[{type:0,data:Qr(a.e.c+1)}],ue[2]=[{type:0,data:Qr(a.e.r+1)}],ue[3]=[{type:0,data:Qr(xe)}],ue[4]=[{type:0,data:Qr(a.e.r+1)}]}H.messages[0].data=_n(ue);var Ke=Yc(j),Ee=Wc(Ke);k.content=Ee,k.size=k.content.length})()}te.data=_n(V)}M[3][0].data=_n(J)}x[4][0].data=_n(M)}u.messages[0].data=_n(x);var z=Yc(p),C=Wc(z);return f.content=C,f.size=f.content.length,c}function mC(e){return function(r){for(var a=0;a!=e.length;++a){var n=e[a];r[n[0]]===void 0&&(r[n[0]]=n[1]),n[2]==="n"&&(r[n[0]]=Number(r[n[0]]))}}}function gy(e){mC([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function xy(e){mC([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function f7(e){return ur.WS.indexOf(e)>-1?"sheet":e==ur.CS?"chart":e==ur.DS?"dialog":e==ur.MS?"macro":e&&e.length?e:"sheet"}function p7(e,t){if(!e)return 0;try{e=t.map(function(a){return a.id||(a.id=a.strRelID),[a.name,e["!id"][a.id].Target,f7(e["!id"][a.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function h7(e,t,r,a,n,s,o,A,l,c,d,f){try{s[a]=ff(Yi(e,r,!0),t);var p=Wa(e,t),u;switch(A){case"sheet":u=QL(p,t,n,l,s[a],c,d,f);break;case"chart":if(u=qL(p,t,n,l,s[a],c,d,f),!u||!u["!drawel"])break;var g=zu(u["!drawel"].Target,t),h=Pf(g),y=Ok(Yi(e,g,!0),ff(Yi(e,h,!0),g)),x=zu(y,g),v=Pf(x);u=mL(Yi(e,x,!0),x,l,ff(Yi(e,v,!0),x),c,u);break;case"macro":u=KL(p,t,n,l,s[a],c,d,f);break;case"dialog":u=HL(p,t,n,l,s[a],c,d,f);break;default:throw new Error("Unrecognized sheet type "+A)}o[a]=u;var E=[];s&&s[a]&&Ia(s[a]).forEach(function(R){var b="";if(s[a][R].Type==ur.CMNT){b=zu(s[a][R].Target,t);var T=$L(Wa(e,b,!0),b,l);if(!T||!T.length)return;D4(u,T,!1)}s[a][R].Type==ur.TCMNT&&(b=zu(s[a][R].Target,t),E=E.concat(Nk(Wa(e,b,!0),l)))}),E&&E.length&&D4(u,E,!0,l.people||[])}catch(R){if(l.WTF)throw R}}function ps(e){return e.charAt(0)=="/"?e.slice(1):e}function gC(e,t){if(Yd(),t=t||{},gy(t),ys(e,"META-INF/manifest.xml")||ys(e,"objectdata.xml"))return z4(e,t);if(ys(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Pg<"u"){if(e.FileIndex)return Pg(e);var r=Ut.utils.cfb_new();return r4(e).forEach(function(N){or(r,N,F3(e,N))}),Pg(r)}throw new Error("Unsupported NUMBERS file")}if(!ys(e,"[Content_Types].xml"))throw ys(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ys(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var a=r4(e),n=CN(Yi(e,"[Content_Types].xml")),s=!1,o,A;if(n.workbooks.length===0&&(A="xl/workbook.xml",Wa(e,A,!0)&&n.workbooks.push(A)),n.workbooks.length===0){if(A="xl/workbook.bin",!Wa(e,A,!0))throw new Error("Could not find workbook");n.workbooks.push(A),s=!0}n.workbooks[0].slice(-3)=="bin"&&(s=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(pf=[],n.sst)try{pf=VL(Wa(e,ps(n.sst)),n.sst,t)}catch(N){if(t.WTF)throw N}t.cellStyles&&n.themes.length&&(l=zL(Yi(e,n.themes[0].replace(/^\//,""),!0)||"",n.themes[0],t)),n.style&&(c=GL(Wa(e,ps(n.style)),n.style,l,t))}n.links.map(function(N){try{var P=ff(Yi(e,Pf(ps(N))),N);return WL(Wa(e,ps(N)),P,N,t)}catch{}});var d=PL(Wa(e,ps(n.workbooks[0])),n.workbooks[0],t),f={},p="";n.coreprops.length&&(p=Wa(e,ps(n.coreprops[0]),!0),p&&(f=e5(p)),n.extprops.length!==0&&(p=Wa(e,ps(n.extprops[0]),!0),p&&FN(p,f,t)));var u={};(!t.bookSheets||t.bookProps)&&n.custprops.length!==0&&(p=Yi(e,ps(n.custprops[0]),!0),p&&(u=kN(p,t)));var g={};if((t.bookSheets||t.bookProps)&&(d.Sheets?o=d.Sheets.map(function(P){return P.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),t.bookProps&&(g.Props=f,g.Custprops=u),t.bookSheets&&typeof o<"u"&&(g.SheetNames=o),t.bookSheets?g.SheetNames:t.bookProps))return g;o={};var h={};t.bookDeps&&n.calcchain&&(h=YL(Wa(e,ps(n.calcchain)),n.calcchain));var y=0,x={},v,E;{var R=d.Sheets;f.Worksheets=R.length,f.SheetNames=[];for(var b=0;b!=R.length;++b)f.SheetNames[b]=R[b].name}var T=s?"bin":"xml",_=n.workbooks[0].lastIndexOf("/"),S=(n.workbooks[0].slice(0,_+1)+"_rels/"+n.workbooks[0].slice(_+1)+".rels").replace(/^\//,"");ys(e,S)||(S="xl/_rels/workbook."+T+".rels");var O=ff(Yi(e,S,!0),S.replace(/_rels.*/,"s5s"));(n.metadata||[]).length>=1&&(t.xlmeta=XL(Wa(e,ps(n.metadata[0])),n.metadata[0],t)),(n.people||[]).length>=1&&(t.people=Rk(Wa(e,ps(n.people[0])),t)),O&&(O=p7(O,d.Sheets));var M=Wa(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=f.Worksheets;++y){var I="sheet";if(O&&O[y]?(v="xl/"+O[y][1].replace(/[\/]?xl\//,""),ys(e,v)||(v=O[y][1]),ys(e,v)||(v=S.replace(/_rels\/.*$/,"")+O[y][1]),I=O[y][2]):(v="xl/worksheets/sheet"+(y+1-M)+"."+T,v=v.replace(/sheet0\./,"sheet.")),E=v.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(y!=t.sheets)continue e;break;case"string":if(f.SheetNames[y].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var D=!1,L=0;L!=t.sheets.length;++L)typeof t.sheets[L]=="number"&&t.sheets[L]==y&&(D=1),typeof t.sheets[L]=="string"&&t.sheets[L].toLowerCase()==f.SheetNames[y].toLowerCase()&&(D=1);if(!D)continue e}}h7(e,v,E,f.SheetNames[y],y,x,o,I,t,d,l,c)}return g={Directory:n,Workbook:d,Props:f,Custprops:u,Deps:h,Sheets:o,SheetNames:f.SheetNames,Strings:pf,Styles:c,Themes:l,SSF:ea(Ht)},t&&t.bookFiles&&(e.files?(g.keys=a,g.files=e.files):(g.keys=[],g.files={},e.FullPaths.forEach(function(N,P){N=N.replace(/^Root Entry[\/]/,""),g.keys.push(N),g.files[N]=e.FileIndex[P]}))),t&&t.bookVBA&&(n.vba.length>0?g.vbaraw=Wa(e,ps(n.vba[0]),!0):n.defaults&&n.defaults.bin===Qk&&(g.vbaraw=Wa(e,"xl/vbaProject.bin",!0))),g}function m7(e,t){var r=t||{},a="Workbook",n=Ut.find(e,a);try{if(a="/!DataSpaces/Version",n=Ut.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(JR(n.content),a="/!DataSpaces/DataSpaceMap",n=Ut.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var s=e6(n.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",n=Ut.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var o=t6(n.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",n=Ut.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);a6(n.content)}catch{}if(a="/EncryptionInfo",n=Ut.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var A=n6(n.content);if(a="/EncryptedPackage",n=Ut.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(A[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(A[1],n.content,r.password||"",r);if(A[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(A[1],n.content,r.password||"",r);throw new Error("File is password-protected")}function g7(e,t){return t.bookType=="ods"?hC(e,t):t.bookType=="numbers"?u7(e,t):t.bookType=="xlsb"?x7(e,t):xC(e,t)}function x7(e,t){Ed=1024,e&&!e.SSF&&(e.SSF=ea(Ht)),e&&e.SSF&&(Yd(),s0(e.SSF),t.revssf=ym(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,hf?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",a=M5.indexOf(t.bookType)>-1,n=ry();xy(t=t||{});var s=U2(),o="",A=0;if(t.cellXfs=[],hl(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",or(s,o,t5(e.Props,t)),n.coreprops.push(o),qr(t.rels,2,o,ur.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}for(e.Props.Worksheets=e.Props.SheetNames.length,or(s,o,n5(e.Props)),n.extprops.push(o),qr(t.rels,3,o,ur.EXT_PROPS),e.Custprops!==e.Props&&Ia(e.Custprops||{}).length>0&&(o="docProps/custom.xml",or(s,o,i5(e.Custprops)),n.custprops.push(o),qr(t.rels,4,o,ur.CUST_PROPS)),A=1;A<=e.SheetNames.length;++A){var d={"!id":{}},f=e.Sheets[e.SheetNames[A-1]],p=(f||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+A+"."+r,or(s,o,ZL(A-1,o,t,e,d)),n.sheets.push(o),qr(t.wbrels,-1,"worksheets/sheet"+A+"."+r,ur.WS[0])}if(f){var u=f["!comments"],g=!1,h="";u&&u.length>0&&(h="xl/comments"+A+"."+r,or(s,h,rU(u,h)),n.comments.push(h),qr(d,-1,"../comments"+A+"."+r,ur.CMNT),g=!0),f["!legacy"]&&g&&or(s,"xl/drawings/vmlDrawing"+A+".vml",L5(A,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&or(s,Pf(o),Od(d))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,or(s,o,tU(t.Strings,o,t)),n.strs.push(o),qr(t.wbrels,-1,"sharedStrings."+r,ur.SST)),o="xl/workbook."+r,or(s,o,JL(e,o)),n.workbooks.push(o),qr(t.rels,1,o,ur.WB),o="xl/theme/theme1.xml",or(s,o,Ay(e.Themes,t)),n.themes.push(o),qr(t.wbrels,-1,"theme/theme1.xml",ur.THEME),o="xl/styles."+r,or(s,o,eU(e,o,t)),n.styles.push(o),qr(t.wbrels,-1,"styles."+r,ur.STY),e.vbaraw&&a&&(o="xl/vbaProject.bin",or(s,o,e.vbaraw),n.vba.push(o),qr(t.wbrels,-1,"vbaProject.bin",ur.VBA)),o="xl/metadata."+r,or(s,o,aU(o)),n.metadata.push(o),qr(t.wbrels,-1,"metadata."+r,ur.XLMETA),or(s,"[Content_Types].xml",J_(n,t)),or(s,"_rels/.rels",Od(t.rels)),or(s,"xl/_rels/workbook."+r+".rels",Od(t.wbrels)),delete t.revssf,delete t.ssf,s}function xC(e,t){Ed=1024,e&&!e.SSF&&(e.SSF=ea(Ht)),e&&e.SSF&&(Yd(),s0(e.SSF),t.revssf=ym(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,hf?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",a=M5.indexOf(t.bookType)>-1,n=ry();xy(t=t||{});var s=U2(),o="",A=0;if(t.cellXfs=[],hl(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",or(s,o,t5(e.Props,t)),n.coreprops.push(o),qr(t.rels,2,o,ur.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}e.Props.Worksheets=e.Props.SheetNames.length,or(s,o,n5(e.Props)),n.extprops.push(o),qr(t.rels,3,o,ur.EXT_PROPS),e.Custprops!==e.Props&&Ia(e.Custprops||{}).length>0&&(o="docProps/custom.xml",or(s,o,i5(e.Custprops)),n.custprops.push(o),qr(t.rels,4,o,ur.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,A=1;A<=e.SheetNames.length;++A){var f={"!id":{}},p=e.Sheets[e.SheetNames[A-1]],u=(p||{})["!type"]||"sheet";switch(u){case"chart":default:o="xl/worksheets/sheet"+A+"."+r,or(s,o,W5(A-1,t,e,f)),n.sheets.push(o),qr(t.wbrels,-1,"worksheets/sheet"+A+"."+r,ur.WS[0])}if(p){var g=p["!comments"],h=!1,y="";if(g&&g.length>0){var x=!1;g.forEach(function(v){v[1].forEach(function(E){E.T==!0&&(x=!0)})}),x&&(y="xl/threadedComments/threadedComment"+A+"."+r,or(s,y,Fk(g,d,t)),n.threadedcomments.push(y),qr(f,-1,"../threadedComments/threadedComment"+A+"."+r,ur.TCMNT)),y="xl/comments"+A+"."+r,or(s,y,U5(g)),n.comments.push(y),qr(f,-1,"../comments"+A+"."+r,ur.CMNT),h=!0}p["!legacy"]&&h&&or(s,"xl/drawings/vmlDrawing"+A+".vml",L5(A,p["!comments"])),delete p["!comments"],delete p["!legacy"]}f["!id"].rId1&&or(s,Pf(o),Od(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,or(s,o,C5(t.Strings,t)),n.strs.push(o),qr(t.wbrels,-1,"sharedStrings."+r,ur.SST)),o="xl/workbook."+r,or(s,o,rC(e)),n.workbooks.push(o),qr(t.rels,1,o,ur.WB),o="xl/theme/theme1.xml",or(s,o,Ay(e.Themes,t)),n.themes.push(o),qr(t.wbrels,-1,"theme/theme1.xml",ur.THEME),o="xl/styles."+r,or(s,o,R5(e,t)),n.styles.push(o),qr(t.wbrels,-1,"styles."+r,ur.STY),e.vbaraw&&a&&(o="xl/vbaProject.bin",or(s,o,e.vbaraw),n.vba.push(o),qr(t.wbrels,-1,"vbaProject.bin",ur.VBA)),o="xl/metadata."+r,or(s,o,j5()),n.metadata.push(o),qr(t.wbrels,-1,"metadata."+r,ur.XLMETA),d.length>1&&(o="xl/persons/person.xml",or(s,o,kk(d)),n.people.push(o),qr(t.wbrels,-1,"persons/person.xml",ur.PEOPLE)),or(s,"[Content_Types].xml",J_(n,t)),or(s,"_rels/.rels",Od(t.rels)),or(s,"xl/_rels/workbook."+r+".rels",Od(t.wbrels)),delete t.revssf,delete t.ssf,s}function yy(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=as(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function y7(e,t){return Ut.find(e,"EncryptedPackage")?m7(e,t):hy(e,t)}function v7(e,t){var r,a=e,n=t||{};return n.type||(n.type=dr&&Buffer.isBuffer(e)?"buffer":"base64"),r=N_(a,n),gC(r,n)}function yC(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return Tx(e.slice(r),t);default:break e}return Kd.to_workbook(e,t)}function w7(e,t){var r="",a=yy(e,t);switch(t.type){case"base64":r=as(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=sc(e);break;default:throw new Error("Unrecognized type "+t.type)}return a[0]==239&&a[1]==187&&a[2]==191&&(r=zr(r)),t.type="binary",yC(r,t)}function E7(e,t){var r=e;return t.type=="base64"&&(r=as(r)),r=_r.utils.decode(1200,r.slice(2),"str"),t.type="binary",yC(r,t)}function b7(e){return e.match(/[^\x00-\x7F]/)?fo(e):e}function Qg(e,t,r,a){return a?(r.type="string",Kd.to_workbook(e,r)):Kd.to_workbook(t,r)}function dc(e,t){gm();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return dc(new Uint8Array(e),(r=ea(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var a=e,n=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Nd={},r.dateNF&&(Nd.dateNF=r.dateNF),r.type||(r.type=dr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=dr?"buffer":"binary",a=_3(e),typeof Uint8Array<"u"&&!dr&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,a=b7(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),A=new Uint8Array(o);if(A.foo="bar",!A.foo)return r=ea(r),r.type="array",dc(k2(a),r)}switch((n=yy(a,r))[0]){case 208:if(n[1]===207&&n[2]===17&&n[3]===224&&n[4]===161&&n[5]===177&&n[6]===26&&n[7]===225)return y7(Ut.read(a,r),r);break;case 9:if(n[1]<=8)return hy(a,r);break;case 60:return Tx(a,r);case 73:if(n[1]===73&&n[2]===42&&n[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(n[1]===68)return DR(a,r);break;case 84:if(n[1]===65&&n[2]===66&&n[3]===76)return b5.to_workbook(a,r);break;case 80:return n[1]===75&&n[2]<9&&n[3]<9?v7(a,r):Qg(e,a,r,s);case 239:return n[3]===60?Tx(a,r):Qg(e,a,r,s);case 255:if(n[1]===254)return E7(a,r);if(n[1]===0&&n[2]===2&&n[3]===0)return Yl.to_workbook(a,r);break;case 0:if(n[1]===0&&(n[2]>=2&&n[3]===0||n[2]===0&&(n[3]===8||n[3]===9)))return Yl.to_workbook(a,r);break;case 3:case 131:case 139:case 140:return Sx.to_workbook(a,r);case 123:if(n[1]===92&&n[2]===114&&n[3]===116)return I5.to_workbook(a,r);break;case 10:case 13:case 32:return w7(a,r);case 137:if(n[1]===80&&n[2]===78&&n[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return kR.indexOf(n[0])>-1&&n[2]<=12&&n[3]<=31?Sx.to_workbook(a,r):Qg(e,a,r,s)}function X4(e,t){var r=t||{};return r.type="file",dc(e,r)}function vC(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return o0(t.file,Ut.write(e,{type:dr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Ut.write(e,t)}function _7(e,t){var r=ea(t||{}),a=g7(e,r);return wC(a,r)}function C7(e,t){var r=ea(t||{}),a=xC(e,r);return wC(a,r)}function wC(e,t){var r={},a=dr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=a;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=a;break;default:throw new Error("Unrecognized type "+t.type)}var n=e.FullPaths?Ut.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof n=="string"){if(t.type=="binary"||t.type=="base64")return n;n=new Uint8Array(i0(n))}return t.password&&typeof encrypt_agile<"u"?vC(encrypt_agile(n,t.password),t):t.type==="file"?o0(t.file,n):t.type=="string"?zr(n):n}function B7(e,t){var r=t||{},a=OU(e,r);return vC(a,r)}function Ao(e,t,r){r||(r="");var a=r+e;switch(t.type){case"base64":return Df(fo(a));case"binary":return fo(a);case"string":return e;case"file":return o0(t.file,a,"utf8");case"buffer":return dr?iA(a,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(a):Ao(a,{type:"binary"}).split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function S7(e,t){switch(t.type){case"base64":return Df(e);case"binary":return e;case"string":return e;case"file":return o0(t.file,e,"binary");case"buffer":return dr?iA(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function mp(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",a=0;a<e.length;++a)r+=String.fromCharCode(e[a]);return t.type=="base64"?Df(r):t.type=="string"?zr(r):r;case"file":return o0(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function vy(e,t){gm(),tC(e);var r=ea(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var a=vy(e,r);return r.type="array",i0(a)}return C7(e,r)}function Bm(e,t){gm(),tC(e);var r=ea(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var a=Bm(e,r);return r.type="array",i0(a)}var n=0;if(r.sheet&&(typeof r.sheet=="number"?n=r.sheet:n=e.SheetNames.indexOf(r.sheet),!e.SheetNames[n]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Ao(EU(e,r),r);case"slk":case"sylk":return Ao(E5.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"htm":case"html":return Ao(dC(e.Sheets[e.SheetNames[n]],r),r);case"txt":return S7(_C(e.Sheets[e.SheetNames[n]],r),r);case"csv":return Ao(Ey(e.Sheets[e.SheetNames[n]],r),r,"\uFEFF");case"dif":return Ao(b5.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"dbf":return mp(Sx.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"prn":return Ao(Kd.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"rtf":return Ao(I5.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"eth":return Ao(_5.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"fods":return Ao(hC(e,r),r);case"wk1":return mp(Yl.sheet_to_wk1(e.Sheets[e.SheetNames[n]],r),r);case"wk3":return mp(Yl.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),mp(sC(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),B7(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return _7(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function wy(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function Lh(e,t,r){var a=r||{};return a.type="file",a.file=t,wy(a),Bm(e,a)}function T7(e,t,r){var a=r||{};return a.type="file",a.file=t,wy(a),vy(e,a)}function O7(e,t,r,a){var n=r||{};n.type="file",n.file=e,wy(n),n.type="buffer";var s=a;return s instanceof Function||(s=r),qA.writeFile(e,Bm(t,n),s)}function EC(e,t,r,a,n,s,o,A){var l=Ta(r),c=A.defval,d=A.raw||!Object.prototype.hasOwnProperty.call(A,"raw"),f=!0,p=n===1?[]:{};if(n!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:r,enumerable:!1})}catch{p.__rowNum__=r}else p.__rowNum__=r;if(!o||e[r])for(var u=t.s.c;u<=t.e.c;++u){var g=o?e[r][u]:e[a[u]+l];if(g===void 0||g.t===void 0){if(c===void 0)continue;s[u]!=null&&(p[s[u]]=c);continue}var h=g.v;switch(g.t){case"z":if(h==null)break;continue;case"e":h=h==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(s[u]!=null){if(h==null)if(g.t=="e"&&h===null)p[s[u]]=null;else if(c!==void 0)p[s[u]]=c;else if(d&&h===null)p[s[u]]=null;else continue;else p[s[u]]=d&&(g.t!=="n"||g.t==="n"&&A.rawNumbers!==!1)?h:xo(g,h,A);h!=null&&(f=!1)}}return{row:p,isempty:f}}function Uh(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},a=0,n=1,s=[],o=0,A="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},d=c.range!=null?c.range:e["!ref"];switch(c.header===1?a=1:c.header==="A"?a=2:Array.isArray(c.header)?a=3:c.header==null&&(a=0),typeof d){case"string":l=xr(d);break;case"number":l=xr(e["!ref"]),l.s.r=d;break;default:l=d}a>0&&(n=0);var f=Ta(l.s.r),p=[],u=[],g=0,h=0,y=Array.isArray(e),x=l.s.r,v=0,E={};y&&!e[x]&&(e[x]=[]);var R=c.skipHidden&&e["!cols"]||[],b=c.skipHidden&&e["!rows"]||[];for(v=l.s.c;v<=l.e.c;++v)if(!(R[v]||{}).hidden)switch(p[v]=la(v),r=y?e[x][v]:e[p[v]+f],a){case 1:s[v]=v-l.s.c;break;case 2:s[v]=p[v];break;case 3:s[v]=c.header[v-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),A=o=xo(r,null,c),h=E[o]||0,!h)E[o]=1;else{do A=o+"_"+h++;while(E[A]);E[o]=h,E[A]=1}s[v]=A}for(x=l.s.r+n;x<=l.e.r;++x)if(!(b[x]||{}).hidden){var T=EC(e,l,x,p,a,s,y,c);(T.isempty===!1||(a===1?c.blankrows!==!1:c.blankrows))&&(u[g++]=T.row)}return u.length=g,u}var J4=/"/g;function bC(e,t,r,a,n,s,o,A){for(var l=!0,c=[],d="",f=Ta(r),p=t.s.c;p<=t.e.c;++p)if(a[p]){var u=A.dense?(e[r]||[])[p]:e[a[p]+f];if(u==null)d="";else if(u.v!=null){l=!1,d=""+(A.rawNumbers&&u.t=="n"?u.v:xo(u,null,A));for(var g=0,h=0;g!==d.length;++g)if((h=d.charCodeAt(g))===n||h===s||h===34||A.forceQuotes){d='"'+d.replace(J4,'""')+'"';break}d=="ID"&&(d='"ID"')}else u.f!=null&&!u.F?(l=!1,d="="+u.f,d.indexOf(",")>=0&&(d='"'+d.replace(J4,'""')+'"')):d="";c.push(d)}return A.blankrows===!1&&l?null:c.join(o)}function Ey(e,t){var r=[],a=t??{};if(e==null||e["!ref"]==null)return"";var n=xr(e["!ref"]),s=a.FS!==void 0?a.FS:",",o=s.charCodeAt(0),A=a.RS!==void 0?a.RS:`
`,l=A.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];a.dense=Array.isArray(e);for(var p=a.skipHidden&&e["!cols"]||[],u=a.skipHidden&&e["!rows"]||[],g=n.s.c;g<=n.e.c;++g)(p[g]||{}).hidden||(f[g]=la(g));for(var h=0,y=n.s.r;y<=n.e.r;++y)(u[y]||{}).hidden||(d=bC(e,n,y,f,o,l,s,a),d!=null&&(a.strip&&(d=d.replace(c,"")),(d||a.blankrows!==!1)&&r.push((h++?A:"")+d)));return delete a.dense,r.join("")}function _C(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=Ey(e,t);if(typeof _r>"u"||t.type=="string")return r;var a=_r.utils.encode(1200,r,"str");return"ÿþ"+a}function I7(e){var t="",r,a="";if(e==null||e["!ref"]==null)return[];var n=xr(e["!ref"]),s="",o=[],A,l=[],c=Array.isArray(e);for(A=n.s.c;A<=n.e.c;++A)o[A]=la(A);for(var d=n.s.r;d<=n.e.r;++d)for(s=Ta(d),A=n.s.c;A<=n.e.c;++A)if(t=o[A]+s,r=c?(e[d]||[])[A]:e[t],a="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;a=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)a=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)a=""+r.v;else if(r.t=="b")a=r.v?"TRUE":"FALSE";else if(r.w!==void 0)a="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?a="'"+r.v:a=""+r.v}}l[l.length]=t+"="+a}return l}function CC(e,t,r){var a=r||{},n=+!a.skipHeader,s=e||{},o=0,A=0;if(s&&a.origin!=null)if(typeof a.origin=="number")o=a.origin;else{var l=typeof a.origin=="string"?xa(a.origin):a.origin;o=l.r,A=l.c}var c,d={s:{c:0,r:0},e:{c:A,r:o+t.length-1+n}};if(s["!ref"]){var f=xr(s["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+n)}else o==-1&&(o=0,d.e.r=t.length-1+n);var p=a.header||[],u=0;t.forEach(function(h,y){Ia(h).forEach(function(x){(u=p.indexOf(x))==-1&&(p[u=p.length]=x);var v=h[x],E="z",R="",b=Vt({c:A+u,r:o+y+n});c=Vf(s,b),v&&typeof v=="object"&&!(v instanceof Date)?s[b]=v:(typeof v=="number"?E="n":typeof v=="boolean"?E="b":typeof v=="string"?E="s":v instanceof Date?(E="d",a.cellDates||(E="n",v=An(v)),R=a.dateNF||Ht[14]):v===null&&a.nullError&&(E="e",v=0),c?(c.t=E,c.v=v,delete c.w,delete c.R,R&&(c.z=R)):s[b]=c={t:E,v},R&&(c.z=R))})}),d.e.c=Math.max(d.e.c,A+p.length-1);var g=Ta(o);if(n)for(u=0;u<p.length;++u)s[la(u+A)+g]={t:"s",v:p[u]};return s["!ref"]=sr(d),s}function N7(e,t){return CC(null,e,t)}function Vf(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var a=xa(t);return e[a.r]||(e[a.r]=[]),e[a.r][a.c]||(e[a.r][a.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Vf(e,Vt(t)):Vf(e,Vt({r:t,c:r||0}))}function F7(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function by(){return{SheetNames:[],Sheets:{}}}function _y(e,t,r,a){var n=1;if(!r)for(;n<=65535&&e.SheetNames.indexOf(r="Sheet"+n)!=-1;++n,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);n=s&&+s[2]||0;var o=s&&s[1]||r;for(++n;n<=65535&&e.SheetNames.indexOf(r=o+n)!=-1;++n);}if(eC(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function R7(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var a=F7(e,t);switch(e.Workbook.Sheets[a]||(e.Workbook.Sheets[a]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[a].Hidden=r}function k7(e,t){return e.z=t,e}function BC(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function D7(e,t,r){return BC(e,"#"+t,r)}function j7(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function L7(e,t,r,a){for(var n=typeof t!="string"?t:xr(t),s=typeof t=="string"?t:sr(t),o=n.s.r;o<=n.e.r;++o)for(var A=n.s.c;A<=n.e.c;++A){var l=Vf(e,o,A);l.t="n",l.F=s,delete l.v,o==n.s.r&&A==n.s.c&&(l.f=r,a&&(l.D=!0))}return e}var pi={encode_col:la,encode_row:Ta,encode_cell:Vt,encode_range:sr,decode_col:W2,decode_row:Y2,split_cell:rN,decode_cell:xa,decode_range:vi,format_cell:xo,sheet_add_aoa:G_,sheet_add_json:CC,sheet_add_dom:uC,aoa_to_sheet:Xd,json_to_sheet:N7,table_to_sheet:fC,table_to_book:VU,sheet_to_csv:Ey,sheet_to_txt:_C,sheet_to_json:Uh,sheet_to_html:dC,sheet_to_formulae:I7,sheet_to_row_object_array:Uh,sheet_get_cell:Vf,book_new:by,book_append_sheet:_y,book_set_sheet_visibility:R7,cell_set_number_format:k7,cell_set_hyperlink:BC,cell_set_internal_link:D7,cell_add_comment:j7,sheet_set_array_formula:L7,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},Sm;function U7(e){Sm=e}function M7(e,t){var r=Sm(),a=t??{};if(e==null||e["!ref"]==null)return r.push(null),r;var n=xr(e["!ref"]),s=a.FS!==void 0?a.FS:",",o=s.charCodeAt(0),A=a.RS!==void 0?a.RS:`
`,l=A.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];a.dense=Array.isArray(e);for(var p=a.skipHidden&&e["!cols"]||[],u=a.skipHidden&&e["!rows"]||[],g=n.s.c;g<=n.e.c;++g)(p[g]||{}).hidden||(f[g]=la(g));var h=n.s.r,y=!1,x=0;return r._read=function(){if(!y)return y=!0,r.push("\uFEFF");for(;h<=n.e.r;)if(++h,!(u[h-1]||{}).hidden&&(d=bC(e,n,h-1,f,o,l,s,a),d!=null&&(a.strip&&(d=d.replace(c,"")),d||a.blankrows!==!1)))return r.push((x++?A:"")+d);return r.push(null)},r}function P7(e,t){var r=Sm(),a=t||{},n=a.header!=null?a.header:AC,s=a.footer!=null?a.footer:lC;r.push(n);var o=vi(e["!ref"]);a.dense=Array.isArray(e),r.push(cC(e,o,a));var A=o.s.r,l=!1;return r._read=function(){if(A>o.e.r)return l||(l=!0,r.push("</table>"+s)),r.push(null);for(;A<=o.e.r;){r.push(oC(e,o,A,a)),++A;break}},r}function Q7(e,t){var r=Sm({objectMode:!0});if(e==null||e["!ref"]==null)return r.push(null),r;var a={t:"n",v:0},n=0,s=1,o=[],A=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},f=d.range!=null?d.range:e["!ref"];switch(d.header===1?n=1:d.header==="A"?n=2:Array.isArray(d.header)&&(n=3),typeof f){case"string":c=xr(f);break;case"number":c=xr(e["!ref"]),c.s.r=f;break;default:c=f}n>0&&(s=0);var p=Ta(c.s.r),u=[],g=0,h=Array.isArray(e),y=c.s.r,x=0,v={};h&&!e[y]&&(e[y]=[]);var E=d.skipHidden&&e["!cols"]||[],R=d.skipHidden&&e["!rows"]||[];for(x=c.s.c;x<=c.e.c;++x)if(!(E[x]||{}).hidden)switch(u[x]=la(x),a=h?e[y][x]:e[u[x]+p],n){case 1:o[x]=x-c.s.c;break;case 2:o[x]=u[x];break;case 3:o[x]=d.header[x-c.s.c];break;default:if(a==null&&(a={w:"__EMPTY",t:"s"}),l=A=xo(a,null,d),g=v[A]||0,!g)v[A]=1;else{do l=A+"_"+g++;while(v[l]);v[A]=g,v[l]=1}o[x]=l}return y=c.s.r+s,r._read=function(){for(;y<=c.e.r;)if(!(R[y-1]||{}).hidden){var b=EC(e,c,y,u,n,o,h,d);if(++y,b.isempty===!1||(n===1?d.blankrows!==!1:d.blankrows)){r.push(b.row);return}}return r.push(null)},r}var q7={to_json:Q7,to_html:P7,to_csv:M7,set_readable:U7};const K7=kf.version,H7=Object.freeze(Object.defineProperty({__proto__:null,CFB:Ut,SSF:C_,parse_xlscfb:hy,parse_zip:gC,read:dc,readFile:X4,readFileSync:X4,set_cptable:VI,set_fs:E3,stream:q7,utils:pi,version:K7,write:Bm,writeFile:Lh,writeFileAsync:O7,writeFileSync:Lh,writeFileXLSX:T7,writeXLSX:vy},Symbol.toStringTag,{value:"Module"}));class G7 extends zl{constructor(){super("CMSDatabase");er(this,"collateralCards");er(this,"partners");er(this,"documents");er(this,"settings");er(this,"inspections");er(this,"documentIndexes");er(this,"documentChunks");er(this,"knowledgeTopics");er(this,"knowledgeCategories");er(this,"knowledgeSearchIndex");er(this,"tasks");er(this,"workflowCases");er(this,"workflowTemplates");this.version(2).stores({collateralCards:"id, mainCategory, status, number, name, createdAt, updatedAt, cbCode",partners:"id, type, role, inn, lastName, organizationName",documents:"id, name, type, category, uploadDate",settings:"id"}).upgrade(async()=>{console.log("Upgrading database to version 2...")}),this.version(3).stores({collateralCards:"id, mainCategory, status, number, name, createdAt, updatedAt, cbCode",partners:"id, type, role, inn, lastName, organizationName",documents:"id, name, type, category, uploadDate",settings:"id",inspections:"id, inspectionType, status, inspectionDate, collateralCardId, inspectorId, condition, createdAt, updatedAt"}).upgrade(async()=>{console.log("Upgrading database to version 3...")}),this.version(4).stores({collateralCards:"id, mainCategory, status, number, name, createdAt, updatedAt, cbCode",partners:"id, type, role, inn, lastName, organizationName",documents:"id, name, type, category, uploadDate",settings:"id",inspections:"id, inspectionType, status, inspectionDate, collateralCardId, inspectorId, condition, createdAt, updatedAt",documentIndexes:"documentName",documentChunks:"id, documentName, page"}).upgrade(async()=>{console.log("Upgrading database to version 4...")}),this.version(5).stores({collateralCards:"id, mainCategory, status, number, name, createdAt, updatedAt, cbCode",partners:"id, type, role, inn, lastName, organizationName",documents:"id, name, type, category, uploadDate",settings:"id",inspections:"id, inspectionType, status, inspectionDate, collateralCardId, inspectorId, condition, createdAt, updatedAt",documentIndexes:"documentName",documentChunks:"id, documentName, page",knowledgeTopics:"id, category",knowledgeCategories:"id",knowledgeSearchIndex:"keyword"}).upgrade(async()=>{console.log("Upgrading database to version 5...")}),this.version(6).stores({collateralCards:"id, mainCategory, status, number, name, createdAt, updatedAt, cbCode",partners:"id, type, role, inn, lastName, organizationName",documents:"id, name, type, category, uploadDate",settings:"id",inspections:"id, inspectionType, status, inspectionDate, collateralCardId, inspectorId, condition, createdAt, updatedAt",documentIndexes:"documentName",documentChunks:"id, documentName, page",knowledgeTopics:"id, category",knowledgeCategories:"id",knowledgeSearchIndex:"keyword",tasks:"id, employeeId, region, status, type, dueDate, createdAt"}).upgrade(async r=>{console.log("Upgrading database to version 6: migrating tasks from localStorage...");try{let a=null;try{a=localStorage.getItem("zadachnik_tasks")}catch{console.warn("Не удалось прочитать задачи из localStorage (возможно, данные слишком большие), пропускаем миграцию");return}if(a)try{const n=JSON.parse(a);if(Array.isArray(n)&&n.length>0){for(let o=0;o<n.length;o+=1e3){const A=n.slice(o,o+1e3);await r.table("tasks").bulkPut(A)}console.log(`✅ Мигрировано ${n.length} задач из localStorage в IndexedDB`);try{localStorage.removeItem("zadachnik_tasks")}catch{console.warn("Не удалось удалить задачи из localStorage (не критично)")}}}catch(n){console.error("Ошибка парсинга задач из localStorage:",n);try{localStorage.removeItem("zadachnik_tasks")}catch{}}}catch(a){console.error("Ошибка миграции задач:",a)}}),this.version(7).stores({collateralCards:"id, mainCategory, status, number, name, createdAt, updatedAt, cbCode",partners:"id, type, role, inn, lastName, organizationName",documents:"id, name, type, category, uploadDate",settings:"id",inspections:"id, inspectionType, status, inspectionDate, collateralCardId, inspectorId, condition, createdAt, updatedAt",documentIndexes:"documentName",documentChunks:"id, documentName, page",knowledgeTopics:"id, category",knowledgeCategories:"id",knowledgeSearchIndex:"keyword",tasks:"id, employeeId, region, status, type, dueDate, createdAt",workflowCases:"id, objectId, stage, updatedAt",workflowTemplates:"id, type, updatedAt"}).upgrade(async()=>{console.log("Upgrading database to version 7: adding workflow tables")})}}const Wr=new G7;class z7{constructor(){er(this,"db");this.db=Wr}async initDatabase(){try{await this.db.open(),console.log("Extended database initialized successfully"),await this.db.settings.get("app-settings")||await this.db.settings.add({id:"app-settings",theme:"light",language:"ru",sidebarCollapsed:!1})}catch(t){throw console.error("Failed to initialize database:",t),t}}async saveExtendedCard(t){try{const r=new Date,a={...t,updatedAt:r,createdAt:t.createdAt||r};return await this.db.collateralCards.put(a),a.id}catch(r){throw console.error("Failed to save collateral card:",r),r}}async getExtendedCards(t){try{let r=this.db.collateralCards.toCollection();if(t){if(t.mainCategory&&(r=this.db.collateralCards.where("mainCategory").equals(t.mainCategory)),t.status&&(r=r.filter(a=>a.status===t.status)),t.searchQuery){const a=t.searchQuery.toLowerCase();r=r.filter(n=>{var s,o,A;return n.name.toLowerCase().includes(a)||n.number.toLowerCase().includes(a)||((o=(s=n.address)==null?void 0:s.fullAddress)==null?void 0:o.toLowerCase().includes(a))||((A=n.partners)==null?void 0:A.some(l=>{var c,d,f;return((c=l.lastName)==null?void 0:c.toLowerCase().includes(a))||((d=l.firstName)==null?void 0:d.toLowerCase().includes(a))||((f=l.organizationName)==null?void 0:f.toLowerCase().includes(a))}))||!1})}t.dateFrom&&(r=r.filter(a=>a.createdAt>=t.dateFrom)),t.dateTo&&(r=r.filter(a=>a.createdAt<=t.dateTo)),t.region&&(r=r.filter(a=>{var n,s;return!!((s=(n=a.address)==null?void 0:n.region)!=null&&s.toLowerCase().includes(t.region.toLowerCase()))})),t.objectType&&(r=r.filter(()=>!0)),t.hasDocuments!==void 0&&(r=r.filter(a=>{var n,s;return t.hasDocuments?(((n=a.documents)==null?void 0:n.length)||0)>0:(((s=a.documents)==null?void 0:s.length)||0)===0})),t.areaFrom!==void 0&&(r=r.filter(a=>{var s,o;const n=((s=a.characteristics)==null?void 0:s.totalArea)||((o=a.characteristics)==null?void 0:o.area);return n&&n>=t.areaFrom})),t.areaTo!==void 0&&(r=r.filter(a=>{var s,o;const n=((s=a.characteristics)==null?void 0:s.totalArea)||((o=a.characteristics)==null?void 0:o.area);return n&&n<=t.areaTo}))}return await r.toArray()}catch(r){throw console.error("Failed to get collateral cards:",r),r}}async getExtendedCardById(t){try{return await this.db.collateralCards.get(t)}catch(r){throw console.error("Failed to get collateral card:",r),r}}async deleteExtendedCard(t){try{await this.db.collateralCards.delete(t)}catch(r){throw console.error("Failed to delete collateral card:",r),r}}async deleteExtendedCards(t){try{await this.db.collateralCards.bulkDelete(t)}catch(r){throw console.error("Failed to delete collateral cards:",r),r}}async savePartner(t){try{return await this.db.partners.put(t),t.id}catch(r){throw console.error("Failed to save partner:",r),r}}async getPartners(){try{return await this.db.partners.toArray()}catch(t){throw console.error("Failed to get partners:",t),t}}async searchPartners(t){try{const r=t.toLowerCase();return await this.db.partners.filter(a=>{var n,s,o,A;return!!((n=a.lastName)!=null&&n.toLowerCase().includes(r)||(s=a.firstName)!=null&&s.toLowerCase().includes(r)||(o=a.organizationName)!=null&&o.toLowerCase().includes(r)||(A=a.inn)!=null&&A.includes(t))}).toArray()}catch(r){throw console.error("Failed to search partners:",r),r}}async saveDocument(t){try{return await this.db.documents.put(t),t.id}catch(r){throw console.error("Failed to save document:",r),r}}async getDocuments(){try{return await this.db.documents.toArray()}catch(t){throw console.error("Failed to get documents:",t),t}}async getSettings(){try{return await this.db.settings.get("app-settings")||{theme:"light",language:"ru",sidebarCollapsed:!1}}catch(t){throw console.error("Failed to get settings:",t),t}}async saveSettings(t){try{const r=await this.getSettings();await this.db.settings.put({id:"app-settings",...r,...t})}catch(r){throw console.error("Failed to save settings:",r),r}}async getTasks(){try{return await this.db.tasks.toArray()}catch(t){throw console.error("Failed to get tasks:",t),t}}async saveTasks(t){try{await this.db.tasks.clear();const r=1e3;for(let a=0;a<t.length;a+=r){const n=t.slice(a,a+r);await this.db.tasks.bulkPut(n)}}catch(r){throw console.error("Failed to save tasks:",r),r}}async saveTask(t){try{await this.db.tasks.put(t)}catch(r){throw console.error("Failed to save task:",r),r}}async deleteTask(t){try{await this.db.tasks.delete(t)}catch(r){throw console.error("Failed to delete task:",r),r}}async getTasksByEmployeeId(t){try{return await this.db.tasks.where("employeeId").equals(t).toArray()}catch(r){throw console.error("Failed to get tasks by employeeId:",r),r}}async getTasksByRegion(t){try{return await this.db.tasks.where("region").equals(t).toArray()}catch(r){throw console.error("Failed to get tasks by region:",r),r}}async exportToExcel(t,r){try{const a=t.map(A=>{var l,c,d,f,p;return{ID:A.id,Номер:A.number,Название:A.name,Категория:this.translateCategory(A.mainCategory),"Вид объекта":A.classification.level1,Тип:A.classification.level2,"Код ЦБ":A.cbCode,Статус:A.status==="editing"?"Редактирование":"Утвержден",Адрес:((l=A.address)==null?void 0:l.fullAddress)||"",Собственники:((c=A.partners)==null?void 0:c.filter(u=>u.role==="owner").map(u=>this.getPartnerName(u)).join(", "))||"",Площадь:((d=A.characteristics)==null?void 0:d.totalArea)||((f=A.characteristics)==null?void 0:f.area)||"",Документов:((p=A.documents)==null?void 0:p.length)||0,"Дата создания":new Date(A.createdAt).toLocaleString("ru-RU"),"Дата обновления":new Date(A.updatedAt).toLocaleString("ru-RU")}}),n=pi.json_to_sheet(a),s=pi.book_new();pi.book_append_sheet(s,n,"Карточки");const o=30;return n["!cols"]=Object.keys(a[0]||{}).map(()=>({wch:o})),Lh(s,`${r}.xlsx`),{success:!0,message:`Экспортировано ${t.length} записей`,filename:`${r}.xlsx`}}catch(a){return console.error("Failed to export to Excel:",a),{success:!1,message:"Ошибка при экспорте данных"}}}async exportBackup(){try{const t=await this.db.collateralCards.toArray(),r=await this.db.partners.toArray(),a=await this.db.documents.toArray(),n=await this.getSettings(),s={version:2,timestamp:new Date().toISOString(),data:{cards:t,partners:r,documents:a,settings:n}};return new Blob([JSON.stringify(s,null,2)],{type:"application/json"})}catch(t){throw console.error("Failed to export backup:",t),t}}async importBackup(t){try{const r=await t.text(),a=JSON.parse(r);if(!a.version||!a.data)throw new Error("Некорректный формат файла резервной копии");if(await this.db.collateralCards.clear(),await this.db.partners.clear(),await this.db.documents.clear(),a.data.cards&&Array.isArray(a.data.cards))for(const n of a.data.cards)n.createdAt=new Date(n.createdAt),n.updatedAt=new Date(n.updatedAt),await this.saveExtendedCard(n);if(a.data.partners&&Array.isArray(a.data.partners))for(const n of a.data.partners)await this.savePartner(n);if(a.data.documents&&Array.isArray(a.data.documents))for(const n of a.data.documents)await this.saveDocument(n);a.data.settings&&await this.saveSettings(a.data.settings),console.log("Backup imported successfully")}catch(r){throw console.error("Failed to import backup:",r),r}}translateCategory(t){return{real_estate:"Недвижимость",movable:"Движимое имущество",property_rights:"Имущественные права"}[t]||t}getPartnerName(t){return t.type==="individual"?[t.lastName,t.firstName,t.middleName].filter(Boolean).join(" "):t.organizationName||""}async getStatistics(){try{const t=await this.db.collateralCards.toArray();return{total:t.length,byCategory:{real_estate:t.filter(r=>r.mainCategory==="real_estate").length,movable:t.filter(r=>r.mainCategory==="movable").length,property_rights:t.filter(r=>r.mainCategory==="property_rights").length},byStatus:{editing:t.filter(r=>r.status==="editing").length,approved:t.filter(r=>r.status==="approved").length},withDocuments:t.filter(r=>{var a;return(((a=r.documents)==null?void 0:a.length)||0)>0}).length,withPartners:t.filter(r=>{var a;return(((a=r.partners)==null?void 0:a.length)||0)>0}).length}}catch(t){throw console.error("Failed to get statistics:",t),t}}async getWorkflowCases(){return await this.db.workflowCases.toArray()}async saveWorkflowCases(t){await this.db.workflowCases.clear(),t.length>0&&await this.db.workflowCases.bulkPut(t)}async getWorkflowTemplates(){return await this.db.workflowTemplates.toArray()}async saveWorkflowTemplates(t){await this.db.workflowTemplates.clear(),t.length>0&&await this.db.workflowTemplates.bulkPut(t)}async ensureDefaultWorkflowTemplates(t){const r=await this.db.workflowTemplates.toArray();if(!r||r.length===0)return await this.saveWorkflowTemplates(t),t;const a=t.filter(n=>!r.some(s=>s.type===n.type||s.id===n.id));if(a.length>0){const n=[...r,...a];return await this.saveWorkflowTemplates(n),n}return r}}const Dt=new z7,V7=Object.freeze(Object.defineProperty({__proto__:null,default:Dt,extendedDb:Wr,extendedStorageService:Dt},Symbol.toStringTag,{value:"Module"})),Wi=[{code:"ЦО",name:"Центральный округ",cities:["Москва","Московская область","Ярославль","Воронеж","Тула","Калуга","Рязань","Тверь"]},{code:"СЗРЦ",name:"Северозападный Региональный центр",cities:["Санкт-Петербург","Ленинградская область","Мурманск","Архангельск","Псков","Великий Новгород"]},{code:"ЮРЦ",name:"Южный региональный центр",cities:["Краснодар","Ростов-на-Дону","Майкоп","Ставрополь","Анапа","Волгоград","Сочи","Новороссийск","Таганрог"]},{code:"СРЦ",name:"Сибирский региональный центр",cities:["Новосибирск","Омск","Красноярск","Иркутск","Барнаул","Томск"]},{code:"ЕКЦ",name:"Уральский региональный центр",cities:["Екатеринбург","Челябинск","Пермь","Уфа","Тюмень","Курган"]},{code:"ДВЦ",name:"Дальневосточный центр",cities:["Владивосток","Хабаровск","Южно-Сахалинск","Благовещенск","Петропавловск-Камчатский"]},{code:"ПРЦ",name:"Приволжский региональный центр",cities:["Казань","Нижний Новгород","Самара","Саратов","Ульяновск","Пенза"]},{code:"СЗРЦ2",name:"Северо-Кавказский региональный центр",cities:["Махачкала","Грозный","Нальчик","Владикавказ","Элиста"]}],Cy=e=>Wi.find(t=>t.cities.some(r=>r.toLowerCase().includes(e.toLowerCase())||e.toLowerCase().includes(r.toLowerCase())))||null,Z4="cms_employees";class $7{getEmployees(){try{const t=localStorage.getItem(Z4);if(!t)return this.getDefaultEmployees();const r=JSON.parse(t);return!Array.isArray(r)||r.length<100?(console.warn("Обнаружено недостаточное количество сотрудников, пересоздаем базу..."),this.getDefaultEmployees()):r}catch(t){return console.error("Ошибка загрузки сотрудников:",t),this.getDefaultEmployees()}}regenerateEmployees(){return console.log("Принудительная регенерация базы сотрудников..."),this.getDefaultEmployees()}saveEmployees(t){try{localStorage.setItem(Z4,JSON.stringify(t))}catch(r){console.error("Ошибка сохранения сотрудников:",r)}}getEmployeeById(t){return this.getEmployees().find(a=>a.id===t)}addEmployee(t){const r=this.getEmployees(),a={...t,id:`emp-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return r.push(a),this.saveEmployees(r),a}updateEmployee(t,r){const a=this.getEmployees(),n=a.findIndex(s=>s.id===t);return n===-1?null:(a[n]={...a[n],...r,updatedAt:new Date().toISOString()},this.saveEmployees(a),a[n])}deleteEmployee(t){const r=this.getEmployees(),a=r.filter(n=>n.id!==t);return a.length===r.length?!1:(this.saveEmployees(a),!0)}getEmployeesByRegion(t){return this.getEmployees().filter(a=>a.region===t&&a.isActive)}getRegions(){const t=this.getEmployees(),r=new Set(t.map(a=>a.region));return Array.from(r).sort()}getMonitoringEmployees(){return this.getEmployees().filter(r=>r.isActive&&r.canMonitor===!0)}getAppraisalEmployees(){return this.getEmployees().filter(r=>r.isActive&&r.canAppraise===!0)}getMonitoringEmployeesByRegion(t){return this.getMonitoringEmployees().filter(r=>r.region===t)}getAppraisalEmployeesByRegion(t){return this.getAppraisalEmployees().filter(r=>r.region===t)}updateWorkload(t,r,a){const n=this.getEmployees(),s=n.findIndex(o=>o.id===t);s!==-1&&(r!==void 0&&(n[s].monitoringWorkload=r),a!==void 0&&(n[s].appraisalWorkload=a),this.saveEmployees(n))}getDefaultEmployees(){const t=[],r=["Иванов","Петров","Сидоров","Смирнов","Кузнецов","Попов","Соколов","Лебедев","Козлов","Новиков","Морозов","Волков","Соловьев","Васильев","Зайцев","Павлов","Семенов","Голубев","Виноградов","Богданов","Воробьев","Федоров","Михайлов","Белов","Тарасов","Беляев","Комаров","Орлов","Киселев","Макаров","Андреев","Ковалев","Ильин","Гусев","Титов","Кузьмин","Кудрявцев","Баранов","Куликов","Алексеев"],a=["Иван","Петр","Сергей","Александр","Дмитрий","Андрей","Михаил","Николай","Владимир","Алексей","Мария","Елена","Анна","Ольга","Татьяна","Наталья","Ирина","Светлана","Екатерина","Юлия","Анастасия","Дарья","Виктория","Евгения","Кристина","Ангелина","Валентина","Галина","Людмила","Надежда"],n=["Иванович","Петрович","Сергеевич","Александрович","Дмитриевич","Андреевич","Михайлович","Николаевич","Владимирович","Алексеевич","Ивановна","Петровна","Сергеевна","Александровна","Дмитриевна","Андреевна","Михайловна","Николаевна","Владимировна","Алексеевна"],s=["Менеджер по работе с залогами","Специалист по мониторингу","Специалист по оценке","Руководитель отдела","Ведущий специалист","Главный специалист","Эксперт","Аналитик"],o=["Отдел залогового обеспечения","Отдел мониторинга","Отдел оценки","Отдел рисков","Отдел кредитования"];let A=1;const l={ЦО:{monitoring:2,appraisal:7},СЗРЦ:{monitoring:6,appraisal:9},ЮРЦ:{monitoring:7,appraisal:10},СРЦ:{monitoring:10,appraisal:4},ЕКЦ:{monitoring:5,appraisal:12},ДВЦ:{monitoring:8,appraisal:9},ПРЦ:{monitoring:6,appraisal:6},СЗРЦ2:{monitoring:4,appraisal:6}};return Wi.forEach((c,d)=>{const p=Array.from({length:30},(x,v)=>v);for(let x=p.length-1;x>0;x--){const v=Math.floor(Math.random()*(x+1));[p[x],p[v]]=[p[v],p[x]]}const u=l[c.code]||{monitoring:5,appraisal:10},g=new Set(p.slice(0,u.monitoring)),h=new Set(p.slice(u.monitoring,u.monitoring+u.appraisal));let y=0;c.cities.forEach((x,v)=>{const E=Math.floor(30/c.cities.length),R=30%c.cities.length,b=E+(v<R?1:0);for(let T=0;T<b;T++){const _=y,S=_===0,O=(A-1)%r.length,M=r[O],I=a[(A-1)%a.length],D=n[(A-1)%n.length],L=g.has(_),N=h.has(_);let P=L?1:N?2:0,Q=L?1:N?2:0;S&&(P=3,Q=0);const J=s[P],te=o[Q],G=`${`${M.toLowerCase()}.${I.toLowerCase()}`}${A}@bank.ru`,C=`+7 (${495+d*10+v}) ${String(100+A%900).padStart(3,"0")}-${String(10+A%90).padStart(2,"0")}-${String(10+A%90).padStart(2,"0")}`,k=1970+A%30,j=A%12+1,H=A%28+1,Y=`${k}-${String(j).padStart(2,"0")}-${String(H).padStart(2,"0")}`,de=String(1e5+A).padStart(6,"0"),ue=Math.random(),he=ue<.85?"working":ue<.9?"sick_leave":ue<.95?"vacation":"business_trip";t.push({id:`emp-${A}`,lastName:M,firstName:I,middleName:D,position:J,region:x,email:G,phone:C,department:te,permissions:S?["registry_view","registry_edit","portfolio_view","portfolio_edit","tasks_view","tasks_edit","reports_view","reports_export","settings_view"]:["registry_view","portfolio_view","tasks_view"],isActive:!0,canMonitor:L,canAppraise:N,monitoringWorkload:0,appraisalWorkload:0,isManager:S,birthDate:Y,employeeNumber:de,status:he,hireDate:`202${Math.floor(A/100)}-${String(A%12+1).padStart(2,"0")}-${String(A%28+1).padStart(2,"0")}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),A++,y++}})}),this.saveEmployees(t),t}}const pr=new $7,Y7={token:{colorBgBase:"#1a1a1a",colorBgContainer:"#2d2d2d",colorTextBase:"#e6e6e6",colorPrimary:"#1890ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1890ff",borderRadius:6,boxShadow:"0 3px 6px -4px rgba(0, 0, 0, 0.48), 0 6px 16px 0 rgba(0, 0, 0, 0.32), 0 9px 28px 8px rgba(0, 0, 0, 0.2)"},components:{Layout:{bodyBg:"#1a1a1a",headerBg:"#2d2d2d",siderBg:"#262626"},Table:{headerBg:"#3a3a3a",rowHoverBg:"rgba(255, 255, 255, 0.06)"},Menu:{itemSelectedBg:"rgba(24, 144, 255, 0.15)"},Card:{colorBgContainer:"#2d2d2d"},Button:{colorPrimary:"#1890ff"}}},W7={token:{colorBgBase:"#ece9d8",colorBgContainer:"#ffffff",colorTextBase:"#000000",colorPrimary:"#0054e3",colorSuccess:"#00a651",colorWarning:"#ff8c00",colorError:"#d13438",colorInfo:"#0078d4",borderRadius:3,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.2)"},components:{Button:{colorPrimary:"#0054e3"},Layout:{bodyBg:"#ece9d8",headerBg:"#0054e3"},Card:{colorBgContainer:"#ffffff"}}},X7={token:{colorBgBase:"#000000",colorBgContainer:"#0a0a0a",colorTextBase:"#ffffff",colorPrimary:"#ffffff",colorSuccess:"#ffffff",colorWarning:"#ffffff",colorError:"#ffffff",colorInfo:"#ffffff",colorTextLightSolid:"#000000",borderRadius:4,boxShadow:"0 2px 8px rgba(255, 255, 255, 0.1)"},components:{Layout:{bodyBg:"#000000",headerBg:"#0a0a0a",siderBg:"#050505"},Menu:{darkItemBg:"#050505",darkSubMenuItemBg:"#0a0a0a",darkItemSelectedBg:"#1a1a1a",darkItemColor:"#ffffff",darkItemHoverBg:"#151515"},Button:{colorPrimary:"#ffffff",colorPrimaryHover:"#e0e0e0"},Card:{colorBgContainer:"#0a0a0a"},Table:{headerBg:"#0a0a0a"},Modal:{contentBg:"#0a0a0a"},Drawer:{colorBgElevated:"#0a0a0a"},Input:{colorBgContainer:"#050505",colorBorder:"#ffffff",colorText:"#ffffff"},Select:{colorBgContainer:"#050505",colorBorder:"#ffffff",colorText:"#ffffff"},Switch:{colorPrimary:"#ffffff"},Tag:{colorBgContainer:"#1a1a1a",colorText:"#ffffff"}}},J7={token:{colorBgBase:"#000000",colorBgContainer:"#001100",colorTextBase:"#00ff00",colorPrimary:"#00ff00",colorSuccess:"#00ff00",colorWarning:"#ffff00",colorError:"#ff0000",colorInfo:"#00ffff",borderRadius:0,boxShadow:"0 0 10px rgba(0, 255, 0, 0.3), inset 0 0 10px rgba(0, 255, 0, 0.1)"},components:{Layout:{bodyBg:"#000000",headerBg:"#001100",siderBg:"#000800"},Menu:{darkItemBg:"#000800",darkSubMenuItemBg:"#001100",darkItemSelectedBg:"#002200",darkItemColor:"#00ff00",darkItemHoverBg:"#001a00"},Button:{colorPrimary:"#00ff00",colorPrimaryHover:"#00cc00"},Card:{colorBgContainer:"#001100"},Table:{headerBg:"#001100"},Modal:{contentBg:"#001100"},Drawer:{colorBgElevated:"#001100"},Input:{colorBgContainer:"#000800",colorBorder:"#00ff00",colorText:"#00ff00"},Select:{colorBgContainer:"#000800",colorBorder:"#00ff00",colorText:"#00ff00"},Switch:{colorPrimary:"#00ff00"}}},Z7={token:{colorBgBase:"#f2f2f7",colorBgContainer:"#ffffff",colorTextBase:"#000000",colorPrimary:"#007aff",colorSuccess:"#34c759",colorWarning:"#ff9500",colorError:"#ff3b30",colorInfo:"#5ac8fa",borderRadius:12,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.08)",fontFamily:'-apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", "Helvetica Neue", sans-serif'},components:{Layout:{bodyBg:"#f2f2f7",headerBg:"#ffffff",siderBg:"#f8f8f8"},Menu:{itemBg:"transparent",itemSelectedBg:"#007aff",itemHoverBg:"rgba(0, 122, 255, 0.1)",itemColor:"#000000",itemSelectedColor:"#ffffff",darkItemBg:"transparent",darkItemColor:"#000000",darkItemSelectedBg:"#007aff",darkItemSelectedColor:"#ffffff",darkItemHoverBg:"rgba(0, 122, 255, 0.1)"},Button:{colorPrimary:"#007aff",colorPrimaryHover:"#0051d5",borderRadius:12,controlHeight:44},Card:{colorBgContainer:"#ffffff",borderRadiusLG:16},Table:{headerBg:"#f9f9f9",borderRadiusLG:12},Modal:{contentBg:"#ffffff",borderRadiusLG:16},Drawer:{colorBgElevated:"#f2f2f7"},Input:{colorBgContainer:"#ffffff",colorBorder:"#d1d1d6",colorText:"#000000",borderRadius:10,controlHeight:44},Select:{colorBgContainer:"#ffffff",colorBorder:"#d1d1d6",colorText:"#000000",borderRadius:10,controlHeight:44},Switch:{colorPrimary:"#34c759"},Tag:{colorBgContainer:"#e5e5ea",colorText:"#000000",borderRadiusLG:8}}},eM={token:{colorBgBase:"#c0c0c0",colorBgContainer:"#c0c0c0",colorTextBase:"#000000",colorPrimary:"#000080",colorSuccess:"#008000",colorWarning:"#808000",colorError:"#800000",colorInfo:"#000080",borderRadius:0,boxShadow:"inset -1px -1px 0px #000000, inset 1px 1px 0px #ffffff, inset -2px -2px 0px #808080, inset 2px 2px 0px #dfdfdf"},components:{Layout:{bodyBg:"#008080",headerBg:"#000080",siderBg:"#c0c0c0"},Menu:{darkItemBg:"#c0c0c0",darkSubMenuItemBg:"#c0c0c0",darkItemSelectedBg:"#000080",darkItemColor:"#000000",darkItemHoverBg:"#0000a0"},Button:{colorPrimary:"#000080",colorPrimaryHover:"#0000a0",borderRadius:0},Card:{colorBgContainer:"#c0c0c0",borderRadiusLG:0},Table:{headerBg:"#000080",borderRadiusLG:0},Modal:{contentBg:"#c0c0c0",borderRadiusLG:0},Drawer:{colorBgElevated:"#c0c0c0"},Input:{colorBgContainer:"#ffffff",colorBorder:"#808080",colorText:"#000000",borderRadius:0},Select:{colorBgContainer:"#ffffff",colorBorder:"#808080",colorText:"#000000",borderRadius:0},Switch:{colorPrimary:"#000080"},Tag:{colorBgContainer:"#c0c0c0",colorText:"#000000",borderRadiusLG:0}}},SC=K.createContext(void 0),tM=({children:e})=>{const[t,r]=K.useState(()=>localStorage.getItem("cms-theme")||"dark-gray");K.useEffect(()=>{localStorage.setItem("cms-theme",t),document.documentElement.classList.add("theme-transitioning"),requestAnimationFrame(()=>{document.documentElement.setAttribute("data-theme",t),setTimeout(()=>{document.documentElement.classList.remove("theme-transitioning")},500)})},[t]);const a=()=>{switch(t){case"dark-gray":return{...Y7,algorithm:LA.darkAlgorithm};case"windows-xp":return W7;case"windows-97":return eM;case"ios":return Z7;case"matrix":return{...J7,algorithm:LA.darkAlgorithm};case"dark":return{...X7,algorithm:LA.darkAlgorithm};case"light":default:return{algorithm:LA.defaultAlgorithm}}};return i.jsx(SC.Provider,{value:{currentTheme:t,setTheme:r},children:i.jsx(sb,{theme:a(),children:e})})},qg=()=>`demo-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,Rl=(e,t)=>new Date(e.getTime()+Math.random()*(t.getTime()-e.getTime())),Kg=e=>{const t=["Ленина","Пушкина","Гагарина","Мира","Советская","Кирова","Первомайская"],r=t[Math.floor(Math.random()*t.length)],a=Math.floor(Math.random()*200)+1,n=Math.floor(Math.random()*100)+1;return{fullAddress:`г. ${e}, ул. ${r}, д. ${a}, кв. ${n}`,postalCode:`${1e5+Math.floor(Math.random()*99999)}`,region:e,city:e,street:`ул. ${r}`,house:a.toString(),apartment:n.toString(),coordinates:{lat:55.7558+(Math.random()-.5)*.1,lon:37.6173+(Math.random()-.5)*.1}}},rM=[{level0:"Коммерческая недвижимость",level1:"Офис",level2:"Помещение"},{level0:"Коммерческая недвижимость",level1:"Торговое помещение",level2:"Помещение"},{level0:"Коммерческая недвижимость",level1:"Склад",level2:"Помещение"},{level0:"Коммерческая недвижимость",level1:"Производственное помещение",level2:"Помещение"},{level0:"Жилая недвижимость",level1:"Квартира",level2:"Помещение"},{level0:"Жилая недвижимость",level1:"Комната",level2:"Помещение"},{level0:"Жилая недвижимость",level1:"Дом",level2:"Здание"},{level0:"Жилая недвижимость",level1:"Дача",level2:"Здание"},{level0:"Промышленная недвижимость",level1:"Цех",level2:"Помещение"},{level0:"Промышленная недвижимость",level1:"Ангар",level2:"Сооружение"},{level0:"Коммерческая недвижимость",level1:"Парковочное место",level2:"Помещение"}],aM=[{level0:"Транспорт",level1:"Легковой автомобиль",level2:"Транспортное средство"},{level0:"Транспорт",level1:"Грузовой автомобиль",level2:"Транспортное средство"},{level0:"Транспорт",level1:"Спецтехника",level2:"Транспортное средство"},{level0:"Оборудование",level1:"Производственное оборудование",level2:"Станок"},{level0:"Оборудование",level1:"Офисное оборудование",level2:"Техника"},{level0:"Оборудование",level1:"Компьютерная техника",level2:"Техника"}],nM=[{level0:"Ценные бумаги",level1:"Акции",level2:"Долевые"},{level0:"Ценные бумаги",level1:"Облигации",level2:"Долговые"},{level0:"Права требования",level1:"Дебиторская задолженность",level2:"Требование"},{level0:"Интеллектуальная собственность",level1:"Патент",level2:"Право"},{level0:"Интеллектуальная собственность",level1:"Товарный знак",level2:"Право"}],iM=e=>{const r={area:(Math.floor(Math.random()*500)+20).toString(),floor:Math.floor(Math.random()*20)+1,totalFloors:Math.floor(Math.random()*25)+1,roomsCount:Math.floor(Math.random()*5)+1,cadastralNumber:`77:${Math.floor(Math.random()*99)}:${Math.floor(Math.random()*999999)}:${Math.floor(Math.random()*9999)}`,buildYear:Math.floor(Math.random()*50)+1970};return(e==="Квартира"||e==="Комната")&&(r.hasBalcony=Math.random()>.5,r.renovation=["Без ремонта","Косметический","Евроремонт","Дизайнерский"][Math.floor(Math.random()*4)]),(e==="Дом"||e==="Дача")&&(r.landArea=Math.floor(Math.random()*1e3)+100,r.hasGarage=Math.random()>.5),r},sM=()=>{const e=["Toyota","Mercedes-Benz","BMW","Volkswagen","Ford","Hyundai","KIA"];return{brand:e[Math.floor(Math.random()*e.length)],model:`Model-${Math.floor(Math.random()*100)}`,year:Math.floor(Math.random()*10)+2014,vin:`VIN${Math.random().toString(36).substr(2,14).toUpperCase()}`,mileage:Math.floor(Math.random()*2e5)+1e4,color:["Черный","Белый","Серебристый","Синий","Красный"][Math.floor(Math.random()*5)],engineVolume:(Math.random()*3+1).toFixed(1),fuelType:["Бензин","Дизель","Электро","Гибрид"][Math.floor(Math.random()*4)]}},oM=()=>({manufacturer:["Siemens","ABB","Schneider","GE","Mitsubishi"][Math.floor(Math.random()*5)],model:`EQ-${Math.floor(Math.random()*1e4)}`,serialNumber:`SN${Math.random().toString(36).substr(2,10).toUpperCase()}`,productionYear:Math.floor(Math.random()*15)+2009,condition:["Новое","Хорошее","Удовлетворительное","Требует ремонта"][Math.floor(Math.random()*4)],power:`${Math.floor(Math.random()*100)+10} кВт`}),Hg=(e,t)=>{let r=1e6;return e==="real_estate"?r=Math.floor(Math.random()*5e7)+5e6:e==="movable"?t.includes("автомобиль")?r=Math.floor(Math.random()*5e6)+5e5:r=Math.floor(Math.random()*2e6)+1e5:r=Math.floor(Math.random()*1e7)+1e6,{marketValue:r,pledgeValue:Math.floor(r*(.6+Math.random()*.3)),evaluationDate:Rl(new Date(2023,0,1),new Date).toISOString().split("T")[0]}},AM=()=>{const e=[],t=["Москва","Санкт-Петербург","Новосибирск","Екатеринбург"],r=["editing","approved"];let a=1;return rM.forEach((n,s)=>{const o=t[s%t.length],A=r[s%r.length],l=Rl(new Date(2023,0,1),new Date);e.push({id:qg(),number:`RE-${a.toString().padStart(4,"0")}`,name:`${n.level1} в ${o}`,mainCategory:"real_estate",classification:n,cbCode:100+s,status:A,address:Kg(o),characteristics:iM(n.level1),...Hg("real_estate",n.level1),createdAt:l,updatedAt:Rl(l,new Date),owner:{name:`ООО "Компания ${a}"`,inn:`${77e8+a}`,type:"legal"},documents:[{id:"1",name:"Свидетельство о собственности",type:"ownership",uploadDate:l.toISOString().split("T")[0]},{id:"2",name:"Кадастровый паспорт",type:"cadastral",uploadDate:l.toISOString().split("T")[0]}],photos:[],notes:"Демо-карточка недвижимости для тестирования системы"}),a++}),aM.forEach((n,s)=>{const o=t[s%t.length],A=r[s%r.length],l=Rl(new Date(2023,0,1),new Date);let c,d;n.level0==="Транспорт"?(c=sM(),d=`${n.level1} - ${c.brand}`):(c=oM(),d=`${n.level1} - ${c.manufacturer}`),e.push({id:qg(),number:`MV-${a.toString().padStart(4,"0")}`,name:d,mainCategory:"movable",classification:n,cbCode:200+s,status:A,address:Kg(o),characteristics:c,...Hg("movable",n.level1),createdAt:l,updatedAt:Rl(l,new Date),owner:{name:`ООО "Транспорт ${a}"`,inn:`${77e8+a}`,type:"legal"},documents:[{id:"1",name:"ПТС",type:"pts",uploadDate:l.toISOString().split("T")[0]}],photos:[],notes:"Демо-карточка движимого имущества для тестирования системы"}),a++}),nM.forEach((n,s)=>{const o=t[s%t.length],A=r[s%r.length],l=Rl(new Date(2023,0,1),new Date);e.push({id:qg(),number:`PR-${a.toString().padStart(4,"0")}`,name:`${n.level1} - ${o}`,mainCategory:"property_rights",classification:n,cbCode:300+s,status:A,address:Kg(o),characteristics:{nominalValue:Math.floor(Math.random()*1e7)+1e5,quantity:Math.floor(Math.random()*1e3)+1,issuer:`ПАО "Эмитент ${s+1}"`},...Hg("property_rights",n.level1),createdAt:l,updatedAt:Rl(l,new Date),owner:{name:`ООО "Инвестор ${a}"`,inn:`${77e8+a}`,type:"legal"},documents:[],photos:[],notes:"Демо-карточка имущественных прав для тестирования системы"}),a++}),e},TC=K.createContext(void 0),lM=({children:e})=>{const t=nA(),[r,a]=K.useState(!1),n=async()=>{try{a(!0);const o=AM();Te.loading({content:"Загрузка демо-данных...",key:"demo"});for(const A of o)await Dt.saveExtendedCard(A);t(z1(o)),Te.success({content:`Загружено ${o.length} демо-карточек`,key:"demo",duration:3})}catch(o){Te.error({content:"Ошибка загрузки демо-данных",key:"demo"}),console.error(o)}finally{a(!1)}},s=async()=>{try{a(!0),Te.loading({content:"Удаление демо-данных...",key:"clear"});const o=await Dt.getExtendedCards();for(const A of o)await Dt.deleteExtendedCard(A.id);t(z1([])),Te.success({content:"Все демо-данные удалены",key:"clear",duration:3})}catch(o){Te.error({content:"Ошибка удаления демо-данных",key:"clear"}),console.error(o)}finally{a(!1)}};return i.jsx(TC.Provider,{value:{loadDemoData:n,clearDemoData:s,isLoading:r},children:e})},cM=()=>{const e=K.useContext(SC);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},{Sider:dM}=Cf,uM=({collapsed:e,onLoadDemoData:t,onClearDemoData:r,hasCards:a=!1})=>{const n=$s(),s=ul(),{currentTheme:o,setTheme:A}=cM(),l=[{key:"registry",label:"Реестр объектов",icon:i.jsx(JA,{}),path:"/registry"},{key:"portfolio",label:"Залоговый портфель",icon:i.jsx(ob,{}),path:"/portfolio"},{key:"tasks",label:"Задачи",icon:i.jsx(eA,{}),path:"/tasks"},{key:"kpi",label:"KPI",icon:i.jsx(BT,{}),path:"/kpi",tooltip:"KPI и аналитика"},{key:"reports",label:"Отчеты",icon:i.jsx(Kl,{}),path:"/reports",tooltip:"Агрегирование отчетности"},{key:"collateral-dossier",label:"Залоговое досье",icon:i.jsx(q1,{}),path:"/collateral-dossier"},{key:"collateral-conclusions",label:"Залоговые заключения",icon:i.jsx(Dr,{}),path:"/collateral-conclusions"},{key:"insurance",label:"Страхование",icon:i.jsx(ST,{}),path:"/insurance"},{key:"fnp",label:"ФНП",icon:i.jsx(Ab,{}),path:"/fnp",tooltip:"Регистрация залога движимого имущества ФНП"},{key:"analytics",label:"Аналитика",icon:i.jsx(tc,{}),path:"/analytics"},{key:"credit-risk",label:"Модуль мониторинга",icon:i.jsx(TT,{}),path:"/credit-risk",tooltip:"Модуль мониторинга"},{key:"appraisal",label:"Модуль оценки",icon:i.jsx(Zf,{}),path:"/appraisal",tooltip:"Автоматическая оценка объектов залога"},{key:"cms-check",label:"CMS Check",icon:i.jsx(Ko,{}),path:"/cms-check",tooltip:"Система дистанционных осмотров"},{key:"egrn",label:"ЕГРН",icon:i.jsx(Dr,{}),path:"/egrn",tooltip:"Регистрация ипотеки, снятие обременений, выписки ЕГРН"},{key:"upload",label:"Загрузка",icon:i.jsx(OT,{}),path:"/upload"},{key:"monitoring",label:"Мониторинг",icon:i.jsx(IT,{}),path:"/monitoring"},{key:"reference",label:"Справочная с ИИ",icon:i.jsx(Bf,{}),path:"/reference",tooltip:"Консультации по нормативным документам, оценке и рабочим вопросам"},{key:"workflow",label:"Внесудебная реализация",icon:i.jsx(Dr,{}),path:"/workflow",tooltip:"Workflow внесудебной реализации залога"},{key:"settings-workflow",label:"Настройки Workflow",icon:i.jsx($A,{}),path:"/settings/workflow",tooltip:"Этапы, чеклисты и шаблоны документов"},{key:"settings",label:"Настройки",icon:i.jsx($A,{}),path:"/settings"}],c=p=>{const u=l.find(g=>g.key===p);u&&(u.external&&u.path?window.open(u.path,"_blank","noopener,noreferrer"):u.path&&n(u.path))},d=l.map(p=>({key:p.key,icon:p.icon,label:p.tooltip?i.jsx(Jr,{title:p.tooltip,placement:"right",children:i.jsx("span",{children:p.label})}):p.label})),f=()=>{const p=s.pathname.split("/").filter(Boolean);return p.length===0?"registry":p[0]==="settings"&&p[1]==="workflow"?"settings-workflow":p[0]};return i.jsxs(dM,{collapsible:!0,collapsed:e,trigger:null,width:250,style:{overflow:"auto",height:"100vh",position:"fixed",left:0,top:0,bottom:0},children:[i.jsxs("div",{className:"sidebar-logo",onClick:()=>n("/"),style:{height:"64px",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:e?"16px":"20px",fontWeight:"bold",transition:"all 0.2s",gap:"8px",padding:e?"8px":"12px",cursor:"pointer"},children:[i.jsx("img",{src:"/logo.png",alt:"CMS Logo",style:{height:e?"32px":"40px",width:"auto",objectFit:"contain",transition:"all 0.2s"}}),!e&&i.jsx("span",{style:{marginLeft:"8px"},children:"CMS"})]}),i.jsx(CT,{theme:"dark",mode:"inline",selectedKeys:[f()],items:d,onClick:({key:p})=>c(p),style:{flex:1,borderRight:0}}),!e&&i.jsx("div",{style:{padding:"16px",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:i.jsxs(Oe,{direction:"vertical",style:{width:"100%"},size:"small",children:[i.jsx("div",{style:{color:"#fff",fontWeight:"bold",fontSize:"14px"},children:"Настройки"}),i.jsxs("div",{style:{color:"#fff",fontSize:"12px"},children:["Тема:",i.jsx(Ve,{value:o,onChange:A,size:"small",style:{width:"100%",marginTop:"4px"},options:[{value:"light",label:"Светлая"},{value:"dark",label:"Темная"},{value:"dark-gray",label:"Темно-серая"},{value:"ios",label:"iOS"},{value:"windows-xp",label:"Windows XP"},{value:"windows-97",label:"Windows 97"},{value:"matrix",label:"Матрица"}]})]}),t&&i.jsx("div",{style:{marginTop:"8px"},children:i.jsx(Jr,{title:a?"Перезагрузить демо-данные (44)":"Загрузить демо-данные (44)",children:i.jsx(Ce,{icon:i.jsx(JA,{}),onClick:t,type:a?"dashed":"primary",danger:a,size:"small",style:{width:"100%"}})})}),r&&a&&i.jsx("div",{style:{marginTop:"8px"},children:i.jsx(Jr,{title:"Удалить все демо-данные",children:i.jsx(Ce,{icon:i.jsx(Ss,{}),onClick:r,type:"dashed",danger:!0,size:"small",style:{width:"100%"}})})}),i.jsxs("div",{style:{marginTop:"16px",paddingTop:"16px",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:[i.jsx("div",{style:{color:"#fff",fontSize:"12px",marginBottom:"8px",opacity:.7},children:"Техническая поддержка:"}),i.jsx("a",{href:"mailto:cmsauto@bk.ru",style:{color:"#1890ff",fontSize:"12px",textDecoration:"none",display:"block",wordBreak:"break-all"},onMouseEnter:p=>p.currentTarget.style.textDecoration="underline",onMouseLeave:p=>p.currentTarget.style.textDecoration="none",children:"cmsauto@bk.ru"})]})]})})]})},{Header:fM}=Cf,pM=e=>{switch(e){case"owner":return"залогодателю (название, ИНН)";case"identifier":return"идентификатору (кадастровый номер, VIN, серийный номер, ID)";case"name":return"наименованию";case"type":return"типу объекта";case"kind":return"виду объекта";default:return"наименованию"}},hM=({onCreateCard:e,onExport:t,onImport:r,onSearch:a,onSearchAttributeChange:n,onToggleHeader:s,searchText:o="",searchAttribute:A="name",headerVisible:l=!0})=>{const c=nA(),{sidebarCollapsed:d}=Vs(u=>u.app),f=()=>{c(FO())},p=[{key:"profile",icon:i.jsx(es,{}),label:"Профиль"},{type:"divider"},{key:"logout",icon:i.jsx(kT,{}),label:"Выход",danger:!0}];return i.jsxs(fM,{style:{position:"fixed",top:0,left:d?"80px":"250px",right:0,zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 16px",background:"#fff",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",transition:"left 0.2s"},children:[i.jsxs(Oe,{size:"middle",children:[i.jsx(Ce,{type:"text",icon:d?i.jsx(lb,{}):i.jsx(cb,{}),onClick:f,style:{fontSize:"16px",width:40,height:40}}),i.jsx(Ce,{type:"text",icon:l?i.jsx(NT,{}):i.jsx(db,{}),onClick:s,style:{fontSize:"16px",width:40,height:40},title:l?"Скрыть шапку":"Показать шапку"}),i.jsx(Ce,{type:"primary",icon:i.jsx(wi,{}),onClick:e,children:"Создать карточку"}),i.jsx(Ce,{icon:i.jsx(FT,{}),onClick:t,children:"Экспорт в Excel"}),i.jsx(Ce,{icon:i.jsx(RT,{}),onClick:r,children:"Импорт"})]}),i.jsxs(Oe,{size:"middle",children:[i.jsx(Ve,{value:A,onChange:n,style:{width:150},options:[{value:"owner",label:"Залогодатель"},{value:"identifier",label:"Идентификатор"},{value:"name",label:"Наименование"},{value:"type",label:"Тип"},{value:"kind",label:"Вид"}]}),i.jsx(Re,{placeholder:`Поиск по ${pM(A)}...`,prefix:i.jsx(qa,{}),value:o,onChange:u=>a==null?void 0:a(u.target.value),style:{width:300},allowClear:!0}),i.jsx(ub,{menu:{items:p},placement:"bottomRight",children:i.jsx(am,{icon:i.jsx(es,{}),style:{cursor:"pointer",backgroundColor:"#1890ff"}})})]})]})},mM=()=>{const e=K.useContext(TC);if(!e)throw new Error("useDemoData must be used within DemoDataProvider");return e},{Content:gM}=Cf,xM=()=>{const e=ul(),t=Vs(E=>E.app.sidebarCollapsed),r=Vs(E=>{var R;return((R=E.extendedCards)==null?void 0:R.filteredItems)||[]}),{loadDemoData:a,clearDemoData:n}=mM(),[s,o]=K.useState(""),[A,l]=K.useState("name"),[c,d]=K.useState(!0),f=["/reference","/monitoring","/settings","/upload","/egrn","/cms-check","/appraisal","/credit-risk","/analytics","/fnp","/insurance","/collateral-conclusions","/collateral-dossier","/reports","/kpi","/tasks","/portfolio"],p=e.pathname||e.hash.replace("#",""),u=f.some(E=>p===E||p===`#${E}`||e.hash===`#${E}`),g=c&&!u,h=()=>{},y=()=>{},x=()=>{},v=()=>{d(!c)};return i.jsxs(Cf,{className:"main-layout",children:[i.jsx(uM,{collapsed:t,onLoadDemoData:a,onClearDemoData:n,hasCards:r.length>0}),i.jsxs(Cf,{style:{marginLeft:t?80:250,transition:"margin-left 0.2s"},children:[g&&i.jsx(hM,{onCreateCard:h,onExport:y,onImport:x,onSearch:o,onSearchAttributeChange:l,onToggleHeader:v,searchText:s,searchAttribute:A,headerVisible:c}),i.jsxs(gM,{className:"main-content",style:{marginTop:g?64:0},children:[!g&&!u&&i.jsx("div",{style:{position:"fixed",top:16,left:t?96:266,zIndex:1001,transition:"left 0.2s"},children:i.jsx(Ce,{type:"primary",icon:i.jsx(db,{}),onClick:v,style:{boxShadow:"0 2px 8px rgba(0,0,0,0.15)",borderRadius:"50%",width:40,height:40,display:"flex",alignItems:"center",justifyContent:"center"},title:"Показать шапку"})}),i.jsx(hT,{})]})]})]})},By={"Коммерческая недвижимость":{АЗС:["Здание","Помещение","Сооружение"],Автосалоны:["Здание","Помещение"],Апартаменты:["Помещение"],Гаражи:["Здание","Помещение"],Гостиницы:["Здание","Помещение"],"Кафе/рестораны":["Здание","Помещение"],"Медицинские центры":["Здание","Помещение"],"Офисные здания":["Здание"],"Офисные помещения":["Помещение"],"Производственные помещения":["Помещение"],Склады:["Здание","Помещение","Сооружение"],"Торговые центры":["Здание"],"Торговые помещения":["Помещение"],"Торгово-развлекательные центры":["Здание"],"Здания свободного назначения":["Здание"],"Помещения свободного назначения":["Помещение"]},"Жилая недвижимость":{Квартира:["Помещение"],Комната:["Помещение"],"Жилой дом":["Здание"],Таунхаус:["Здание"],Дача:["Здание"],"Земельный участок":["Земельный участок"]},"Промышленная недвижимость":{"Производственные здания":["Здание"],"Производственные сооружения":["Сооружение"],Цеха:["Здание","Помещение"],Ангары:["Здание","Сооружение"],Элеваторы:["Сооружение"],Резервуары:["Сооружение"]}},yM={Квартира_Помещение:"apartment",Комната_Помещение:"room","Жилой дом_Здание":"house",Таунхаус_Здание:"townhouse",Дача_Здание:"house","Земельный участок_Земельный участок":"land_residential","Офисные помещения_Помещение":"office","Офисные здания_Здание":"office","Торговые помещения_Помещение":"retail","Торговые центры_Здание":"retail",Склады_Здание:"warehouse",Склады_Помещение:"warehouse",Склады_Сооружение:"warehouse",Гостиницы_Здание:"hotel",Гостиницы_Помещение:"hotel","Кафе/рестораны_Здание":"catering","Кафе/рестораны_Помещение":"catering",АЗС_Здание:"gas_station",АЗС_Помещение:"gas_station",АЗС_Сооружение:"gas_station",Автосалоны_Здание:"car_dealership",Автосалоны_Помещение:"car_dealership","Производственные здания_Здание":"industrial_building","Производственные сооружения_Сооружение":"industrial_building",Цеха_Здание:"workshop",Цеха_Помещение:"workshop"},Sy={Квартира_Помещение:2010,Комната_Помещение:2030,"Жилой дом_Здание":2020,Таунхаус_Здание:2040,Дача_Здание:2050,"Земельный участок_Земельный участок":2060,"Офисные помещения_Помещение":1010,"Офисные здания_Здание":1011,"Торговые помещения_Помещение":1020,"Торговые центры_Здание":1021,Склады_Здание:1031,Склады_Помещение:1030,Склады_Сооружение:1032,Гостиницы_Здание:1040,Гостиницы_Помещение:1041,"Кафе/рестораны_Здание":1051,"Кафе/рестораны_Помещение":1050,АЗС_Здание:1060,АЗС_Помещение:1061,АЗС_Сооружение:1062,Автосалоны_Здание:1070,Автосалоны_Помещение:1071,Апартаменты_Помещение:1080,Гаражи_Здание:1090,Гаражи_Помещение:1091,"Медицинские центры_Здание":1100,"Медицинские центры_Помещение":1101,"Здания свободного назначения_Здание":1110,"Помещения свободного назначения_Помещение":1111,"Производственные помещения_Помещение":1120,"Торгово-развлекательные центры_Здание":1130,"Производственные здания_Здание":3010,"Производственные сооружения_Сооружение":3011,Цеха_Здание:3021,Цеха_Помещение:3020,Ангары_Здание:3030,Ангары_Сооружение:3031,Элеваторы_Сооружение:3040,Резервуары_Сооружение:3050},vM=Object.entries(By).map(([e,t])=>({value:e,label:e,children:Object.entries(t).map(([r,a])=>({value:r,label:r,children:a.map(n=>{const s=`${r}_${n}`,o=Sy[s]||0;return{value:n,label:n,cbCode:o}})}))})),OC=(e,t,r)=>{const a=`${t}_${r}`;return Sy[a]||0},ew=(e,t)=>{const r=`${e}_${t}`;return yM[r]||null},wM=e=>{const t=By[e];return t?Object.keys(t).map(r=>({value:r,label:r})):[]},EM=(e,t)=>{const r=By[e];if(!r)return[];const a=r[t];return a?a.map(n=>{const s=`${t}_${n}`,o=Sy[s]||0;return{value:n,label:n,cbCode:o}}):[]},bM=(e,t,r)=>OC(e,t,r)!==0,_M=({value:e,onChange:t,disabled:r=!1})=>{const[a,n]=K.useState((e==null?void 0:e.level0)||""),[s,o]=K.useState((e==null?void 0:e.level1)||""),[A,l]=K.useState((e==null?void 0:e.level2)||""),[c,d]=K.useState(0),[f,p]=K.useState(!0);K.useEffect(()=>{e&&(n(e.level0||""),o(e.level1||""),l(e.level2||""))},[e]),K.useEffect(()=>{if(a&&s&&A){const v=OC(a,s,A),E=bM(a,s,A);d(v),p(E),E&&t&&t({level0:a,level1:s,level2:A},v)}else d(0),p(!0)},[a,s,A,t]);const u=v=>{n(v),o(""),l(""),d(0)},g=v=>{o(v),l(""),d(0)},h=v=>{l(v)},y=a?wM(a):[],x=a&&s?EM(a,s):[];return i.jsxs(Oe,{direction:"vertical",style:{width:"100%"},children:[i.jsxs(Oe,{direction:"vertical",style:{width:"100%"},size:"middle",children:[i.jsxs("div",{style:{width:"100%"},children:[i.jsx("div",{style:{marginBottom:8,fontSize:"14px",fontWeight:500},children:"Категория (Уровень 0)"}),i.jsx(Ve,{placeholder:"Выберите категорию",value:a||void 0,onChange:u,disabled:r,style:{width:"100%"},options:vM.map(v=>({value:v.value,label:v.label}))})]}),i.jsxs("div",{style:{width:"100%"},children:[i.jsx("div",{style:{marginBottom:8,fontSize:"14px",fontWeight:500},children:"Вид объекта (Уровень 1)"}),i.jsx(Ve,{placeholder:"Выберите вид объекта",value:s||void 0,onChange:g,disabled:r||!a,style:{width:"100%"},options:y.map(v=>({value:v.value,label:v.label}))})]}),i.jsxs("div",{style:{width:"100%"},children:[i.jsx("div",{style:{marginBottom:8,fontSize:"14px",fontWeight:500},children:"Тип (Уровень 2)"}),i.jsx(Ve,{placeholder:"Выберите тип",value:A||void 0,onChange:h,disabled:r||!s,style:{width:"100%"},options:x.map(v=>({value:v.value,label:v.label}))})]})]}),a&&s&&A&&i.jsx(i.Fragment,{children:f?i.jsx(Ir,{message:`Код ЦБ: ${c}`,type:"success",showIcon:!0}):i.jsx(Ir,{message:"Некорректная комбинация классификации",type:"error",showIcon:!0})})]})},zs=()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,CM=e=>(typeof e=="string"?new Date(e):e).toLocaleDateString("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),BM=({value:e=[],onChange:t,disabled:r=!1})=>{const[a,n]=K.useState(e),[s,o]=K.useState(!1),[A,l]=K.useState(null),[c]=ne.useForm(),d=[{value:"individual",label:"Физическое лицо"},{value:"legal",label:"Юридическое лицо"}],f=[{value:"owner",label:"Собственник"},{value:"pledgor",label:"Залогодатель"},{value:"appraiser",label:"Оценщик"},{value:"other",label:"Другое"}],p=()=>{c.resetFields(),l(null),o(!0)},u=E=>{l(E),c.setFieldsValue(E),o(!0)},g=E=>{const R=a.filter(b=>b.id!==E);n(R),t==null||t(R)},h=async()=>{try{const E=await c.validateFields(),R=new Date,b={id:(A==null?void 0:A.id)||zs(),type:E.type,role:E.role,lastName:E.lastName,firstName:E.firstName,middleName:E.middleName,organizationName:E.organizationName,inn:E.inn,share:E.share,showInRegistry:E.showInRegistry!==void 0?E.showInRegistry:!0,createdAt:(A==null?void 0:A.createdAt)||R,updatedAt:R};let T;A?T=a.map(_=>_.id===A.id?b:_):T=[...a,b],n(T),t==null||t(T),o(!1),c.resetFields()}catch(E){console.error("Validation failed:",E)}},y=E=>E.type==="individual"?[E.lastName,E.firstName,E.middleName].filter(Boolean).join(" "):E.organizationName||"",x=E=>{const R={owner:"blue",pledgor:"green",appraiser:"orange",other:"default"},b={owner:"Собственник",pledgor:"Залогодатель",appraiser:"Оценщик",other:"Другое"};return i.jsx(et,{color:R[E],children:b[E]})},v=[{title:"Тип",dataIndex:"type",key:"type",width:80,render:E=>E==="individual"?i.jsx(es,{style:{fontSize:18}}):i.jsx(Ab,{style:{fontSize:18}})},{title:"Наименование/ФИО",key:"name",render:(E,R)=>y(R)},{title:"ИНН",dataIndex:"inn",key:"inn",width:150},{title:"Роль",dataIndex:"role",key:"role",width:150,render:E=>x(E)},{title:"Доля (%)",dataIndex:"share",key:"share",width:100,render:E=>E!==void 0?`${E}%`:"-"},{title:"В реестре",dataIndex:"showInRegistry",key:"showInRegistry",width:100,render:E=>E?"Да":"Нет"},{title:"Действия",key:"actions",width:120,fixed:"right",render:(E,R)=>i.jsxs(Oe,{size:"small",children:[i.jsx(Ce,{type:"link",icon:i.jsx(Ri,{}),onClick:()=>u(R),disabled:r,children:"Изменить"}),i.jsx(ho,{title:"Удалить партнера?",onConfirm:()=>g(R.id),okText:"Да",cancelText:"Нет",children:i.jsx(Ce,{type:"link",danger:!0,icon:i.jsx(Ss,{}),disabled:r,children:"Удалить"})})]})}];return i.jsxs("div",{children:[i.jsx(Oe,{style:{marginBottom:16},children:i.jsx(Ce,{type:"primary",icon:i.jsx(wi,{}),onClick:p,disabled:r,children:"Добавить партнера"})}),i.jsx(nr,{columns:v,dataSource:a,rowKey:"id",pagination:!1,size:"small"}),i.jsx(lr,{title:A?"Редактирование партнера":"Добавление партнера",open:s,onOk:h,onCancel:()=>{o(!1),c.resetFields()},width:700,okText:"Сохранить",cancelText:"Отмена",children:i.jsxs(ne,{form:c,layout:"vertical",initialValues:{showInRegistry:!0,type:"individual"},children:[i.jsx(ne.Item,{name:"type",label:"Тип партнера",rules:[{required:!0,message:"Выберите тип"}],children:i.jsx(Ve,{options:d})}),i.jsx(ne.Item,{noStyle:!0,shouldUpdate:(E,R)=>E.type!==R.type,children:({getFieldValue:E})=>E("type")==="individual"?i.jsxs(i.Fragment,{children:[i.jsx(ne.Item,{name:"lastName",label:"Фамилия",rules:[{required:!0,message:"Введите фамилию"}],children:i.jsx(Re,{placeholder:"Иванов"})}),i.jsx(ne.Item,{name:"firstName",label:"Имя",rules:[{required:!0,message:"Введите имя"}],children:i.jsx(Re,{placeholder:"Иван"})}),i.jsx(ne.Item,{name:"middleName",label:"Отчество",children:i.jsx(Re,{placeholder:"Иванович"})})]}):i.jsx(ne.Item,{name:"organizationName",label:"Наименование организации",rules:[{required:!0,message:"Введите наименование"}],children:i.jsx(Re,{placeholder:"ООО Рога и Копыта"})})}),i.jsx(ne.Item,{name:"inn",label:"ИНН",children:i.jsx(Re,{placeholder:"1234567890",maxLength:12})}),i.jsx(ne.Item,{name:"role",label:"Роль",rules:[{required:!0,message:"Выберите роль"}],children:i.jsx(Ve,{options:f})}),i.jsx(ne.Item,{name:"share",label:"Доля права (%)",children:i.jsx(ha,{min:0,max:100,step:.01,style:{width:"100%"}})}),i.jsx(ne.Item,{name:"showInRegistry",label:"Показывать в реестре",valuePropName:"checked",children:i.jsx(xi,{})})]})})]})};class SM{constructor(){er(this,"API_KEY","8369d552d89563916982831fbb6ddb90b7d38fe2");er(this,"BASE_URL","https://suggestions.dadata.ru/suggestions/api/4_1/rs");er(this,"requestCount",0);er(this,"DAILY_LIMIT",1e4);er(this,"lastResetDate",new Date().toDateString())}checkAndResetLimit(){const t=new Date().toDateString();t!==this.lastResetDate&&(this.requestCount=0,this.lastResetDate=t)}incrementRequestCount(){return this.checkAndResetLimit(),this.requestCount>=this.DAILY_LIMIT?(console.warn("DaData API daily limit reached"),!1):(this.requestCount++,!0)}getRemainingRequests(){return this.checkAndResetLimit(),this.DAILY_LIMIT-this.requestCount}async suggestAddress(t,r=10){if(!this.incrementRequestCount())throw new Error("Превышен дневной лимит запросов к DaData API");if(!t||t.length<3)return[];try{const a={query:t,count:r,from_bound:{value:"region"},to_bound:{value:"flat"}},n=await fetch(`${this.BASE_URL}/suggest/address`,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Token ${this.API_KEY}`},body:JSON.stringify(a)});if(!n.ok)throw new Error(`DaData API error: ${n.status} ${n.statusText}`);return(await n.json()).suggestions||[]}catch(a){throw console.error("Error fetching address suggestions from DaData:",a),a}}async geolocateAddress(t,r,a=100){if(!this.incrementRequestCount())throw new Error("Превышен дневной лимит запросов к DaData API");try{const n={lat:t,lon:r,radius_meters:a,count:5},s=await fetch(`${this.BASE_URL}/geolocate/address`,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Token ${this.API_KEY}`},body:JSON.stringify(n)});if(!s.ok)throw new Error(`DaData geolocate error: ${s.status}`);return(await s.json()).suggestions||[]}catch(n){throw console.error("Error geolocating address:",n),n}}async findByFiasId(t){var r;if(!this.incrementRequestCount())throw new Error("Превышен дневной лимит запросов к DaData API");try{const a=await fetch(`${this.BASE_URL}/findById/address`,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Token ${this.API_KEY}`},body:JSON.stringify({query:t,count:1})});if(!a.ok)throw new Error(`DaData findById error: ${a.status}`);return((r=(await a.json()).suggestions)==null?void 0:r[0])||null}catch(a){throw console.error("Error finding address by FIAS ID:",a),a}}async standardizeAddress(t){return(await this.suggestAddress(t,1))[0]||null}async validateAddress(t){try{const r=await this.standardizeAddress(t);if(!r)return{isValid:!1,qc:3,suggestion:null};const a=parseInt(r.data.qc||"3",10);return{isValid:a<=1,qc:a,suggestion:r}}catch{return{isValid:!1,qc:3,suggestion:null}}}}const Vu=new SM,Nx=(e,t)=>({id:t||`addr-${Date.now()}`,region:e.data.region_with_type||void 0,district:e.data.area||void 0,city:e.data.city||void 0,settlement:e.data.settlement||void 0,street:e.data.street||void 0,house:e.data.house||void 0,building:e.data.block||void 0,apartment:e.data.flat||void 0,postalCode:e.data.postal_code||void 0,fullAddress:e.value,cadastralNumber:void 0,fias:e.data.fias_id,countryIsoCode:e.data.country_iso_code,regionFiasId:e.data.region_fias_id,regionKladrId:e.data.region_kladr_id,regionIsoCode:e.data.region_iso_code,regionType:e.data.region_type,cityFiasId:e.data.city_fias_id||void 0,cityType:e.data.city_type||void 0,cityDistrict:e.data.city_district||void 0,streetFiasId:e.data.street_fias_id||void 0,streetType:e.data.street_type||void 0,houseFiasId:e.data.house_fias_id||void 0,houseType:e.data.house_type||void 0,flatArea:e.data.flat_area?parseFloat(e.data.flat_area):void 0,squareMeterPrice:e.data.square_meter_price?parseFloat(e.data.square_meter_price):void 0,flatPrice:e.data.flat_price?parseFloat(e.data.flat_price):void 0,geoLat:e.data.geo_lat?parseFloat(e.data.geo_lat):void 0,geoLon:e.data.geo_lon?parseFloat(e.data.geo_lon):void 0,timezone:e.data.timezone||void 0,okato:e.data.okato,oktmo:e.data.oktmo,taxOffice:e.data.tax_office,taxOfficeLegal:e.data.tax_office_legal,metro:e.data.metro||void 0,qc:e.data.qc||void 0,qcGeo:e.data.qc_geo||void 0,qcComplete:e.data.qc_complete||void 0,qcHouse:e.data.qc_house||void 0,source:"dadata"}),tw=(e,t)=>{let r=null;return function(...n){const s=()=>{r=null,e(...n)};r&&clearTimeout(r),r=setTimeout(s,t)}},TM=({value:e,onChange:t,disabled:r=!1,placeholder:a="Начните вводить адрес (мин. 3 символа)...",showDetails:n=!0})=>{const[s,o]=K.useState((e==null?void 0:e.fullAddress)||""),[A,l]=K.useState([]),[c,d]=K.useState(!1),[f,p]=K.useState(null),[u,g]=K.useState(e),[h,y]=K.useState(0),x=K.useRef(tw(async _=>{if(_.length<3){l([]);return}d(!0),p(null);try{const S=await Vu.suggestAddress(_,10);l(S),y(Vu.getRemainingRequests())}catch(S){p("Ошибка при получении подсказок адреса. Проверьте подключение к интернету."),console.error("DaData suggestion error:",S),l([])}finally{d(!1)}},500));K.useEffect(()=>{x.current=tw(async _=>{if(_.length<3){l([]);return}d(!0),p(null);try{const S=await Vu.suggestAddress(_,10);l(S),y(Vu.getRemainingRequests())}catch(S){p("Ошибка при получении подсказок адреса. Проверьте подключение к интернету."),console.error("DaData suggestion error:",S),l([])}finally{d(!1)}},500)},[]);const v=_=>{o(_),_.length>=3?x.current(_):l([])},E=_=>{const S=A.find(O=>O.value===_);if(S){const O=Nx(S,e==null?void 0:e.id);g(O),o(_),l([]),t&&t(O)}},R=_=>{switch(_){case"0":return"green";case"1":return"orange";case"2":return"red";case"3":return"red";default:return"default"}},b=_=>{switch(_){case"0":return"Адрес проверен";case"1":return"Требует уточнения";case"2":return"Плохое качество";case"3":return"Не распознан";default:return"Неизвестно"}},T=A.map(_=>({value:_.value,label:i.jsxs("div",{style:{padding:"4px 0"},children:[i.jsx("div",{children:_.value}),i.jsxs(Oe,{size:"small",style:{marginTop:4},children:[_.data.postal_code&&i.jsx(et,{color:"blue",style:{fontSize:11},children:_.data.postal_code}),_.data.qc&&i.jsx(et,{color:R(_.data.qc),style:{fontSize:11},children:b(_.data.qc)})]})]})}));return i.jsxs("div",{className:"dadata-address-input",children:[i.jsx(DT,{value:s,options:T,onSelect:E,onSearch:v,disabled:r,notFoundContent:c?i.jsx(ei,{size:"small",tip:"Поиск адресов..."}):"Введите минимум 3 символа",style:{width:"100%"},dropdownStyle:{minWidth:400},children:i.jsx(Re,{prefix:i.jsx(qa,{}),suffix:c&&i.jsx(ei,{size:"small"}),placeholder:a,allowClear:!0})}),f&&i.jsx(Ir,{message:f,type:"error",showIcon:!0,closable:!0,onClose:()=>p(null),style:{marginTop:8}}),u&&n&&i.jsxs(Me,{size:"small",style:{marginTop:12},title:"Детали адреса",children:[i.jsx(dt,{gutter:[8,8],children:i.jsx(be,{span:24,children:i.jsxs(Oe,{size:"small",wrap:!0,children:[u.qc&&i.jsx(et,{color:R(u.qc),icon:u.qc==="0"?i.jsx(Nn,{}):i.jsx(ph,{}),children:b(u.qc)}),u.postalCode&&i.jsxs(et,{color:"blue",children:["Индекс: ",u.postalCode]}),u.fias&&i.jsxs(et,{color:"green",children:["ФИАС: ",u.fias.substring(0,8),"..."]}),u.geoLat&&u.geoLon&&i.jsxs(et,{color:"orange",icon:i.jsx(tA,{}),children:[u.geoLat.toFixed(4),", ",u.geoLon.toFixed(4)]})]})})}),i.jsxs(dt,{gutter:[12,8],style:{marginTop:12},children:[i.jsxs(be,{span:12,children:[i.jsx("div",{style:{fontSize:12,color:"#666"},children:"Регион:"}),i.jsx("div",{style:{fontWeight:500},children:u.region||"-"})]}),i.jsxs(be,{span:12,children:[i.jsx("div",{style:{fontSize:12,color:"#666"},children:"Город:"}),i.jsx("div",{style:{fontWeight:500},children:u.city||u.settlement||"-"})]}),i.jsxs(be,{span:12,children:[i.jsx("div",{style:{fontSize:12,color:"#666"},children:"Улица:"}),i.jsx("div",{style:{fontWeight:500},children:u.street||"-"})]}),i.jsxs(be,{span:12,children:[i.jsx("div",{style:{fontSize:12,color:"#666"},children:"Дом/Квартира:"}),i.jsx("div",{style:{fontWeight:500},children:[u.house,u.building,u.apartment].filter(Boolean).join(", ")||"-"})]})]}),u.metro&&u.metro.length>0&&i.jsxs("div",{style:{marginTop:12},children:[i.jsx("div",{style:{fontSize:12,color:"#666",marginBottom:4},children:"Ближайшее метро:"}),i.jsx(Oe,{size:"small",wrap:!0,children:u.metro.map((_,S)=>i.jsxs(et,{color:"purple",children:[_.name," (",_.distance,"м)"]},S))})]}),i.jsxs("div",{style:{marginTop:12,fontSize:11,color:"#999"},children:["Осталось запросов сегодня: ",h," / 10000"]})]})]})};class OM{async getCurrentPosition(){return new Promise(t=>{if(!("geolocation"in navigator)){console.warn("Geolocation is not supported by this browser"),t(null);return}navigator.geolocation.getCurrentPosition(r=>{t({coordinates:{lat:r.coords.latitude,lon:r.coords.longitude},accuracy:r.coords.accuracy,timestamp:r.timestamp})},r=>{console.error("Error getting current position:",r);let a="Не удалось определить местоположение";switch(r.code){case r.PERMISSION_DENIED:a="Доступ к геолокации запрещен. Разрешите доступ в настройках браузера.";break;case r.POSITION_UNAVAILABLE:a="Информация о местоположении недоступна.";break;case r.TIMEOUT:a="Время ожидания определения местоположения истекло.";break}console.warn(a),t(null)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})})}async getAddressFromCoordinates(t){try{return await Vu.geolocateAddress(t.lat,t.lon)}catch(r){return console.error("Error getting address from coordinates:",r),[]}}async getCurrentLocationWithAddress(){const t=await this.getCurrentPosition();if(!t)return null;const r=await this.getAddressFromCoordinates(t.coordinates);return{coordinates:t.coordinates,addresses:r}}calculateDistance(t,r){const n=this.deg2rad(r.lat-t.lat),s=this.deg2rad(r.lon-t.lon),o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(this.deg2rad(t.lat))*Math.cos(this.deg2rad(r.lat))*Math.sin(s/2)*Math.sin(s/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))}deg2rad(t){return t*(Math.PI/180)}formatDistance(t){return t<1?`${Math.round(t*1e3)} м`:`${t.toFixed(1)} км`}isGeolocationSupported(){return"geolocation"in navigator}async checkPermission(){if(!("permissions"in navigator))return null;try{return(await navigator.permissions.query({name:"geolocation"})).state}catch(t){return console.error("Error checking geolocation permission:",t),null}}}const rw=new OM,IM=({onAddressSelect:e,initialCoordinates:t})=>{const[r,a]=K.useState(t||null),[n,s]=K.useState([]),[o,A]=K.useState(!1),[l,c]=K.useState(null),[d,f]=K.useState(null),p=async()=>{A(!0),c(null),s([]);try{const h=await rw.getCurrentLocationWithAddress();if(h){if(a(h.coordinates),s(h.addresses),f(h.coordinates?50:null),h.addresses.length>0){const y=Nx(h.addresses[0]);e==null||e(y)}}else c("Не удалось определить местоположение. Проверьте разрешения браузера.")}catch(h){c(h.message||"Ошибка при определении местоположения"),console.error("Geolocation error:",h)}finally{A(!1)}},u=h=>{const y=Nx(h);e==null||e(y)};return rw.isGeolocationSupported()?i.jsxs(Me,{title:i.jsxs(Oe,{children:[i.jsx(tA,{}),i.jsx("span",{children:"Определение местоположения"})]}),extra:i.jsx(Ce,{type:"primary",icon:i.jsx(jT,{}),onClick:p,loading:o,disabled:o,children:o?"Определение...":"Определить местоположение"}),children:[l&&i.jsx(Ir,{message:l,type:"error",showIcon:!0,closable:!0,onClose:()=>c(null),style:{marginBottom:16}}),o&&i.jsx("div",{style:{textAlign:"center",padding:"40px 0"},children:i.jsx(ei,{size:"large",tip:"Определение вашего местоположения..."})}),!o&&r&&i.jsx("div",{children:i.jsxs(Oe,{direction:"vertical",size:"middle",style:{width:"100%"},children:[i.jsx(Me,{size:"small",type:"inner",title:"Ваши координаты",children:i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsxs("div",{children:[i.jsxs(et,{color:"blue",children:["Широта: ",r.lat.toFixed(6)]}),i.jsxs(et,{color:"green",children:["Долгота: ",r.lon.toFixed(6)]}),d&&i.jsxs(et,{color:"orange",children:["Точность: ~",d,"м"]})]}),i.jsx("a",{href:`https://yandex.ru/maps/?ll=${r.lon},${r.lat}&z=16`,target:"_blank",rel:"noopener noreferrer",children:"Открыть на Я.Картах"})]})}),n.length>0&&i.jsxs(i.Fragment,{children:[i.jsx(kt,{style:{margin:"8px 0"},children:"Найденные адреса"}),i.jsx("div",{children:n.map((h,y)=>i.jsx(Me,{size:"small",hoverable:!0,style:{marginBottom:8,cursor:"pointer"},onClick:()=>u(h),children:i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsxs("div",{children:[i.jsx("div",{style:{fontWeight:500},children:h.value}),h.data.postal_code&&i.jsx(et,{color:"blue",style:{marginTop:4,fontSize:11},children:h.data.postal_code})]}),i.jsx(Nn,{style:{fontSize:20,color:"#52c41a"}})]})},y))})]}),n.length===0&&r&&!o&&i.jsx(Ir,{message:"Адреса не найдены",description:"Не удалось найти адреса рядом с вашим местоположением. Попробуйте ввести адрес вручную.",type:"info",showIcon:!0})]})}),!o&&!r&&!l&&i.jsxs("div",{style:{textAlign:"center",padding:"40px 0",color:"#999"},children:[i.jsx(tA,{style:{fontSize:64,color:"#d9d9d9"}}),i.jsx("div",{style:{marginTop:16},children:'Нажмите кнопку "Определить местоположение" для автоматического поиска адреса'}),i.jsx("div",{style:{marginTop:8,fontSize:12},children:"Браузер запросит разрешение на доступ к вашему местоположению"})]}),i.jsx(Ir,{message:"Примечание",description:"Для работы геолокации необходимо разрешение браузера на доступ к местоположению. Функция работает лучше всего на мобильных устройствах.",type:"info",showIcon:!0,style:{marginTop:16}})]}):i.jsx(Ir,{message:"Геолокация не поддерживается",description:"Ваш браузер не поддерживает определение местоположения. Используйте ввод адреса вручную.",type:"warning",showIcon:!0})},NM=({value:e,onChange:t,disabled:r=!1,useDaData:a=!1,showGeoPicker:n=!1})=>{const[s,o]=K.useState({id:(e==null?void 0:e.id)||"",region:(e==null?void 0:e.region)||"",district:(e==null?void 0:e.district)||"",city:(e==null?void 0:e.city)||"",settlement:(e==null?void 0:e.settlement)||"",street:(e==null?void 0:e.street)||"",house:(e==null?void 0:e.house)||"",building:(e==null?void 0:e.building)||"",apartment:(e==null?void 0:e.apartment)||"",postalCode:(e==null?void 0:e.postalCode)||"",fullAddress:(e==null?void 0:e.fullAddress)||"",cadastralNumber:(e==null?void 0:e.cadastralNumber)||"",fias:(e==null?void 0:e.fias)||""});K.useEffect(()=>{e&&o(e)},[e]),K.useEffect(()=>{const d=[s.region,s.district,s.city,s.settlement,s.street,s.house&&`д. ${s.house}`,s.building&&`к. ${s.building}`,s.apartment&&`кв. ${s.apartment}`].filter(Boolean).join(", ");if(d!==s.fullAddress){const f={...s,fullAddress:d};o(f),t==null||t(f)}},[s.region,s.district,s.city,s.settlement,s.street,s.house,s.building,s.apartment]);const A=(c,d)=>{const f={...s,[c]:d};o(f),t==null||t(f)},l=c=>{const d={id:c.id||s.id||"",region:c.region,district:c.district,city:c.city,settlement:c.settlement,street:c.street,house:c.house,building:c.building,apartment:c.apartment,postalCode:c.postalCode,fullAddress:c.fullAddress,cadastralNumber:c.cadastralNumber,fias:c.fias};o(d),t==null||t(d)};return i.jsxs(Oe,{direction:"vertical",size:"middle",style:{width:"100%"},children:[a&&i.jsxs(i.Fragment,{children:[i.jsx(TM,{value:e,onChange:l,disabled:r,showDetails:!0}),i.jsx(kt,{style:{margin:"12px 0"},children:"или введите вручную"})]}),n&&i.jsxs(i.Fragment,{children:[i.jsx(IM,{onAddressSelect:l,initialCoordinates:(e!=null&&e.fias,void 0)}),i.jsx(kt,{style:{margin:"12px 0"},children:"Детали адреса"})]}),i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:12,children:i.jsx(ne.Item,{label:"Регион",style:{marginBottom:8},children:i.jsx(Re,{placeholder:"Московская область",value:s.region,onChange:c=>A("region",c.target.value),disabled:r,prefix:i.jsx(tA,{})})})}),i.jsx(be,{span:12,children:i.jsx(ne.Item,{label:"Район",style:{marginBottom:8},children:i.jsx(Re,{placeholder:"Одинцовский район",value:s.district,onChange:c=>A("district",c.target.value),disabled:r})})})]}),i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:12,children:i.jsx(ne.Item,{label:"Город",style:{marginBottom:8},children:i.jsx(Re,{placeholder:"Москва",value:s.city,onChange:c=>A("city",c.target.value),disabled:r})})}),i.jsx(be,{span:12,children:i.jsx(ne.Item,{label:"Населенный пункт",style:{marginBottom:8},children:i.jsx(Re,{placeholder:"пос. Лесной",value:s.settlement,onChange:c=>A("settlement",c.target.value),disabled:r})})})]}),i.jsx(dt,{gutter:16,children:i.jsx(be,{span:24,children:i.jsx(ne.Item,{label:"Улица",style:{marginBottom:8},children:i.jsx(Re,{placeholder:"ул. Ленина",value:s.street,onChange:c=>A("street",c.target.value),disabled:r})})})}),i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:8,children:i.jsx(ne.Item,{label:"Дом",style:{marginBottom:8},children:i.jsx(Re,{placeholder:"15",value:s.house,onChange:c=>A("house",c.target.value),disabled:r})})}),i.jsx(be,{span:8,children:i.jsx(ne.Item,{label:"Корпус/Строение",style:{marginBottom:8},children:i.jsx(Re,{placeholder:"1",value:s.building,onChange:c=>A("building",c.target.value),disabled:r})})}),i.jsx(be,{span:8,children:i.jsx(ne.Item,{label:"Квартира/Офис",style:{marginBottom:8},children:i.jsx(Re,{placeholder:"10",value:s.apartment,onChange:c=>A("apartment",c.target.value),disabled:r})})})]}),i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:12,children:i.jsx(ne.Item,{label:"Почтовый индекс",style:{marginBottom:8},children:i.jsx(Re,{placeholder:"123456",value:s.postalCode,onChange:c=>A("postalCode",c.target.value),disabled:r,maxLength:6})})}),i.jsx(be,{span:12,children:i.jsx(ne.Item,{label:"Кадастровый номер",style:{marginBottom:8},children:i.jsx(Re,{placeholder:"77:01:0001001:1234",value:s.cadastralNumber,onChange:c=>A("cadastralNumber",c.target.value),disabled:r})})})]}),i.jsx(dt,{gutter:16,children:i.jsx(be,{span:24,children:i.jsx(ne.Item,{label:"Полный адрес (автозаполнение)",style:{marginBottom:8},children:i.jsx(Re.TextArea,{value:s.fullAddress,onChange:c=>A("fullAddress",c.target.value),disabled:r,rows:2,placeholder:"Будет сформирован автоматически"})})})})]})},FM=({value:e=[],onChange:t,disabled:r=!1})=>{const[a,n]=K.useState(e),[s,o]=K.useState(!1),[A,l]=K.useState(!1),[c,d]=K.useState(null),[f]=ne.useForm(),[p,u]=K.useState([]),g=["Правоустанавливающие документы","Технические документы","Отчеты об оценке","Фотографии","Договоры","Прочее"],h=()=>{o(!0),f.resetFields(),u([])},y=async()=>{try{const S=await f.validateFields();if(p.length===0){Te.error("Выберите файл для загрузки");return}const O=[];for(const I of p){const D=new FileReader,L=await new Promise((P,Q)=>{D.onload=()=>P(D.result),D.onerror=Q,D.readAsDataURL(I.originFileObj)}),N={id:zs(),name:I.name,type:S.type||"Прочее",size:I.size,mimeType:I.type,uploadDate:new Date,category:S.category,description:S.description,fileData:L};O.push(N)}const M=[...a,...O];n(M),t==null||t(M),o(!1),Te.success(`Загружено документов: ${O.length}`)}catch(S){console.error("Upload failed:",S)}},x=S=>{const O=a.filter(M=>M.id!==S);n(O),t==null||t(O),Te.success("Документ удален")},v=S=>{if(!S.fileData){Te.error("Данные файла недоступны");return}const O=document.createElement("a");O.href=S.fileData,O.download=S.name,document.body.appendChild(O),O.click(),document.body.removeChild(O),Te.success("Файл скачан")},E=S=>{d(S),l(!0)},R=S=>{if(S===0)return"0 Bytes";const O=1024,M=["Bytes","KB","MB","GB"],I=Math.floor(Math.log(S)/Math.log(O));return Math.round(S/Math.pow(O,I)*100)/100+" "+M[I]},b=S=>S.startsWith("image/")?i.jsx(RA,{style:{color:"#52c41a"}}):S.includes("pdf")?i.jsx(RA,{style:{color:"#f5222d"}}):S.includes("word")?i.jsx(RA,{style:{color:"#1890ff"}}):S.includes("excel")||S.includes("spreadsheet")?i.jsx(RA,{style:{color:"#52c41a"}}):i.jsx(RA,{}),T=[{title:"Тип",dataIndex:"mimeType",key:"mimeType",width:60,render:S=>b(S)},{title:"Название",dataIndex:"name",key:"name"},{title:"Категория",dataIndex:"category",key:"category",width:200,render:S=>i.jsx(et,{children:S})},{title:"Размер",dataIndex:"size",key:"size",width:100,render:S=>R(S)},{title:"Дата загрузки",dataIndex:"uploadDate",key:"uploadDate",width:180,render:S=>CM(S)},{title:"Действия",key:"actions",width:200,fixed:"right",render:(S,O)=>i.jsxs(Oe,{size:"small",children:[i.jsx(Ce,{type:"link",icon:i.jsx(Ts,{}),onClick:()=>E(O),size:"small",children:"Просмотр"}),i.jsx(Ce,{type:"link",icon:i.jsx(Fn,{}),onClick:()=>v(O),size:"small",children:"Скачать"}),i.jsx(ho,{title:"Удалить документ?",onConfirm:()=>x(O.id),okText:"Да",cancelText:"Нет",children:i.jsx(Ce,{type:"link",danger:!0,icon:i.jsx(Ss,{}),size:"small",disabled:r,children:"Удалить"})})]})}],_={multiple:!0,fileList:p,onChange:({fileList:S})=>{u(S)},beforeUpload:()=>!1,onRemove:S=>{const O=p.indexOf(S),M=p.slice();M.splice(O,1),u(M)}};return i.jsxs("div",{children:[i.jsxs(Oe,{style:{marginBottom:16},children:[i.jsx(Ce,{type:"primary",icon:i.jsx(Ni,{}),onClick:h,disabled:r,children:"Загрузить документы"}),a.length>0&&i.jsxs("span",{style:{color:"#999"},children:["Всего документов: ",a.length," (",R(a.reduce((S,O)=>S+O.size,0)),")"]})]}),i.jsx(nr,{columns:T,dataSource:a,rowKey:"id",pagination:!1,size:"small"}),i.jsx(lr,{title:"Загрузка документов",open:s,onOk:y,onCancel:()=>{o(!1),f.resetFields(),u([])},width:600,okText:"Загрузить",cancelText:"Отмена",children:i.jsxs(ne,{form:f,layout:"vertical",children:[i.jsx(ne.Item,{label:"Выберите файлы",children:i.jsxs(Xi.Dragger,{..._,children:[i.jsx("p",{className:"ant-upload-drag-icon",children:i.jsx(Ni,{})}),i.jsx("p",{className:"ant-upload-text",children:"Нажмите или перетащите файлы в эту область"}),i.jsx("p",{className:"ant-upload-hint",children:"Поддерживается загрузка одного или нескольких файлов"})]})}),i.jsx(ne.Item,{name:"category",label:"Категория документа",rules:[{required:!0,message:"Выберите категорию"}],children:i.jsx(Ve,{options:g.map(S=>({label:S,value:S})),placeholder:"Выберите категорию"})}),i.jsx(ne.Item,{name:"type",label:"Тип документа",children:i.jsx(Re,{placeholder:"Например: Свидетельство о праве собственности"})}),i.jsx(ne.Item,{name:"description",label:"Описание",children:i.jsx(Re.TextArea,{rows:3,placeholder:"Краткое описание документа"})})]})}),i.jsx(lr,{title:c==null?void 0:c.name,open:A,onCancel:()=>l(!1),footer:[i.jsx(Ce,{icon:i.jsx(Fn,{}),onClick:()=>c&&v(c),children:"Скачать"},"download"),i.jsx(Ce,{onClick:()=>l(!1),children:"Закрыть"},"close")],width:800,children:c&&c.fileData&&i.jsx("div",{style:{textAlign:"center"},children:c.mimeType.startsWith("image/")?i.jsx("img",{src:c.fileData,alt:c.name,style:{maxWidth:"100%",maxHeight:"600px"}}):c.mimeType==="application/pdf"?i.jsx("iframe",{src:c.fileData,style:{width:"100%",height:"600px",border:"none"},title:c.name}):i.jsxs("div",{style:{padding:"40px"},children:[i.jsx(RA,{style:{fontSize:64,color:"#999"}}),i.jsx("p",{style:{marginTop:16,color:"#999"},children:"Предпросмотр недоступен для данного типа файла"})]})})})]})},aw="cms_reference_data";class RM{async syncCollateralAttributesFromUnified(t=!1){var r,a;try{const n="cms_refdata_zalog_synced_at";if(!t&&localStorage.getItem(n))return!1;const s=((a=(r=import.meta)==null?void 0:r.env)==null?void 0:a.BASE_URL)??"/",o=new URL(s,window.location.origin),A=o.pathname.endsWith("/")?o.pathname:`${o.pathname}/`,l=`${o.origin}${A}Spravochniki/str/unified-attributes.json?v=${Date.now()}`,c=await fetch(l,{cache:"no-store"});if(!c.ok)return console.warn("Не удалось загрузить unified-attributes.json:",c.status,c.statusText),!1;const f=((await c.json()).attributes||[]).map((h,y)=>({id:h.id||`attr-${y}`,code:h.code||`code_${y}`,name:h.name||h.code||`Атрибут ${y+1}`,isActive:!0,sortOrder:y+1,metadata:{type:h.type||"string",group:h.code||"",section:h.level?`level_${h.level}`:"",sourceFiles:h.sourceFile||"",dependencyHints:h.dependencyHints||[],valuesCount:h.valuesCount||0}})),p=this.getDictionaries(),u=p.findIndex(h=>h.code==="collateral_attributes_zalog"),g=new Date().toISOString();return u>=0?p[u]={...p[u],name:"Атрибуты залога (обновлено из Spravochniki)",description:"Сформировано из Spravochniki/str/unified-attributes.json",items:f,updatedAt:g}:p.push({id:"dict-collateral-attributes-zalog",name:"Атрибуты залога (обновлено из Spravochniki)",code:"collateral_attributes_zalog",description:"Сформировано из Spravochniki/str/unified-attributes.json",items:f,createdAt:g,updatedAt:g}),this.saveDictionaries(p),localStorage.setItem(n,new Date().toISOString()),console.log(`Справочник collateral_attributes_zalog обновлен из unified-attributes.json. Элементов: ${f.length}`),!0}catch(n){return console.error("Ошибка синхронизации атрибутов залога из unified-attributes.json:",n),!1}}async syncAttributeLevelsFromPublic(t=!1){var r,a;try{const n="cms_refdata_attr_levels_synced_at";if(!t&&localStorage.getItem(n))return!1;const s=((a=(r=import.meta)==null?void 0:r.env)==null?void 0:a.BASE_URL)??"/",o=new URL(s,window.location.origin),A=o.pathname.endsWith("/")?o.pathname:`${o.pathname}/`,l=`${o.origin}${A}attribute-levels.json?v=${Date.now()}`,c=await fetch(l,{cache:"no-store"});if(!c.ok)return console.warn("Не удалось загрузить attribute-levels.json:",c.status,c.statusText),!1;const d=await c.json(),f=Array.isArray(d.items)?d.items:[],p=this.getDictionaries(),u=p.findIndex(h=>h.code==="attribute_levels"),g=new Date().toISOString();return u>=0?p[u]={...p[u],name:"Уровни атрибутов",description:"Иерархия уровней для атрибутов обеспечения",items:f,updatedAt:g}:p.push({id:"dict-attribute-levels",name:"Уровни атрибутов",code:"attribute_levels",description:"Иерархия уровней для атрибутов обеспечения",items:f,createdAt:g,updatedAt:g}),this.saveDictionaries(p),localStorage.setItem(n,new Date().toISOString()),console.log(`Справочник attribute_levels обновлен. Элементов: ${f.length}`),!0}catch(n){return console.error("Ошибка синхронизации уровней атрибутов:",n),!1}}getDictionaries(){try{const t=localStorage.getItem(aw);if(!t)return this.getDefaultDictionaries();const r=JSON.parse(t);if(!r.some(n=>n.code==="collateral_attributes_zalog")){const s=this.getDefaultDictionaries().find(o=>o.code==="collateral_attributes_zalog");s&&(r.push(s),this.saveDictionaries(r),console.log('Добавлен отсутствующий справочник "Атрибуты залога"'))}return r}catch(t){return console.error("Ошибка загрузки справочников:",t),this.getDefaultDictionaries()}}saveDictionaries(t){try{localStorage.setItem(aw,JSON.stringify(t))}catch(r){console.error("Ошибка сохранения справочников:",r)}}getDictionaryById(t){return this.getDictionaries().find(a=>a.id===t)}getDictionaryByCode(t){return this.getDictionaries().find(a=>a.code===t)}updateDictionary(t,r){const a=this.getDictionaries(),n=a.findIndex(s=>s.id===t);return n===-1?null:(a[n]={...a[n],...r,updatedAt:new Date().toISOString()},this.saveDictionaries(a),a[n])}addItemToDictionary(t,r){const a=this.getDictionaries(),n=a.findIndex(o=>o.id===t);if(n===-1)return null;const s={...r,id:`item-${Date.now()}-${Math.random().toString(36).substr(2,9)}`};return a[n].items.push(s),a[n].updatedAt=new Date().toISOString(),this.saveDictionaries(a),s}updateItemInDictionary(t,r,a){const n=this.getDictionaries(),s=n.findIndex(A=>A.id===t);if(s===-1)return null;const o=n[s].items.findIndex(A=>A.id===r);return o===-1?null:(n[s].items[o]={...n[s].items[o],...a},n[s].updatedAt=new Date().toISOString(),this.saveDictionaries(n),n[s].items[o])}deleteItemFromDictionary(t,r){const a=this.getDictionaries(),n=a.findIndex(o=>o.id===t);if(n===-1)return!1;const s=a[n].items.length;return a[n].items=a[n].items.filter(o=>o.id!==r),a[n].items.length===s?!1:(a[n].updatedAt=new Date().toISOString(),this.saveDictionaries(a),!0)}getActiveItemsByCode(t){const r=this.getDictionaryByCode(t);return r?r.items.filter(a=>a.isActive).sort((a,n)=>(a.sortOrder||0)-(n.sortOrder||0)):[]}getDefaultDictionaries(){const t=new Date().toISOString(),r=[{id:"dict-regions",name:"Регионы",code:"regions",description:"Справочник регионов",items:[{id:"reg-1",name:"Москва",isActive:!0,sortOrder:1},{id:"reg-2",name:"Санкт-Петербург",isActive:!0,sortOrder:2},{id:"reg-3",name:"Новосибирск",isActive:!0,sortOrder:3},{id:"reg-4",name:"Екатеринбург",isActive:!0,sortOrder:4},{id:"reg-5",name:"Казань",isActive:!0,sortOrder:5},{id:"reg-6",name:"Нижний Новгород",isActive:!0,sortOrder:6}],createdAt:t,updatedAt:t},{id:"dict-segments",name:"Сегменты бизнеса",code:"segments",description:"Сегменты бизнеса для портфеля",items:[{id:"seg-1",code:"МБ",name:"МБ (Малый бизнес)",isActive:!0,sortOrder:1},{id:"seg-2",code:"СРБ",name:"СРБ (Средний бизнес)",isActive:!0,sortOrder:2},{id:"seg-3",code:"КБ",name:"КБ (Крупный бизнес)",isActive:!0,sortOrder:3},{id:"seg-4",name:"Корпоративный",isActive:!0,sortOrder:4},{id:"seg-5",name:"Розничный",isActive:!0,sortOrder:5}],createdAt:t,updatedAt:t},{id:"dict-groups",name:"Группы",code:"groups",description:"Группы портфеля",items:[{id:"grp-1",name:"Группа 1",isActive:!0,sortOrder:1},{id:"grp-2",name:"Группа 2",isActive:!0,sortOrder:2},{id:"grp-3",name:"Группа 3",isActive:!0,sortOrder:3}],createdAt:t,updatedAt:t},{id:"dict-liquidity",name:"Ликвидность",code:"liquidity",description:"Уровни ликвидности обеспечения",items:[{id:"liq-1",name:"высокая (срок реализации до 90 дней)",isActive:!0,sortOrder:1},{id:"liq-2",name:"удовлетворительная (срок реализации до 365 дней)",isActive:!0,sortOrder:2},{id:"liq-3",name:"низкая (срок реализации свыше 365 дней)",isActive:!0,sortOrder:3},{id:"liq-4",name:"малоудовлетворительная",isActive:!0,sortOrder:4}],createdAt:t,updatedAt:t},{id:"dict-collateral-categories",name:"Категории обеспечения",code:"collateral_categories",description:"Категории обеспечения из карточек сделок",items:[{id:"cat-1",name:"договор залога движимого имущества/оборудования",isActive:!0,sortOrder:1},{id:"cat-2",name:"договор залога недвижимого имущества",isActive:!0,sortOrder:2},{id:"cat-3",name:"договор ипотеки",isActive:!0,sortOrder:3},{id:"cat-4",name:"договор залога транспортных средств",isActive:!0,sortOrder:4},{id:"cat-5",name:"договор залога товаров в обороте",isActive:!0,sortOrder:5}],createdAt:t,updatedAt:t},{id:"dict-monitoring-types",name:"Типы мониторинга",code:"monitoring_types",description:"Типы мониторинга обеспечения",items:[{id:"mon-1",name:"Плановый",isActive:!0,sortOrder:1},{id:"mon-2",name:"Внеплановый",isActive:!0,sortOrder:2},{id:"mon-3",name:"Внеочередной",isActive:!0,sortOrder:3}],createdAt:t,updatedAt:t},{id:"dict-quality-categories",name:"Категории качества обеспечения",code:"quality_categories",description:"Категории качества обеспечения",items:[{id:"qual-1",name:"I категория",isActive:!0,sortOrder:1},{id:"qual-2",name:"II категория",isActive:!0,sortOrder:2},{id:"qual-3",name:"III категория",isActive:!0,sortOrder:3},{id:"qual-4",name:"IV категория",isActive:!0,sortOrder:4},{id:"qual-5",name:"V категория",isActive:!0,sortOrder:5}],createdAt:t,updatedAt:t},{id:"dict-collateral-attributes",name:"Атрибуты залогового имущества",code:"collateral_attributes",description:"Справочник атрибутов для различных типов залогового имущества",items:[{id:"attr-1",code:"GROUP_WHICH_CULTURE_BELONGS",name:"Группа, к которой относится культура",description:"Тип: text, Группа: Будущий урожай, Раздел: 4.10, Естественный ключ",isActive:!0,sortOrder:1,metadata:{type:"text",group:"Будущий урожай",required:!0,section:"4.10"}},{id:"attr-2",code:"OWNER_TIN",name:"Значение идентификационного кода залогодателя",description:"Тип: text, Группа: Будущий урожай, Раздел: 4.10, Естественный ключ",isActive:!0,sortOrder:2,metadata:{type:"text",group:"Будущий урожай",required:!0,section:"4.10"}},{id:"attr-3",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип: text, Группа: Будущий урожай, Раздел: 4.10",isActive:!0,sortOrder:3,metadata:{type:"text",group:"Будущий урожай",required:!1,section:"4.10"}},{id:"attr-4",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип: boolean, Группа: Будущий урожай, Раздел: 4.10",isActive:!0,sortOrder:4,metadata:{type:"boolean",group:"Будущий урожай",required:!1,section:"4.10"}},{id:"attr-5",code:"ADDRESS_BASE",name:"Адрес места базирования",description:"Тип: text, Группа: Будущий урожай, Раздел: 4.10",isActive:!0,sortOrder:5,metadata:{type:"text",group:"Будущий урожай",required:!1,section:"4.10"}},{id:"attr-6",code:"GROUP_WHICH_CULTURE_BELONGS_OTHER",name:"Группа, к которой относится культура, иное",description:"Тип: text, Группа: Будущий урожай, Раздел: 4.10",isActive:!0,sortOrder:6,metadata:{type:"text",group:"Будущий урожай",required:!1,section:"4.10"}},{id:"attr-7",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип: text, Группа: Будущий урожай, Раздел: 4.10",isActive:!0,sortOrder:7,metadata:{type:"text",group:"Будущий урожай",required:!1,section:"4.10"}},{id:"attr-8",code:"CODE_OKATO",name:"Код ОКАТО",description:"Тип: text, Группа: Будущий урожай, Раздел: 4.10",isActive:!0,sortOrder:8,metadata:{type:"text",group:"Будущий урожай",required:!1,section:"4.10"}},{id:"attr-9",code:"OWNER_TIN",name:"Значение идентификационного кода залогодателя",description:"Тип: text, Группа: Аффинированные драгоценные металлы в слитках, Раздел: 4.11, Естественный ключ",isActive:!0,sortOrder:9,metadata:{type:"text",group:"Аффинированные драгоценные металлы в слитках",required:!0,section:"4.11"}},{id:"attr-10",code:"QUANTITY",name:"Количество слитков, шт.",description:"Тип: number, Группа: Аффинированные драгоценные металлы в слитках, Раздел: 4.11, Естественный ключ",isActive:!0,sortOrder:10,metadata:{type:"number",group:"Аффинированные драгоценные металлы в слитках",required:!0,section:"4.11"}},{id:"attr-11",code:"WEIGHT",name:"Масса, г.",description:"Тип: number, Группа: Аффинированные драгоценные металлы в слитках, Раздел: 4.11, Естественный ключ",isActive:!0,sortOrder:11,metadata:{type:"number",group:"Аффинированные драгоценные металлы в слитках",required:!0,section:"4.11"}},{id:"attr-12",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип: text, Группа: Аффинированные драгоценные металлы в слитках, Раздел: 4.11",isActive:!0,sortOrder:12,metadata:{type:"text",group:"Аффинированные драгоценные металлы в слитках",required:!1,section:"4.11"}},{id:"attr-13",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип: text, Группа: Аффинированные драгоценные металлы в слитках, Раздел: 4.11",isActive:!0,sortOrder:13,metadata:{type:"text",group:"Аффинированные драгоценные металлы в слитках",required:!1,section:"4.11"}},{id:"attr-14",code:"ADDRESS_BASE",name:"Адрес места базирования",description:"Тип: text, Группа: Аффинированные драгоценные металлы в слитках, Раздел: 4.11",isActive:!0,sortOrder:14,metadata:{type:"text",group:"Аффинированные драгоценные металлы в слитках",required:!1,section:"4.11"}},{id:"attr-15",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип: boolean, Группа: Аффинированные драгоценные металлы в слитках, Раздел: 4.11",isActive:!0,sortOrder:15,metadata:{type:"boolean",group:"Аффинированные драгоценные металлы в слитках",required:!1,section:"4.11"}},{id:"attr-16",code:"CODE_OKATO",name:"Код ОКАТО",description:"Тип: text, Группа: Аффинированные драгоценные металлы в слитках, Раздел: 4.11",isActive:!0,sortOrder:16,metadata:{type:"text",group:"Аффинированные драгоценные металлы в слитках",required:!1,section:"4.11"}},{id:"attr-17",code:"NUMBER_OF_DOCUMENT_OF_INTEL_ACT",name:"Номер документа, удостоверяющего исключительное право на результат интеллектуальной деятельности",description:"Тип: text, Группа: Исключительные права на интеллектуальную собственность, Раздел: 4.12, Естественный ключ",isActive:!0,sortOrder:17,metadata:{type:"text",group:"Исключительные права на интеллектуальную собственность",required:!0,section:"4.12"}},{id:"attr-18",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип: text, Группа: Исключительные права на интеллектуальную собственность, Раздел: 4.12",isActive:!0,sortOrder:18,metadata:{type:"text",group:"Исключительные права на интеллектуальную собственность",required:!1,section:"4.12"}},{id:"attr-19",code:"REGISTRATION_NUMBER_OF_RIGHTS",name:"Регистрационный номер прав на интеллектуальную собственность",description:"Тип: text, Группа: Исключительные права на интеллектуальную собственность, Раздел: 4.12",isActive:!0,sortOrder:19,metadata:{type:"text",group:"Исключительные права на интеллектуальную собственность",required:!1,section:"4.12"}},{id:"attr-20",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип: text, Группа: Исключительные права на интеллектуальную собственность, Раздел: 4.12",isActive:!0,sortOrder:20,metadata:{type:"text",group:"Исключительные права на интеллектуальную собственность",required:!1,section:"4.12"}},{id:"attr-21",code:"RIGHTS_EXPIRATION_DATE",name:"Дата окончания прав на результат интеллектуальной собственностиа",description:"Тип: date, Группа: Исключительные права на интеллектуальную собственность, Раздел: 4.12",isActive:!0,sortOrder:21,metadata:{type:"date",group:"Исключительные права на интеллектуальную собственность",required:!1,section:"4.12"}},{id:"attr-22",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип: boolean, Группа: Исключительные права на интеллектуальную собственность, Раздел: 4.12",isActive:!0,sortOrder:22,metadata:{type:"boolean",group:"Исключительные права на интеллектуальную собственность",required:!1,section:"4.12"}},{id:"attr-23",code:"NUMBER_OF_PLEDGE_ACCOUNT",name:"Номер залогового счета",description:"Тип: text, Группа: Права по договору банковского счета, Раздел: 4.13, Естественный ключ",isActive:!0,sortOrder:23,metadata:{type:"text",group:"Права по договору банковского счета",required:!0,section:"4.13"}},{id:"attr-24",code:"SUM_OF_DEPOSIT",name:"Сумма депозита/вклада, передаваемая в залог",description:"Тип: number, Группа: Права по договору банковского счета, Раздел: 4.13",isActive:!0,sortOrder:24,metadata:{type:"number",group:"Права по договору банковского счета",required:!1,section:"4.13"}},{id:"attr-25",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип: text, Группа: Права по договору банковского счета, Раздел: 4.13",isActive:!0,sortOrder:25,metadata:{type:"text",group:"Права по договору банковского счета",required:!1,section:"4.13"}},{id:"attr-26",code:"DATEEND_OF_ARRENGEMENT",name:"Дата окончания договора депозита/вклада",description:"Тип: date, Группа: Права по договору банковского счета, Раздел: 4.13",isActive:!0,sortOrder:26,metadata:{type:"date",group:"Права по договору банковского счета",required:!1,section:"4.13"}},{id:"attr-27",code:"NAME_OF_BANK",name:"Наименование банка, в котором открыт депозит/вклад",description:"Тип: text, Группа: Права по договору банковского счета, Раздел: 4.13",isActive:!0,sortOrder:27,metadata:{type:"text",group:"Права по договору банковского счета",required:!1,section:"4.13"}},{id:"attr-28",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип: text, Группа: Права по договору банковского счета, Раздел: 4.13",isActive:!0,sortOrder:28,metadata:{type:"text",group:"Права по договору банковского счета",required:!1,section:"4.13"}},{id:"attr-29",code:"DATE_OF_ARRENGEMENT",name:"Дата заключения договора депозита/вклада",description:"Тип: date, Группа: Права по договору банковского счета, Раздел: 4.13",isActive:!0,sortOrder:29,metadata:{type:"date",group:"Права по договору банковского счета",required:!1,section:"4.13"}},{id:"attr-30",code:"PR_OF_PLEDGE_ACCOUNT",name:"Признак наличия залогового счета",description:"Тип: text, Группа: Права по договору банковского счета, Раздел: 4.13",isActive:!0,sortOrder:30,metadata:{type:"text",group:"Права по договору банковского счета",required:!1,section:"4.13"}},{id:"attr-31",code:"BANK_ACCOUNT_AGREEMENT_DATE",name:"Дата договора банковского счета",description:"Тип: date, Группа: Права по договору банковского счета, Раздел: 4.13",isActive:!0,sortOrder:31,metadata:{type:"date",group:"Права по договору банковского счета",required:!1,section:"4.13"}},{id:"attr-32",code:"BANK_ACCOUNT_AGREEMENT_NUMBER",name:"Номер договора банковского счета",description:"Тип: text, Группа: Права по договору банковского счета, Раздел: 4.13",isActive:!0,sortOrder:32,metadata:{type:"text",group:"Права по договору банковского счета",required:!1,section:"4.13"}},{id:"attr-33",code:"INFORMATION_ABOUT_AMOUNT_MONEY",name:"Сведения о денежной сумме",description:"Тип: text, Группа: Права по договору банковского счета, Раздел: 4.13",isActive:!0,sortOrder:33,metadata:{type:"text",group:"Права по договору банковского счета",required:!1,section:"4.13"}},{id:"attr-34",code:"CURRENCY_OF_SUM",name:"Валюта депозита/вклада",description:"Тип: text, Группа: Права по договору банковского счета, Раздел: 4.13",isActive:!0,sortOrder:34,metadata:{type:"text",group:"Права по договору банковского счета",required:!1,section:"4.13"}},{id:"attr-35",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип: boolean, Группа: Права по договору банковского счета, Раздел: 4.13",isActive:!0,sortOrder:35,metadata:{type:"boolean",group:"Права по договору банковского счета",required:!1,section:"4.13"}},{id:"attr-36",code:"ACC_NUM_FOR_ACC_OF_DEP",name:"Номер счета по учету депозита/вклада",description:"Тип: text, Группа: Права по договору банковского счета, Раздел: 4.13",isActive:!0,sortOrder:36,metadata:{type:"text",group:"Права по договору банковского счета",required:!1,section:"4.13"}},{id:"attr-37",code:"ID_OOO",name:"id клиента",description:"Тип: text, Группа: Доли в уставных капиталах обществ с ограниченной ответственностью, Раздел: 4.14",isActive:!0,sortOrder:37,metadata:{type:"text",group:"Доли в уставных капиталах обществ с ограниченной ответственностью",required:!1,section:"4.14"}},{id:"attr-38",code:"OWNER_TIN",name:"Значение идентификационного кода залогодателя",description:"Тип: text, Группа: Доли в уставных капиталах обществ с ограниченной ответственностью, Раздел: 4.14, Естественный ключ",isActive:!0,sortOrder:38,metadata:{type:"text",group:"Доли в уставных капиталах обществ с ограниченной ответственностью",required:!0,section:"4.14"}},{id:"attr-39",code:"SHARE_INFORMATION",name:"Значение идентификационного кода ООО",description:"Тип: text, Группа: Доли в уставных капиталах обществ с ограниченной ответственностью, Раздел: 4.14, Естественный ключ",isActive:!0,sortOrder:39,metadata:{type:"text",group:"Доли в уставных капиталах обществ с ограниченной ответственностью",required:!0,section:"4.14"}},{id:"attr-40",code:"NAME_OOO",name:"Наименование ООО",description:"Тип: text, Группа: Доли в уставных капиталах обществ с ограниченной ответственностью, Раздел: 4.14",isActive:!0,sortOrder:40,metadata:{type:"text",group:"Доли в уставных капиталах обществ с ограниченной ответственностью",required:!1,section:"4.14"}},{id:"attr-41",code:"NOMINAL_VALUE",name:"Номинальная стоимость",description:"Тип: number, Группа: Доли в уставных капиталах обществ с ограниченной ответственностью, Раздел: 4.14",isActive:!0,sortOrder:41,metadata:{type:"number",group:"Доли в уставных капиталах обществ с ограниченной ответственностью",required:!1,section:"4.14"}},{id:"attr-42",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип: boolean, Группа: Доли в уставных капиталах обществ с ограниченной ответственностью, Раздел: 4.14",isActive:!0,sortOrder:42,metadata:{type:"boolean",group:"Доли в уставных капиталах обществ с ограниченной ответственностью",required:!1,section:"4.14"}},{id:"attr-43",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип: text, Группа: Доли в уставных капиталах обществ с ограниченной ответственностью, Раздел: 4.14",isActive:!0,sortOrder:43,metadata:{type:"text",group:"Доли в уставных капиталах обществ с ограниченной ответственностью",required:!1,section:"4.14"}},{id:"attr-44",code:"TYPE_CODE_OOO",name:"Тип идентификационного кода субъекта (ООО)",description:"Тип: select, Группа: Доли в уставных капиталах обществ с ограниченной ответственностью, Раздел: 4.14",isActive:!0,sortOrder:44,metadata:{type:"select",group:"Доли в уставных капиталах обществ с ограниченной ответственностью",required:!1,section:"4.14"}},{id:"attr-45",code:"PERCENTAGE_AUTHORIZED_CAPITAL",name:"Процент уставного капитала общества с ограниченной ответственностью, который составляет доля (часть доли)",description:"Тип: number, Группа: Доли в уставных капиталах обществ с ограниченной ответственностью, Раздел: 4.14",isActive:!0,sortOrder:45,metadata:{type:"number",group:"Доли в уставных капиталах обществ с ограниченной ответственностью",required:!1,section:"4.14"}},{id:"attr-46",code:"ID_OOO",name:"Идентификационный код субъекта (ООО) или ID субъекта (ООО)",description:"Тип: text, Группа: Доли в уставных капиталах обществ с ограниченной ответственностью, Раздел: 4.14",isActive:!0,sortOrder:46,metadata:{type:"text",group:"Доли в уставных капиталах обществ с ограниченной ответственностью",required:!1,section:"4.14"}},{id:"attr-47",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип: text, Группа: Доли в уставных капиталах обществ с ограниченной ответственностью, Раздел: 4.14",isActive:!0,sortOrder:47,metadata:{type:"text",group:"Доли в уставных капиталах обществ с ограниченной ответственностью",required:!1,section:"4.14"}},{id:"attr-48",code:"NUMBER_OF_VEKSEL",name:"Номер векселя",description:"Тип: text, Группа: Векселя, Раздел: 4.15, Естественный ключ",isActive:!0,sortOrder:48,metadata:{type:"text",group:"Векселя",required:!0,section:"4.15"}},{id:"attr-49",code:"RELEASE_DATE_VEKSEL",name:"Дата выпуска векселя",description:"Тип: date, Группа: Векселя, Раздел: 4.15, Естественный ключ",isActive:!0,sortOrder:49,metadata:{type:"date",group:"Векселя",required:!0,section:"4.15"}},{id:"attr-50",code:"INN_ISSUER",name:"Значение идентификационного  кода субъекта (векселедателя)",description:"Тип: text, Группа: Векселя, Раздел: 4.15, Естественный ключ",isActive:!0,sortOrder:50,metadata:{type:"text",group:"Векселя",required:!0,section:"4.15"}},{id:"attr-51",code:"DENOMINATION_VEKSEL",name:"Номинал векселя",description:"Тип: text, Группа: Векселя, Раздел: 4.15, Естественный ключ",isActive:!0,sortOrder:51,metadata:{type:"text",group:"Векселя",required:!0,section:"4.15"}},{id:"attr-52",code:"NUMBER_BLANK_OF_VEKSEL",name:"Номер бланка векселя",description:"Тип: text, Группа: Векселя, Раздел: 4.15, Естественный ключ",isActive:!0,sortOrder:52,metadata:{type:"text",group:"Векселя",required:!0,section:"4.15"}},{id:"attr-53",code:"SERIA_VEKSEL",name:"Серия векселя",description:"Тип: text, Группа: Векселя, Раздел: 4.15, Естественный ключ",isActive:!0,sortOrder:53,metadata:{type:"text",group:"Векселя",required:!0,section:"4.15"}},{id:"attr-54",code:"CODE_VEKSELEDERZHATEL_NONRESIDENT",name:"Признак кода векселедержателя (собственника) нерезидента",description:"Тип: select, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:54,metadata:{type:"select",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-55",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип: text, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:55,metadata:{type:"text",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-56",code:"VALUE_DEPOSITORY",name:"Значение идентификационного  кода субъекта (депозитария)",description:"Тип: text, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:56,metadata:{type:"text",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-57",code:"CURRENCY_CODE_VEKSEL",name:"Код валюты векселя",description:"Тип: text, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:57,metadata:{type:"text",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-58",code:"SIGN_DEPOSITORY",name:"Признак соответствия депозитария требованиям ЦБ",description:"Тип: boolean, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:58,metadata:{type:"boolean",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-59",code:"NAME_DEPOSITORY",name:"Наименование субъекта (депозитария)",description:"Тип: text, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:59,metadata:{type:"text",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-60",code:"SUBJECT_AVALIZATION",name:"Субъект авалирования/акцептования векселя",description:"Тип: select, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:60,metadata:{type:"select",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-61",code:"REGISTRATION_RECORD",name:"Регистрационная запись",description:"Тип: text, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:61,metadata:{type:"text",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-62",code:"NAME_ISSUER",name:"Наименование субъекта (векселедателя)",description:"Тип: text, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:62,metadata:{type:"text",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-63",code:"VEKSEL_TYPE",name:"Тип векселя",description:"Тип: text, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:63,metadata:{type:"text",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-64",code:"VEKSEL_CURRENCY",name:"Валюта векселя",description:"Тип: text, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:64,metadata:{type:"text",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-65",code:"VEKSELEDATEL",name:"Векселедатель",description:"Тип: text, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:65,metadata:{type:"text",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-66",code:"VEKSELEDERZHATEL",name:"Векселедержатель",description:"Тип: text, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:66,metadata:{type:"text",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-67",code:"TYPE_CODE",name:"Тип идентификационного кода",description:"Тип: text, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:67,metadata:{type:"text",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-68",code:"PERCENT_OF_VEKSEL",name:"Процентная ставка по векселю",description:"Тип: number, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:68,metadata:{type:"number",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-69",code:"VEKSEL_SIGN",name:"Признак векселя",description:"Тип: text, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:69,metadata:{type:"text",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-70",code:"DISCOUNT_OF_VEKSEL",name:"Дисконт по векселю",description:"Тип: number, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:70,metadata:{type:"number",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-71",code:"MATURITY_OF_VEKSEL",name:"Срок погашения векселя",description:"Тип: date, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:71,metadata:{type:"date",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-72",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип: boolean, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:72,metadata:{type:"boolean",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-73",code:"PLACE_OF_COMPILATION",name:"Место составления",description:"Тип: text, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:73,metadata:{type:"text",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-74",code:"PLACE_OF_PAYMENT",name:"Место платежа",description:"Тип: text, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:74,metadata:{type:"text",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-75",code:"SEC_IN_LIST",name:"Признак включения в список ЦБ, допущенных к организованным торгам",description:"Тип: boolean, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:75,metadata:{type:"boolean",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-76",code:"SIGN_LEGAL_VEKSELEDATEL",name:"Признак юр. лица субъекта (векселедателя)",description:"Тип: boolean, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:76,metadata:{type:"boolean",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-77",code:"DATE_END",name:"Дата окончания",description:"Тип: date, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:77,metadata:{type:"date",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-78",code:"VEKSEL_CONDITION",name:"Состояние векселя на отчетную дату",description:"Тип: select, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:78,metadata:{type:"select",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-79",code:"RECEIPT_DATE",name:"Дата поступления",description:"Тип: date, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:79,metadata:{type:"date",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-80",code:"TERM_CONDITIONS_PAYMENT",name:"Срок и условия платежа (Дата 2)",description:"Тип: date, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:80,metadata:{type:"date",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-81",code:"CONDITIONS_PAYMENT",name:"Условия платежа",description:"Тип: select, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:81,metadata:{type:"select",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-82",code:"SECURITY_TYPE",name:"Код типа ценной бумаги",description:"Тип: select, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:82,metadata:{type:"select",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-83",code:"OKSM_COUNTRY_VEKSELEDATEL",name:"Код ОКСМ страны векселедателя",description:"Тип: text, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:83,metadata:{type:"text",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-84",code:"OGRN_VEKSELEDATEL",name:"ОГРН векселедателя",description:"Тип: text, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:84,metadata:{type:"text",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-85",code:"TYPE_CODE_VEKSELEDATEL",name:"Тип идентификационного кода субъекта (векселедателя)",description:"Тип: select, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:85,metadata:{type:"select",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-86",code:"CODE_VEKSELEDATEL_NONRESIDENT",name:"Признак кода векселедателя нерезидента",description:"Тип: select, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:86,metadata:{type:"select",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-87",code:"SIGN_VEKSELEDATEL",name:"Признак векселедателя",description:"Тип: select, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:87,metadata:{type:"select",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-88",code:"ID_VEKSEL",name:"Идентификационный код векселя",description:"Тип: text, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:88,metadata:{type:"text",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-89",code:"ID_VEKSELEDATEL",name:"Идентификационный код субъекта (векселедателя)",description:"Тип: text, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:89,metadata:{type:"text",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-90",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип: text, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:90,metadata:{type:"text",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-91",code:"TYPE_DEPOSITORY",name:"Тип идентификационного кода субъекта (депозитария)",description:"Тип: select, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:91,metadata:{type:"select",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-92",code:"LOCATION_OF_VEKSEL",name:"Местонахождения векселя",description:"Тип: select, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:92,metadata:{type:"select",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-93",code:"ID_DEPOSITORY",name:"Идентификационный код субъекта (депозитария) или ID субъекта (депозитария)",description:"Тип: text, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:93,metadata:{type:"text",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-94",code:"attr_94",name:"Тип векселедателя",description:"Тип: text, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:94,metadata:{type:"text",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-95",code:"attr_95",name:"Код ОКСМ страны векселедателя",description:"Тип: text, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:95,metadata:{type:"text",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-96",code:"attr_96",name:"Тип идентификационного кода векселедателя",description:"Тип: text, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:96,metadata:{type:"text",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-97",code:"RATING_VEKSEL",name:"Номинал векселя",description:"Тип: text, Группа: Векселя, Раздел: 4.15",isActive:!0,sortOrder:97,metadata:{type:"text",group:"Векселя",required:!1,section:"4.15"}},{id:"attr-98",code:"ISIN",name:"Код ISIN",description:"Тип: text, Группа: Эмиссионные ценные бумаги, Раздел: 4.16, Естественный ключ",isActive:!0,sortOrder:98,metadata:{type:"text",group:"Эмиссионные ценные бумаги",required:!0,section:"4.16"}},{id:"attr-99",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип: text, Группа: Эмиссионные ценные бумаги, Раздел: 4.16",isActive:!0,sortOrder:99,metadata:{type:"text",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16"}},{id:"attr-100",code:"GOVERNMENT_NUM_OF_SECURITIES",name:"Государственный регистрационный номер выпуска ценных бумаг",description:"Тип: text, Группа: Эмиссионные ценные бумаги, Раздел: 4.16",isActive:!0,sortOrder:100,metadata:{type:"text",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16"}},{id:"attr-101",code:"TYPE_SECURITY_ISSUER",name:"Тип эмитента ценной бумаги",description:"Тип: text, Группа: Эмиссионные ценные бумаги, Раздел: 4.16",isActive:!0,sortOrder:101,metadata:{type:"text",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16"}},{id:"attr-102",code:"RELEASE_DATE",name:"Дата выпуска",description:"Тип: date, Группа: Эмиссионные ценные бумаги, Раздел: 4.16",isActive:!0,sortOrder:102,metadata:{type:"date",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16"}},{id:"attr-103",code:"SEC_IN_LIST",name:"Признак включения в список ЦБ, допущенных к организованным торгам",description:"Тип: boolean, Группа: Эмиссионные ценные бумаги, Раздел: 4.16",isActive:!0,sortOrder:103,metadata:{type:"boolean",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16"}},{id:"attr-104",code:"SIGN_QUOTA",name:"Признак котируемости",description:"Тип: boolean, Группа: Эмиссионные ценные бумаги, Раздел: 4.16",isActive:!0,sortOrder:104,metadata:{type:"boolean",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16"}},{id:"attr-105",code:"NAME_DEPOSITORY_SEC",name:"Наименование депозитария",description:"Тип: text, Группа: Эмиссионные ценные бумаги, Раздел: 4.16",isActive:!0,sortOrder:105,metadata:{type:"text",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16"}},{id:"attr-106",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип: text, Группа: Эмиссионные ценные бумаги, Раздел: 4.16",isActive:!0,sortOrder:106,metadata:{type:"text",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16"}},{id:"attr-107",code:"ISSUE_SECURITY_TYPE",name:"Код типа эмиссионной ценной бумаги",description:"Тип: select, Группа: Эмиссионные ценные бумаги, Раздел: 4.16",isActive:!0,sortOrder:107,metadata:{type:"select",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16"}},{id:"attr-108",code:"COUNTRY_CODE_ISSUER",name:"Код ОКСМ страны эмитента",description:"Тип: text, Группа: Эмиссионные ценные бумаги, Раздел: 4.16",isActive:!0,sortOrder:108,metadata:{type:"text",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16"}},{id:"attr-109",code:"OGRN_ISSUER",name:"ОГРН эмитента",description:"Тип: text, Группа: Эмиссионные ценные бумаги, Раздел: 4.16",isActive:!0,sortOrder:109,metadata:{type:"text",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16"}},{id:"attr-110",code:"KPP_ISSUER",name:"КПП эмитента",description:"Тип: text, Группа: Эмиссионные ценные бумаги, Раздел: 4.16",isActive:!0,sortOrder:110,metadata:{type:"text",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16"}},{id:"attr-111",code:"CODE_ISSUER_NONRESIDENT",name:"Признак кода эмитента нерезидента",description:"Тип: select, Группа: Эмиссионные ценные бумаги, Раздел: 4.16",isActive:!0,sortOrder:111,metadata:{type:"select",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16"}},{id:"attr-112",code:"SIGN_ISSUER",name:"Признак эмитента",description:"Тип: select, Группа: Эмиссионные ценные бумаги, Раздел: 4.16",isActive:!0,sortOrder:112,metadata:{type:"select",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16"}},{id:"attr-113",code:"ID_ISSUER_SEC",name:"ID эмитента",description:"Тип: text, Группа: Эмиссионные ценные бумаги, Раздел: 4.16",isActive:!0,sortOrder:113,metadata:{type:"text",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16"}},{id:"attr-114",code:"VALUE_TYPE_CODE_ISSUER_SEC",name:"Значение идентификационного  кода эмитента",description:"Тип: text, Группа: Эмиссионные ценные бумаги, Раздел: 4.16",isActive:!0,sortOrder:114,metadata:{type:"text",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16"}},{id:"attr-115",code:"TYPE_CODE_DEPOSITORY_SEC",name:"Тип идентификационного кода депозитария",description:"Тип: select, Группа: Эмиссионные ценные бумаги, Раздел: 4.16",isActive:!0,sortOrder:115,metadata:{type:"select",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16"}},{id:"attr-116",code:"TYPE_CODE_ISSUER_SEC",name:"Тип идентификационного кода эмитента",description:"Тип: select, Группа: Эмиссионные ценные бумаги, Раздел: 4.16",isActive:!0,sortOrder:116,metadata:{type:"select",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16"}},{id:"attr-117",code:"VALUE_TYPE_CODE_DEPOSITORY_SEC",name:"Значение идентификационного  кода депозитария",description:"Тип: text, Группа: Эмиссионные ценные бумаги, Раздел: 4.16",isActive:!0,sortOrder:117,metadata:{type:"text",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16"}},{id:"attr-118",code:"AMOUNT_OF_SECURITIES",name:"Количество эмиссионных ценных бумаг, шт.",description:"Тип: number, Группа: Эмиссионные ценные бумаги, Раздел: 4.16",isActive:!0,sortOrder:118,metadata:{type:"number",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16"}},{id:"attr-119",code:"CURRENCY_NOMINAL_VALUE",name:"Валюта номинальной стоимости",description:"Тип: text, Группа: Эмиссионные ценные бумаги, Раздел: 4.16",isActive:!0,sortOrder:119,metadata:{type:"text",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16"}},{id:"attr-120",code:"ID_DEPOSITORY_SEC",name:"ID депозитария",description:"Тип: text, Группа: Эмиссионные ценные бумаги, Раздел: 4.16",isActive:!0,sortOrder:120,metadata:{type:"text",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16"}},{id:"attr-121",code:"NOMINAL_VALUE",name:"Номинальная стоимость",description:"Тип: number, Группа: Эмиссионные ценные бумаги, Раздел: 4.16",isActive:!0,sortOrder:121,metadata:{type:"number",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16"}},{id:"attr-122",code:"NAME_ISSUER_SEC",name:"Наименование эмитента",description:"Тип: text, Группа: Эмиссионные ценные бумаги, Раздел: 4.16",isActive:!0,sortOrder:122,metadata:{type:"text",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16"}},{id:"attr-123",code:"ID_NUM_SECURITIES",name:"Идентификационный номер выпуска ценных бумаг",description:"Тип: text, Группа: Эмиссионные ценные бумаги, Раздел: 4.16",isActive:!0,sortOrder:123,metadata:{type:"text",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16"}},{id:"attr-124",code:"CLASS_SECURITIES",name:"Класс ценной бумаги",description:"Тип: text, Группа: Эмиссионные ценные бумаги, Раздел: 4.16",isActive:!0,sortOrder:124,metadata:{type:"text",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16"}},{id:"attr-125",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип: boolean, Группа: Эмиссионные ценные бумаги, Раздел: 4.16",isActive:!0,sortOrder:125,metadata:{type:"boolean",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16"}},{id:"attr-126",code:"DATE_END",name:"Дата окончания",description:"Тип: date, Группа: Эмиссионные ценные бумаги, Раздел: 4.16",isActive:!0,sortOrder:126,metadata:{type:"date",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16"}},{id:"attr-127",code:"OTHER_SECURITY_TYPE_CODE",name:"Код типа ценной бумаги(ЭЦБ и прочие)",description:"Тип: select, Группа: Эмиссионные ценные бумаги, Раздел: 4.16",isActive:!0,sortOrder:127,metadata:{type:"select",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16"}},{id:"attr-128",code:"SIGN_DEPOSITORY",name:"Признак соответствия депозитария требованиям ЦБ",description:"Тип: boolean, Группа: Эмиссионные ценные бумаги, Раздел: 4.16",isActive:!0,sortOrder:128,metadata:{type:"boolean",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16"}},{id:"attr-129",code:"REG_NUM_OF_PIE_FUND",name:"Регистрационный номер правил доверительного управления паевым инвестиционным фондом",description:"Тип: text, Группа: Инвестиционные паи (паи инвестиционных фондов), Раздел: 4.17, Естественный ключ",isActive:!0,sortOrder:129,metadata:{type:"text",group:"Инвестиционные паи (паи инвестиционных фондов)",required:!0,section:"4.17"}},{id:"attr-130",code:"AMOUNT_OF_PIES",name:"Количество паев паевого инвестиционного фонда, шт.",description:"Тип: number, Группа: Инвестиционные паи (паи инвестиционных фондов), Раздел: 4.17, Естественный ключ",isActive:!0,sortOrder:130,metadata:{type:"number",group:"Инвестиционные паи (паи инвестиционных фондов)",required:!0,section:"4.17"}},{id:"attr-131",code:"DATE_END_CONTRACT_OF_PIE_FUND",name:"Дата окончания срока действия договора доверительного управления паевым инвестиционным фондом",description:"Тип: date, Группа: Инвестиционные паи (паи инвестиционных фондов), Раздел: 4.17",isActive:!0,sortOrder:131,metadata:{type:"date",group:"Инвестиционные паи (паи инвестиционных фондов)",required:!1,section:"4.17"}},{id:"attr-132",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип: boolean, Группа: Инвестиционные паи (паи инвестиционных фондов), Раздел: 4.17",isActive:!0,sortOrder:132,metadata:{type:"boolean",group:"Инвестиционные паи (паи инвестиционных фондов)",required:!1,section:"4.17"}},{id:"attr-133",code:"SIGN_QUOTA",name:"Признак котируемости",description:"Тип: boolean, Группа: Инвестиционные паи (паи инвестиционных фондов), Раздел: 4.17",isActive:!0,sortOrder:133,metadata:{type:"boolean",group:"Инвестиционные паи (паи инвестиционных фондов)",required:!1,section:"4.17"}},{id:"attr-134",code:"TYPE_SECURITY_ISSUER",name:"Тип эмитента ценной бумаги",description:"Тип: text, Группа: Инвестиционные паи (паи инвестиционных фондов), Раздел: 4.17",isActive:!0,sortOrder:134,metadata:{type:"text",group:"Инвестиционные паи (паи инвестиционных фондов)",required:!1,section:"4.17"}},{id:"attr-135",code:"ISIN",name:"Код ISIN",description:"Тип: text, Группа: Инвестиционные паи (паи инвестиционных фондов), Раздел: 4.17",isActive:!0,sortOrder:135,metadata:{type:"text",group:"Инвестиционные паи (паи инвестиционных фондов)",required:!1,section:"4.17"}},{id:"attr-136",code:"VALUE_TYPE_CODE",name:"Значение идентификационного кода",description:"Тип: text, Группа: Инвестиционные паи (паи инвестиционных фондов), Раздел: 4.17",isActive:!0,sortOrder:136,metadata:{type:"text",group:"Инвестиционные паи (паи инвестиционных фондов)",required:!1,section:"4.17"}},{id:"attr-137",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип: text, Группа: Инвестиционные паи (паи инвестиционных фондов), Раздел: 4.17",isActive:!0,sortOrder:137,metadata:{type:"text",group:"Инвестиционные паи (паи инвестиционных фондов)",required:!1,section:"4.17"}},{id:"attr-138",code:"TYPE_CODE",name:"Тип идентификационного кода",description:"Тип: text, Группа: Инвестиционные паи (паи инвестиционных фондов), Раздел: 4.17",isActive:!0,sortOrder:138,metadata:{type:"text",group:"Инвестиционные паи (паи инвестиционных фондов)",required:!1,section:"4.17"}},{id:"attr-139",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип: text, Группа: Инвестиционные паи (паи инвестиционных фондов), Раздел: 4.17",isActive:!0,sortOrder:139,metadata:{type:"text",group:"Инвестиционные паи (паи инвестиционных фондов)",required:!1,section:"4.17"}},{id:"attr-140",code:"IND_DES_OF_MORTG_PART_CERT",name:"Индивидуальное обозначение ипотечных сертификатов участия",description:"Тип: text, Группа: Ипотечные сертификаты участия, Раздел: 4.18, Естественный ключ",isActive:!0,sortOrder:140,metadata:{type:"text",group:"Ипотечные сертификаты участия",required:!0,section:"4.18"}},{id:"attr-141",code:"ISIN",name:"Код ISIN",description:"Тип: text, Группа: Ипотечные сертификаты участия, Раздел: 4.18",isActive:!0,sortOrder:141,metadata:{type:"text",group:"Ипотечные сертификаты участия",required:!1,section:"4.18"}},{id:"attr-142",code:"DATE_END_TERM_CONTRACT_TRUST_MANAGEMENT_MORTGAGE_COVERAGE",name:"Дата окончания срока действия договора доверительного управления ипотечным покрытием",description:"Тип: date, Группа: Ипотечные сертификаты участия, Раздел: 4.18",isActive:!0,sortOrder:142,metadata:{type:"date",group:"Ипотечные сертификаты участия",required:!1,section:"4.18"}},{id:"attr-143",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип: text, Группа: Ипотечные сертификаты участия, Раздел: 4.18",isActive:!0,sortOrder:143,metadata:{type:"text",group:"Ипотечные сертификаты участия",required:!1,section:"4.18"}},{id:"attr-144",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип: text, Группа: Ипотечные сертификаты участия, Раздел: 4.18",isActive:!0,sortOrder:144,metadata:{type:"text",group:"Ипотечные сертификаты участия",required:!1,section:"4.18"}},{id:"attr-145",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип: boolean, Группа: Ипотечные сертификаты участия, Раздел: 4.18",isActive:!0,sortOrder:145,metadata:{type:"boolean",group:"Ипотечные сертификаты участия",required:!1,section:"4.18"}},{id:"attr-146",code:"NUM_OF_MORTG_PART_CERTIF",name:"Количество ипотечных сертификатов участия, шт.",description:"Тип: number, Группа: Ипотечные сертификаты участия, Раздел: 4.18",isActive:!0,sortOrder:146,metadata:{type:"number",group:"Ипотечные сертификаты участия",required:!1,section:"4.18"}},{id:"attr-147",code:"REGISTR_NUM",name:"Регистрационный номер правил доверительного управления ипотечным покрытием",description:"Тип: text, Группа: Ипотечные сертификаты участия, Раздел: 4.18",isActive:!0,sortOrder:147,metadata:{type:"text",group:"Ипотечные сертификаты участия",required:!1,section:"4.18"}},{id:"attr-148",code:"SERIA_SEC_PAPER",name:"Серия ценной бумаги",description:"Тип: text, Группа: Прочие ценные бумаги, Раздел: 4.19, Естественный ключ",isActive:!0,sortOrder:148,metadata:{type:"text",group:"Прочие ценные бумаги",required:!0,section:"4.19"}},{id:"attr-149",code:"NUM_SECURITIES",name:"Номер ценной бумаги",description:"Тип: text, Группа: Прочие ценные бумаги, Раздел: 4.19, Естественный ключ",isActive:!0,sortOrder:149,metadata:{type:"text",group:"Прочие ценные бумаги",required:!0,section:"4.19"}},{id:"attr-150",code:"ID_ISSUER_SEC",name:"ID эмитента",description:"Тип: text, Группа: Прочие ценные бумаги, Раздел: 4.19",isActive:!0,sortOrder:150,metadata:{type:"text",group:"Прочие ценные бумаги",required:!1,section:"4.19"}},{id:"attr-151",code:"TYPE_CODE_ISSUER_SEC",name:"Тип идентификационного кода эмитента",description:"Тип: select, Группа: Прочие ценные бумаги, Раздел: 4.19",isActive:!0,sortOrder:151,metadata:{type:"select",group:"Прочие ценные бумаги",required:!1,section:"4.19"}},{id:"attr-152",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип: boolean, Группа: Прочие ценные бумаги, Раздел: 4.19",isActive:!0,sortOrder:152,metadata:{type:"boolean",group:"Прочие ценные бумаги",required:!1,section:"4.19"}},{id:"attr-153",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип: text, Группа: Прочие ценные бумаги, Раздел: 4.19",isActive:!0,sortOrder:153,metadata:{type:"text",group:"Прочие ценные бумаги",required:!1,section:"4.19"}},{id:"attr-154",code:"VALUE_TYPE_CODE_ISSUER_SEC",name:"Значение идентификационного  кода эмитента",description:"Тип: text, Группа: Прочие ценные бумаги, Раздел: 4.19",isActive:!0,sortOrder:154,metadata:{type:"text",group:"Прочие ценные бумаги",required:!1,section:"4.19"}},{id:"attr-155",code:"AMOUNT_SHARE",name:"Количество ценных бумаг, шт.",description:"Тип: number, Группа: Прочие ценные бумаги, Раздел: 4.19",isActive:!0,sortOrder:155,metadata:{type:"number",group:"Прочие ценные бумаги",required:!1,section:"4.19"}},{id:"attr-156",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип: text, Группа: Прочие ценные бумаги, Раздел: 4.19",isActive:!0,sortOrder:156,metadata:{type:"text",group:"Прочие ценные бумаги",required:!1,section:"4.19"}},{id:"attr-157",code:"TYPE_SECURITIES",name:"Вид ценной бумаги",description:"Тип: text, Группа: Прочие ценные бумаги, Раздел: 4.19",isActive:!0,sortOrder:157,metadata:{type:"text",group:"Прочие ценные бумаги",required:!1,section:"4.19"}},{id:"attr-158",code:"NOMINAL_VALUE",name:"Номинальная стоимость",description:"Тип: number, Группа: Прочие ценные бумаги, Раздел: 4.19",isActive:!0,sortOrder:158,metadata:{type:"number",group:"Прочие ценные бумаги",required:!1,section:"4.19"}},{id:"attr-159",code:"ID_DEPOSITORY_SEC",name:"ID депозитария",description:"Тип: text, Группа: Прочие ценные бумаги, Раздел: 4.19",isActive:!0,sortOrder:159,metadata:{type:"text",group:"Прочие ценные бумаги",required:!1,section:"4.19"}},{id:"attr-160",code:"ISIN",name:"Код ISIN",description:"Тип: text, Группа: Прочие ценные бумаги, Раздел: 4.19",isActive:!0,sortOrder:160,metadata:{type:"text",group:"Прочие ценные бумаги",required:!1,section:"4.19"}},{id:"attr-161",code:"TYPE_SECURITY_ISSUER",name:"Тип эмитента ценной бумаги",description:"Тип: text, Группа: Прочие ценные бумаги, Раздел: 4.19",isActive:!0,sortOrder:161,metadata:{type:"text",group:"Прочие ценные бумаги",required:!1,section:"4.19"}},{id:"attr-162",code:"CURRENCY_NOMINAL_VALUE",name:"Валюта номинальной стоимости",description:"Тип: text, Группа: Прочие ценные бумаги, Раздел: 4.19",isActive:!0,sortOrder:162,metadata:{type:"text",group:"Прочие ценные бумаги",required:!1,section:"4.19"}},{id:"attr-163",code:"SIGN_QUOTA",name:"Признак котируемости",description:"Тип: boolean, Группа: Прочие ценные бумаги, Раздел: 4.19",isActive:!0,sortOrder:163,metadata:{type:"boolean",group:"Прочие ценные бумаги",required:!1,section:"4.19"}},{id:"attr-164",code:"SIGN_DEPOSITORY",name:"Признак соответствия депозитария требованиям ЦБ",description:"Тип: boolean, Группа: Прочие ценные бумаги, Раздел: 4.19",isActive:!0,sortOrder:164,metadata:{type:"boolean",group:"Прочие ценные бумаги",required:!1,section:"4.19"}},{id:"attr-165",code:"DATE_END",name:"Дата окончания",description:"Тип: date, Группа: Прочие ценные бумаги, Раздел: 4.19",isActive:!0,sortOrder:165,metadata:{type:"date",group:"Прочие ценные бумаги",required:!1,section:"4.19"}},{id:"attr-166",code:"NAME_DEPOSITORY_SEC",name:"Наименование депозитария",description:"Тип: text, Группа: Прочие ценные бумаги, Раздел: 4.19",isActive:!0,sortOrder:166,metadata:{type:"text",group:"Прочие ценные бумаги",required:!1,section:"4.19"}},{id:"attr-167",code:"OTHER_SECURITY_TYPE_CODE",name:"Код типа ценной бумаги(ЭЦБ и прочие)",description:"Тип: select, Группа: Прочие ценные бумаги, Раздел: 4.19",isActive:!0,sortOrder:167,metadata:{type:"select",group:"Прочие ценные бумаги",required:!1,section:"4.19"}},{id:"attr-168",code:"RELEASE_DATE",name:"Дата выпуска",description:"Тип: date, Группа: Прочие ценные бумаги, Раздел: 4.19",isActive:!0,sortOrder:168,metadata:{type:"date",group:"Прочие ценные бумаги",required:!1,section:"4.19"}},{id:"attr-169",code:"SEC_IN_LIST",name:"Признак включения в список ЦБ, допущенных к организованным торгам",description:"Тип: boolean, Группа: Прочие ценные бумаги, Раздел: 4.19",isActive:!0,sortOrder:169,metadata:{type:"boolean",group:"Прочие ценные бумаги",required:!1,section:"4.19"}},{id:"attr-170",code:"VALUE_TYPE_CODE_DEPOSITORY_SEC",name:"Значение идентификационного  кода депозитария",description:"Тип: text, Группа: Прочие ценные бумаги, Раздел: 4.19",isActive:!0,sortOrder:170,metadata:{type:"text",group:"Прочие ценные бумаги",required:!1,section:"4.19"}},{id:"attr-171",code:"TYPE_CODE_DEPOSITORY_SEC",name:"Тип идентификационного кода депозитария",description:"Тип: select, Группа: Прочие ценные бумаги, Раздел: 4.19",isActive:!0,sortOrder:171,metadata:{type:"select",group:"Прочие ценные бумаги",required:!1,section:"4.19"}},{id:"attr-172",code:"NAME_ISSUER_SEC",name:"Наименование эмитента",description:"Тип: text, Группа: Прочие ценные бумаги, Раздел: 4.19",isActive:!0,sortOrder:172,metadata:{type:"text",group:"Прочие ценные бумаги",required:!1,section:"4.19"}},{id:"attr-173",code:"attr_173",name:"Код ОКСМ страны эмитента",description:"Тип: text, Группа: Прочие ценные бумаги, Раздел: 4.19",isActive:!0,sortOrder:173,metadata:{type:"text",group:"Прочие ценные бумаги",required:!1,section:"4.19"}},{id:"attr-174",code:"CADASTRAL_NUMBER",name:"Кадастровый номер",description:"Тип: text, Группа: Недвижимое имущество и права аренды недвижимого имущества, Раздел: 4.2, Естественный ключ",isActive:!0,sortOrder:174,metadata:{type:"text",group:"Недвижимое имущество и права аренды недвижимого имущества",required:!0,section:"4.2"}},{id:"attr-175",code:"IS_NATUR_RISK",name:"Банк отслеживает риск возникновения ответственности за воздействие недвижимого имущества, переданного в залог, на окружающую среду",description:"Тип: boolean, Группа: Недвижимое имущество и права аренды недвижимого имущества, Раздел: 4.2",isActive:!0,sortOrder:175,metadata:{type:"boolean",group:"Недвижимое имущество и права аренды недвижимого имущества",required:!1,section:"4.2"}},{id:"attr-176",code:"DATA_EXTERNAL_SYSTEM",name:"Данные из внешних систем",description:"Тип: boolean, Группа: Недвижимое имущество и права аренды недвижимого имущества, Раздел: 4.2",isActive:!0,sortOrder:176,metadata:{type:"boolean",group:"Недвижимое имущество и права аренды недвижимого имущества",required:!1,section:"4.2"}},{id:"attr-177",code:"ACCEPT_TO_BORROWER_SOLVENCY",name:"Обеспечение приемлемо с т.з. независимости кредитоспособности заемщика от объектов залога",description:"Тип: boolean, Группа: Недвижимое имущество и права аренды недвижимого имущества, Раздел: 4.2",isActive:!0,sortOrder:177,metadata:{type:"boolean",group:"Недвижимое имущество и права аренды недвижимого имущества",required:!1,section:"4.2"}},{id:"attr-178",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип: text, Группа: Прочие имущественные Права требования, Раздел: 4.20, Естественный ключ",isActive:!0,sortOrder:178,metadata:{type:"text",group:"Прочие имущественные Права требования",required:!0,section:"4.20"}},{id:"attr-179",code:"OWNER_TIN",name:"Значение идентификационного кода залогодателя",description:"Тип: text, Группа: Прочие имущественные Права требования, Раздел: 4.20, Естественный ключ",isActive:!0,sortOrder:179,metadata:{type:"text",group:"Прочие имущественные Права требования",required:!0,section:"4.20"}},{id:"attr-180",code:"TYPE_CODE",name:"Тип идентификационного кода",description:"Тип: text, Группа: Прочие имущественные Права требования, Раздел: 4.20",isActive:!0,sortOrder:180,metadata:{type:"text",group:"Прочие имущественные Права требования",required:!1,section:"4.20"}},{id:"attr-181",code:"VALUE_TYPE_CODE",name:"Значение идентификационного кода",description:"Тип: text, Группа: Прочие имущественные Права требования, Раздел: 4.20",isActive:!0,sortOrder:181,metadata:{type:"text",group:"Прочие имущественные Права требования",required:!1,section:"4.20"}},{id:"attr-182",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип: boolean, Группа: Прочие имущественные Права требования, Раздел: 4.20",isActive:!0,sortOrder:182,metadata:{type:"boolean",group:"Прочие имущественные Права требования",required:!1,section:"4.20"}},{id:"attr-183",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип: text, Группа: Прочие имущественные Права требования, Раздел: 4.20",isActive:!0,sortOrder:183,metadata:{type:"text",group:"Прочие имущественные Права требования",required:!1,section:"4.20"}},{id:"attr-184",code:"DATE_CONTRACT",name:"Дата договора/ контакта/ доп соглашения",description:"Тип: date, Группа: Прочие имущественные Права требования, Раздел: 4.20",isActive:!0,sortOrder:184,metadata:{type:"date",group:"Прочие имущественные Права требования",required:!1,section:"4.20"}},{id:"attr-185",code:"SUBJECT_OF_CONTRACT",name:"Предмет контракта/договора",description:"Тип: text, Группа: Прочие имущественные Права требования, Раздел: 4.20",isActive:!0,sortOrder:185,metadata:{type:"text",group:"Прочие имущественные Права требования",required:!1,section:"4.20"}},{id:"attr-186",code:"COUNTERPARTY_UNDER_CONTRACT",name:"Контрагент по договору/контракту",description:"Тип: text, Группа: Прочие имущественные Права требования, Раздел: 4.20",isActive:!0,sortOrder:186,metadata:{type:"text",group:"Прочие имущественные Права требования",required:!1,section:"4.20"}},{id:"attr-187",code:"NUMBER_CONTRACT",name:"Номер договора/контракта/доп. соглашения",description:"Тип: text, Группа: Прочие имущественные Права требования, Раздел: 4.20",isActive:!0,sortOrder:187,metadata:{type:"text",group:"Прочие имущественные Права требования",required:!1,section:"4.20"}},{id:"attr-188",code:"DATE_END_CONTRACT",name:"Дата окончания срока действия договора/ контракта/ доп соглашения",description:"Тип: date, Группа: Прочие имущественные Права требования, Раздел: 4.20",isActive:!0,sortOrder:188,metadata:{type:"date",group:"Прочие имущественные Права требования",required:!1,section:"4.20"}},{id:"attr-189",code:"CADASTRAL_NUMBER",name:"Кадастровый номер",description:"Тип: text, Группа: Здание, Раздел: 4.2.1, Естественный ключ",isActive:!0,sortOrder:189,metadata:{type:"text",group:"Здание",required:!0,section:"4.2.1"}},{id:"attr-190",code:"DATE_PRAVO_DOCUMENT",name:"Дата правоподтверждающего документа",description:"Тип: date, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:190,metadata:{type:"date",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-191",code:"APARTMENT_CONDITION",name:"Состояние квартиры",description:"Тип: select, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:191,metadata:{type:"select",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-192",code:"FLOOR",name:"Этаж расположения",description:"Тип: number, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:192,metadata:{type:"number",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-193",code:"READINESS_DEGREE",name:"Степень готовности",description:"Тип: text, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:193,metadata:{type:"text",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-194",code:"HOUSE_TYPE",name:"Тип дома",description:"Тип: select, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:194,metadata:{type:"select",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-195",code:"STRUCTURE",name:"Строение",description:"Тип: text, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:195,metadata:{type:"text",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-196",code:"STREET",name:"Улица",description:"Тип: text, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:196,metadata:{type:"text",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-197",code:"APPOINTMENT_EGRN",name:"Назначение в ЕГРН",description:"Тип: text, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:197,metadata:{type:"text",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-198",code:"VOLUME",name:"Объём (м3)",description:"Тип: number, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:198,metadata:{type:"number",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-199",code:"ADDR_STR",name:"Адрес строкой",description:"Тип: text, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:199,metadata:{type:"text",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-200",code:"SPREAD",name:"Протяженность (м)",description:"Тип: number, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:200,metadata:{type:"number",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-201",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип: boolean, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:201,metadata:{type:"boolean",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-202",code:"YEAR_OF_CONSTRUCTION",name:"Год постройки",description:"Тип: number, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:202,metadata:{type:"number",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-203",code:"DATA_EXTERNAL_SYSTEM",name:"Данные из внешних систем",description:"Тип: boolean, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:203,metadata:{type:"boolean",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-204",code:"CITY",name:"Город/населенный пункт",description:"Тип: text, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:204,metadata:{type:"text",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-205",code:"ACCEPT_TO_BORROWER_SOLVENCY",name:"Обеспечение приемлемо с т.з. независимости кредитоспособности заемщика от объектов залога",description:"Тип: boolean, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:205,metadata:{type:"boolean",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-206",code:"DATE_OF_DOCUMENT_WITH_DESCR",name:"Дата выдачи документа, содержащего описание и характеристики объекта недвижимости",description:"Тип: date, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:206,metadata:{type:"date",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-207",code:"IS_NATUR_RISK",name:"Банк отслеживает риск возникновения ответственности за воздействие недвижимого имущества, переданного в залог, на окружающую среду",description:"Тип: boolean, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:207,metadata:{type:"boolean",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-208",code:"DATE_RECORD_EGRN",name:"Дата записи регистрации в ЕГРН",description:"Тип: date, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:208,metadata:{type:"date",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-209",code:"BUILDING",name:"дом",description:"Тип: text, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:209,metadata:{type:"text",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-210",code:"INDEX",name:"Индекс",description:"Тип: text, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:210,metadata:{type:"text",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-211",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип: text, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:211,metadata:{type:"text",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-212",code:"CADASTRAL_COST",name:"Кадастровая стоимость, в руб.",description:"Тип: number, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:212,metadata:{type:"number",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-213",code:"ROOM",name:"Квартира",description:"Тип: text, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:213,metadata:{type:"text",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-214",code:"CODE_KLADR",name:"Код КЛАДР",description:"Тип: text, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:214,metadata:{type:"text",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-215",code:"BELONGING_SECURITY_ZONES_MOSCOW",name:"Принадлежность к охранным зонам г. Москвы",description:"Тип: boolean, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:215,metadata:{type:"boolean",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-216",code:"CODE_OKATO",name:"Код ОКАТО",description:"Тип: text, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:216,metadata:{type:"text",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-217",code:"CODE_OKSM",name:"Код ОКСМ",description:"Тип: text, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:217,metadata:{type:"text",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-218",code:"CODE_OKTMO",name:"Код ОКТМО",description:"Тип: text, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:218,metadata:{type:"text",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-219",code:"AGENCY_OF_DOCUMENT_WITH_DESCR",name:"Орган выдачи документа, содержащего описание и характеристики объекта недвижимости",description:"Тип: text, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:219,metadata:{type:"text",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-220",code:"CODE_FIAS",name:"Код фиас",description:"Тип: text, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:220,metadata:{type:"text",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-221",code:"NAME_PRAVO_DOCUMENT_WITH_DESCR",name:"Наименование документа, содержащего описание и характеристики объекта недвижимости",description:"Тип: select, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:221,metadata:{type:"select",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-222",code:"NUMBER_OF_ROOMS",name:"Количество комнат",description:"Тип: number, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:222,metadata:{type:"number",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-223",code:"AMOUNT_OF_PEOPLE",name:"Количество лиц, место жительства которых зарегистрировано в предмете ипотеки",description:"Тип: number, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:223,metadata:{type:"number",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-224",code:"LETTER",name:"Литера",description:"Тип: text, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:224,metadata:{type:"text",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-225",code:"SERIES_NUMBER_OF_DOCUMENT",name:"Серия и номер правоподтверждающего документа",description:"Тип: text, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:225,metadata:{type:"text",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-226",code:"NAME_OF_PRAVO_DOCUMENT",name:"Наименование правоподтверждающего документа",description:"Тип: select, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:226,metadata:{type:"select",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-227",code:"LIVING_SPACE",name:"Жилая площадь м2",description:"Тип: number, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:227,metadata:{type:"number",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-228",code:"LENGTH_VOLUME",name:"Длина/объем",description:"Тип: number, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:228,metadata:{type:"number",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-229",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип: text, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:229,metadata:{type:"text",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-230",code:"TOTAL_AREA",name:"Общая площадь м2",description:"Тип: number, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:230,metadata:{type:"number",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-231",code:"CONDITIONAL_NUMBER",name:"Условный номер",description:"Тип: text, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:231,metadata:{type:"text",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-232",code:"PR_EXIST_PEOPLE_MORTGAGE",name:"Наличие лиц, место жительства которых зарегистрировано в предмете ипотеки",description:"Тип: boolean, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:232,metadata:{type:"boolean",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-233",code:"NUMBER_REGISTER_AGENCY",name:"Номер регистрирующего органа",description:"Тип: text, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:233,metadata:{type:"text",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-234",code:"PR_BUY_IN_FUTURE",name:"Признак приобретаемого в будущем за счет кредитных средств имущества",description:"Тип: boolean, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:234,metadata:{type:"boolean",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-235",code:"REGISTRATION_RECORD_NUMBER_USRN",name:"Номер записи регистрации в ЕГРН",description:"Тип: text, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:235,metadata:{type:"text",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-236",code:"PR_NECES_NOTARY_CERTIF_CONTRACT",name:"Признак необходимости нотариального удостоверения договора ипотеки",description:"Тип: boolean, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:236,metadata:{type:"boolean",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-237",code:"IS_CULTURE_OBJECT",name:"Признак отнесения к объектам культурного наследия",description:"Тип: boolean, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:237,metadata:{type:"boolean",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-238",code:"REGISTRATION_AUTHORITY_NAME",name:"Наименование регистрирующего органа",description:"Тип: text, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:238,metadata:{type:"text",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-239",code:"DATE_OF_CADASTRAL_COST",name:"Дата определения кадастровой стоимости",description:"Тип: date, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:239,metadata:{type:"date",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-240",code:"PR_REGISTR_BOND",name:"Признак оформления закладной",description:"Тип: boolean, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:240,metadata:{type:"boolean",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-241",code:"SHARE_SIZE_PERCENTAGE",name:"Размер доли в праве общей долевой собственности, процент",description:"Тип: number, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:241,metadata:{type:"number",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-242",code:"ADMINISTRATIVE_AREA",name:"Район",description:"Тип: text, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:242,metadata:{type:"text",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-243",code:"DISTANCE_FROM_BANK",name:"Удаление от ближайшей ТП Банка в км.",description:"Тип: number, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:243,metadata:{type:"number",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-244",code:"REGION",name:"Регион",description:"Тип: text, Группа: Здание, Раздел: 4.2.1",isActive:!0,sortOrder:244,metadata:{type:"text",group:"Здание",required:!1,section:"4.2.1"}},{id:"attr-245",code:"OWNER_TIN",name:"Значение идентификационного кода залогодателя",description:"Тип: text, Группа: Прочие движимые вещи, Раздел: 4.21, Естественный ключ",isActive:!0,sortOrder:245,metadata:{type:"text",group:"Прочие движимые вещи",required:!0,section:"4.21"}},{id:"attr-246",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип: text, Группа: Прочие движимые вещи, Раздел: 4.21, Естественный ключ",isActive:!0,sortOrder:246,metadata:{type:"text",group:"Прочие движимые вещи",required:!0,section:"4.21"}},{id:"attr-247",code:"LOCATION_OTHER_MOVABLE_PROPERTY",name:"Местонахождение прочего движимого имущества",description:"Тип: text, Группа: Прочие движимые вещи, Раздел: 4.21",isActive:!0,sortOrder:247,metadata:{type:"text",group:"Прочие движимые вещи",required:!1,section:"4.21"}},{id:"attr-248",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип: boolean, Группа: Прочие движимые вещи, Раздел: 4.21",isActive:!0,sortOrder:248,metadata:{type:"boolean",group:"Прочие движимые вещи",required:!1,section:"4.21"}},{id:"attr-249",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип: text, Группа: Прочие движимые вещи, Раздел: 4.21",isActive:!0,sortOrder:249,metadata:{type:"text",group:"Прочие движимые вещи",required:!1,section:"4.21"}},{id:"attr-250",code:"CODE_OKATO",name:"Код ОКАТО",description:"Тип: text, Группа: Прочие движимые вещи, Раздел: 4.21",isActive:!0,sortOrder:250,metadata:{type:"text",group:"Прочие движимые вещи",required:!1,section:"4.21"}},{id:"attr-251",code:"CADASTRAL_NUMBER",name:"Кадастровый номер",description:"Тип: text, Группа: Сооружение, Раздел: 4.2.2, Естественный ключ",isActive:!0,sortOrder:251,metadata:{type:"text",group:"Сооружение",required:!0,section:"4.2.2"}},{id:"attr-252",code:"STRUCTURE",name:"Строение",description:"Тип: text, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:252,metadata:{type:"text",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-253",code:"ADMINISTRATIVE_AREA",name:"Район",description:"Тип: text, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:253,metadata:{type:"text",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-254",code:"STREET",name:"Улица",description:"Тип: text, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:254,metadata:{type:"text",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-255",code:"LIVING_SPACE",name:"Жилая площадь м2",description:"Тип: number, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:255,metadata:{type:"number",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-256",code:"APARTMENT_CONDITION",name:"Состояние квартиры",description:"Тип: select, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:256,metadata:{type:"select",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-257",code:"PR_NECES_NOTARY_CERTIF_CONTRACT",name:"Признак необходимости нотариального удостоверения договора ипотеки",description:"Тип: boolean, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:257,metadata:{type:"boolean",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-258",code:"READINESS_DEGREE",name:"Степень готовности",description:"Тип: text, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:258,metadata:{type:"text",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-259",code:"IS_CULTURE_OBJECT",name:"Признак отнесения к объектам культурного наследия",description:"Тип: boolean, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:259,metadata:{type:"boolean",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-260",code:"SHARE_SIZE_PERCENTAGE",name:"Размер доли в праве общей долевой собственности, процент",description:"Тип: number, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:260,metadata:{type:"number",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-261",code:"REGISTRATION_AUTHORITY_NAME",name:"Наименование регистрирующего органа",description:"Тип: text, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:261,metadata:{type:"text",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-262",code:"DISTANCE_FROM_BANK",name:"Удаление от ближайшей ТП Банка в км.",description:"Тип: number, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:262,metadata:{type:"number",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-263",code:"AMOUNT_OF_PEOPLE",name:"Количество лиц, место жительства которых зарегистрировано в предмете ипотеки",description:"Тип: number, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:263,metadata:{type:"number",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-264",code:"DATE_OF_CADASTRAL_COST",name:"Дата определения кадастровой стоимости",description:"Тип: date, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:264,metadata:{type:"date",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-265",code:"PR_REGISTR_BOND",name:"Признак оформления закладной",description:"Тип: boolean, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:265,metadata:{type:"boolean",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-266",code:"INDEX",name:"Индекс",description:"Тип: text, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:266,metadata:{type:"text",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-267",code:"CODE_OKATO",name:"Код ОКАТО",description:"Тип: text, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:267,metadata:{type:"text",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-268",code:"BELONGING_SECURITY_ZONES_MOSCOW",name:"Принадлежность к охранным зонам г. Москвы",description:"Тип: boolean, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:268,metadata:{type:"boolean",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-269",code:"CODE_OKSM",name:"Код ОКСМ",description:"Тип: text, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:269,metadata:{type:"text",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-270",code:"CODE_KLADR",name:"Код КЛАДР",description:"Тип: text, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:270,metadata:{type:"text",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-271",code:"LENGTH_VOLUME",name:"Длина/объем",description:"Тип: number, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:271,metadata:{type:"number",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-272",code:"HOUSE_TYPE",name:"Тип дома",description:"Тип: select, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:272,metadata:{type:"select",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-273",code:"CODE_OKTMO",name:"Код ОКТМО",description:"Тип: text, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:273,metadata:{type:"text",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-274",code:"FLOOR",name:"Этаж расположения",description:"Тип: number, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:274,metadata:{type:"number",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-275",code:"AGENCY_OF_DOCUMENT_WITH_DESCR",name:"Орган выдачи документа, содержащего описание и характеристики объекта недвижимости",description:"Тип: text, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:275,metadata:{type:"text",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-276",code:"ROOM",name:"Квартира",description:"Тип: text, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:276,metadata:{type:"text",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-277",code:"CODE_FIAS",name:"Код фиас",description:"Тип: text, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:277,metadata:{type:"text",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-278",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип: text, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:278,metadata:{type:"text",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-279",code:"BUILDING",name:"дом",description:"Тип: text, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:279,metadata:{type:"text",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-280",code:"DATE_PRAVO_DOCUMENT",name:"Дата правоподтверждающего документа",description:"Тип: date, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:280,metadata:{type:"date",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-281",code:"TOTAL_AREA",name:"Общая площадь м2",description:"Тип: number, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:281,metadata:{type:"number",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-282",code:"REGION",name:"Регион",description:"Тип: text, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:282,metadata:{type:"text",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-283",code:"NUMBER_OF_ROOMS",name:"Количество комнат",description:"Тип: number, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:283,metadata:{type:"number",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-284",code:"CONDITIONAL_NUMBER",name:"Условный номер",description:"Тип: text, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:284,metadata:{type:"text",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-285",code:"CADASTRAL_COST",name:"Кадастровая стоимость, в руб.",description:"Тип: number, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:285,metadata:{type:"number",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-286",code:"PR_EXIST_PEOPLE_MORTGAGE",name:"Наличие лиц, место жительства которых зарегистрировано в предмете ипотеки",description:"Тип: boolean, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:286,metadata:{type:"boolean",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-287",code:"DATE_RECORD_EGRN",name:"Дата записи регистрации в ЕГРН",description:"Тип: date, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:287,metadata:{type:"date",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-288",code:"IS_NATUR_RISK",name:"Банк отслеживает риск возникновения ответственности за воздействие недвижимого имущества, переданного в залог, на окружающую среду",description:"Тип: boolean, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:288,metadata:{type:"boolean",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-289",code:"SERIES_NUMBER_OF_DOCUMENT",name:"Серия и номер правоподтверждающего документа",description:"Тип: text, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:289,metadata:{type:"text",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-290",code:"DATE_OF_DOCUMENT_WITH_DESCR",name:"Дата выдачи документа, содержащего описание и характеристики объекта недвижимости",description:"Тип: date, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:290,metadata:{type:"date",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-291",code:"LETTER",name:"Литера",description:"Тип: text, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:291,metadata:{type:"text",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-292",code:"ACCEPT_TO_BORROWER_SOLVENCY",name:"Обеспечение приемлемо с т.з. независимости кредитоспособности заемщика от объектов залога",description:"Тип: boolean, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:292,metadata:{type:"boolean",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-293",code:"CITY",name:"Город/населенный пункт",description:"Тип: text, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:293,metadata:{type:"text",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-294",code:"DATA_EXTERNAL_SYSTEM",name:"Данные из внешних систем",description:"Тип: boolean, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:294,metadata:{type:"boolean",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-295",code:"APPOINTMENT_EGRN",name:"Назначение в ЕГРН",description:"Тип: text, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:295,metadata:{type:"text",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-296",code:"NUMBER_REGISTER_AGENCY",name:"Номер регистрирующего органа",description:"Тип: text, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:296,metadata:{type:"text",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-297",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип: text, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:297,metadata:{type:"text",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-298",code:"YEAR_OF_CONSTRUCTION",name:"Год постройки",description:"Тип: number, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:298,metadata:{type:"number",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-299",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип: boolean, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:299,metadata:{type:"boolean",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-300",code:"SPREAD",name:"Протяженность (м)",description:"Тип: number, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:300,metadata:{type:"number",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-301",code:"NAME_PRAVO_DOCUMENT_WITH_DESCR",name:"Наименование документа, содержащего описание и характеристики объекта недвижимости",description:"Тип: select, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:301,metadata:{type:"select",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-302",code:"ADDR_STR",name:"Адрес строкой",description:"Тип: text, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:302,metadata:{type:"text",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-303",code:"NAME_OF_PRAVO_DOCUMENT",name:"Наименование правоподтверждающего документа",description:"Тип: select, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:303,metadata:{type:"select",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-304",code:"VOLUME",name:"Объём (м3)",description:"Тип: number, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:304,metadata:{type:"number",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-305",code:"PR_BUY_IN_FUTURE",name:"Признак приобретаемого в будущем за счет кредитных средств имущества",description:"Тип: boolean, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:305,metadata:{type:"boolean",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-306",code:"REGISTRATION_RECORD_NUMBER_USRN",name:"Номер записи регистрации в ЕГРН",description:"Тип: text, Группа: Сооружение, Раздел: 4.2.2",isActive:!0,sortOrder:306,metadata:{type:"text",group:"Сооружение",required:!1,section:"4.2.2"}},{id:"attr-307",code:"CADASTRAL_NUMBER",name:"Кадастровый номер",description:"Тип: text, Группа: Помещение, Раздел: 4.2.3, Естественный ключ",isActive:!0,sortOrder:307,metadata:{type:"text",group:"Помещение",required:!0,section:"4.2.3"}},{id:"attr-308",code:"LIVING_SPACE",name:"Жилая площадь м2",description:"Тип: number, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:308,metadata:{type:"number",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-309",code:"ADMINISTRATIVE_AREA",name:"Район",description:"Тип: text, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:309,metadata:{type:"text",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-310",code:"CONDITIONAL_NUMBER",name:"Условный номер",description:"Тип: text, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:310,metadata:{type:"text",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-311",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип: boolean, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:311,metadata:{type:"boolean",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-312",code:"NAME_PRAVO_DOCUMENT_WITH_DESCR",name:"Наименование документа, содержащего описание и характеристики объекта недвижимости",description:"Тип: select, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:312,metadata:{type:"select",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-313",code:"DATE_RECORD_EGRN",name:"Дата записи регистрации в ЕГРН",description:"Тип: date, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:313,metadata:{type:"date",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-314",code:"REGION",name:"Регион",description:"Тип: text, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:314,metadata:{type:"text",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-315",code:"PR_NECES_NOTARY_CERTIF_CONTRACT",name:"Признак необходимости нотариального удостоверения договора ипотеки",description:"Тип: boolean, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:315,metadata:{type:"boolean",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-316",code:"STRUCTURE",name:"Строение",description:"Тип: text, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:316,metadata:{type:"text",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-317",code:"DISTANCE_FROM_BANK",name:"Удаление от ближайшей ТП Банка в км.",description:"Тип: number, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:317,metadata:{type:"number",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-318",code:"PR_EXIST_PEOPLE_MORTGAGE",name:"Наличие лиц, место жительства которых зарегистрировано в предмете ипотеки",description:"Тип: boolean, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:318,metadata:{type:"boolean",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-319",code:"IS_CULTURE_OBJECT",name:"Признак отнесения к объектам культурного наследия",description:"Тип: boolean, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:319,metadata:{type:"boolean",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-320",code:"LENGTH_VOLUME",name:"Длина/объем",description:"Тип: number, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:320,metadata:{type:"number",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-321",code:"SERIES_NUMBER_OF_DOCUMENT",name:"Серия и номер правоподтверждающего документа",description:"Тип: text, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:321,metadata:{type:"text",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-322",code:"STREET",name:"Улица",description:"Тип: text, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:322,metadata:{type:"text",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-323",code:"VOLUME",name:"Объём (м3)",description:"Тип: number, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:323,metadata:{type:"number",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-324",code:"APPOINTMENT_EGRN",name:"Назначение в ЕГРН",description:"Тип: text, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:324,metadata:{type:"text",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-325",code:"DATE_OF_CADASTRAL_COST",name:"Дата определения кадастровой стоимости",description:"Тип: date, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:325,metadata:{type:"date",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-326",code:"SHARE_SIZE_PERCENTAGE",name:"Размер доли в праве общей долевой собственности, процент",description:"Тип: number, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:326,metadata:{type:"number",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-327",code:"INDEX",name:"Индекс",description:"Тип: text, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:327,metadata:{type:"text",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-328",code:"FLOOR",name:"Этаж расположения",description:"Тип: number, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:328,metadata:{type:"number",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-329",code:"DATE_OF_DOCUMENT_WITH_DESCR",name:"Дата выдачи документа, содержащего описание и характеристики объекта недвижимости",description:"Тип: date, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:329,metadata:{type:"date",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-330",code:"PR_REGISTR_BOND",name:"Признак оформления закладной",description:"Тип: boolean, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:330,metadata:{type:"boolean",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-331",code:"NAME_OF_PRAVO_DOCUMENT",name:"Наименование правоподтверждающего документа",description:"Тип: select, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:331,metadata:{type:"select",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-332",code:"CODE_OKATO",name:"Код ОКАТО",description:"Тип: text, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:332,metadata:{type:"text",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-333",code:"ACCEPT_TO_BORROWER_SOLVENCY",name:"Обеспечение приемлемо с т.з. независимости кредитоспособности заемщика от объектов залога",description:"Тип: boolean, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:333,metadata:{type:"boolean",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-334",code:"ADDR_STR",name:"Адрес строкой",description:"Тип: text, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:334,metadata:{type:"text",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-335",code:"REGISTRATION_AUTHORITY_NAME",name:"Наименование регистрирующего органа",description:"Тип: text, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:335,metadata:{type:"text",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-336",code:"READINESS_DEGREE",name:"Степень готовности",description:"Тип: text, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:336,metadata:{type:"text",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-337",code:"CODE_OKSM",name:"Код ОКСМ",description:"Тип: text, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:337,metadata:{type:"text",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-338",code:"DATE_PRAVO_DOCUMENT",name:"Дата правоподтверждающего документа",description:"Тип: date, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:338,metadata:{type:"date",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-339",code:"BELONGING_SECURITY_ZONES_MOSCOW",name:"Принадлежность к охранным зонам г. Москвы",description:"Тип: boolean, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:339,metadata:{type:"boolean",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-340",code:"AMOUNT_OF_PEOPLE",name:"Количество лиц, место жительства которых зарегистрировано в предмете ипотеки",description:"Тип: number, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:340,metadata:{type:"number",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-341",code:"CODE_KLADR",name:"Код КЛАДР",description:"Тип: text, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:341,metadata:{type:"text",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-342",code:"LETTER",name:"Литера",description:"Тип: text, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:342,metadata:{type:"text",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-343",code:"BUILDING",name:"дом",description:"Тип: text, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:343,metadata:{type:"text",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-344",code:"CITY",name:"Город/населенный пункт",description:"Тип: text, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:344,metadata:{type:"text",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-345",code:"SPREAD",name:"Протяженность (м)",description:"Тип: number, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:345,metadata:{type:"number",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-346",code:"CODE_OKTMO",name:"Код ОКТМО",description:"Тип: text, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:346,metadata:{type:"text",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-347",code:"DATA_EXTERNAL_SYSTEM",name:"Данные из внешних систем",description:"Тип: boolean, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:347,metadata:{type:"boolean",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-348",code:"IS_NATUR_RISK",name:"Банк отслеживает риск возникновения ответственности за воздействие недвижимого имущества, переданного в залог, на окружающую среду",description:"Тип: boolean, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:348,metadata:{type:"boolean",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-349",code:"APARTMENT_CONDITION",name:"Состояние квартиры",description:"Тип: select, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:349,metadata:{type:"select",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-350",code:"AGENCY_OF_DOCUMENT_WITH_DESCR",name:"Орган выдачи документа, содержащего описание и характеристики объекта недвижимости",description:"Тип: text, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:350,metadata:{type:"text",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-351",code:"NUMBER_OF_ROOMS",name:"Количество комнат",description:"Тип: number, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:351,metadata:{type:"number",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-352",code:"HOUSE_TYPE",name:"Тип дома",description:"Тип: select, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:352,metadata:{type:"select",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-353",code:"ROOM",name:"Квартира",description:"Тип: text, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:353,metadata:{type:"text",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-354",code:"CODE_FIAS",name:"Код фиас",description:"Тип: text, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:354,metadata:{type:"text",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-355",code:"YEAR_OF_CONSTRUCTION",name:"Год постройки",description:"Тип: number, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:355,metadata:{type:"number",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-356",code:"REGISTRATION_RECORD_NUMBER_USRN",name:"Номер записи регистрации в ЕГРН",description:"Тип: text, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:356,metadata:{type:"text",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-357",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип: text, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:357,metadata:{type:"text",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-358",code:"CADASTRAL_COST",name:"Кадастровая стоимость, в руб.",description:"Тип: number, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:358,metadata:{type:"number",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-359",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип: text, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:359,metadata:{type:"text",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-360",code:"NUMBER_REGISTER_AGENCY",name:"Номер регистрирующего органа",description:"Тип: text, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:360,metadata:{type:"text",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-361",code:"TOTAL_AREA",name:"Общая площадь м2",description:"Тип: number, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:361,metadata:{type:"number",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-362",code:"PR_BUY_IN_FUTURE",name:"Признак приобретаемого в будущем за счет кредитных средств имущества",description:"Тип: boolean, Группа: Помещение, Раздел: 4.2.3",isActive:!0,sortOrder:362,metadata:{type:"boolean",group:"Помещение",required:!1,section:"4.2.3"}},{id:"attr-363",code:"CADASTRAL_NUMBER",name:"Кадастровый номер",description:"Тип: text, Группа: Машино-место, Раздел: 4.2.4, Естественный ключ",isActive:!0,sortOrder:363,metadata:{type:"text",group:"Машино-место",required:!0,section:"4.2.4"}},{id:"attr-364",code:"YEAR_OF_CONSTRUCTION",name:"Год постройки",description:"Тип: number, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:364,metadata:{type:"number",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-365",code:"CODE_FIAS",name:"Код фиас",description:"Тип: text, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:365,metadata:{type:"text",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-366",code:"READINESS_DEGREE",name:"Степень готовности",description:"Тип: text, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:366,metadata:{type:"text",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-367",code:"NUMBER_OF_ROOMS",name:"Количество комнат",description:"Тип: number, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:367,metadata:{type:"number",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-368",code:"CADASTRAL_COST",name:"Кадастровая стоимость, в руб.",description:"Тип: number, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:368,metadata:{type:"number",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-369",code:"DATE_PRAVO_DOCUMENT",name:"Дата правоподтверждающего документа",description:"Тип: date, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:369,metadata:{type:"date",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-370",code:"AMOUNT_OF_PEOPLE",name:"Количество лиц, место жительства которых зарегистрировано в предмете ипотеки",description:"Тип: number, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:370,metadata:{type:"number",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-371",code:"FLOOR",name:"Этаж расположения",description:"Тип: number, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:371,metadata:{type:"number",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-372",code:"SERIES_NUMBER_OF_DOCUMENT",name:"Серия и номер правоподтверждающего документа",description:"Тип: text, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:372,metadata:{type:"text",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-373",code:"LETTER",name:"Литера",description:"Тип: text, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:373,metadata:{type:"text",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-374",code:"SHARE_SIZE_PERCENTAGE",name:"Размер доли в праве общей долевой собственности, процент",description:"Тип: number, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:374,metadata:{type:"number",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-375",code:"NAME_OF_PRAVO_DOCUMENT",name:"Наименование правоподтверждающего документа",description:"Тип: select, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:375,metadata:{type:"select",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-376",code:"LIVING_SPACE",name:"Жилая площадь м2",description:"Тип: number, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:376,metadata:{type:"number",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-377",code:"LENGTH_VOLUME",name:"Длина/объем",description:"Тип: number, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:377,metadata:{type:"number",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-378",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип: text, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:378,metadata:{type:"text",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-379",code:"INDEX",name:"Индекс",description:"Тип: text, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:379,metadata:{type:"text",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-380",code:"BUILDING",name:"дом",description:"Тип: text, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:380,metadata:{type:"text",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-381",code:"APARTMENT_CONDITION",name:"Состояние квартиры",description:"Тип: select, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:381,metadata:{type:"select",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-382",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип: text, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:382,metadata:{type:"text",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-383",code:"TOTAL_AREA",name:"Общая площадь м2",description:"Тип: number, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:383,metadata:{type:"number",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-384",code:"CONDITIONAL_NUMBER",name:"Условный номер",description:"Тип: text, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:384,metadata:{type:"text",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-385",code:"DATE_RECORD_EGRN",name:"Дата записи регистрации в ЕГРН",description:"Тип: date, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:385,metadata:{type:"date",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-386",code:"DISTANCE_FROM_BANK",name:"Удаление от ближайшей ТП Банка в км.",description:"Тип: number, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:386,metadata:{type:"number",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-387",code:"PR_EXIST_PEOPLE_MORTGAGE",name:"Наличие лиц, место жительства которых зарегистрировано в предмете ипотеки",description:"Тип: boolean, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:387,metadata:{type:"boolean",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-388",code:"IS_NATUR_RISK",name:"Банк отслеживает риск возникновения ответственности за воздействие недвижимого имущества, переданного в залог, на окружающую среду",description:"Тип: boolean, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:388,metadata:{type:"boolean",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-389",code:"DATE_OF_DOCUMENT_WITH_DESCR",name:"Дата выдачи документа, содержащего описание и характеристики объекта недвижимости",description:"Тип: date, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:389,metadata:{type:"date",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-390",code:"ACCEPT_TO_BORROWER_SOLVENCY",name:"Обеспечение приемлемо с т.з. независимости кредитоспособности заемщика от объектов залога",description:"Тип: boolean, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:390,metadata:{type:"boolean",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-391",code:"CITY",name:"Город/населенный пункт",description:"Тип: text, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:391,metadata:{type:"text",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-392",code:"DATA_EXTERNAL_SYSTEM",name:"Данные из внешних систем",description:"Тип: boolean, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:392,metadata:{type:"boolean",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-393",code:"NUMBER_REGISTER_AGENCY",name:"Номер регистрирующего органа",description:"Тип: text, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:393,metadata:{type:"text",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-394",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип: boolean, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:394,metadata:{type:"boolean",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-395",code:"APPOINTMENT_EGRN",name:"Назначение в ЕГРН",description:"Тип: text, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:395,metadata:{type:"text",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-396",code:"ADDR_STR",name:"Адрес строкой",description:"Тип: text, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:396,metadata:{type:"text",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-397",code:"SPREAD",name:"Протяженность (м)",description:"Тип: number, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:397,metadata:{type:"number",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-398",code:"PR_BUY_IN_FUTURE",name:"Признак приобретаемого в будущем за счет кредитных средств имущества",description:"Тип: boolean, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:398,metadata:{type:"boolean",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-399",code:"VOLUME",name:"Объём (м3)",description:"Тип: number, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:399,metadata:{type:"number",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-400",code:"REGISTRATION_RECORD_NUMBER_USRN",name:"Номер записи регистрации в ЕГРН",description:"Тип: text, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:400,metadata:{type:"text",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-401",code:"ADMINISTRATIVE_AREA",name:"Район",description:"Тип: text, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:401,metadata:{type:"text",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-402",code:"STREET",name:"Улица",description:"Тип: text, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:402,metadata:{type:"text",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-403",code:"PR_NECES_NOTARY_CERTIF_CONTRACT",name:"Признак необходимости нотариального удостоверения договора ипотеки",description:"Тип: boolean, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:403,metadata:{type:"boolean",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-404",code:"REGISTRATION_AUTHORITY_NAME",name:"Наименование регистрирующего органа",description:"Тип: text, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:404,metadata:{type:"text",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-405",code:"IS_CULTURE_OBJECT",name:"Признак отнесения к объектам культурного наследия",description:"Тип: boolean, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:405,metadata:{type:"boolean",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-406",code:"STRUCTURE",name:"Строение",description:"Тип: text, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:406,metadata:{type:"text",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-407",code:"DATE_OF_CADASTRAL_COST",name:"Дата определения кадастровой стоимости",description:"Тип: date, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:407,metadata:{type:"date",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-408",code:"REGION",name:"Регион",description:"Тип: text, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:408,metadata:{type:"text",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-409",code:"CODE_OKATO",name:"Код ОКАТО",description:"Тип: text, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:409,metadata:{type:"text",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-410",code:"PR_REGISTR_BOND",name:"Признак оформления закладной",description:"Тип: boolean, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:410,metadata:{type:"boolean",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-411",code:"CODE_OKSM",name:"Код ОКСМ",description:"Тип: text, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:411,metadata:{type:"text",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-412",code:"CODE_KLADR",name:"Код КЛАДР",description:"Тип: text, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:412,metadata:{type:"text",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-413",code:"BELONGING_SECURITY_ZONES_MOSCOW",name:"Принадлежность к охранным зонам г. Москвы",description:"Тип: boolean, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:413,metadata:{type:"boolean",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-414",code:"AGENCY_OF_DOCUMENT_WITH_DESCR",name:"Орган выдачи документа, содержащего описание и характеристики объекта недвижимости",description:"Тип: text, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:414,metadata:{type:"text",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-415",code:"CODE_OKTMO",name:"Код ОКТМО",description:"Тип: text, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:415,metadata:{type:"text",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-416",code:"ROOM",name:"Квартира",description:"Тип: text, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:416,metadata:{type:"text",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-417",code:"NAME_PRAVO_DOCUMENT_WITH_DESCR",name:"Наименование документа, содержащего описание и характеристики объекта недвижимости",description:"Тип: select, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:417,metadata:{type:"select",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-418",code:"HOUSE_TYPE",name:"Тип дома",description:"Тип: select, Группа: Машино-место, Раздел: 4.2.4",isActive:!0,sortOrder:418,metadata:{type:"select",group:"Машино-место",required:!1,section:"4.2.4"}},{id:"attr-419",code:"CADASTRAL_NUMBER",name:"Кадастровый номер",description:"Тип: text, Группа: Объект незавершенного строительства, Раздел: 4.2.5, Естественный ключ",isActive:!0,sortOrder:419,metadata:{type:"text",group:"Объект незавершенного строительства",required:!0,section:"4.2.5"}},{id:"attr-420",code:"TOTAL_AREA",name:"Общая площадь м2",description:"Тип: number, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:420,metadata:{type:"number",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-421",code:"ADDR_STR",name:"Адрес строкой",description:"Тип: text, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:421,metadata:{type:"text",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-422",code:"YEAR_OF_CONSTRUCTION",name:"Год постройки",description:"Тип: number, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:422,metadata:{type:"number",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-423",code:"CITY",name:"Город/населенный пункт",description:"Тип: text, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:423,metadata:{type:"text",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-424",code:"DATE_OF_DOCUMENT_WITH_DESCR",name:"Дата выдачи документа, содержащего описание и характеристики объекта недвижимости",description:"Тип: date, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:424,metadata:{type:"date",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-425",code:"DATE_RECORD_EGRN",name:"Дата записи регистрации в ЕГРН",description:"Тип: date, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:425,metadata:{type:"date",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-426",code:"BUILDING",name:"дом",description:"Тип: text, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:426,metadata:{type:"text",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-427",code:"INDEX",name:"Индекс",description:"Тип: text, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:427,metadata:{type:"text",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-428",code:"CADASTRAL_COST",name:"Кадастровая стоимость, в руб.",description:"Тип: number, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:428,metadata:{type:"number",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-429",code:"ROOM",name:"Квартира",description:"Тип: text, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:429,metadata:{type:"text",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-430",code:"CODE_KLADR",name:"Код КЛАДР",description:"Тип: text, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:430,metadata:{type:"text",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-431",code:"CODE_OKATO",name:"Код ОКАТО",description:"Тип: text, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:431,metadata:{type:"text",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-432",code:"CODE_OKSM",name:"Код ОКСМ",description:"Тип: text, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:432,metadata:{type:"text",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-433",code:"CODE_OKTMO",name:"Код ОКТМО",description:"Тип: text, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:433,metadata:{type:"text",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-434",code:"CODE_FIAS",name:"Код фиас",description:"Тип: text, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:434,metadata:{type:"text",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-435",code:"NUMBER_OF_ROOMS",name:"Количество комнат",description:"Тип: number, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:435,metadata:{type:"number",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-436",code:"AMOUNT_OF_PEOPLE",name:"Количество лиц, место жительства которых зарегистрировано в предмете ипотеки",description:"Тип: number, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:436,metadata:{type:"number",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-437",code:"LETTER",name:"Литера",description:"Тип: text, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:437,metadata:{type:"text",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-438",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип: text, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:438,metadata:{type:"text",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-439",code:"PR_EXIST_PEOPLE_MORTGAGE",name:"Наличие лиц, место жительства которых зарегистрировано в предмете ипотеки",description:"Тип: boolean, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:439,metadata:{type:"boolean",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-440",code:"NUMBER_REGISTER_AGENCY",name:"Номер регистрирующего органа",description:"Тип: text, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:440,metadata:{type:"text",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-441",code:"PR_NECES_NOTARY_CERTIF_CONTRACT",name:"Признак необходимости нотариального удостоверения договора ипотеки",description:"Тип: boolean, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:441,metadata:{type:"boolean",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-442",code:"IS_CULTURE_OBJECT",name:"Признак отнесения к объектам культурного наследия",description:"Тип: boolean, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:442,metadata:{type:"boolean",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-443",code:"PR_REGISTR_BOND",name:"Признак оформления закладной",description:"Тип: boolean, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:443,metadata:{type:"boolean",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-444",code:"SHARE_SIZE_PERCENTAGE",name:"Размер доли в праве общей долевой собственности, процент",description:"Тип: number, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:444,metadata:{type:"number",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-445",code:"ADMINISTRATIVE_AREA",name:"Район",description:"Тип: text, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:445,metadata:{type:"text",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-446",code:"REGION",name:"Регион",description:"Тип: text, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:446,metadata:{type:"text",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-447",code:"APARTMENT_CONDITION",name:"Состояние квартиры",description:"Тип: select, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:447,metadata:{type:"select",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-448",code:"READINESS_DEGREE",name:"Степень готовности",description:"Тип: text, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:448,metadata:{type:"text",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-449",code:"STREET",name:"Улица",description:"Тип: text, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:449,metadata:{type:"text",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-450",code:"STRUCTURE",name:"Строение",description:"Тип: text, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:450,metadata:{type:"text",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-451",code:"HOUSE_TYPE",name:"Тип дома",description:"Тип: select, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:451,metadata:{type:"select",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-452",code:"FLOOR",name:"Этаж расположения",description:"Тип: number, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:452,metadata:{type:"number",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-453",code:"DISTANCE_FROM_BANK",name:"Удаление от ближайшей ТП Банка в км.",description:"Тип: number, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:453,metadata:{type:"number",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-454",code:"DATE_OF_CADASTRAL_COST",name:"Дата определения кадастровой стоимости",description:"Тип: date, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:454,metadata:{type:"date",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-455",code:"REGISTRATION_AUTHORITY_NAME",name:"Наименование регистрирующего органа",description:"Тип: text, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:455,metadata:{type:"text",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-456",code:"REGISTRATION_RECORD_NUMBER_USRN",name:"Номер записи регистрации в ЕГРН",description:"Тип: text, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:456,metadata:{type:"text",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-457",code:"PR_BUY_IN_FUTURE",name:"Признак приобретаемого в будущем за счет кредитных средств имущества",description:"Тип: boolean, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:457,metadata:{type:"boolean",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-458",code:"CONDITIONAL_NUMBER",name:"Условный номер",description:"Тип: text, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:458,metadata:{type:"text",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-459",code:"LENGTH_VOLUME",name:"Длина/объем",description:"Тип: number, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:459,metadata:{type:"number",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-460",code:"LIVING_SPACE",name:"Жилая площадь м2",description:"Тип: number, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:460,metadata:{type:"number",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-461",code:"NAME_OF_PRAVO_DOCUMENT",name:"Наименование правоподтверждающего документа",description:"Тип: select, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:461,metadata:{type:"select",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-462",code:"SERIES_NUMBER_OF_DOCUMENT",name:"Серия и номер правоподтверждающего документа",description:"Тип: text, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:462,metadata:{type:"text",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-463",code:"DATE_PRAVO_DOCUMENT",name:"Дата правоподтверждающего документа",description:"Тип: date, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:463,metadata:{type:"date",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-464",code:"NAME_PRAVO_DOCUMENT_WITH_DESCR",name:"Наименование документа, содержащего описание и характеристики объекта недвижимости",description:"Тип: select, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:464,metadata:{type:"select",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-465",code:"AGENCY_OF_DOCUMENT_WITH_DESCR",name:"Орган выдачи документа, содержащего описание и характеристики объекта недвижимости",description:"Тип: text, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:465,metadata:{type:"text",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-466",code:"BELONGING_SECURITY_ZONES_MOSCOW",name:"Принадлежность к охранным зонам г. Москвы",description:"Тип: boolean, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:466,metadata:{type:"boolean",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-467",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип: text, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:467,metadata:{type:"text",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-468",code:"IS_NATUR_RISK",name:"Банк отслеживает риск возникновения ответственности за воздействие недвижимого имущества, переданного в залог, на окружающую среду",description:"Тип: boolean, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:468,metadata:{type:"boolean",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-469",code:"ACCEPT_TO_BORROWER_SOLVENCY",name:"Обеспечение приемлемо с т.з. независимости кредитоспособности заемщика от объектов залога",description:"Тип: boolean, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:469,metadata:{type:"boolean",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-470",code:"DATA_EXTERNAL_SYSTEM",name:"Данные из внешних систем",description:"Тип: boolean, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:470,metadata:{type:"boolean",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-471",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип: boolean, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:471,metadata:{type:"boolean",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-472",code:"SPREAD",name:"Протяженность (м)",description:"Тип: number, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:472,metadata:{type:"number",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-473",code:"VOLUME",name:"Объём (м3)",description:"Тип: number, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:473,metadata:{type:"number",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-474",code:"APPOINTMENT_EGRN",name:"Назначение в ЕГРН",description:"Тип: text, Группа: Объект незавершенного строительства, Раздел: 4.2.5",isActive:!0,sortOrder:474,metadata:{type:"text",group:"Объект незавершенного строительства",required:!1,section:"4.2.5"}},{id:"attr-475",code:"CADASTRAL_NUMBER",name:"Кадастровый номер",description:"Тип: text, Группа: Земельный участок, Раздел: 4.2.6, Естественный ключ",isActive:!0,sortOrder:475,metadata:{type:"text",group:"Земельный участок",required:!0,section:"4.2.6"}},{id:"attr-476",code:"CODE_KLADR",name:"Код КЛАДР",description:"Тип: text, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:476,metadata:{type:"text",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-477",code:"REGISTRATION_RECORD_NUMBER_USRN",name:"Номер записи регистрации в ЕГРН",description:"Тип: text, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:477,metadata:{type:"text",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-478",code:"REGISTRATION_AUTHORITY_NAME",name:"Наименование регистрирующего органа",description:"Тип: text, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:478,metadata:{type:"text",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-479",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип: boolean, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:479,metadata:{type:"boolean",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-480",code:"PR_BUY_IN_FUTURE",name:"Признак приобретаемого в будущем за счет кредитных средств имущества",description:"Тип: boolean, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:480,metadata:{type:"boolean",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-481",code:"TYPE_OF_USE_OF_THE_LAND",name:"Вид разрешенного использования земельного участка",description:"Тип: text, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:481,metadata:{type:"text",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-482",code:"CODE_OKTMO",name:"Код ОКТМО",description:"Тип: text, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:482,metadata:{type:"text",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-483",code:"CONDITIONAL_NUMBER",name:"Условный номер",description:"Тип: text, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:483,metadata:{type:"text",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-484",code:"PR_REGISTR_BOND",name:"Признак оформления закладной",description:"Тип: boolean, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:484,metadata:{type:"boolean",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-485",code:"INDEX",name:"Индекс",description:"Тип: text, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:485,metadata:{type:"text",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-486",code:"CODE_OKSM",name:"Код ОКСМ",description:"Тип: text, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:486,metadata:{type:"text",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-487",code:"TOTAL_AREA",name:"Общая площадь м2",description:"Тип: number, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:487,metadata:{type:"number",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-488",code:"ADMINISTRATIVE_AREA",name:"Район",description:"Тип: text, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:488,metadata:{type:"text",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-489",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип: text, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:489,metadata:{type:"text",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-490",code:"ADDR_STR",name:"Адрес строкой",description:"Тип: text, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:490,metadata:{type:"text",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-491",code:"NAME_PRAVO_DOCUMENT_WITH_DESCR",name:"Наименование документа, содержащего описание и характеристики объекта недвижимости",description:"Тип: select, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:491,metadata:{type:"select",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-492",code:"LIVING_SPACE",name:"Жилая площадь м2",description:"Тип: number, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:492,metadata:{type:"number",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-493",code:"SERIES_NUMBER_OF_DOCUMENT",name:"Серия и номер правоподтверждающего документа",description:"Тип: text, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:493,metadata:{type:"text",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-494",code:"DATE_OF_CADASTRAL_COST",name:"Дата определения кадастровой стоимости",description:"Тип: date, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:494,metadata:{type:"date",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-495",code:"CODE_FIAS",name:"Код фиас",description:"Тип: text, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:495,metadata:{type:"text",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-496",code:"ROOM",name:"Квартира",description:"Тип: text, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:496,metadata:{type:"text",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-497",code:"AREA_DEVIATION",name:"Отклонение площади, +/-, (м²)",description:"Тип: number, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:497,metadata:{type:"number",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-498",code:"LETTER",name:"Литера",description:"Тип: text, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:498,metadata:{type:"text",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-499",code:"SPREAD",name:"Протяженность (м)",description:"Тип: number, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:499,metadata:{type:"number",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-500",code:"AGENCY_OF_DOCUMENT_WITH_DESCR",name:"Орган выдачи документа, содержащего описание и характеристики объекта недвижимости",description:"Тип: text, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:500,metadata:{type:"text",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-501",code:"SHARE_SIZE_PERCENTAGE",name:"Размер доли в праве общей долевой собственности, процент",description:"Тип: number, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:501,metadata:{type:"number",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-502",code:"BUILDINGS_NOT_INCLUDED",name:"Признак наличия на земельном участке зданий/ строений/ сооружений Залогодателя, не включенных в предмет ипотеки",description:"Тип: boolean, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:502,metadata:{type:"boolean",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-503",code:"PR_NECES_NOTARY_CERTIF_CONTRACT",name:"Признак необходимости нотариального удостоверения договора ипотеки",description:"Тип: boolean, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:503,metadata:{type:"boolean",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-504",code:"NAME_LANDLORD",name:"Наименование арендодателя",description:"Тип: text, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:504,metadata:{type:"text",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-505",code:"CITY",name:"Город/населенный пункт",description:"Тип: text, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:505,metadata:{type:"text",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-506",code:"DATA_EXTERNAL_SYSTEM",name:"Данные из внешних систем",description:"Тип: boolean, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:506,metadata:{type:"boolean",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-507",code:"STRUCTURE",name:"Строение",description:"Тип: text, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:507,metadata:{type:"text",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-508",code:"DISTANCE_FROM_BANK",name:"Удаление от ближайшей ТП Банка в км.",description:"Тип: number, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:508,metadata:{type:"number",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-509",code:"CADASTRAL_COST",name:"Кадастровая стоимость, в руб.",description:"Тип: number, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:509,metadata:{type:"number",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-510",code:"DATE_OF_DOCUMENT_WITH_DESCR",name:"Дата выдачи документа, содержащего описание и характеристики объекта недвижимости",description:"Тип: date, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:510,metadata:{type:"date",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-511",code:"NAME_OF_PRAVO_DOCUMENT",name:"Наименование правоподтверждающего документа",description:"Тип: select, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:511,metadata:{type:"select",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-512",code:"LENGTH_VOLUME",name:"Длина/объем",description:"Тип: number, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:512,metadata:{type:"number",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-513",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип: text, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:513,metadata:{type:"text",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-514",code:"APPOINTMENT_EGRN",name:"Назначение в ЕГРН",description:"Тип: text, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:514,metadata:{type:"text",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-515",code:"REGION",name:"Регион",description:"Тип: text, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:515,metadata:{type:"text",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-516",code:"STREET",name:"Улица",description:"Тип: text, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:516,metadata:{type:"text",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-517",code:"CODE_OKATO",name:"Код ОКАТО",description:"Тип: text, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:517,metadata:{type:"text",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-518",code:"DATE_RECORD_EGRN",name:"Дата записи регистрации в ЕГРН",description:"Тип: date, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:518,metadata:{type:"date",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-519",code:"BUILDING",name:"дом",description:"Тип: text, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:519,metadata:{type:"text",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-520",code:"VOLUME",name:"Объём (м3)",description:"Тип: number, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:520,metadata:{type:"number",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-521",code:"DATE_PRAVO_DOCUMENT",name:"Дата правоподтверждающего документа",description:"Тип: date, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:521,metadata:{type:"date",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-522",code:"BELONGING_SECURITY_ZONES_MOSCOW",name:"Принадлежность к охранным зонам г. Москвы",description:"Тип: boolean, Группа: Земельный участок, Раздел: 4.2.6",isActive:!0,sortOrder:522,metadata:{type:"boolean",group:"Земельный участок",required:!1,section:"4.2.6"}},{id:"attr-523",code:"CADASTRAL_NUMBER",name:"Кадастровый номер",description:"Тип: text, Группа: Единый недвижимый комплекс, Раздел: 4.2.7, Естественный ключ",isActive:!0,sortOrder:523,metadata:{type:"text",group:"Единый недвижимый комплекс",required:!0,section:"4.2.7"}},{id:"attr-524",code:"DATE_OF_DOCUMENT_WITH_DESCR",name:"Дата выдачи документа, содержащего описание и характеристики объекта недвижимости",description:"Тип: date, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:524,metadata:{type:"date",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-525",code:"IS_NATUR_RISK",name:"Банк отслеживает риск возникновения ответственности за воздействие недвижимого имущества, переданного в залог, на окружающую среду",description:"Тип: boolean, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:525,metadata:{type:"boolean",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-526",code:"DATE_RECORD_EGRN",name:"Дата записи регистрации в ЕГРН",description:"Тип: date, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:526,metadata:{type:"date",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-527",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип: text, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:527,metadata:{type:"text",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-528",code:"BUILDING",name:"дом",description:"Тип: text, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:528,metadata:{type:"text",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-529",code:"INDEX",name:"Индекс",description:"Тип: text, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:529,metadata:{type:"text",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-530",code:"SPREAD",name:"Протяженность (м)",description:"Тип: number, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:530,metadata:{type:"number",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-531",code:"LENGTH_VOLUME",name:"Длина/объем",description:"Тип: number, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:531,metadata:{type:"number",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-532",code:"VOLUME",name:"Объём (м3)",description:"Тип: number, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:532,metadata:{type:"number",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-533",code:"TOTAL_AREA",name:"Общая площадь м2",description:"Тип: number, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:533,metadata:{type:"number",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-534",code:"LIVING_SPACE",name:"Жилая площадь м2",description:"Тип: number, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:534,metadata:{type:"number",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-535",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип: text, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:535,metadata:{type:"text",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-536",code:"IS_CULTURE_OBJECT",name:"Признак отнесения к объектам культурного наследия",description:"Тип: boolean, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:536,metadata:{type:"boolean",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-537",code:"CODE_OKTMO",name:"Код ОКТМО",description:"Тип: text, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:537,metadata:{type:"text",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-538",code:"CODE_OKSM",name:"Код ОКСМ",description:"Тип: text, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:538,metadata:{type:"text",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-539",code:"NAME_OF_PRAVO_DOCUMENT",name:"Наименование правоподтверждающего документа",description:"Тип: select, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:539,metadata:{type:"select",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-540",code:"CONDITIONAL_NUMBER",name:"Условный номер",description:"Тип: text, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:540,metadata:{type:"text",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-541",code:"LETTER",name:"Литера",description:"Тип: text, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:541,metadata:{type:"text",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-542",code:"NAME_PRAVO_DOCUMENT_WITH_DESCR",name:"Наименование документа, содержащего описание и характеристики объекта недвижимости",description:"Тип: select, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:542,metadata:{type:"select",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-543",code:"SERIES_NUMBER_OF_DOCUMENT",name:"Серия и номер правоподтверждающего документа",description:"Тип: text, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:543,metadata:{type:"text",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-544",code:"DATE_OF_CADASTRAL_COST",name:"Дата определения кадастровой стоимости",description:"Тип: date, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:544,metadata:{type:"date",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-545",code:"AMOUNT_OF_PEOPLE",name:"Количество лиц, место жительства которых зарегистрировано в предмете ипотеки",description:"Тип: number, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:545,metadata:{type:"number",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-546",code:"NUMBER_OF_ROOMS",name:"Количество комнат",description:"Тип: number, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:546,metadata:{type:"number",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-547",code:"APPOINTMENT_EGRN",name:"Назначение в ЕГРН",description:"Тип: text, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:547,metadata:{type:"text",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-548",code:"DATE_PRAVO_DOCUMENT",name:"Дата правоподтверждающего документа",description:"Тип: date, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:548,metadata:{type:"date",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-549",code:"PR_NECES_NOTARY_CERTIF_CONTRACT",name:"Признак необходимости нотариального удостоверения договора ипотеки",description:"Тип: boolean, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:549,metadata:{type:"boolean",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-550",code:"PR_EXIST_PEOPLE_MORTGAGE",name:"Наличие лиц, место жительства которых зарегистрировано в предмете ипотеки",description:"Тип: boolean, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:550,metadata:{type:"boolean",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-551",code:"CODE_FIAS",name:"Код фиас",description:"Тип: text, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:551,metadata:{type:"text",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-552",code:"REGISTRATION_AUTHORITY_NAME",name:"Наименование регистрирующего органа",description:"Тип: text, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:552,metadata:{type:"text",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-553",code:"STRUCTURE",name:"Строение",description:"Тип: text, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:553,metadata:{type:"text",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-554",code:"APARTMENT_CONDITION",name:"Состояние квартиры",description:"Тип: select, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:554,metadata:{type:"select",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-555",code:"CODE_OKATO",name:"Код ОКАТО",description:"Тип: text, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:555,metadata:{type:"text",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-556",code:"STREET",name:"Улица",description:"Тип: text, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:556,metadata:{type:"text",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-557",code:"REGISTRATION_RECORD_NUMBER_USRN",name:"Номер записи регистрации в ЕГРН",description:"Тип: text, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:557,metadata:{type:"text",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-558",code:"CODE_KLADR",name:"Код КЛАДР",description:"Тип: text, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:558,metadata:{type:"text",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-559",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип: boolean, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:559,metadata:{type:"boolean",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-560",code:"ADMINISTRATIVE_AREA",name:"Район",description:"Тип: text, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:560,metadata:{type:"text",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-561",code:"YEAR_OF_CONSTRUCTION",name:"Год постройки",description:"Тип: number, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:561,metadata:{type:"number",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-562",code:"PR_BUY_IN_FUTURE",name:"Признак приобретаемого в будущем за счет кредитных средств имущества",description:"Тип: boolean, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:562,metadata:{type:"boolean",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-563",code:"BELONGING_SECURITY_ZONES_MOSCOW",name:"Принадлежность к охранным зонам г. Москвы",description:"Тип: boolean, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:563,metadata:{type:"boolean",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-564",code:"ADDR_STR",name:"Адрес строкой",description:"Тип: text, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:564,metadata:{type:"text",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-565",code:"DISTANCE_FROM_BANK",name:"Удаление от ближайшей ТП Банка в км.",description:"Тип: number, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:565,metadata:{type:"number",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-566",code:"NUMBER_REGISTER_AGENCY",name:"Номер регистрирующего органа",description:"Тип: text, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:566,metadata:{type:"text",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-567",code:"AGENCY_OF_DOCUMENT_WITH_DESCR",name:"Орган выдачи документа, содержащего описание и характеристики объекта недвижимости",description:"Тип: text, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:567,metadata:{type:"text",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-568",code:"REGION",name:"Регион",description:"Тип: text, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:568,metadata:{type:"text",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-569",code:"PR_REGISTR_BOND",name:"Признак оформления закладной",description:"Тип: boolean, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:569,metadata:{type:"boolean",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-570",code:"ROOM",name:"Квартира",description:"Тип: text, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:570,metadata:{type:"text",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-571",code:"FLOOR",name:"Этаж расположения",description:"Тип: number, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:571,metadata:{type:"number",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-572",code:"HOUSE_TYPE",name:"Тип дома",description:"Тип: select, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:572,metadata:{type:"select",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-573",code:"READINESS_DEGREE",name:"Степень готовности",description:"Тип: text, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:573,metadata:{type:"text",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-574",code:"DATA_EXTERNAL_SYSTEM",name:"Данные из внешних систем",description:"Тип: boolean, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:574,metadata:{type:"boolean",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-575",code:"SHARE_SIZE_PERCENTAGE",name:"Размер доли в праве общей долевой собственности, процент",description:"Тип: number, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:575,metadata:{type:"number",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-576",code:"CITY",name:"Город/населенный пункт",description:"Тип: text, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:576,metadata:{type:"text",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-577",code:"CADASTRAL_COST",name:"Кадастровая стоимость, в руб.",description:"Тип: number, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:577,metadata:{type:"number",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-578",code:"ACCEPT_TO_BORROWER_SOLVENCY",name:"Обеспечение приемлемо с т.з. независимости кредитоспособности заемщика от объектов залога",description:"Тип: boolean, Группа: Единый недвижимый комплекс, Раздел: 4.2.7",isActive:!0,sortOrder:578,metadata:{type:"boolean",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7"}},{id:"attr-579",code:"CADASTRAL_NUMBER",name:"Кадастровый номер",description:"Тип: text, Группа: Имущественный комплекс, Раздел: 4.2.8, Естественный ключ",isActive:!0,sortOrder:579,metadata:{type:"text",group:"Имущественный комплекс",required:!0,section:"4.2.8"}},{id:"attr-580",code:"AGENCY_OF_DOCUMENT_WITH_DESCR",name:"Орган выдачи документа, содержащего описание и характеристики объекта недвижимости",description:"Тип: text, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:580,metadata:{type:"text",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-581",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип: text, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:581,metadata:{type:"text",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-582",code:"DATE_RECORD_EGRN",name:"Дата записи регистрации в ЕГРН",description:"Тип: date, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:582,metadata:{type:"date",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-583",code:"IS_NATUR_RISK",name:"Банк отслеживает риск возникновения ответственности за воздействие недвижимого имущества, переданного в залог, на окружающую среду",description:"Тип: boolean, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:583,metadata:{type:"boolean",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-584",code:"INDEX",name:"Индекс",description:"Тип: text, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:584,metadata:{type:"text",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-585",code:"DATE_OF_DOCUMENT_WITH_DESCR",name:"Дата выдачи документа, содержащего описание и характеристики объекта недвижимости",description:"Тип: date, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:585,metadata:{type:"date",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-586",code:"CITY",name:"Город/населенный пункт",description:"Тип: text, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:586,metadata:{type:"text",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-587",code:"ACCEPT_TO_BORROWER_SOLVENCY",name:"Обеспечение приемлемо с т.з. независимости кредитоспособности заемщика от объектов залога",description:"Тип: boolean, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:587,metadata:{type:"boolean",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-588",code:"LENGTH_VOLUME",name:"Длина/объем",description:"Тип: number, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:588,metadata:{type:"number",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-589",code:"DATE_OF_CADASTRAL_COST",name:"Дата определения кадастровой стоимости",description:"Тип: date, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:589,metadata:{type:"date",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-590",code:"BUILDING",name:"дом",description:"Тип: text, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:590,metadata:{type:"text",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-591",code:"DATA_EXTERNAL_SYSTEM",name:"Данные из внешних систем",description:"Тип: boolean, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:591,metadata:{type:"boolean",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-592",code:"SHARE_SIZE_PERCENTAGE",name:"Размер доли в праве общей долевой собственности, процент",description:"Тип: number, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:592,metadata:{type:"number",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-593",code:"CADASTRAL_COST",name:"Кадастровая стоимость, в руб.",description:"Тип: number, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:593,metadata:{type:"number",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-594",code:"READINESS_DEGREE",name:"Степень готовности",description:"Тип: text, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:594,metadata:{type:"text",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-595",code:"HOUSE_TYPE",name:"Тип дома",description:"Тип: select, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:595,metadata:{type:"select",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-596",code:"APARTMENT_CONDITION",name:"Состояние квартиры",description:"Тип: select, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:596,metadata:{type:"select",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-597",code:"ROOM",name:"Квартира",description:"Тип: text, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:597,metadata:{type:"text",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-598",code:"PR_REGISTR_BOND",name:"Признак оформления закладной",description:"Тип: boolean, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:598,metadata:{type:"boolean",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-599",code:"ADDR_STR",name:"Адрес строкой",description:"Тип: text, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:599,metadata:{type:"text",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-600",code:"REGION",name:"Регион",description:"Тип: text, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:600,metadata:{type:"text",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-601",code:"BELONGING_SECURITY_ZONES_MOSCOW",name:"Принадлежность к охранным зонам г. Москвы",description:"Тип: boolean, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:601,metadata:{type:"boolean",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-602",code:"NUMBER_REGISTER_AGENCY",name:"Номер регистрирующего органа",description:"Тип: text, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:602,metadata:{type:"text",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-603",code:"DISTANCE_FROM_BANK",name:"Удаление от ближайшей ТП Банка в км.",description:"Тип: number, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:603,metadata:{type:"number",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-604",code:"PR_BUY_IN_FUTURE",name:"Признак приобретаемого в будущем за счет кредитных средств имущества",description:"Тип: boolean, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:604,metadata:{type:"boolean",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-605",code:"YEAR_OF_CONSTRUCTION",name:"Год постройки",description:"Тип: number, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:605,metadata:{type:"number",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-606",code:"ADMINISTRATIVE_AREA",name:"Район",description:"Тип: text, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:606,metadata:{type:"text",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-607",code:"VOLUME",name:"Объём (м3)",description:"Тип: number, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:607,metadata:{type:"number",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-608",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип: boolean, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:608,metadata:{type:"boolean",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-609",code:"REGISTRATION_RECORD_NUMBER_USRN",name:"Номер записи регистрации в ЕГРН",description:"Тип: text, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:609,metadata:{type:"text",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-610",code:"CODE_KLADR",name:"Код КЛАДР",description:"Тип: text, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:610,metadata:{type:"text",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-611",code:"APPOINTMENT_EGRN",name:"Назначение в ЕГРН",description:"Тип: text, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:611,metadata:{type:"text",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-612",code:"STRUCTURE",name:"Строение",description:"Тип: text, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:612,metadata:{type:"text",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-613",code:"FINANCIAL_MODEL_VALUATION",name:"Оценка с учетом финансовой модели заемщика ('N' - нет, 'Y' - да)",description:"Тип: text, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:613,metadata:{type:"text",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-614",code:"STREET",name:"Улица",description:"Тип: text, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:614,metadata:{type:"text",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-615",code:"REGISTRATION_AUTHORITY_NAME",name:"Наименование регистрирующего органа",description:"Тип: text, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:615,metadata:{type:"text",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-616",code:"FLOOR",name:"Этаж расположения",description:"Тип: number, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:616,metadata:{type:"number",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-617",code:"PR_EXIST_PEOPLE_MORTGAGE",name:"Наличие лиц, место жительства которых зарегистрировано в предмете ипотеки",description:"Тип: boolean, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:617,metadata:{type:"boolean",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-618",code:"CODE_FIAS",name:"Код фиас",description:"Тип: text, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:618,metadata:{type:"text",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-619",code:"DATE_PRAVO_DOCUMENT",name:"Дата правоподтверждающего документа",description:"Тип: date, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:619,metadata:{type:"date",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-620",code:"NUMBER_OF_ROOMS",name:"Количество комнат",description:"Тип: number, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:620,metadata:{type:"number",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-621",code:"AMOUNT_OF_PEOPLE",name:"Количество лиц, место жительства которых зарегистрировано в предмете ипотеки",description:"Тип: number, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:621,metadata:{type:"number",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-622",code:"SERIES_NUMBER_OF_DOCUMENT",name:"Серия и номер правоподтверждающего документа",description:"Тип: text, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:622,metadata:{type:"text",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-623",code:"CODE_OKATO",name:"Код ОКАТО",description:"Тип: text, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:623,metadata:{type:"text",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-624",code:"NAME_PRAVO_DOCUMENT_WITH_DESCR",name:"Наименование документа, содержащего описание и характеристики объекта недвижимости",description:"Тип: select, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:624,metadata:{type:"select",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-625",code:"SPREAD",name:"Протяженность (м)",description:"Тип: number, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:625,metadata:{type:"number",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-626",code:"NAME_OF_PRAVO_DOCUMENT",name:"Наименование правоподтверждающего документа",description:"Тип: select, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:626,metadata:{type:"select",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-627",code:"CONDITIONAL_NUMBER",name:"Условный номер",description:"Тип: text, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:627,metadata:{type:"text",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-628",code:"CODE_OKTMO",name:"Код ОКТМО",description:"Тип: text, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:628,metadata:{type:"text",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-629",code:"LETTER",name:"Литера",description:"Тип: text, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:629,metadata:{type:"text",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-630",code:"PR_NECES_NOTARY_CERTIF_CONTRACT",name:"Признак необходимости нотариального удостоверения договора ипотеки",description:"Тип: boolean, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:630,metadata:{type:"boolean",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-631",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип: text, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:631,metadata:{type:"text",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-632",code:"LIVING_SPACE",name:"Жилая площадь м2",description:"Тип: number, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:632,metadata:{type:"number",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-633",code:"CODE_OKSM",name:"Код ОКСМ",description:"Тип: text, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:633,metadata:{type:"text",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-634",code:"TOTAL_AREA",name:"Общая площадь м2",description:"Тип: number, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:634,metadata:{type:"number",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-635",code:"IS_CULTURE_OBJECT",name:"Признак отнесения к объектам культурного наследия",description:"Тип: boolean, Группа: Имущественный комплекс, Раздел: 4.2.8",isActive:!0,sortOrder:635,metadata:{type:"boolean",group:"Имущественный комплекс",required:!1,section:"4.2.8"}},{id:"attr-636",code:"FACTORY_NUMBER",name:"Заводской/серийный номер",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3, Естественный ключ",isActive:!0,sortOrder:636,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!0,section:"4.3"}},{id:"attr-637",code:"VIN",name:"VIN",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3, Естественный ключ",isActive:!0,sortOrder:637,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!0,section:"4.3"}},{id:"attr-638",code:"FRAME_CHASSIS_NUMBER",name:"Номер шасси/рамы",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3, Естественный ключ",isActive:!0,sortOrder:638,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!0,section:"4.3"}},{id:"attr-639",code:"MILEAGE",name:"Пробег, км",description:"Тип: number, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:639,metadata:{type:"number",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-640",code:"COLOR_BODY",name:"Цвет кузова (кабины)",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:640,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-641",code:"PRICE_OF_NEW_CAR",name:"Цена нового ТС",description:"Тип: number, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:641,metadata:{type:"number",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-642",code:"PRICE_OF_PURCHASE",name:"Цена приобретения",description:"Тип: number, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:642,metadata:{type:"number",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-643",code:"LEGAL_ADDRES",name:"Юридический адрес поставщика",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:643,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-644",code:"PR_OFFICIAL_DEALER",name:"Признак официального дилера",description:"Тип: boolean, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:644,metadata:{type:"boolean",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-645",code:"PR_BUY_IN_FUTURE",name:"Признак приобретаемого в будущем за счет кредитных средств имущества",description:"Тип: boolean, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:645,metadata:{type:"boolean",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-646",code:"FULL_NAME_OF_PROVIDER",name:"Полное наименование поставщика",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:646,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-647",code:"PR_ACCREDIT_AS_PARTNER_OF_BANK",name:"Признак аккредитации в качестве Партнера Банка",description:"Тип: boolean, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:647,metadata:{type:"boolean",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-648",code:"RIGHT_STORAGE",name:"Право в отношении места хранения",description:"Тип: select, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:648,metadata:{type:"select",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-649",code:"STREET_STORAGE",name:"Улица (места хранения)",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:649,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-650",code:"CODE_FIAS_STORAGE",name:"Код фиас (места хранения)",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:650,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-651",code:"REGION_STORAGE",name:"Регион (места хранения)",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:651,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-652",code:"CODE_OKTMO_STORAGE",name:"Код ОКТМО (места хранения)",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:652,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-653",code:"CODE_KLADR_STORAGE",name:"Код КЛАДР (места хранения)",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:653,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-654",code:"LETTER_STORAGE",name:"Литера (места хранения)",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:654,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-655",code:"ROOM_STORAGE",name:"Квартира (места хранения)",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:655,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-656",code:"ADMINISTRATIVE_AREA_STORAGE",name:"Район (места хранения)",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:656,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-657",code:"BUILDING_STORAGE",name:"Дом (места хранения)",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:657,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-658",code:"STRUCTURE_STORAGE",name:"Строение (места хранения)",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:658,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-659",code:"ADDR_STR_STORAGE",name:"Адрес строкой (места хранения)",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:659,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-660",code:"CITY_STORAGE",name:"Город/населенный пункт (места хранения)",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:660,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-661",code:"INDEX_STORAGE",name:"Индекс (места хранения)",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:661,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-662",code:"CODE_OKATO_STORAGE",name:"Код ОКАТО (места хранения)",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:662,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-663",code:"CODE_OKSM_STORAGE",name:"Код ОКСМ (места хранения)",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:663,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-664",code:"FULL_NAME_OF_LESSOR",name:"Полное наименование арендодателя места хранения",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:664,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-665",code:"MANUFACTORY_ORGANIZATION",name:"Организация - производитель",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:665,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-666",code:"OGRN_OF_PROVIDER",name:"ОГРН поставщика",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:666,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-667",code:"ENGINE_VOLUME_SM",name:"Объем двигателя, см3",description:"Тип: number, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:667,metadata:{type:"number",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-668",code:"BODY_NUMBER",name:"Номер кузова (кабины, прицепа)",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:668,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-669",code:"NUMBER_OF_ARRANGEMENT_RENT",name:"Номер договора аренды места хранения",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:669,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-670",code:"NUMBER_OF_DEALER_CERTIFICATE",name:"Номер дилерского сертификата/соглашения",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:670,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-671",code:"MOTOR_NUMBER",name:"Номер двигателя",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:671,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-672",code:"NAME_OF_CERTIFICATE_TS",name:"Наименование свидетельства о регистрации ТС",description:"Тип: select, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:672,metadata:{type:"select",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-673",code:"NAME_OF_TS",name:"Наименование паспорта ТС",description:"Тип: select, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:673,metadata:{type:"select",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-674",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:674,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-675",code:"ENGINE_POWER_LS",name:"Мощность двигателя, л. с.",description:"Тип: number, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:675,metadata:{type:"number",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-676",code:"ENGINE_POWER_KVT",name:"Мощность двигателя, кв.",description:"Тип: number, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:676,metadata:{type:"number",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-677",code:"MODEL",name:"Модель",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:677,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-678",code:"BRAND",name:"Марка",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:678,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-679",code:"COUNT_RTA",name:"Количество ДТП",description:"Тип: number, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:679,metadata:{type:"number",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-680",code:"ACCIDENT_INVESTIGATION",name:"Следствие ДТП",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:680,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-681",code:"COLLATERAL_CONDITION",name:"Состояние ПЗ",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:681,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-682",code:"IDENTIFIED_DEFECTS",name:"Выявленные дефекты",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:682,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-683",code:"INN_OF_PROVIDER",name:"ИНН поставщика",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:683,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-684",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:684,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-685",code:"INN_OF_LESSOR",name:"ИНН арендодателя места хранения",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:685,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-686",code:"DATE_OF_CERTIFICATE_TS",name:"Дата свидетельства о регистрации ТС",description:"Тип: date, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:686,metadata:{type:"date",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-687",code:"DATE_OF_TRANSITION_RIGTHS",name:"Дата перехода права собственности на предмет залога к залогодателю по договору поставки",description:"Тип: date, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:687,metadata:{type:"date",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-688",code:"DATE_OF_PASSPORT_TS",name:"Дата паспорта ТС",description:"Тип: date, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:688,metadata:{type:"date",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-689",code:"END_DATE_OF_ARRANG_OF_STORAGE_PL",name:"Дата окончания договора аренды места хранения",description:"Тип: date, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:689,metadata:{type:"date",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-690",code:"ENDDATE_OF_DEALER_CERTIFICATE",name:"Дата окончания дилерского сертификата/соглашения",description:"Тип: date, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:690,metadata:{type:"date",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-691",code:"DATE_OF_ARRANG_OF_STORAGE_PLACE",name:"Дата договора аренды места хранения",description:"Тип: date, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:691,metadata:{type:"date",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-692",code:"DATE_OF_DEALER_CERTIFICATE",name:"Дата дилерского сертификата/соглашения",description:"Тип: date, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:692,metadata:{type:"date",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-693",code:"DATE_ACCREDIT_AS_PARTNER_OF_BANK",name:"Дата аккредитации в качестве Партнера банка",description:"Тип: date, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:693,metadata:{type:"date",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-694",code:"DATA_EXTERNAL_SYSTEM",name:"Данные из внешних систем",description:"Тип: boolean, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:694,metadata:{type:"boolean",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-695",code:"YEAR_OF_ISSUE",name:"Год выпуска",description:"Тип: number, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:695,metadata:{type:"number",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-696",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип: boolean, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:696,metadata:{type:"boolean",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-697",code:"TYPE_STORAGE_PLACE_OTHER",name:"Вид иного типа места хранения",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:697,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-698",code:"RIGHT_STORAGE_OTHER",name:"Вид иного права в отношении места хранения",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:698,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-699",code:"CURRENCY_OF_PURCHASE",name:"Валюта приобретения",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:699,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-700",code:"TYPE_STORAGE_PLACE",name:"Тип места хранения",description:"Тип: select, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:700,metadata:{type:"select",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-701",code:"TYPE_INCIDENTS",name:"Тип происшествия",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:701,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-702",code:"COUNTRY_OF_ORIGIN",name:"Страна производства",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:702,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-703",code:"MOTOR_TYPE",name:"Тип двигателя",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:703,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-704",code:"SERIA_NUMBER_OF_CERTIFICATE_TS",name:"Серия и номер свидетельства о регистрации ТС",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:704,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-705",code:"SERIAS_NUMBER_PASSPORT_TS",name:"Серия и номер паспорта ТС",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:705,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-706",code:"STATE",name:"Состояние",description:"Тип: text, Группа: Наземные безрельсовые механические транспортные средства, прицепы, Раздел: 4.3",isActive:!0,sortOrder:706,metadata:{type:"text",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3"}},{id:"attr-707",code:"FACTORY_NUMBER",name:"Заводской/серийный номер",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4, Естественный ключ",isActive:!0,sortOrder:707,metadata:{type:"text",group:"Машины и оборудование",required:!0,section:"4.4"}},{id:"attr-708",code:"PSEUDO_KEY",name:"Операция между группой 1 и 2(псевдо атрибут)",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4, Естественный ключ",isActive:!0,sortOrder:708,metadata:{type:"text",group:"Машины и оборудование",required:!0,section:"4.4"}},{id:"attr-709",code:"INVENTORY_NUMBER",name:"Инвентарный номер",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4, Естественный ключ",isActive:!0,sortOrder:709,metadata:{type:"text",group:"Машины и оборудование",required:!0,section:"4.4"}},{id:"attr-710",code:"OWNER_TIN",name:"Значение идентификационного кода залогодателя",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4, Естественный ключ",isActive:!0,sortOrder:710,metadata:{type:"text",group:"Машины и оборудование",required:!0,section:"4.4"}},{id:"attr-711",code:"ROOM_STORAGE",name:"Квартира (места хранения)",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:711,metadata:{type:"text",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-712",code:"NUMBER_OF_ARRANGEMENT_RENT",name:"Номер договора аренды места хранения",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:712,metadata:{type:"text",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-713",code:"LETTER_STORAGE",name:"Литера (места хранения)",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:713,metadata:{type:"text",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-714",code:"CODE_KLADR_STORAGE",name:"Код КЛАДР (места хранения)",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:714,metadata:{type:"text",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-715",code:"CODE_OKTMO_STORAGE",name:"Код ОКТМО (места хранения)",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:715,metadata:{type:"text",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-716",code:"REGION_STORAGE",name:"Регион (места хранения)",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:716,metadata:{type:"text",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-717",code:"CODE_FIAS_STORAGE",name:"Код фиас (места хранения)",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:717,metadata:{type:"text",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-718",code:"STREET_STORAGE",name:"Улица (места хранения)",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:718,metadata:{type:"text",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-719",code:"PR_ACCREDIT_AS_PARTNER_OF_BANK",name:"Признак аккредитации в качестве Партнера Банка",description:"Тип: boolean, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:719,metadata:{type:"boolean",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-720",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип: boolean, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:720,metadata:{type:"boolean",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-721",code:"BUILDING_STORAGE",name:"Дом (места хранения)",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:721,metadata:{type:"text",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-722",code:"DATE_ACCREDIT_AS_PARTNER_OF_BANK",name:"Дата аккредитации в качестве Партнера банка",description:"Тип: date, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:722,metadata:{type:"date",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-723",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:723,metadata:{type:"text",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-724",code:"ADMINISTRATIVE_AREA_STORAGE",name:"Район (места хранения)",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:724,metadata:{type:"text",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-725",code:"RIGHT_STORAGE",name:"Право в отношении места хранения",description:"Тип: select, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:725,metadata:{type:"select",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-726",code:"CODE_OKSM_STORAGE",name:"Код ОКСМ (места хранения)",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:726,metadata:{type:"text",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-727",code:"DATE_OF_ARRANG_OF_STORAGE_PLACE",name:"Дата договора аренды места хранения",description:"Тип: date, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:727,metadata:{type:"date",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-728",code:"CODE_OKATO_STORAGE",name:"Код ОКАТО (места хранения)",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:728,metadata:{type:"text",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-729",code:"MODEL",name:"Модель",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:729,metadata:{type:"text",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-730",code:"INDEX_STORAGE",name:"Индекс (места хранения)",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:730,metadata:{type:"text",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-731",code:"PR_BUY_IN_FUTURE",name:"Признак приобретаемого в будущем за счет кредитных средств имущества",description:"Тип: boolean, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:731,metadata:{type:"boolean",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-732",code:"DATE_OF_DEALER_CERTIFICATE",name:"Дата дилерского сертификата/соглашения",description:"Тип: date, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:732,metadata:{type:"date",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-733",code:"CITY_STORAGE",name:"Город/населенный пункт (места хранения)",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:733,metadata:{type:"text",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-734",code:"ADDR_STR_STORAGE",name:"Адрес строкой (места хранения)",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:734,metadata:{type:"text",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-735",code:"STRUCTURE_STORAGE",name:"Строение (места хранения)",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:735,metadata:{type:"text",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-736",code:"OGRN_OF_PROVIDER",name:"ОГРН поставщика",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:736,metadata:{type:"text",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-737",code:"FULL_NAME_OF_LESSOR",name:"Полное наименование арендодателя места хранения",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:737,metadata:{type:"text",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-738",code:"INN_OF_PROVIDER",name:"ИНН поставщика",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:738,metadata:{type:"text",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-739",code:"YEAR_OF_ISSUE",name:"Год выпуска",description:"Тип: number, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:739,metadata:{type:"number",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-740",code:"LEGAL_ADDRES",name:"Юридический адрес поставщика",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:740,metadata:{type:"text",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-741",code:"CURRENCY_OF_PURCHASE",name:"Валюта приобретения",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:741,metadata:{type:"text",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-742",code:"MANUFACTORY_ORGANIZATION",name:"Организация - производитель",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:742,metadata:{type:"text",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-743",code:"NUMBER_OF_DEALER_CERTIFICATE",name:"Номер дилерского сертификата/соглашения",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:743,metadata:{type:"text",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-744",code:"RIGHT_STORAGE_OTHER",name:"Вид иного права в отношении места хранения",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:744,metadata:{type:"text",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-745",code:"TYPE_STORAGE_PLACE",name:"Тип места хранения",description:"Тип: select, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:745,metadata:{type:"select",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-746",code:"PRICE_OF_PURCHASE",name:"Цена приобретения",description:"Тип: number, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:746,metadata:{type:"number",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-747",code:"PR_OFFICIAL_DEALER",name:"Признак официального дилера",description:"Тип: boolean, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:747,metadata:{type:"boolean",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-748",code:"DATE_OF_TRANSITION_RIGTHS",name:"Дата перехода права собственности на предмет залога к залогодателю по договору поставки",description:"Тип: date, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:748,metadata:{type:"date",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-749",code:"FULL_NAME_OF_PROVIDER",name:"Полное наименование поставщика",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:749,metadata:{type:"text",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-750",code:"TYPE_STORAGE_PLACE_OTHER",name:"Вид иного типа места хранения",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:750,metadata:{type:"text",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-751",code:"INN_OF_LESSOR",name:"ИНН арендодателя места хранения",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:751,metadata:{type:"text",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-752",code:"END_DATE_OF_ARRANG_OF_STORAGE_PL",name:"Дата окончания договора аренды места хранения",description:"Тип: date, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:752,metadata:{type:"date",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-753",code:"COUNTRY_OF_ORIGIN",name:"Страна производства",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:753,metadata:{type:"text",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-754",code:"ENDDATE_OF_DEALER_CERTIFICATE",name:"Дата окончания дилерского сертификата/соглашения",description:"Тип: date, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:754,metadata:{type:"date",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-755",code:"BRAND",name:"Марка",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:755,metadata:{type:"text",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-756",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип: text, Группа: Машины и оборудование, Раздел: 4.4",isActive:!0,sortOrder:756,metadata:{type:"text",group:"Машины и оборудование",required:!1,section:"4.4"}},{id:"attr-757",code:"SERIAL_FACTORY_NUMBER",name:"Серийный (заводской) номер",description:"Тип: text, Группа: Воздушные суда, Раздел: 4.5, Естественный ключ",isActive:!0,sortOrder:757,metadata:{type:"text",group:"Воздушные суда",required:!0,section:"4.5"}},{id:"attr-758",code:"GLIDER_NUMBER",name:"Номер планера",description:"Тип: text, Группа: Воздушные суда, Раздел: 4.5",isActive:!0,sortOrder:758,metadata:{type:"text",group:"Воздушные суда",required:!1,section:"4.5"}},{id:"attr-759",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип: text, Группа: Воздушные суда, Раздел: 4.5",isActive:!0,sortOrder:759,metadata:{type:"text",group:"Воздушные суда",required:!1,section:"4.5"}},{id:"attr-760",code:"NAME_OF_MANUFACTURER",name:"Наименование изготовителя",description:"Тип: text, Группа: Воздушные суда, Раздел: 4.5",isActive:!0,sortOrder:760,metadata:{type:"text",group:"Воздушные суда",required:!1,section:"4.5"}},{id:"attr-761",code:"ADDRESS_BASE",name:"Адрес места базирования",description:"Тип: text, Группа: Воздушные суда, Раздел: 4.5",isActive:!0,sortOrder:761,metadata:{type:"text",group:"Воздушные суда",required:!1,section:"4.5"}},{id:"attr-762",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип: boolean, Группа: Воздушные суда, Раздел: 4.5",isActive:!0,sortOrder:762,metadata:{type:"boolean",group:"Воздушные суда",required:!1,section:"4.5"}},{id:"attr-763",code:"YEAR_OF_ISSUE",name:"Год выпуска",description:"Тип: number, Группа: Воздушные суда, Раздел: 4.5",isActive:!0,sortOrder:763,metadata:{type:"number",group:"Воздушные суда",required:!1,section:"4.5"}},{id:"attr-764",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип: text, Группа: Воздушные суда, Раздел: 4.5",isActive:!0,sortOrder:764,metadata:{type:"text",group:"Воздушные суда",required:!1,section:"4.5"}},{id:"attr-765",code:"CODE_OKATO",name:"Код ОКАТО",description:"Тип: text, Группа: Воздушные суда, Раздел: 4.5",isActive:!0,sortOrder:765,metadata:{type:"text",group:"Воздушные суда",required:!1,section:"4.5"}},{id:"attr-766",code:"REGISTER_NUMBER",name:"Регистровый номер",description:"Тип: text, Группа: Плавучие сооружения, Раздел: 4.6, Естественный ключ",isActive:!0,sortOrder:766,metadata:{type:"text",group:"Плавучие сооружения",required:!0,section:"4.6"}},{id:"attr-767",code:"FACTORY_NUMBER",name:"Заводской/серийный номер",description:"Тип: text, Группа: Плавучие сооружения, Раздел: 4.6, Естественный ключ",isActive:!0,sortOrder:767,metadata:{type:"text",group:"Плавучие сооружения",required:!0,section:"4.6"}},{id:"attr-768",code:"REGISTER_NUMBER",name:"Регистровый номер",description:"Тип: text, Группа: Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов, Раздел: 4.6.2, Естественный ключ",isActive:!0,sortOrder:768,metadata:{type:"text",group:"Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов",required:!0,section:"4.6.2"}},{id:"attr-769",code:"YEAR_OF_ISSUE",name:"Год выпуска",description:"Тип: number, Группа: Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов, Раздел: 4.6.2",isActive:!0,sortOrder:769,metadata:{type:"number",group:"Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов",required:!1,section:"4.6.2"}},{id:"attr-770",code:"CLASS_OF_SHIP",name:"Класс судна",description:"Тип: text, Группа: Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов, Раздел: 4.6.2",isActive:!0,sortOrder:770,metadata:{type:"text",group:"Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов",required:!1,section:"4.6.2"}},{id:"attr-771",code:"IMO",name:"Идентификационный номер судна (IMO)",description:"Тип: text, Группа: Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов, Раздел: 4.6.2",isActive:!0,sortOrder:771,metadata:{type:"text",group:"Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов",required:!1,section:"4.6.2"}},{id:"attr-772",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип: text, Группа: Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов, Раздел: 4.6.2",isActive:!0,sortOrder:772,metadata:{type:"text",group:"Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов",required:!1,section:"4.6.2"}},{id:"attr-773",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип: text, Группа: Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов, Раздел: 4.6.2",isActive:!0,sortOrder:773,metadata:{type:"text",group:"Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов",required:!1,section:"4.6.2"}},{id:"attr-774",code:"DATE_OF_CADASTRAL_COST",name:"Дата определения кадастровой стоимости",description:"Тип: text, Группа: Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов, Раздел: 4.6.2",isActive:!0,sortOrder:774,metadata:{type:"text",group:"Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов",required:!1,section:"4.6.2"}},{id:"attr-775",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип: text, Группа: Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов, Раздел: 4.6.2",isActive:!0,sortOrder:775,metadata:{type:"text",group:"Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов",required:!1,section:"4.6.2"}},{id:"attr-776",code:"PL_OF_STATE_REGIST_OF_THE_VESSEL",name:"Порт (место) государственной регистрации судна",description:"Тип: text, Группа: Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов, Раздел: 4.6.2",isActive:!0,sortOrder:776,metadata:{type:"text",group:"Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов",required:!1,section:"4.6.2"}},{id:"attr-777",code:"ADDR_STR_STORAGE",name:"Адрес строкой (места хранения)",description:"Тип: text, Группа: Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов, Раздел: 4.6.2",isActive:!0,sortOrder:777,metadata:{type:"text",group:"Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов",required:!1,section:"4.6.2"}},{id:"attr-778",code:"ID_OF_SHIP",name:"Идентификационный номер морской подвижной службы, присвоенный судовой радиостанции (MMSI)",description:"Тип: text, Группа: Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов, Раздел: 4.6.2",isActive:!0,sortOrder:778,metadata:{type:"text",group:"Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов",required:!1,section:"4.6.2"}},{id:"attr-779",code:"ADDR_STR_STORAGE",name:"Адрес строкой (места хранения)",description:"Тип: text, Группа: Суда, используемые для иных целей, Раздел: 4.6.4",isActive:!0,sortOrder:779,metadata:{type:"text",group:"Суда, используемые для иных целей",required:!1,section:"4.6.4"}},{id:"attr-780",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип: text, Группа: Суда, используемые для иных целей, Раздел: 4.6.4",isActive:!0,sortOrder:780,metadata:{type:"text",group:"Суда, используемые для иных целей",required:!1,section:"4.6.4"}},{id:"attr-781",code:"YEAR_OF_ISSUE",name:"Год выпуска",description:"Тип: number, Группа: Суда, используемые для иных целей, Раздел: 4.6.4",isActive:!0,sortOrder:781,metadata:{type:"number",group:"Суда, используемые для иных целей",required:!1,section:"4.6.4"}},{id:"attr-782",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип: text, Группа: Суда, используемые для иных целей, Раздел: 4.6.4",isActive:!0,sortOrder:782,metadata:{type:"text",group:"Суда, используемые для иных целей",required:!1,section:"4.6.4"}},{id:"attr-783",code:"ID_OF_SHIP",name:"Идентификационный номер морской подвижной службы, присвоенный судовой радиостанции (MMSI)",description:"Тип: text, Группа: Суда, используемые для иных целей, Раздел: 4.6.4",isActive:!0,sortOrder:783,metadata:{type:"text",group:"Суда, используемые для иных целей",required:!1,section:"4.6.4"}},{id:"attr-784",code:"DATE_OF_CADASTRAL_COST",name:"Дата определения кадастровой стоимости",description:"Тип: text, Группа: Суда, используемые для иных целей, Раздел: 4.6.4",isActive:!0,sortOrder:784,metadata:{type:"text",group:"Суда, используемые для иных целей",required:!1,section:"4.6.4"}},{id:"attr-785",code:"REGISTER_NUMBER",name:"Регистровый номер",description:"Тип: text, Группа: Суда, используемые для иных целей, Раздел: 4.6.4, Естественный ключ",isActive:!0,sortOrder:785,metadata:{type:"text",group:"Суда, используемые для иных целей",required:!0,section:"4.6.4"}},{id:"attr-786",code:"CLASS_OF_SHIP",name:"Класс судна",description:"Тип: text, Группа: Суда, используемые для иных целей, Раздел: 4.6.4",isActive:!0,sortOrder:786,metadata:{type:"text",group:"Суда, используемые для иных целей",required:!1,section:"4.6.4"}},{id:"attr-787",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип: text, Группа: Суда, используемые для иных целей, Раздел: 4.6.4",isActive:!0,sortOrder:787,metadata:{type:"text",group:"Суда, используемые для иных целей",required:!1,section:"4.6.4"}},{id:"attr-788",code:"IMO",name:"Идентификационный номер судна (IMO)",description:"Тип: text, Группа: Суда, используемые для иных целей, Раздел: 4.6.4",isActive:!0,sortOrder:788,metadata:{type:"text",group:"Суда, используемые для иных целей",required:!1,section:"4.6.4"}},{id:"attr-789",code:"PL_OF_STATE_REGIST_OF_THE_VESSEL",name:"Порт (место) государственной регистрации судна",description:"Тип: text, Группа: Суда, используемые для иных целей, Раздел: 4.6.4",isActive:!0,sortOrder:789,metadata:{type:"text",group:"Суда, используемые для иных целей",required:!1,section:"4.6.4"}},{id:"attr-790",code:"CLASS_OF_SHIP",name:"Класс судна",description:"Тип: text, Группа: Суда, используемые для рыболовства, Раздел: 4.6.3",isActive:!0,sortOrder:790,metadata:{type:"text",group:"Суда, используемые для рыболовства",required:!1,section:"4.6.3"}},{id:"attr-791",code:"YEAR_OF_ISSUE",name:"Год выпуска",description:"Тип: number, Группа: Суда, используемые для рыболовства, Раздел: 4.6.3",isActive:!0,sortOrder:791,metadata:{type:"number",group:"Суда, используемые для рыболовства",required:!1,section:"4.6.3"}},{id:"attr-792",code:"IMO",name:"Идентификационный номер судна (IMO)",description:"Тип: text, Группа: Суда, используемые для рыболовства, Раздел: 4.6.3",isActive:!0,sortOrder:792,metadata:{type:"text",group:"Суда, используемые для рыболовства",required:!1,section:"4.6.3"}},{id:"attr-793",code:"PL_OF_STATE_REGIST_OF_THE_VESSEL",name:"Порт (место) государственной регистрации судна",description:"Тип: text, Группа: Суда, используемые для рыболовства, Раздел: 4.6.3",isActive:!0,sortOrder:793,metadata:{type:"text",group:"Суда, используемые для рыболовства",required:!1,section:"4.6.3"}},{id:"attr-794",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип: text, Группа: Суда, используемые для рыболовства, Раздел: 4.6.3",isActive:!0,sortOrder:794,metadata:{type:"text",group:"Суда, используемые для рыболовства",required:!1,section:"4.6.3"}},{id:"attr-795",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип: text, Группа: Суда, используемые для рыболовства, Раздел: 4.6.3",isActive:!0,sortOrder:795,metadata:{type:"text",group:"Суда, используемые для рыболовства",required:!1,section:"4.6.3"}},{id:"attr-796",code:"REGISTER_NUMBER",name:"Регистровый номер",description:"Тип: text, Группа: Суда, используемые для рыболовства, Раздел: 4.6.3, Естественный ключ",isActive:!0,sortOrder:796,metadata:{type:"text",group:"Суда, используемые для рыболовства",required:!0,section:"4.6.3"}},{id:"attr-797",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип: text, Группа: Суда, используемые для рыболовства, Раздел: 4.6.3",isActive:!0,sortOrder:797,metadata:{type:"text",group:"Суда, используемые для рыболовства",required:!1,section:"4.6.3"}},{id:"attr-798",code:"ID_OF_SHIP",name:"Идентификационный номер морской подвижной службы, присвоенный судовой радиостанции (MMSI)",description:"Тип: text, Группа: Суда, используемые для рыболовства, Раздел: 4.6.3",isActive:!0,sortOrder:798,metadata:{type:"text",group:"Суда, используемые для рыболовства",required:!1,section:"4.6.3"}},{id:"attr-799",code:"DATE_OF_CADASTRAL_COST",name:"Дата определения кадастровой стоимости",description:"Тип: text, Группа: Суда, используемые для рыболовства, Раздел: 4.6.3",isActive:!0,sortOrder:799,metadata:{type:"text",group:"Суда, используемые для рыболовства",required:!1,section:"4.6.3"}},{id:"attr-800",code:"ADDR_STR_STORAGE",name:"Адрес строкой (места хранения)",description:"Тип: text, Группа: Суда, используемые для рыболовства, Раздел: 4.6.3",isActive:!0,sortOrder:800,metadata:{type:"text",group:"Суда, используемые для рыболовства",required:!1,section:"4.6.3"}},{id:"attr-801",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип: text, Группа: Плавучие сооружения, не являющиеся судами, Раздел: 4.6.5",isActive:!0,sortOrder:801,metadata:{type:"text",group:"Плавучие сооружения, не являющиеся судами",required:!1,section:"4.6.5"}},{id:"attr-802",code:"PL_OF_STATE_REGIST_OF_THE_VESSEL",name:"Порт (место) государственной регистрации судна",description:"Тип: text, Группа: Плавучие сооружения, не являющиеся судами, Раздел: 4.6.5",isActive:!0,sortOrder:802,metadata:{type:"text",group:"Плавучие сооружения, не являющиеся судами",required:!1,section:"4.6.5"}},{id:"attr-803",code:"ADDR_STR_STORAGE",name:"Адрес строкой (места хранения)",description:"Тип: text, Группа: Плавучие сооружения, не являющиеся судами, Раздел: 4.6.5",isActive:!0,sortOrder:803,metadata:{type:"text",group:"Плавучие сооружения, не являющиеся судами",required:!1,section:"4.6.5"}},{id:"attr-804",code:"ID_OF_SHIP",name:"Идентификационный номер морской подвижной службы, присвоенный судовой радиостанции (MMSI)",description:"Тип: text, Группа: Плавучие сооружения, не являющиеся судами, Раздел: 4.6.5",isActive:!0,sortOrder:804,metadata:{type:"text",group:"Плавучие сооружения, не являющиеся судами",required:!1,section:"4.6.5"}},{id:"attr-805",code:"REGISTER_NUMBER",name:"Регистровый номер",description:"Тип: text, Группа: Плавучие сооружения, не являющиеся судами, Раздел: 4.6.5, Естественный ключ",isActive:!0,sortOrder:805,metadata:{type:"text",group:"Плавучие сооружения, не являющиеся судами",required:!0,section:"4.6.5"}},{id:"attr-806",code:"IMO",name:"Идентификационный номер судна (IMO)",description:"Тип: text, Группа: Плавучие сооружения, не являющиеся судами, Раздел: 4.6.5",isActive:!0,sortOrder:806,metadata:{type:"text",group:"Плавучие сооружения, не являющиеся судами",required:!1,section:"4.6.5"}},{id:"attr-807",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип: text, Группа: Плавучие сооружения, не являющиеся судами, Раздел: 4.6.5",isActive:!0,sortOrder:807,metadata:{type:"text",group:"Плавучие сооружения, не являющиеся судами",required:!1,section:"4.6.5"}},{id:"attr-808",code:"CLASS_OF_SHIP",name:"Класс судна",description:"Тип: text, Группа: Плавучие сооружения, не являющиеся судами, Раздел: 4.6.5",isActive:!0,sortOrder:808,metadata:{type:"text",group:"Плавучие сооружения, не являющиеся судами",required:!1,section:"4.6.5"}},{id:"attr-809",code:"DATE_OF_CADASTRAL_COST",name:"Дата определения кадастровой стоимости",description:"Тип: text, Группа: Плавучие сооружения, не являющиеся судами, Раздел: 4.6.5",isActive:!0,sortOrder:809,metadata:{type:"text",group:"Плавучие сооружения, не являющиеся судами",required:!1,section:"4.6.5"}},{id:"attr-810",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип: text, Группа: Плавучие сооружения, не являющиеся судами, Раздел: 4.6.5",isActive:!0,sortOrder:810,metadata:{type:"text",group:"Плавучие сооружения, не являющиеся судами",required:!1,section:"4.6.5"}},{id:"attr-811",code:"YEAR_OF_ISSUE",name:"Год выпуска",description:"Тип: number, Группа: Плавучие сооружения, не являющиеся судами, Раздел: 4.6.5",isActive:!0,sortOrder:811,metadata:{type:"number",group:"Плавучие сооружения, не являющиеся судами",required:!1,section:"4.6.5"}},{id:"attr-812",code:"PL_OF_STATE_REGIST_OF_THE_VESSEL",name:"Порт (место) государственной регистрации судна",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:812,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-813",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:813,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-814",code:"ENGINE_POWER_KVT",name:"Мощность двигателя, кв.",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:814,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-815",code:"COUNTRY_OF_ORIGIN",name:"Страна производства",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:815,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-816",code:"YEAR_OF_ISSUE",name:"Год выпуска",description:"Тип: number, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:816,metadata:{type:"number",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-817",code:"TYPE_STORAGE_PLACE",name:"Тип места хранения",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:817,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-818",code:"FACTORY_NUMBER",name:"Заводской/серийный номер",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1, Естественный ключ",isActive:!0,sortOrder:818,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!0,section:"4.6.1"}},{id:"attr-819",code:"PASSENGER_CAPACITY_OF_THE_VESSEL",name:"Пассажировместимость судна",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:819,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-820",code:"MANUFACTORY_ORGANIZATION",name:"Организация - производитель",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:820,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-821",code:"STREET_STORAGE",name:"Улица (места хранения)",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:821,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-822",code:"ENGINE_POWER_LS",name:"Мощность двигателя, л. с.",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:822,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-823",code:"FULL_NAME_OF_LESSOR",name:"Полное наименование арендодателя места хранения",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:823,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-824",code:"DATE_OF_ARRANG_OF_STORAGE_PLACE",name:"Дата договора аренды места хранения",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:824,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-825",code:"ID_OF_SHIP",name:"Идентификационный номер морской подвижной службы, присвоенный судовой радиостанции (MMSI)",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:825,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-826",code:"END_DATE_OF_ARRANG_OF_STORAGE_PL",name:"Дата окончания договора аренды места хранения",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:826,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-827",code:"NAME_OF_OTHER_TYPE",name:"Наименование иного типа маломерного судна",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:827,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-828",code:"INN_OF_LESSOR",name:"ИНН арендодателя места хранения",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:828,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-829",code:"LENGTH_SHIP",name:"Длина судна в метрах",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:829,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-830",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:830,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-831",code:"NUMBER_OF_ARRANGEMENT_RENT",name:"Номер договора аренды места хранения",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:831,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-832",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:832,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-833",code:"CODE_OKSM_STORAGE",name:"Код ОКСМ (места хранения)",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:833,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-834",code:"CODE_OKATO_STORAGE",name:"Код ОКАТО (места хранения)",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:834,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-835",code:"REGISTER_NUMBER",name:"Регистровый номер",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:835,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-836",code:"INDEX_STORAGE",name:"Индекс (места хранения)",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:836,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-837",code:"CITY_STORAGE",name:"Город/населенный пункт (места хранения)",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:837,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-838",code:"RIGHT_STORAGE",name:"Право в отношении места хранения",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:838,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-839",code:"ADDR_STR_STORAGE",name:"Адрес строкой (места хранения)",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:839,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-840",code:"STRUCTURE_STORAGE",name:"Строение (места хранения)",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:840,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-841",code:"BUILDING_STORAGE",name:"Дом (места хранения)",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:841,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-842",code:"ADMINISTRATIVE_AREA_STORAGE",name:"Район (места хранения)",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:842,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-843",code:"ROOM_STORAGE",name:"Квартира (места хранения)",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:843,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-844",code:"LETTER_STORAGE",name:"Литера (места хранения)",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:844,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-845",code:"CODE_KLADR_STORAGE",name:"Код КЛАДР (места хранения)",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:845,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-846",code:"CODE_OKTMO_STORAGE",name:"Код ОКТМО (места хранения)",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:846,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-847",code:"CLASS_OF_SHIP",name:"Класс судна",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:847,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-848",code:"REGION_STORAGE",name:"Регион (места хранения)",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:848,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-849",code:"RIGHT_STORAGE_OTHER",name:"Вид иного права в отношении места хранения",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:849,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-850",code:"MODEL",name:"Модель",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:850,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-851",code:"CODE_FIAS_STORAGE",name:"Код фиас (места хранения)",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:851,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-852",code:"WEIGHT_OF_SHIP",name:"Масса судна в кг",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:852,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-853",code:"IMO",name:"Идентификационный номер судна (IMO)",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:853,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-854",code:"TYPE_STORAGE_PLACE_OTHER",name:"Вид иного типа места хранения",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:854,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-855",code:"CODE_OKATO",name:"Код ОКАТО",description:"Тип: text, Группа: Суда, используемые для перевозки пассажиров и их багажа, Раздел: 4.6.1",isActive:!0,sortOrder:855,metadata:{type:"text",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1"}},{id:"attr-856",code:"NET_ADDRESS",name:"Сетевой номер",description:"Тип: text, Группа: Железнодорожный подвижной состав, Раздел: 4.7, Естественный ключ",isActive:!0,sortOrder:856,metadata:{type:"text",group:"Железнодорожный подвижной состав",required:!0,section:"4.7"}},{id:"attr-857",code:"RZHD_MPS",name:"Заводской номер/ номер РЖД/МПС",description:"Тип: text, Группа: Железнодорожный подвижной состав, Раздел: 4.7, Естественный ключ",isActive:!0,sortOrder:857,metadata:{type:"text",group:"Железнодорожный подвижной состав",required:!0,section:"4.7"}},{id:"attr-858",code:"DATE_OF_TRANSITION_RIGTHS",name:"Дата перехода права собственности на предмет залога к залогодателю по договору поставки",description:"Тип: date, Группа: Железнодорожный подвижной состав, Раздел: 4.7",isActive:!0,sortOrder:858,metadata:{type:"date",group:"Железнодорожный подвижной состав",required:!1,section:"4.7"}},{id:"attr-859",code:"PR_OFFICIAL_DEALER",name:"Признак официального дилера",description:"Тип: boolean, Группа: Железнодорожный подвижной состав, Раздел: 4.7",isActive:!0,sortOrder:859,metadata:{type:"boolean",group:"Железнодорожный подвижной состав",required:!1,section:"4.7"}},{id:"attr-860",code:"CURRENCY_OF_PURCHASE",name:"Валюта приобретения",description:"Тип: text, Группа: Железнодорожный подвижной состав, Раздел: 4.7",isActive:!0,sortOrder:860,metadata:{type:"text",group:"Железнодорожный подвижной состав",required:!1,section:"4.7"}},{id:"attr-861",code:"PRICE_OF_PURCHASE",name:"Цена приобретения",description:"Тип: number, Группа: Железнодорожный подвижной состав, Раздел: 4.7",isActive:!0,sortOrder:861,metadata:{type:"number",group:"Железнодорожный подвижной состав",required:!1,section:"4.7"}},{id:"attr-862",code:"INN_OF_PROVIDER",name:"ИНН поставщика",description:"Тип: text, Группа: Железнодорожный подвижной состав, Раздел: 4.7",isActive:!0,sortOrder:862,metadata:{type:"text",group:"Железнодорожный подвижной состав",required:!1,section:"4.7"}},{id:"attr-863",code:"MODEL",name:"Модель",description:"Тип: text, Группа: Железнодорожный подвижной состав, Раздел: 4.7",isActive:!0,sortOrder:863,metadata:{type:"text",group:"Железнодорожный подвижной состав",required:!1,section:"4.7"}},{id:"attr-864",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип: text, Группа: Железнодорожный подвижной состав, Раздел: 4.7",isActive:!0,sortOrder:864,metadata:{type:"text",group:"Железнодорожный подвижной состав",required:!1,section:"4.7"}},{id:"attr-865",code:"INVENTORY_NUMBER",name:"Инвентарный номер",description:"Тип: text, Группа: Железнодорожный подвижной состав, Раздел: 4.7",isActive:!0,sortOrder:865,metadata:{type:"text",group:"Железнодорожный подвижной состав",required:!1,section:"4.7"}},{id:"attr-866",code:"NUMBER_OF_DEALER_CERTIFICATE",name:"Номер дилерского сертификата/соглашения",description:"Тип: text, Группа: Железнодорожный подвижной состав, Раздел: 4.7",isActive:!0,sortOrder:866,metadata:{type:"text",group:"Железнодорожный подвижной состав",required:!1,section:"4.7"}},{id:"attr-867",code:"OGRN_OF_PROVIDER",name:"ОГРН поставщика",description:"Тип: text, Группа: Железнодорожный подвижной состав, Раздел: 4.7",isActive:!0,sortOrder:867,metadata:{type:"text",group:"Железнодорожный подвижной состав",required:!1,section:"4.7"}},{id:"attr-868",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип: text, Группа: Железнодорожный подвижной состав, Раздел: 4.7",isActive:!0,sortOrder:868,metadata:{type:"text",group:"Железнодорожный подвижной состав",required:!1,section:"4.7"}},{id:"attr-869",code:"DATE_WAGON_TECHNICAL_PASSPORT",name:"Дата технического паспорта вагона",description:"Тип: date, Группа: Железнодорожный подвижной состав, Раздел: 4.7",isActive:!0,sortOrder:869,metadata:{type:"date",group:"Железнодорожный подвижной состав",required:!1,section:"4.7"}},{id:"attr-870",code:"PR_ACCREDIT_AS_PARTNER_OF_BANK",name:"Признак аккредитации в качестве Партнера Банка",description:"Тип: boolean, Группа: Железнодорожный подвижной состав, Раздел: 4.7",isActive:!0,sortOrder:870,metadata:{type:"boolean",group:"Железнодорожный подвижной состав",required:!1,section:"4.7"}},{id:"attr-871",code:"FULL_NAME_OF_PROVIDER",name:"Полное наименование поставщика",description:"Тип: text, Группа: Железнодорожный подвижной состав, Раздел: 4.7",isActive:!0,sortOrder:871,metadata:{type:"text",group:"Железнодорожный подвижной состав",required:!1,section:"4.7"}},{id:"attr-872",code:"ENDDATE_OF_DEALER_CERTIFICATE",name:"Дата окончания дилерского сертификата/соглашения",description:"Тип: date, Группа: Железнодорожный подвижной состав, Раздел: 4.7",isActive:!0,sortOrder:872,metadata:{type:"date",group:"Железнодорожный подвижной состав",required:!1,section:"4.7"}},{id:"attr-873",code:"COUNTRY_OF_ORIGIN",name:"Страна производства",description:"Тип: text, Группа: Железнодорожный подвижной состав, Раздел: 4.7",isActive:!0,sortOrder:873,metadata:{type:"text",group:"Железнодорожный подвижной состав",required:!1,section:"4.7"}},{id:"attr-874",code:"PR_BUY_IN_FUTURE",name:"Признак приобретаемого в будущем за счет кредитных средств имущества",description:"Тип: boolean, Группа: Железнодорожный подвижной состав, Раздел: 4.7",isActive:!0,sortOrder:874,metadata:{type:"boolean",group:"Железнодорожный подвижной состав",required:!1,section:"4.7"}},{id:"attr-875",code:"DATE_OF_DEALER_CERTIFICATE",name:"Дата дилерского сертификата/соглашения",description:"Тип: date, Группа: Железнодорожный подвижной состав, Раздел: 4.7",isActive:!0,sortOrder:875,metadata:{type:"date",group:"Железнодорожный подвижной состав",required:!1,section:"4.7"}},{id:"attr-876",code:"DATE_ACCREDIT_AS_PARTNER_OF_BANK",name:"Дата аккредитации в качестве Партнера банка",description:"Тип: date, Группа: Железнодорожный подвижной состав, Раздел: 4.7",isActive:!0,sortOrder:876,metadata:{type:"date",group:"Железнодорожный подвижной состав",required:!1,section:"4.7"}},{id:"attr-877",code:"MANUFACTORY_ORGANIZATION",name:"Организация - производитель",description:"Тип: text, Группа: Железнодорожный подвижной состав, Раздел: 4.7",isActive:!0,sortOrder:877,metadata:{type:"text",group:"Железнодорожный подвижной состав",required:!1,section:"4.7"}},{id:"attr-878",code:"LEGAL_ADDRES",name:"Юридический адрес поставщика",description:"Тип: text, Группа: Железнодорожный подвижной состав, Раздел: 4.7",isActive:!0,sortOrder:878,metadata:{type:"text",group:"Железнодорожный подвижной состав",required:!1,section:"4.7"}},{id:"attr-879",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип: boolean, Группа: Железнодорожный подвижной состав, Раздел: 4.7",isActive:!0,sortOrder:879,metadata:{type:"boolean",group:"Железнодорожный подвижной состав",required:!1,section:"4.7"}},{id:"attr-880",code:"WAGON_TECHNICAL_PASSPORT_NUMBER",name:"Номер технического паспорта вагона",description:"Тип: text, Группа: Железнодорожный подвижной состав, Раздел: 4.7",isActive:!0,sortOrder:880,metadata:{type:"text",group:"Железнодорожный подвижной состав",required:!1,section:"4.7"}},{id:"attr-881",code:"YEAR_OF_ISSUE",name:"Год выпуска",description:"Тип: number, Группа: Железнодорожный подвижной состав, Раздел: 4.7",isActive:!0,sortOrder:881,metadata:{type:"number",group:"Железнодорожный подвижной состав",required:!1,section:"4.7"}},{id:"attr-882",code:"ADDRESS_LOCATION",name:"Адрес места нахождения (депо приписки)",description:"Тип: text, Группа: Железнодорожный подвижной состав, Раздел: 4.7",isActive:!0,sortOrder:882,metadata:{type:"text",group:"Железнодорожный подвижной состав",required:!1,section:"4.7"}},{id:"attr-883",code:"CARRIAGE_NUMBER",name:"Номер вагона",description:"Тип: text, Группа: Железнодорожный подвижной состав, Раздел: 4.7",isActive:!0,sortOrder:883,metadata:{type:"text",group:"Железнодорожный подвижной состав",required:!1,section:"4.7"}},{id:"attr-884",code:"CODE_OKATO",name:"Код ОКАТО",description:"Тип: text, Группа: Железнодорожный подвижной состав, Раздел: 4.7",isActive:!0,sortOrder:884,metadata:{type:"text",group:"Железнодорожный подвижной состав",required:!1,section:"4.7"}},{id:"attr-885",code:"REGISTRATION_RECORD",name:"Регистрационная запись",description:"Тип: text, Группа: Космические объекты, Раздел: 4.8, Естественный ключ",isActive:!0,sortOrder:885,metadata:{type:"text",group:"Космические объекты",required:!0,section:"4.8"}},{id:"attr-886",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип: boolean, Группа: Космические объекты, Раздел: 4.8",isActive:!0,sortOrder:886,metadata:{type:"boolean",group:"Космические объекты",required:!1,section:"4.8"}},{id:"attr-887",code:"YEAR_OF_ISSUE",name:"Год выпуска",description:"Тип: number, Группа: Космические объекты, Раздел: 4.8",isActive:!0,sortOrder:887,metadata:{type:"number",group:"Космические объекты",required:!1,section:"4.8"}},{id:"attr-888",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип: text, Группа: Космические объекты, Раздел: 4.8",isActive:!0,sortOrder:888,metadata:{type:"text",group:"Космические объекты",required:!1,section:"4.8"}},{id:"attr-889",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип: text, Группа: Космические объекты, Раздел: 4.8",isActive:!0,sortOrder:889,metadata:{type:"text",group:"Космические объекты",required:!1,section:"4.8"}},{id:"attr-890",code:"OWNER_TIN",name:"Значение идентификационного кода залогодателя",description:"Тип: text, Группа: Товары в обороте, Раздел: 4.9, Естественный ключ",isActive:!0,sortOrder:890,metadata:{type:"text",group:"Товары в обороте",required:!0,section:"4.9"}},{id:"attr-891",code:"NUMBER_OF_PRODUCT_UNITS",name:"Количество единиц измерения товара",description:"Тип: number, Группа: Товары в обороте, Раздел: 4.9, Естественный ключ",isActive:!0,sortOrder:891,metadata:{type:"number",group:"Товары в обороте",required:!0,section:"4.9"}},{id:"attr-892",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип: text, Группа: Товары в обороте, Раздел: 4.9, Естественный ключ",isActive:!0,sortOrder:892,metadata:{type:"text",group:"Товары в обороте",required:!0,section:"4.9"}},{id:"attr-893",code:"FULL_NAME_OF_LESSOR",name:"Полное наименование арендодателя места хранения",description:"Тип: text, Группа: Товары в обороте, Раздел: 4.9",isActive:!0,sortOrder:893,metadata:{type:"text",group:"Товары в обороте",required:!1,section:"4.9"}},{id:"attr-894",code:"CODE_OKSM_STORAGE",name:"Код ОКСМ (места хранения)",description:"Тип: text, Группа: Товары в обороте, Раздел: 4.9",isActive:!0,sortOrder:894,metadata:{type:"text",group:"Товары в обороте",required:!1,section:"4.9"}},{id:"attr-895",code:"CODE_OKATO_STORAGE",name:"Код ОКАТО (места хранения)",description:"Тип: text, Группа: Товары в обороте, Раздел: 4.9",isActive:!0,sortOrder:895,metadata:{type:"text",group:"Товары в обороте",required:!1,section:"4.9"}},{id:"attr-896",code:"INDEX_STORAGE",name:"Индекс (места хранения)",description:"Тип: text, Группа: Товары в обороте, Раздел: 4.9",isActive:!0,sortOrder:896,metadata:{type:"text",group:"Товары в обороте",required:!1,section:"4.9"}},{id:"attr-897",code:"INN_OF_LESSOR",name:"ИНН арендодателя места хранения",description:"Тип: text, Группа: Товары в обороте, Раздел: 4.9",isActive:!0,sortOrder:897,metadata:{type:"text",group:"Товары в обороте",required:!1,section:"4.9"}},{id:"attr-898",code:"CITY_STORAGE",name:"Город/населенный пункт (места хранения)",description:"Тип: text, Группа: Товары в обороте, Раздел: 4.9",isActive:!0,sortOrder:898,metadata:{type:"text",group:"Товары в обороте",required:!1,section:"4.9"}},{id:"attr-899",code:"ADDR_STR_STORAGE",name:"Адрес строкой (места хранения)",description:"Тип: text, Группа: Товары в обороте, Раздел: 4.9",isActive:!0,sortOrder:899,metadata:{type:"text",group:"Товары в обороте",required:!1,section:"4.9"}},{id:"attr-900",code:"STRUCTURE_STORAGE",name:"Строение (места хранения)",description:"Тип: text, Группа: Товары в обороте, Раздел: 4.9",isActive:!0,sortOrder:900,metadata:{type:"text",group:"Товары в обороте",required:!1,section:"4.9"}},{id:"attr-901",code:"BUILDING_STORAGE",name:"Дом (места хранения)",description:"Тип: text, Группа: Товары в обороте, Раздел: 4.9",isActive:!0,sortOrder:901,metadata:{type:"text",group:"Товары в обороте",required:!1,section:"4.9"}},{id:"attr-902",code:"ADMINISTRATIVE_AREA_STORAGE",name:"Район (места хранения)",description:"Тип: text, Группа: Товары в обороте, Раздел: 4.9",isActive:!0,sortOrder:902,metadata:{type:"text",group:"Товары в обороте",required:!1,section:"4.9"}},{id:"attr-903",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип: text, Группа: Товары в обороте, Раздел: 4.9",isActive:!0,sortOrder:903,metadata:{type:"text",group:"Товары в обороте",required:!1,section:"4.9"}},{id:"attr-904",code:"ROOM_STORAGE",name:"Квартира (места хранения)",description:"Тип: text, Группа: Товары в обороте, Раздел: 4.9",isActive:!0,sortOrder:904,metadata:{type:"text",group:"Товары в обороте",required:!1,section:"4.9"}},{id:"attr-905",code:"LETTER_STORAGE",name:"Литера (места хранения)",description:"Тип: text, Группа: Товары в обороте, Раздел: 4.9",isActive:!0,sortOrder:905,metadata:{type:"text",group:"Товары в обороте",required:!1,section:"4.9"}},{id:"attr-906",code:"UNIT",name:"Единица измерения товара",description:"Тип: text, Группа: Товары в обороте, Раздел: 4.9",isActive:!0,sortOrder:906,metadata:{type:"text",group:"Товары в обороте",required:!1,section:"4.9"}},{id:"attr-907",code:"CODE_KLADR_STORAGE",name:"Код КЛАДР (места хранения)",description:"Тип: text, Группа: Товары в обороте, Раздел: 4.9",isActive:!0,sortOrder:907,metadata:{type:"text",group:"Товары в обороте",required:!1,section:"4.9"}},{id:"attr-908",code:"CODE_OKTMO_STORAGE",name:"Код ОКТМО (места хранения)",description:"Тип: text, Группа: Товары в обороте, Раздел: 4.9",isActive:!0,sortOrder:908,metadata:{type:"text",group:"Товары в обороте",required:!1,section:"4.9"}},{id:"attr-909",code:"REGION_STORAGE",name:"Регион (места хранения)",description:"Тип: text, Группа: Товары в обороте, Раздел: 4.9",isActive:!0,sortOrder:909,metadata:{type:"text",group:"Товары в обороте",required:!1,section:"4.9"}},{id:"attr-910",code:"END_DATE_OF_ARRANG_OF_STORAGE_PL",name:"Дата окончания договора аренды места хранения",description:"Тип: date, Группа: Товары в обороте, Раздел: 4.9",isActive:!0,sortOrder:910,metadata:{type:"date",group:"Товары в обороте",required:!1,section:"4.9"}},{id:"attr-911",code:"CODE_FIAS_STORAGE",name:"Код фиас (места хранения)",description:"Тип: text, Группа: Товары в обороте, Раздел: 4.9",isActive:!0,sortOrder:911,metadata:{type:"text",group:"Товары в обороте",required:!1,section:"4.9"}},{id:"attr-912",code:"STREET_STORAGE",name:"Улица (места хранения)",description:"Тип: text, Группа: Товары в обороте, Раздел: 4.9",isActive:!0,sortOrder:912,metadata:{type:"text",group:"Товары в обороте",required:!1,section:"4.9"}},{id:"attr-913",code:"DATE_OF_ARRANG_OF_STORAGE_PLACE",name:"Дата договора аренды места хранения",description:"Тип: date, Группа: Товары в обороте, Раздел: 4.9",isActive:!0,sortOrder:913,metadata:{type:"date",group:"Товары в обороте",required:!1,section:"4.9"}},{id:"attr-914",code:"COST_PER_UNIT_OF_MEASURE_GOODS",name:"Стоимость за единицу измерения товара в руб.",description:"Тип: number, Группа: Товары в обороте, Раздел: 4.9",isActive:!0,sortOrder:914,metadata:{type:"number",group:"Товары в обороте",required:!1,section:"4.9"}},{id:"attr-915",code:"TYPE_STORAGE_PLACE_OTHER",name:"Вид иного типа места хранения",description:"Тип: text, Группа: Товары в обороте, Раздел: 4.9",isActive:!0,sortOrder:915,metadata:{type:"text",group:"Товары в обороте",required:!1,section:"4.9"}},{id:"attr-916",code:"STORAGE_SPACE",name:"Количество места хранения",description:"Тип: number, Группа: Товары в обороте, Раздел: 4.9",isActive:!0,sortOrder:916,metadata:{type:"number",group:"Товары в обороте",required:!1,section:"4.9"}},{id:"attr-917",code:"RIGHT_STORAGE_OTHER",name:"Вид иного права в отношении места хранения",description:"Тип: text, Группа: Товары в обороте, Раздел: 4.9",isActive:!0,sortOrder:917,metadata:{type:"text",group:"Товары в обороте",required:!1,section:"4.9"}},{id:"attr-918",code:"RIGHT_STORAGE",name:"Право в отношении места хранения",description:"Тип: select, Группа: Товары в обороте, Раздел: 4.9",isActive:!0,sortOrder:918,metadata:{type:"select",group:"Товары в обороте",required:!1,section:"4.9"}},{id:"attr-919",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип: boolean, Группа: Товары в обороте, Раздел: 4.9",isActive:!0,sortOrder:919,metadata:{type:"boolean",group:"Товары в обороте",required:!1,section:"4.9"}},{id:"attr-920",code:"NUMBER_OF_STORAGE_LOCATIONS",name:"Количество мест хранения",description:"Тип: text, Группа: Товары в обороте, Раздел: 4.9",isActive:!0,sortOrder:920,metadata:{type:"text",group:"Товары в обороте",required:!1,section:"4.9"}},{id:"attr-921",code:"TYPE_STORAGE_PLACE",name:"Тип места хранения",description:"Тип: select, Группа: Товары в обороте, Раздел: 4.9",isActive:!0,sortOrder:921,metadata:{type:"select",group:"Товары в обороте",required:!1,section:"4.9"}},{id:"attr-922",code:"ACTUAL_BALANCE_OF_GOODS",name:"Фактический остаток товара, тыс.руб.",description:"Тип: number, Группа: Товары в обороте, Раздел: 4.9",isActive:!0,sortOrder:922,metadata:{type:"number",group:"Товары в обороте",required:!1,section:"4.9"}},{id:"attr-923",code:"VENDOR_CODE",name:"Артикул",description:"Тип: text, Группа: Товары в обороте, Раздел: 4.9",isActive:!0,sortOrder:923,metadata:{type:"text",group:"Товары в обороте",required:!1,section:"4.9"}},{id:"attr-924",code:"NUMBER_OF_ARRANGEMENT_RENT",name:"Номер договора аренды места хранения",description:"Тип: text, Группа: Товары в обороте, Раздел: 4.9",isActive:!0,sortOrder:924,metadata:{type:"text",group:"Товары в обороте",required:!1,section:"4.9"}},{id:"attr-925",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип: text, Группа: Все имущество залогодателя, Естественный ключ",isActive:!0,sortOrder:925,metadata:{type:"text",group:"Все имущество залогодателя",required:!0,section:""}},{id:"attr-926",code:"OWNER_TIN",name:"Значение идентификационного кода залогодателя",description:"Тип: text, Группа: Все имущество залогодателя, Естественный ключ",isActive:!0,sortOrder:926,metadata:{type:"text",group:"Все имущество залогодателя",required:!0,section:""}},{id:"attr-927",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип: boolean, Группа: Все имущество залогодателя",isActive:!0,sortOrder:927,metadata:{type:"boolean",group:"Все имущество залогодателя",required:!1,section:""}},{id:"attr-928",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип: text, Группа: Все имущество залогодателя",isActive:!0,sortOrder:928,metadata:{type:"text",group:"Все имущество залогодателя",required:!1,section:""}},{id:"attr-929",code:"id",name:"Идентификатор кредитной операции",description:"Тип: text, Группа: сделка",isActive:!0,sortOrder:929,metadata:{type:"text",group:"сделка",required:!1,section:""}},{id:"attr-930",code:"operationType",name:"Тип кредитной операции(сделка,лимит и пр)",description:"Тип: text, Группа: сделка",isActive:!0,sortOrder:930,metadata:{type:"text",group:"сделка",required:!1,section:""}},{id:"attr-931",code:"salePoint",name:"Точка продаж",description:"Тип: text, Группа: сделка",isActive:!0,sortOrder:931,metadata:{type:"text",group:"сделка",required:!1,section:""}},{id:"attr-932",code:"_",name:"Сегмент бизнеса",description:"Тип: text, Группа: сделка",isActive:!0,sortOrder:932,metadata:{type:"text",group:"сделка",required:!1,section:""}},{id:"attr-933",code:"___",name:"Сотрудник инициирующего подразделения (исполнитель) (КМ)",description:"Тип: text, Группа: сделка",isActive:!0,sortOrder:933,metadata:{type:"text",group:"сделка",required:!1,section:""}},{id:"attr-934",code:"_____",name:"Признак: объект залога является элементом группы",description:"Тип: boolean, Группа: Предметы обеспечения(залоги)",isActive:!0,sortOrder:934,metadata:{type:"boolean",group:"Предметы обеспечения(залоги)",required:!1,section:""}},{id:"attr-935",code:"attr_935",name:"Группа",description:"Тип: text, Группа: Предметы обеспечения(залоги)",isActive:!0,sortOrder:935,metadata:{type:"text",group:"Предметы обеспечения(залоги)",required:!1,section:""}},{id:"attr-936",code:"type",name:"Вид/тип обеспечения",description:"Тип: text, Группа: Предметы обеспечения(залоги)",isActive:!0,sortOrder:936,metadata:{type:"text",group:"Предметы обеспечения(залоги)",required:!1,section:""}},{id:"attr-937",code:"collateralGuids",name:"Предмет залога",description:"Тип: text, Группа: Предметы обеспечения(залоги)",isActive:!0,sortOrder:937,metadata:{type:"text",group:"Предметы обеспечения(залоги)",required:!1,section:""}},{id:"attr-938",code:"status",name:"Статус",description:"Тип: text, Группа: Предметы обеспечения(залоги)",isActive:!0,sortOrder:938,metadata:{type:"text",group:"Предметы обеспечения(залоги)",required:!1,section:""}},{id:"attr-939",code:"category",name:"Категория Качества",description:"Тип: text, Группа: Предметы обеспечения(залоги)",isActive:!0,sortOrder:939,metadata:{type:"text",group:"Предметы обеспечения(залоги)",required:!1,section:""}},{id:"attr-940",code:"нет (рассмотреть перенос в динамические)",name:"Признак обеспечения",description:"Тип: boolean, Группа: Предметы обеспечения(залоги)",isActive:!0,sortOrder:940,metadata:{type:"boolean",group:"Предметы обеспечения(залоги)",required:!1,section:""}},{id:"attr-941",code:"нет (рассмотреть перенос в динамические)",name:"Причины невозможности учета обеспечения для целей Инструкции о формировании РВПС",description:"Тип: text, Группа: Предметы обеспечения(залоги)",isActive:!0,sortOrder:941,metadata:{type:"text",group:"Предметы обеспечения(залоги)",required:!1,section:""}},{id:"attr-942",code:"нет (рассмотреть перенос в динамические)",name:"Залог выступает обеспечением обязательств",description:"Тип: text, Группа: Предметы обеспечения(залоги)",isActive:!0,sortOrder:942,metadata:{type:"text",group:"Предметы обеспечения(залоги)",required:!1,section:""}},{id:"attr-943",code:"id",name:"ID Залогодателя",description:"Тип: date, Группа: Владельцы",isActive:!0,sortOrder:943,metadata:{type:"date",group:"Владельцы",required:!1,section:""}},{id:"attr-944",code:"signLegal",name:"Признак юридического лица",description:"Тип: boolean, Группа: Владельцы",isActive:!0,sortOrder:944,metadata:{type:"boolean",group:"Владельцы",required:!1,section:""}},{id:"attr-945",code:"basicType",name:"Право владения",description:"Тип: text, Группа: Владельцы. Информация о праве владения",isActive:!0,sortOrder:945,metadata:{type:"text",group:"Владельцы. Информация о праве владения",required:!1,section:""}},{id:"attr-946",code:"additionalType",name:"Вид иного права",description:"Тип: text, Группа: Владельцы. Информация о праве владения",isActive:!0,sortOrder:946,metadata:{type:"text",group:"Владельцы. Информация о праве владения",required:!1,section:""}},{id:"attr-947",code:"share",name:"Размер доли в праве общей долевой собственности",description:"Тип: text, Группа: Владельцы. Информация о праве владения",isActive:!0,sortOrder:947,metadata:{type:"text",group:"Владельцы. Информация о праве владения",required:!1,section:""}},{id:"attr-948",code:"rentDueDate",name:"Дата окончания срока аренды",description:"Тип: date, Группа: Владельцы. Информация о праве владения",isActive:!0,sortOrder:948,metadata:{type:"date",group:"Владельцы. Информация о праве владения",required:!1,section:""}},{id:"attr-949",code:"isPrimaryOwner",name:"Признак основного владельца",description:"Тип: boolean, Группа: Владельцы. Информация о праве владения",isActive:!0,sortOrder:949,metadata:{type:"boolean",group:"Владельцы. Информация о праве владения",required:!1,section:""}},{id:"attr-950",code:"name",name:"Наименование документа-основания возникновения права владения у Залогодателя",description:"Тип: date, Группа: Владельцы. Информация о праве владения. Документы",isActive:!0,sortOrder:950,metadata:{type:"date",group:"Владельцы. Информация о праве владения. Документы",required:!1,section:""}},{id:"attr-951",code:"number",name:"Номер документа-основания возникновения права владения  у Залогодателя",description:"Тип: date, Группа: Владельцы. Информация о праве владения. Документы",isActive:!0,sortOrder:951,metadata:{type:"date",group:"Владельцы. Информация о праве владения. Документы",required:!1,section:""}},{id:"attr-952",code:"startDate",name:"Дата документа-основания возникновения права владения  у Залогодателя",description:"Тип: date, Группа: Владельцы. Информация о праве владения. Документы",isActive:!0,sortOrder:952,metadata:{type:"date",group:"Владельцы. Информация о праве владения. Документы",required:!1,section:""}},{id:"attr-953",code:"dueDate",name:"Дата окончания документа-основания возникновения права владения  у Залогодателя",description:"Тип: date, Группа: Владельцы. Информация о праве владения. Документы",isActive:!0,sortOrder:953,metadata:{type:"date",group:"Владельцы. Информация о праве владения. Документы",required:!1,section:""}},{id:"attr-954",code:"basicType",name:"Вид обременения",description:"Тип: text, Группа: Внешние обременения",isActive:!0,sortOrder:954,metadata:{type:"text",group:"Внешние обременения",required:!1,section:""}},{id:"attr-955",code:"additionalType",name:"Вид иного обременения",description:"Тип: text, Группа: Внешние обременения",isActive:!0,sortOrder:955,metadata:{type:"text",group:"Внешние обременения",required:!1,section:""}},{id:"attr-956",code:"name",name:"Наименование документа, порождающего обременение",description:"Тип: text, Группа: Внешние обременения. Документы",isActive:!0,sortOrder:956,metadata:{type:"text",group:"Внешние обременения. Документы",required:!1,section:""}},{id:"attr-957",code:"number",name:"Номер документа, порождающего обременение",description:"Тип: text, Группа: Внешние обременения. Документы",isActive:!0,sortOrder:957,metadata:{type:"text",group:"Внешние обременения. Документы",required:!1,section:""}},{id:"attr-958",code:"startDate",name:"Дата документа, порождающего обременение",description:"Тип: date, Группа: Внешние обременения. Документы",isActive:!0,sortOrder:958,metadata:{type:"date",group:"Внешние обременения. Документы",required:!1,section:""}},{id:"attr-959",code:"dueDate",name:"Дата окончания документа, порождающего обременение",description:"Тип: date, Группа: Внешние обременения. Документы",isActive:!0,sortOrder:959,metadata:{type:"date",group:"Внешние обременения. Документы",required:!1,section:""}},{id:"attr-960",code:"name",name:"Полное наименование стороны по документу, порождающему обременение",description:"Тип: text, Группа: Внешние обременения. Субьект",isActive:!0,sortOrder:960,metadata:{type:"text",group:"Внешние обременения. Субьект",required:!1,section:""}},{id:"attr-961",code:"itin",name:"ИНН стороны по документу, порождающему обременение",description:"Тип: text, Группа: Внешние обременения. Субьект",isActive:!0,sortOrder:961,metadata:{type:"text",group:"Внешние обременения. Субьект",required:!1,section:""}},{id:"attr-962",code:"valuationSubject.name",name:"Субъект оценки",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:962,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-963",code:"evaluator.name",name:"Наименование оценщика",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:963,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-964",code:"evaluator.inn",name:"ИНН оценщика",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:964,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-965",code:"evaluator.reportNumber",name:"Номер отчета об оценке оценщика",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:965,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-966",code:"evaluator.reportDate",name:"Дата отчета об оценке оценщика",description:"Тип: date, Группа: Оценка",isActive:!0,sortOrder:966,metadata:{type:"date",group:"Оценка",required:!1,section:""}},{id:"attr-967",code:"assessmentSubject.name",name:"Субъект экспертизы",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:967,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-968",code:"__",name:"Сотрудник проводивший оценку",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:968,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-969",code:"____",name:"Наименование структурного подразделения Банка, проводившего оценку",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:969,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-970",code:"valuationDate",name:"Дата оценки",description:"Тип: date, Группа: Оценка",isActive:!0,sortOrder:970,metadata:{type:"date",group:"Оценка",required:!1,section:""}},{id:"attr-971",code:"marketValues.type",name:"Тип стоимости (рыночная, ликвидационная, инвестиционная, справедливая, залоговая, кадастровая)",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:971,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-972",code:"marketValues.type",name:"Тип стоимости (рыночная, ликвидационная, инвестиционная, справедливая, залоговая, кадастровая)",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:972,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-973",code:"marketValues.type",name:"Тип стоимости (рыночная, ликвидационная, инвестиционная, справедливая, залоговая, кадастровая)",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:973,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-974",code:"marketValues.type",name:"Тип стоимости (рыночная, ликвидационная, инвестиционная, справедливая, залоговая, кадастровая)",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:974,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-975",code:"marketValues.type",name:"Тип стоимости (рыночная, ликвидационная, инвестиционная, справедливая, залоговая, кадастровая)",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:975,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-976",code:"marketValues.type",name:"Тип стоимости (рыночная, ликвидационная, инвестиционная, справедливая, залоговая, кадастровая)",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:976,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-977",code:"marketValues.type",name:"Тип стоимости (рыночная, ликвидационная, инвестиционная, справедливая, залоговая, кадастровая)",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:977,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-978",code:"marketValues.value",name:"Значение стоимости",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:978,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-979",code:"marketValues.value",name:"Значение стоимости",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:979,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-980",code:"marketValues.value",name:"Значение стоимости",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:980,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-981",code:"marketValues.value",name:"Значение стоимости",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:981,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-982",code:"marketValues.value",name:"Значение стоимости",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:982,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-983",code:"marketValues.value",name:"Значение стоимости",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:983,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-984",code:"marketValues.value",name:"Значение стоимости",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:984,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-985",code:"marketValues.value",name:"Значение стоимости",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:985,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-986",code:"marketValues.value",name:"Значение стоимости",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:986,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-987",code:"marketValues.value",name:"Значение стоимости",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:987,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-988",code:"marketValues.value",name:"Значение стоимости",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:988,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-989",code:"marketValues.value",name:"Значение стоимости",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:989,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-990",code:"marketValues.value",name:"Значение стоимости",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:990,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-991",code:"marketValues.value",name:"Значение стоимости",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:991,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-992",code:"marketValues.value",name:"Значение стоимости",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:992,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-993",code:"marketValues.value",name:"Значение стоимости",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:993,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-994",code:"marketValues.value",name:"Значение стоимости",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:994,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-995",code:"currency.code",name:"Код валюты",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:995,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-996",code:"currency.rate",name:"Курс валюты к рублю на дату оценки",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:996,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-997",code:"discount",name:"Залоговый дисконт",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:997,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-998",code:"isRevaluationRequired",name:"Признак требования переоценки",description:"Тип: boolean, Группа: Оценка",isActive:!0,sortOrder:998,metadata:{type:"boolean",group:"Оценка",required:!1,section:""}},{id:"attr-999",code:"startDate",name:"Дата начала действия справедливой стоимости",description:"Тип: date, Группа: Оценка",isActive:!0,sortOrder:999,metadata:{type:"date",group:"Оценка",required:!1,section:""}},{id:"attr-1000",code:"needInsurance",name:"Признак необходимости страхования",description:"Тип: boolean, Группа: страхование",isActive:!0,sortOrder:1e3,metadata:{type:"boolean",group:"страхование",required:!1,section:""}},{id:"attr-1001",code:"number",name:"Номер договора страхования",description:"Тип: text, Группа: страхование",isActive:!0,sortOrder:1001,metadata:{type:"text",group:"страхование",required:!1,section:""}},{id:"attr-1002",code:"date",name:"Дата договора страхования",description:"Тип: date, Группа: страхование",isActive:!0,sortOrder:1002,metadata:{type:"date",group:"страхование",required:!1,section:""}},{id:"attr-1003",code:"name",name:"Наименование страховой компании",description:"Тип: text, Группа: страхование. Компания",isActive:!0,sortOrder:1003,metadata:{type:"text",group:"страхование. Компания",required:!1,section:""}},{id:"attr-1004",code:"itin",name:"ИНН страховой компании",description:"Тип: text, Группа: страхование. Компания",isActive:!0,sortOrder:1004,metadata:{type:"text",group:"страхование. Компания",required:!1,section:""}},{id:"attr-1005",code:"value",name:"Страховая сумма по договору в руб.",description:"Тип: number, Группа: страхование. Страховая сумма",isActive:!0,sortOrder:1005,metadata:{type:"number",group:"страхование. Страховая сумма",required:!1,section:""}},{id:"attr-1006",code:"includedInLoan",name:"Страховая премия по договору, если включена в сумму кредита в руб.",description:"Тип: text, Группа: страхование. Страховая сумма",isActive:!0,sortOrder:1006,metadata:{type:"text",group:"страхование. Страховая сумма",required:!1,section:""}},{id:"attr-1007",code:"lossRiskInsurance",name:"Страхование от риска утраты или повреждения",description:"Тип: text, Группа: страхование. Тип страхования",isActive:!0,sortOrder:1007,metadata:{type:"text",group:"страхование. Тип страхования",required:!1,section:""}},{id:"attr-1008",code:"titleInsurance",name:"Страхование титула",description:"Тип: text, Группа: страхование. Тип страхования",isActive:!0,sortOrder:1008,metadata:{type:"text",group:"страхование. Тип страхования",required:!1,section:""}},{id:"attr-1009",code:"start",name:"Период страхования с",description:"Тип: text, Группа: страхование. Страховой период",isActive:!0,sortOrder:1009,metadata:{type:"text",group:"страхование. Страховой период",required:!1,section:""}},{id:"attr-1010",code:"end",name:"Период страхования по",description:"Тип: text, Группа: страхование. Страховой период",isActive:!0,sortOrder:1010,metadata:{type:"text",group:"страхование. Страховой период",required:!1,section:""}},{id:"attr-1011",code:"start",name:"Оплаченный период страхования с",description:"Тип: text, Группа: страхование. Оплаченный период",isActive:!0,sortOrder:1011,metadata:{type:"text",group:"страхование. Оплаченный период",required:!1,section:""}},{id:"attr-1012",code:"end",name:"Оплаченный период страхования по",description:"Тип: text, Группа: страхование. Оплаченный период",isActive:!0,sortOrder:1012,metadata:{type:"text",group:"страхование. Оплаченный период",required:!1,section:""}},{id:"attr-1013",code:"name",name:"Наименование выгодоприобретателя",description:"Тип: date, Группа: страхование. Наименование выгодоприобретателя",isActive:!0,sortOrder:1013,metadata:{type:"date",group:"страхование. Наименование выгодоприобретателя",required:!1,section:""}},{id:"attr-1014",code:"______",name:"Признак необходимости отчеты об оценке для мониторинга (да/нет)",description:"Тип: boolean, Группа: мониторинг",isActive:!0,sortOrder:1014,metadata:{type:"boolean",group:"мониторинг",required:!1,section:""}},{id:"attr-1015",code:"____",name:"Структурное подразделение ответственное за мониторинг залоговой сделки",description:"Тип: text, Группа: мониторинг",isActive:!0,sortOrder:1015,metadata:{type:"text",group:"мониторинг",required:!1,section:""}},{id:"attr-1016",code:"__",name:"Периодичность мониторинга, срок",description:"Тип: text, Группа: мониторинг",isActive:!0,sortOrder:1016,metadata:{type:"text",group:"мониторинг",required:!1,section:""}},{id:"attr-1017",code:"__",name:"Периодичность мониторинга, срок",description:"Тип: text, Группа: мониторинг",isActive:!0,sortOrder:1017,metadata:{type:"text",group:"мониторинг",required:!1,section:""}},{id:"attr-1018",code:"__",name:"Периодичность мониторинга, дни",description:"Тип: text, Группа: мониторинг",isActive:!0,sortOrder:1018,metadata:{type:"text",group:"мониторинг",required:!1,section:""}},{id:"attr-1019",code:"__",name:"Дата фактической проверки",description:"Тип: date, Группа: мониторинг, Естественный ключ",isActive:!0,sortOrder:1019,metadata:{type:"date",group:"мониторинг",required:!0,section:""}},{id:"attr-1020",code:"__",name:"Дата планируемой проверки",description:"Тип: date, Группа: мониторинг",isActive:!0,sortOrder:1020,metadata:{type:"date",group:"мониторинг",required:!1,section:""}},{id:"attr-1021",code:"_",name:"Инициирующее подразделение",description:"Тип: text, Группа: мониторинг",isActive:!0,sortOrder:1021,metadata:{type:"text",group:"мониторинг",required:!1,section:""}},{id:"attr-1022",code:"attr_1022",name:"Исполнитель",description:"Тип: text, Группа: мониторинг",isActive:!0,sortOrder:1022,metadata:{type:"text",group:"мониторинг",required:!1,section:""}},{id:"attr-1023",code:"type",name:"Тип",description:"Тип: text, Группа: стоимость",isActive:!0,sortOrder:1023,metadata:{type:"text",group:"стоимость",required:!1,section:""}},{id:"attr-1024",code:"value",name:"Значение",description:"Тип: text, Группа: стоимость",isActive:!0,sortOrder:1024,metadata:{type:"text",group:"стоимость",required:!1,section:""}},{id:"attr-1025",code:"currency",name:"Валюта",description:"Тип: text, Группа: стоимость",isActive:!0,sortOrder:1025,metadata:{type:"text",group:"стоимость",required:!1,section:""}},{id:"attr-1026",code:"type",name:"Id валюты из справочника Currency",description:"Тип: text, Группа: стоимость. Валюта",isActive:!0,sortOrder:1026,metadata:{type:"text",group:"стоимость. Валюта",required:!1,section:""}},{id:"attr-1027",code:"isoType",name:"Код валюты",description:"Тип: text, Группа: стоимость. Валюта",isActive:!0,sortOrder:1027,metadata:{type:"text",group:"стоимость. Валюта",required:!1,section:""}},{id:"attr-1028",code:"date",name:"Дата курса валюты",description:"Тип: date, Группа: стоимость. Валюта",isActive:!0,sortOrder:1028,metadata:{type:"date",group:"стоимость. Валюта",required:!1,section:""}},{id:"attr-1029",code:"rate",name:"Курс валюты к рублю на дату оценки",description:"Тип: text, Группа: стоимость. Валюта",isActive:!0,sortOrder:1029,metadata:{type:"text",group:"стоимость. Валюта",required:!1,section:""}},{id:"attr-1030",code:"name",name:"Наименование",description:"Тип: text, Группа: стоимость. Валюта",isActive:!0,sortOrder:1030,metadata:{type:"text",group:"стоимость. Валюта",required:!1,section:""}},{id:"attr-1031",code:"date",name:"Дата оценки",description:"Тип: date, Группа: стоимость",isActive:!0,sortOrder:1031,metadata:{type:"date",group:"стоимость",required:!1,section:""}},{id:"attr-1032",code:"discount",name:"Дисконт",description:"Тип: text, Группа: стоимость",isActive:!0,sortOrder:1032,metadata:{type:"text",group:"стоимость",required:!1,section:""}},{id:"attr-1033",code:"message",name:'Признак "по ВНД переоценка не требуется"',description:"Тип: boolean, Группа: стоимость",isActive:!0,sortOrder:1033,metadata:{type:"boolean",group:"стоимость",required:!1,section:""}},{id:"attr-1034",code:"subjectValuation",name:"Субъект оценки",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:1034,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-1035",code:"subjectAssessment",name:"Субъект залоговой экспертизы",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:1035,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-1036",code:"__",name:"Сотрудник проводивший оценку",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:1036,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-1037",code:"____",name:"Наименование структурного подразделения Банка, проводившего оценку",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:1037,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-1038",code:"status",name:"Статус залога",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:1038,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-1039",code:"category",name:"Категория качества",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:1039,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-1040",code:"type",name:"Тип субъекта оценки",description:"Тип: text, Группа: Оценщик",isActive:!0,sortOrder:1040,metadata:{type:"text",group:"Оценщик",required:!1,section:""}},{id:"attr-1041",code:"name",name:"Наименование субъекта оценки",description:"Тип: text, Группа: Оценщик",isActive:!0,sortOrder:1041,metadata:{type:"text",group:"Оценщик",required:!1,section:""}},{id:"attr-1042",code:"inn",name:"ИНН независимого оценщика",description:"Тип: text, Группа: Оценщик",isActive:!0,sortOrder:1042,metadata:{type:"text",group:"Оценщик",required:!1,section:""}},{id:"attr-1043",code:"number",name:"Номер",description:"Тип: text, Группа: Отчет об оценке",isActive:!0,sortOrder:1043,metadata:{type:"text",group:"Отчет об оценке",required:!1,section:""}},{id:"attr-1044",code:"attr_1044",name:"Дата",description:"Тип: date, Группа: Отчет об оценке",isActive:!0,sortOrder:1044,metadata:{type:"date",group:"Отчет об оценке",required:!1,section:""}},{id:"attr-1045",code:"verificationPerformerName",name:"Субъект верификации Отчета",description:"Тип: text, Группа: Отчет об оценке",isActive:!0,sortOrder:1045,metadata:{type:"text",group:"Отчет об оценке",required:!1,section:""}},{id:"attr-1046",code:"documentType",name:"Документ оценки",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:1046,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-1047",code:"assessmentAuthority",name:"Субъект залоговой экспертизы",description:"Тип: text, Группа: Оценка",isActive:!0,sortOrder:1047,metadata:{type:"text",group:"Оценка",required:!1,section:""}},{id:"attr-1048",code:"isValuationRequired",name:"Признак переоценки",description:"Тип: boolean, Группа: Оценка",isActive:!0,sortOrder:1048,metadata:{type:"boolean",group:"Оценка",required:!1,section:""}},{id:"attr-1049",code:"name",name:"Название компании",description:"Тип: text, Группа: Рекомендованные оценочные компании",isActive:!0,sortOrder:1049,metadata:{type:"text",group:"Рекомендованные оценочные компании",required:!1,section:""}},{id:"attr-1050",code:"inn",name:"ИНН организации",description:"Тип: text, Группа: Рекомендованные оценочные компании",isActive:!0,sortOrder:1050,metadata:{type:"text",group:"Рекомендованные оценочные компании",required:!1,section:""}},{id:"attr-1051",code:"address",name:"Юридический адрес организации",description:"Тип: text, Группа: Рекомендованные оценочные компании",isActive:!0,sortOrder:1051,metadata:{type:"text",group:"Рекомендованные оценочные компании",required:!1,section:""}},{id:"attr-1052",code:"email",name:"Адрес электронной почты организации",description:"Тип: text, Группа: Рекомендованные оценочные компании",isActive:!0,sortOrder:1052,metadata:{type:"text",group:"Рекомендованные оценочные компании",required:!1,section:""}},{id:"attr-1053",code:"director",name:"Руководитель организации",description:"Тип: text, Группа: Рекомендованные оценочные компании",isActive:!0,sortOrder:1053,metadata:{type:"text",group:"Рекомендованные оценочные компании",required:!1,section:""}},{id:"attr-1054",code:"website",name:"Официальный вебсайт компании",description:"Тип: text, Группа: Рекомендованные оценочные компании",isActive:!0,sortOrder:1054,metadata:{type:"text",group:"Рекомендованные оценочные компании",required:!1,section:""}},{id:"attr-1055",code:"note",name:"Примечания",description:"Тип: text, Группа: Рекомендованные оценочные компании",isActive:!0,sortOrder:1055,metadata:{type:"text",group:"Рекомендованные оценочные компании",required:!1,section:""}},{id:"attr-1056",code:"jurisdiction",name:"Регионы, с которыми ассоциирована РОК",description:"Тип: text, Группа: Рекомендованные оценочные компании",isActive:!0,sortOrder:1056,metadata:{type:"text",group:"Рекомендованные оценочные компании",required:!1,section:""}},{id:"attr-1057",code:"nonresidentialProperty",name:"Флаг, говорящий о том, что РОК поддерживает оценку объектов нежилой недвижимости, в том числе земельных участков",description:"Тип: text, Группа: Рекомендованные оценочные компании",isActive:!0,sortOrder:1057,metadata:{type:"text",group:"Рекомендованные оценочные компании",required:!1,section:""}},{id:"attr-1058",code:"residentialPropertyWithLand",name:"Флаг, говорящий о том, что РОК поддерживает оценку жилых домов с земельным участком",description:"Тип: text, Группа: Рекомендованные оценочные компании",isActive:!0,sortOrder:1058,metadata:{type:"text",group:"Рекомендованные оценочные компании",required:!1,section:""}},{id:"attr-1059",code:"equipment",name:"Флаг, говорящий о том, что РОК поддерживает оценку оборудования",description:"Тип: text, Группа: Рекомендованные оценочные компании",isActive:!0,sortOrder:1059,metadata:{type:"text",group:"Рекомендованные оценочные компании",required:!1,section:""}},{id:"attr-1060",code:"otherMovableProperty",name:'Флаг, говорящий о том, что РОК поддерживает оценку "прочего" движимого имущества',description:"Тип: text, Группа: Рекомендованные оценочные компании",isActive:!0,sortOrder:1060,metadata:{type:"text",group:"Рекомендованные оценочные компании",required:!1,section:""}},{id:"attr-1061",code:"otherProperty",name:'Флаг, говорящий о том, что РОК поддерживает оценку "прочего" имущества',description:"Тип: text, Группа: Рекомендованные оценочные компании",isActive:!0,sortOrder:1061,metadata:{type:"text",group:"Рекомендованные оценочные компании",required:!1,section:""}},{id:"attr-1062",code:"otherResidentialProperty",name:'Флаг, говорящий о том, что РОК поддерживает оценку "прочих" объектов жилой недвижимости',description:"Тип: text, Группа: Рекомендованные оценочные компании",isActive:!0,sortOrder:1062,metadata:{type:"text",group:"Рекомендованные оценочные компании",required:!1,section:""}},{id:"attr-1063",code:"Список документов",name:"documents",description:"Тип: text, Группа: Список документов",isActive:!0,sortOrder:1063,metadata:{type:"text",group:"Список документов",required:!1,section:""}},{id:"attr-1064",code:"Id документа в сервисе Оценка",name:"id",description:"Тип: text, Группа: Список документов",isActive:!0,sortOrder:1064,metadata:{type:"text",group:"Список документов",required:!1,section:""}},{id:"attr-1065",code:"Тип документа",name:"type",description:"Тип: text, Группа: Список документов",isActive:!0,sortOrder:1065,metadata:{type:"text",group:"Список документов",required:!1,section:""}},{id:"attr-1066",code:"Наименование документа",name:"name",description:"Тип: text, Группа: Список документов",isActive:!0,sortOrder:1066,metadata:{type:"text",group:"Список документов",required:!1,section:""}},{id:"attr-1067",code:"Дата документа",name:"date",description:"Тип: date, Группа: Список документов",isActive:!0,sortOrder:1067,metadata:{type:"date",group:"Список документов",required:!1,section:""}},{id:"attr-1068",code:"Номер документа",name:"number",description:"Тип: number, Группа: Список документов",isActive:!0,sortOrder:1068,metadata:{type:"number",group:"Список документов",required:!1,section:""}},{id:"attr-1069",code:"Ссылка на документ",name:"link",description:"Тип: text, Группа: Список документов",isActive:!0,sortOrder:1069,metadata:{type:"text",group:"Список документов",required:!1,section:""}},{id:"attr-1070",code:"Id документа в сервисе документов",name:"documentId",description:"Тип: text, Группа: Список документов",isActive:!0,sortOrder:1070,metadata:{type:"text",group:"Список документов",required:!1,section:""}},{id:"attr-1071",code:"Id ПЗ",name:"collateralId",description:"Тип: text, Группа: Список документов",isActive:!0,sortOrder:1071,metadata:{type:"text",group:"Список документов",required:!1,section:""}},{id:"attr-1072",code:"Id документа в СХК",name:"cssId",description:"Тип: text, Группа: Список документов",isActive:!0,sortOrder:1072,metadata:{type:"text",group:"Список документов",required:!1,section:""}},{id:"attr-1073",code:"pledgeAgreementId",name:"Идентификатор договора залога в АБС",description:"Тип: text, Группа: Прочие",isActive:!0,sortOrder:1073,metadata:{type:"text",group:"Прочие",required:!1,section:""}},{id:"attr-1074",code:"pledgeAgreementName",name:"Наименование договора залога в АБС",description:"Тип: text, Группа: Прочие",isActive:!0,sortOrder:1074,metadata:{type:"text",group:"Прочие",required:!1,section:""}},{id:"attr-1075",code:"pledgeAgreementNumber",name:"Номер договора залога в АБС",description:"Тип: text, Группа: Прочие",isActive:!0,sortOrder:1075,metadata:{type:"text",group:"Прочие",required:!1,section:""}},{id:"attr-1076",code:"pledgeAgreementStartDate",name:"Дата начала договора залога в АБС",description:"Тип: date, Группа: Прочие",isActive:!0,sortOrder:1076,metadata:{type:"date",group:"Прочие",required:!1,section:""}},{id:"attr-1077",code:"pledgeAgreementDueDate",name:"Дата окончания договора залога в АБС",description:"Тип: date, Группа: Прочие",isActive:!0,sortOrder:1077,metadata:{type:"date",group:"Прочие",required:!1,section:""}},{id:"attr-1078",code:"pledgeAgreementPlanDate",name:"Плановая дата окончания договора залога в АБС",description:"Тип: date, Группа: Прочие",isActive:!0,sortOrder:1078,metadata:{type:"date",group:"Прочие",required:!1,section:""}},{id:"attr-1079",code:"pledgeAgreementAmount",name:"Сумма договора залога в АБС",description:"Тип: number, Группа: Прочие",isActive:!0,sortOrder:1079,metadata:{type:"number",group:"Прочие",required:!1,section:""}},{id:"attr-1080",code:"pledgeAgreementCurrency",name:"Валюта договора залога в АБС",description:"Тип: text, Группа: Прочие",isActive:!0,sortOrder:1080,metadata:{type:"text",group:"Прочие",required:!1,section:""}},{id:"attr-1081",code:"loanAgreementId",name:"Идентификатор договора основного обязательства(кредитного) в АБС",description:"Тип: text, Группа: Прочие",isActive:!0,sortOrder:1081,metadata:{type:"text",group:"Прочие",required:!1,section:""}},{id:"attr-1082",code:'loanAgreementNumber"',name:"Номер договора основного обязательства(кредитного) в АБС",description:"Тип: text, Группа: Прочие",isActive:!0,sortOrder:1082,metadata:{type:"text",group:"Прочие",required:!1,section:""}},{id:"attr-1083",code:"loanAgreementStartDate",name:"Дата начала договора основного обязательства(кредитного) в АБС",description:"Тип: date, Группа: Прочие",isActive:!0,sortOrder:1083,metadata:{type:"date",group:"Прочие",required:!1,section:""}},{id:"attr-1084",code:"loanAgreementDueDate",name:"Дата окончания договора основного обязательства(кредитного) в АБС",description:"Тип: date, Группа: Прочие",isActive:!0,sortOrder:1084,metadata:{type:"date",group:"Прочие",required:!1,section:""}},{id:"attr-1085",code:"loanAgreementTerm",name:"Срок в месяцах договора основного обязательства(кредитного) в АБС",description:"Тип: text, Группа: Прочие",isActive:!0,sortOrder:1085,metadata:{type:"text",group:"Прочие",required:!1,section:""}},{id:"attr-1086",code:"loanAgreementLink",name:"Процент покрытия договора основного обязательства(кредитного) в АБС",description:"Тип: number, Группа: Прочие",isActive:!0,sortOrder:1086,metadata:{type:"number",group:"Прочие",required:!1,section:""}},{id:"attr-1087",code:"registrationNumber",name:"Номер регистрации обременения",description:"Тип: text, Группа: Прочие",isActive:!0,sortOrder:1087,metadata:{type:"text",group:"Прочие",required:!1,section:""}},{id:"attr-1088",code:"registrationDate",name:"Дата регистрации обременения",description:"Тип: date, Группа: Прочие",isActive:!0,sortOrder:1088,metadata:{type:"date",group:"Прочие",required:!1,section:""}},{id:"attr-1089",code:"accountNumber",name:"Внебалансовый счет учета залога",description:"Тип: text, Группа: Прочие",isActive:!0,sortOrder:1089,metadata:{type:"text",group:"Прочие",required:!1,section:""}},{id:"attr-1090",code:"offBalanceCost",name:"Баланс внебалансовый счет учета залога",description:"Тип: text, Группа: Прочие",isActive:!0,sortOrder:1090,metadata:{type:"text",group:"Прочие",required:!1,section:""}},{id:"attr-1091",code:"fairCost",name:"Справедливая стоимость категорируемого имущества на договоре залога",description:"Тип: number, Группа: Прочие",isActive:!0,sortOrder:1091,metadata:{type:"number",group:"Прочие",required:!1,section:""}},{id:"attr-1092",code:"status",name:"Статус обременения",description:"Тип: text, Группа: Прочие",isActive:!0,sortOrder:1092,metadata:{type:"text",group:"Прочие",required:!1,section:""}},{id:"attr-1093",code:"pledgeAccountingStartDate",name:"Дата постановки залога на учет",description:"Тип: date, Группа: Прочие",isActive:!0,sortOrder:1093,metadata:{type:"date",group:"Прочие",required:!1,section:""}},{id:"attr-1094",code:"pledgeAccountingRemovalDate",name:"Дата снятия залога с учета",description:"Тип: date, Группа: Прочие",isActive:!0,sortOrder:1094,metadata:{type:"date",group:"Прочие",required:!1,section:""}},{id:"attr-1095",code:"pledgeAgreementType",name:"Тип договора залога",description:"Тип: text, Группа: Прочие",isActive:!0,sortOrder:1095,metadata:{type:"text",group:"Прочие",required:!1,section:""}},{id:"attr-1096",code:"loanAgreementName",name:"Наименование договора основного обязательства(кредитного) в АБС",description:"Тип: text, Группа: Прочие",isActive:!0,sortOrder:1096,metadata:{type:"text",group:"Прочие",required:!1,section:""}},{id:"attr-1097",code:"loanAgreementStatus",name:"Статус договора основного обязательства(кредитного) в АБС",description:"Тип: text, Группа: Прочие",isActive:!0,sortOrder:1097,metadata:{type:"text",group:"Прочие",required:!1,section:""}},{id:"attr-1098",code:"loanAgreementType",name:"Тип договора основного обязательства(кредитного) в АБС",description:"Тип: text, Группа: Прочие",isActive:!0,sortOrder:1098,metadata:{type:"text",group:"Прочие",required:!1,section:""}},{id:"attr-1099",code:"salePoint",name:"Точка продаж в АБС",description:"Тип: text, Группа: Прочие",isActive:!0,sortOrder:1099,metadata:{type:"text",group:"Прочие",required:!1,section:""}},{id:"attr-1100",code:"linkType",name:"Характер связи залога с договором",description:"Тип: text, Группа: Прочие",isActive:!0,sortOrder:1100,metadata:{type:"text",group:"Прочие",required:!1,section:""}},{id:"attr-1101",code:"linkTypeChangeDate",name:"Дата закрытия связи залога с договором",description:"Тип: date, Группа: Прочие",isActive:!0,sortOrder:1101,metadata:{type:"date",group:"Прочие",required:!1,section:""}},{id:"attr-1102",code:"offBalanceAccount",name:"Внебалансовый счет",description:"Тип: text, Группа: Прочие",isActive:!0,sortOrder:1102,metadata:{type:"text",group:"Прочие",required:!1,section:""}},{id:"attr-1103",code:"idCft",name:"Идентификатор внебалансового счета в АБС",description:"Тип: text, Группа: Прочие",isActive:!0,sortOrder:1103,metadata:{type:"text",group:"Прочие",required:!1,section:""}},{id:"attr-1104",code:"accountNumber",name:"Внебалансовый счет учета залога",description:"Тип: text, Группа: Прочие",isActive:!0,sortOrder:1104,metadata:{type:"text",group:"Прочие",required:!1,section:""}},{id:"attr-1105",code:"offBalanceCost",name:"Баланс внебалансовый счет учета залога",description:"Тип: text, Группа: Прочие",isActive:!0,sortOrder:1105,metadata:{type:"text",group:"Прочие",required:!1,section:""}},{id:"attr-1106",code:"pledgeAccountingStartDate",name:"Дата открытия счета учета",description:"Тип: date, Группа: Прочие",isActive:!0,sortOrder:1106,metadata:{type:"date",group:"Прочие",required:!1,section:""}},{id:"attr-1107",code:"pledgeAccountingRemovalDate",name:"Дата закрытия счета учета",description:"Тип: date, Группа: Прочие",isActive:!0,sortOrder:1107,metadata:{type:"date",group:"Прочие",required:!1,section:""}}],createdAt:t,updatedAt:t},{id:"dict-collateral-attributes-zalog",name:"Атрибуты залога",code:"collateral_attributes_zalog",description:"Справочник атрибутов залога из файла atr1.xlsx",items:[{id:"zalog-attr-1",code:"GROUP_WHICH_CULTURE_BELONGS",name:"Группа, к которой относится культура",description:"Тип имущества: Будущий урожай; Раздел отчета: 4.10; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:1,metadata:{type:"string",group:"Будущий урожай",required:!0,section:"4.10",naturalKey:!0}},{id:"zalog-attr-2",code:"OWNER_TIN",name:"Значение идентификационного кода залогодателя",description:"Тип имущества: Будущий урожай; Раздел отчета: 4.10; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:2,metadata:{type:"string",group:"Будущий урожай",required:!0,section:"4.10",naturalKey:!0}},{id:"zalog-attr-3",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип имущества: Будущий урожай; Раздел отчета: 4.10; Тип значения: STRING",isActive:!0,sortOrder:3,metadata:{type:"string",group:"Будущий урожай",required:!1,section:"4.10",naturalKey:!1}},{id:"zalog-attr-4",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип имущества: Будущий урожай; Раздел отчета: 4.10; Тип значения: BOOLEAN",isActive:!0,sortOrder:4,metadata:{type:"boolean",group:"Будущий урожай",required:!1,section:"4.10",naturalKey:!1}},{id:"zalog-attr-5",code:"ADDRESS_BASE",name:"Адрес места базирования",description:"Тип имущества: Будущий урожай; Раздел отчета: 4.10; Тип значения: STRING",isActive:!0,sortOrder:5,metadata:{type:"string",group:"Будущий урожай",required:!1,section:"4.10",naturalKey:!1}},{id:"zalog-attr-6",code:"GROUP_WHICH_CULTURE_BELONGS_OTHER",name:"Группа, к которой относится культура, иное",description:"Тип имущества: Будущий урожай; Раздел отчета: 4.10; Тип значения: STRING",isActive:!0,sortOrder:6,metadata:{type:"string",group:"Будущий урожай",required:!1,section:"4.10",naturalKey:!1}},{id:"zalog-attr-7",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип имущества: Будущий урожай; Раздел отчета: 4.10; Тип значения: STRING",isActive:!0,sortOrder:7,metadata:{type:"string",group:"Будущий урожай",required:!1,section:"4.10",naturalKey:!1}},{id:"zalog-attr-8",code:"CODE_OKATO",name:"Код ОКАТО",description:"Тип имущества: Будущий урожай; Раздел отчета: 4.10; Тип значения: STRING",isActive:!0,sortOrder:8,metadata:{type:"string",group:"Будущий урожай",required:!1,section:"4.10",naturalKey:!1}},{id:"zalog-attr-9",code:"OWNER_TIN",name:"Значение идентификационного кода залогодателя",description:"Тип имущества: Аффинированные драгоценные металлы в слитках; Раздел отчета: 4.11; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:9,metadata:{type:"string",group:"Аффинированные драгоценные металлы в слитках",required:!0,section:"4.11",naturalKey:!0}},{id:"zalog-attr-10",code:"QUANTITY",name:"Количество слитков, шт.",description:"Тип имущества: Аффинированные драгоценные металлы в слитках; Раздел отчета: 4.11; Тип значения: NUMBER; Ключевой атрибут: Да",isActive:!0,sortOrder:10,metadata:{type:"number",group:"Аффинированные драгоценные металлы в слитках",required:!0,section:"4.11",naturalKey:!0}},{id:"zalog-attr-11",code:"WEIGHT",name:"Масса, г.",description:"Тип имущества: Аффинированные драгоценные металлы в слитках; Раздел отчета: 4.11; Тип значения: NUMBER; Ключевой атрибут: Да",isActive:!0,sortOrder:11,metadata:{type:"number",group:"Аффинированные драгоценные металлы в слитках",required:!0,section:"4.11",naturalKey:!0}},{id:"zalog-attr-12",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип имущества: Аффинированные драгоценные металлы в слитках; Раздел отчета: 4.11; Тип значения: STRING",isActive:!0,sortOrder:12,metadata:{type:"string",group:"Аффинированные драгоценные металлы в слитках",required:!1,section:"4.11",naturalKey:!1}},{id:"zalog-attr-13",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип имущества: Аффинированные драгоценные металлы в слитках; Раздел отчета: 4.11; Тип значения: STRING",isActive:!0,sortOrder:13,metadata:{type:"string",group:"Аффинированные драгоценные металлы в слитках",required:!1,section:"4.11",naturalKey:!1}},{id:"zalog-attr-14",code:"ADDRESS_BASE",name:"Адрес места базирования",description:"Тип имущества: Аффинированные драгоценные металлы в слитках; Раздел отчета: 4.11; Тип значения: STRING",isActive:!0,sortOrder:14,metadata:{type:"string",group:"Аффинированные драгоценные металлы в слитках",required:!1,section:"4.11",naturalKey:!1}},{id:"zalog-attr-15",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип имущества: Аффинированные драгоценные металлы в слитках; Раздел отчета: 4.11; Тип значения: BOOLEAN",isActive:!0,sortOrder:15,metadata:{type:"boolean",group:"Аффинированные драгоценные металлы в слитках",required:!1,section:"4.11",naturalKey:!1}},{id:"zalog-attr-16",code:"CODE_OKATO",name:"Код ОКАТО",description:"Тип имущества: Аффинированные драгоценные металлы в слитках; Раздел отчета: 4.11; Тип значения: STRING",isActive:!0,sortOrder:16,metadata:{type:"string",group:"Аффинированные драгоценные металлы в слитках",required:!1,section:"4.11",naturalKey:!1}},{id:"zalog-attr-17",code:"NUMBER_OF_DOCUMENT_OF_INTEL_ACT",name:"Номер документа, удостоверяющего исключительное право на результат интеллектуальной деятельности",description:"Тип имущества: Исключительные права на интеллектуальную собственность; Раздел отчета: 4.12; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:17,metadata:{type:"string",group:"Исключительные права на интеллектуальную собственность",required:!0,section:"4.12",naturalKey:!0}},{id:"zalog-attr-18",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип имущества: Исключительные права на интеллектуальную собственность; Раздел отчета: 4.12; Тип значения: STRING",isActive:!0,sortOrder:18,metadata:{type:"string",group:"Исключительные права на интеллектуальную собственность",required:!1,section:"4.12",naturalKey:!1}},{id:"zalog-attr-19",code:"REGISTRATION_NUMBER_OF_RIGHTS",name:"Регистрационный номер прав на интеллектуальную собственность",description:"Тип имущества: Исключительные права на интеллектуальную собственность; Раздел отчета: 4.12; Тип значения: STRING",isActive:!0,sortOrder:19,metadata:{type:"string",group:"Исключительные права на интеллектуальную собственность",required:!1,section:"4.12",naturalKey:!1}},{id:"zalog-attr-20",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип имущества: Исключительные права на интеллектуальную собственность; Раздел отчета: 4.12; Тип значения: STRING",isActive:!0,sortOrder:20,metadata:{type:"string",group:"Исключительные права на интеллектуальную собственность",required:!1,section:"4.12",naturalKey:!1}},{id:"zalog-attr-21",code:"RIGHTS_EXPIRATION_DATE",name:"Дата окончания прав на результат интеллектуальной собственностиа",description:"Тип имущества: Исключительные права на интеллектуальную собственность; Раздел отчета: 4.12; Тип значения: DATE",isActive:!0,sortOrder:21,metadata:{type:"date",group:"Исключительные права на интеллектуальную собственность",required:!1,section:"4.12",naturalKey:!1}},{id:"zalog-attr-22",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип имущества: Исключительные права на интеллектуальную собственность; Раздел отчета: 4.12; Тип значения: BOOLEAN",isActive:!0,sortOrder:22,metadata:{type:"boolean",group:"Исключительные права на интеллектуальную собственность",required:!1,section:"4.12",naturalKey:!1}},{id:"zalog-attr-23",code:"NUMBER_OF_PLEDGE_ACCOUNT",name:"Номер залогового счета",description:"Тип имущества: Права по договору банковского счета; Раздел отчета: 4.13; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:23,metadata:{type:"string",group:"Права по договору банковского счета",required:!0,section:"4.13",naturalKey:!0}},{id:"zalog-attr-24",code:"SUM_OF_DEPOSIT",name:"Сумма депозита/вклада, передаваемая в залог",description:"Тип имущества: Права по договору банковского счета; Раздел отчета: 4.13; Тип значения: NUMBER",isActive:!0,sortOrder:24,metadata:{type:"number",group:"Права по договору банковского счета",required:!1,section:"4.13",naturalKey:!1}},{id:"zalog-attr-25",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип имущества: Права по договору банковского счета; Раздел отчета: 4.13; Тип значения: STRING",isActive:!0,sortOrder:25,metadata:{type:"string",group:"Права по договору банковского счета",required:!1,section:"4.13",naturalKey:!1}},{id:"zalog-attr-26",code:"DATEEND_OF_ARRENGEMENT",name:"Дата окончания договора депозита/вклада",description:"Тип имущества: Права по договору банковского счета; Раздел отчета: 4.13; Тип значения: DATE",isActive:!0,sortOrder:26,metadata:{type:"date",group:"Права по договору банковского счета",required:!1,section:"4.13",naturalKey:!1}},{id:"zalog-attr-27",code:"NAME_OF_BANK",name:"Наименование банка, в котором открыт депозит/вклад",description:"Тип имущества: Права по договору банковского счета; Раздел отчета: 4.13; Тип значения: STRING",isActive:!0,sortOrder:27,metadata:{type:"string",group:"Права по договору банковского счета",required:!1,section:"4.13",naturalKey:!1}},{id:"zalog-attr-28",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип имущества: Права по договору банковского счета; Раздел отчета: 4.13; Тип значения: STRING",isActive:!0,sortOrder:28,metadata:{type:"string",group:"Права по договору банковского счета",required:!1,section:"4.13",naturalKey:!1}},{id:"zalog-attr-29",code:"DATE_OF_ARRENGEMENT",name:"Дата заключения договора депозита/вклада",description:"Тип имущества: Права по договору банковского счета; Раздел отчета: 4.13; Тип значения: DATE",isActive:!0,sortOrder:29,metadata:{type:"date",group:"Права по договору банковского счета",required:!1,section:"4.13",naturalKey:!1}},{id:"zalog-attr-30",code:"PR_OF_PLEDGE_ACCOUNT",name:"Признак наличия залогового счета",description:"Тип имущества: Права по договору банковского счета; Раздел отчета: 4.13; Тип значения: STRING",isActive:!0,sortOrder:30,metadata:{type:"string",group:"Права по договору банковского счета",required:!1,section:"4.13",naturalKey:!1}},{id:"zalog-attr-31",code:"BANK_ACCOUNT_AGREEMENT_DATE",name:"Дата договора банковского счета",description:"Тип имущества: Права по договору банковского счета; Раздел отчета: 4.13; Тип значения: DATE",isActive:!0,sortOrder:31,metadata:{type:"date",group:"Права по договору банковского счета",required:!1,section:"4.13",naturalKey:!1}},{id:"zalog-attr-32",code:"BANK_ACCOUNT_AGREEMENT_NUMBER",name:"Номер договора банковского счета",description:"Тип имущества: Права по договору банковского счета; Раздел отчета: 4.13; Тип значения: STRING",isActive:!0,sortOrder:32,metadata:{type:"string",group:"Права по договору банковского счета",required:!1,section:"4.13",naturalKey:!1}},{id:"zalog-attr-33",code:"INFORMATION_ABOUT_AMOUNT_MONEY",name:"Сведения о денежной сумме",description:"Тип имущества: Права по договору банковского счета; Раздел отчета: 4.13; Тип значения: STRING",isActive:!0,sortOrder:33,metadata:{type:"string",group:"Права по договору банковского счета",required:!1,section:"4.13",naturalKey:!1}},{id:"zalog-attr-34",code:"CURRENCY_OF_SUM",name:"Валюта депозита/вклада",description:"Тип имущества: Права по договору банковского счета; Раздел отчета: 4.13; Тип значения: STRING",isActive:!0,sortOrder:34,metadata:{type:"string",group:"Права по договору банковского счета",required:!1,section:"4.13",naturalKey:!1}},{id:"zalog-attr-35",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип имущества: Права по договору банковского счета; Раздел отчета: 4.13; Тип значения: BOOLEAN",isActive:!0,sortOrder:35,metadata:{type:"boolean",group:"Права по договору банковского счета",required:!1,section:"4.13",naturalKey:!1}},{id:"zalog-attr-36",code:"ACC_NUM_FOR_ACC_OF_DEP",name:"Номер счета по учету депозита/вклада",description:"Тип имущества: Права по договору банковского счета; Раздел отчета: 4.13; Тип значения: STRING",isActive:!0,sortOrder:36,metadata:{type:"string",group:"Права по договору банковского счета",required:!1,section:"4.13",naturalKey:!1}},{id:"zalog-attr-37",code:"ID_OOO",name:"id клиента",description:"Тип имущества: Доли в уставных капиталах обществ с ограниченной ответственностью; Раздел отчета: 4.14; Тип значения: STRING",isActive:!0,sortOrder:37,metadata:{type:"string",group:"Доли в уставных капиталах обществ с ограниченной ответственностью",required:!1,section:"4.14",naturalKey:!1}},{id:"zalog-attr-38",code:"OWNER_TIN",name:"Значение идентификационного кода залогодателя",description:"Тип имущества: Доли в уставных капиталах обществ с ограниченной ответственностью; Раздел отчета: 4.14; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:38,metadata:{type:"string",group:"Доли в уставных капиталах обществ с ограниченной ответственностью",required:!0,section:"4.14",naturalKey:!0}},{id:"zalog-attr-39",code:"SHARE_INFORMATION",name:"Значение идентификационного кода ООО",description:"Тип имущества: Доли в уставных капиталах обществ с ограниченной ответственностью; Раздел отчета: 4.14; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:39,metadata:{type:"string",group:"Доли в уставных капиталах обществ с ограниченной ответственностью",required:!0,section:"4.14",naturalKey:!0}},{id:"zalog-attr-40",code:"NAME_OOO",name:"Наименование ООО",description:"Тип имущества: Доли в уставных капиталах обществ с ограниченной ответственностью; Раздел отчета: 4.14; Тип значения: STRING",isActive:!0,sortOrder:40,metadata:{type:"string",group:"Доли в уставных капиталах обществ с ограниченной ответственностью",required:!1,section:"4.14",naturalKey:!1}},{id:"zalog-attr-41",code:"NOMINAL_VALUE",name:"Номинальная стоимость",description:"Тип имущества: Доли в уставных капиталах обществ с ограниченной ответственностью; Раздел отчета: 4.14; Тип значения: NUMBER",isActive:!0,sortOrder:41,metadata:{type:"number",group:"Доли в уставных капиталах обществ с ограниченной ответственностью",required:!1,section:"4.14",naturalKey:!1}},{id:"zalog-attr-42",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип имущества: Доли в уставных капиталах обществ с ограниченной ответственностью; Раздел отчета: 4.14; Тип значения: BOOLEAN",isActive:!0,sortOrder:42,metadata:{type:"boolean",group:"Доли в уставных капиталах обществ с ограниченной ответственностью",required:!1,section:"4.14",naturalKey:!1}},{id:"zalog-attr-43",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип имущества: Доли в уставных капиталах обществ с ограниченной ответственностью; Раздел отчета: 4.14; Тип значения: STRING",isActive:!0,sortOrder:43,metadata:{type:"string",group:"Доли в уставных капиталах обществ с ограниченной ответственностью",required:!1,section:"4.14",naturalKey:!1}},{id:"zalog-attr-44",code:"TYPE_CODE_OOO",name:"Тип идентификационного кода субъекта (ООО)",description:"Тип имущества: Доли в уставных капиталах обществ с ограниченной ответственностью; Раздел отчета: 4.14; Тип значения: DIRECTORY",isActive:!0,sortOrder:44,metadata:{type:"directory",group:"Доли в уставных капиталах обществ с ограниченной ответственностью",required:!1,section:"4.14",naturalKey:!1}},{id:"zalog-attr-45",code:"PERCENTAGE_AUTHORIZED_CAPITAL",name:"Процент уставного капитала общества с ограниченной ответственностью, который составляет доля (часть доли)",description:"Тип имущества: Доли в уставных капиталах обществ с ограниченной ответственностью; Раздел отчета: 4.14; Тип значения: NUMBER",isActive:!0,sortOrder:45,metadata:{type:"number",group:"Доли в уставных капиталах обществ с ограниченной ответственностью",required:!1,section:"4.14",naturalKey:!1}},{id:"zalog-attr-46",code:"ID_OOO",name:"Идентификационный код субъекта (ООО) или ID субъекта (ООО)",description:"Тип имущества: Доли в уставных капиталах обществ с ограниченной ответственностью; Раздел отчета: 4.14; Тип значения: STRING",isActive:!0,sortOrder:46,metadata:{type:"string",group:"Доли в уставных капиталах обществ с ограниченной ответственностью",required:!1,section:"4.14",naturalKey:!1}},{id:"zalog-attr-47",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип имущества: Доли в уставных капиталах обществ с ограниченной ответственностью; Раздел отчета: 4.14; Тип значения: STRING",isActive:!0,sortOrder:47,metadata:{type:"string",group:"Доли в уставных капиталах обществ с ограниченной ответственностью",required:!1,section:"4.14",naturalKey:!1}},{id:"zalog-attr-48",code:"NUMBER_OF_VEKSEL",name:"Номер векселя",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:48,metadata:{type:"string",group:"Векселя",required:!0,section:"4.15",naturalKey:!0}},{id:"zalog-attr-49",code:"RELEASE_DATE_VEKSEL",name:"Дата выпуска векселя",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: DATE; Ключевой атрибут: Да",isActive:!0,sortOrder:49,metadata:{type:"date",group:"Векселя",required:!0,section:"4.15",naturalKey:!0}},{id:"zalog-attr-50",code:"INN_ISSUER",name:"Значение идентификационного  кода субъекта (векселедателя)",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:50,metadata:{type:"string",group:"Векселя",required:!0,section:"4.15",naturalKey:!0}},{id:"zalog-attr-51",code:"DENOMINATION_VEKSEL",name:"Номинал векселя",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:51,metadata:{type:"string",group:"Векселя",required:!0,section:"4.15",naturalKey:!0}},{id:"zalog-attr-52",code:"NUMBER_BLANK_OF_VEKSEL",name:"Номер бланка векселя",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:52,metadata:{type:"string",group:"Векселя",required:!0,section:"4.15",naturalKey:!0}},{id:"zalog-attr-53",code:"SERIA_VEKSEL",name:"Серия векселя",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:53,metadata:{type:"string",group:"Векселя",required:!0,section:"4.15",naturalKey:!0}},{id:"zalog-attr-54",code:"CODE_VEKSELEDERZHATEL_NONRESIDENT",name:"Признак кода векселедержателя (собственника) нерезидента",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: DIRECTORY",isActive:!0,sortOrder:54,metadata:{type:"directory",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-55",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: STRING",isActive:!0,sortOrder:55,metadata:{type:"string",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-56",code:"VALUE_DEPOSITORY",name:"Значение идентификационного  кода субъекта (депозитария)",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: STRING",isActive:!0,sortOrder:56,metadata:{type:"string",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-57",code:"CURRENCY_CODE_VEKSEL",name:"Код валюты векселя",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: STRING",isActive:!0,sortOrder:57,metadata:{type:"string",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-58",code:"SIGN_DEPOSITORY",name:"Признак соответствия депозитария требованиям ЦБ",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: BOOLEAN",isActive:!0,sortOrder:58,metadata:{type:"boolean",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-59",code:"NAME_DEPOSITORY",name:"Наименование субъекта (депозитария)",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: STRING",isActive:!0,sortOrder:59,metadata:{type:"string",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-60",code:"SUBJECT_AVALIZATION",name:"Субъект авалирования/акцептования векселя",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: DIRECTORY",isActive:!0,sortOrder:60,metadata:{type:"directory",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-61",code:"REGISTRATION_RECORD",name:"Регистрационная запись",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: STRING",isActive:!0,sortOrder:61,metadata:{type:"string",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-62",code:"NAME_ISSUER",name:"Наименование субъекта (векселедателя)",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: STRING",isActive:!0,sortOrder:62,metadata:{type:"string",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-63",code:"VEKSEL_TYPE",name:"Тип векселя",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: STRING",isActive:!0,sortOrder:63,metadata:{type:"string",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-64",code:"VEKSEL_CURRENCY",name:"Валюта векселя",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: STRING",isActive:!0,sortOrder:64,metadata:{type:"string",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-65",code:"VEKSELEDATEL",name:"Векселедатель",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: STRING",isActive:!0,sortOrder:65,metadata:{type:"string",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-66",code:"VEKSELEDERZHATEL",name:"Векселедержатель",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: STRING",isActive:!0,sortOrder:66,metadata:{type:"string",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-67",code:"TYPE_CODE",name:"Тип идентификационного кода",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: STRING",isActive:!0,sortOrder:67,metadata:{type:"string",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-68",code:"PERCENT_OF_VEKSEL",name:"Процентная ставка по векселю",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: NUMBER",isActive:!0,sortOrder:68,metadata:{type:"number",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-69",code:"VEKSEL_SIGN",name:"Признак векселя",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: STRING",isActive:!0,sortOrder:69,metadata:{type:"string",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-70",code:"DISCOUNT_OF_VEKSEL",name:"Дисконт по векселю",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: NUMBER",isActive:!0,sortOrder:70,metadata:{type:"number",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-71",code:"MATURITY_OF_VEKSEL",name:"Срок погашения векселя",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: DATE",isActive:!0,sortOrder:71,metadata:{type:"date",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-72",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: BOOLEAN",isActive:!0,sortOrder:72,metadata:{type:"boolean",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-73",code:"PLACE_OF_COMPILATION",name:"Место составления",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: STRING",isActive:!0,sortOrder:73,metadata:{type:"string",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-74",code:"PLACE_OF_PAYMENT",name:"Место платежа",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: STRING",isActive:!0,sortOrder:74,metadata:{type:"string",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-75",code:"SEC_IN_LIST",name:"Признак включения в список ЦБ, допущенных к организованным торгам",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: BOOLEAN",isActive:!0,sortOrder:75,metadata:{type:"boolean",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-76",code:"SIGN_LEGAL_VEKSELEDATEL",name:"Признак юр. лица субъекта (векселедателя)",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: BOOLEAN",isActive:!0,sortOrder:76,metadata:{type:"boolean",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-77",code:"DATE_END",name:"Дата окончания",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: DATE",isActive:!0,sortOrder:77,metadata:{type:"date",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-78",code:"VEKSEL_CONDITION",name:"Состояние векселя на отчетную дату",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: DIRECTORY",isActive:!0,sortOrder:78,metadata:{type:"directory",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-79",code:"RECEIPT_DATE",name:"Дата поступления",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: DATE",isActive:!0,sortOrder:79,metadata:{type:"date",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-80",code:"TERM_CONDITIONS_PAYMENT",name:"Срок и условия платежа (Дата 2)",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: DATE",isActive:!0,sortOrder:80,metadata:{type:"date",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-81",code:"CONDITIONS_PAYMENT",name:"Условия платежа",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: DIRECTORY",isActive:!0,sortOrder:81,metadata:{type:"directory",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-82",code:"SECURITY_TYPE",name:"Код типа ценной бумаги",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: DIRECTORY",isActive:!0,sortOrder:82,metadata:{type:"directory",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-83",code:"OKSM_COUNTRY_VEKSELEDATEL",name:"Код ОКСМ страны векселедателя",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: STRING",isActive:!0,sortOrder:83,metadata:{type:"string",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-84",code:"OGRN_VEKSELEDATEL",name:"ОГРН векселедателя",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: STRING",isActive:!0,sortOrder:84,metadata:{type:"string",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-85",code:"TYPE_CODE_VEKSELEDATEL",name:"Тип идентификационного кода субъекта (векселедателя)",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: DIRECTORY",isActive:!0,sortOrder:85,metadata:{type:"directory",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-86",code:"CODE_VEKSELEDATEL_NONRESIDENT",name:"Признак кода векселедателя нерезидента",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: DIRECTORY",isActive:!0,sortOrder:86,metadata:{type:"directory",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-87",code:"SIGN_VEKSELEDATEL",name:"Признак векселедателя",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: DIRECTORY",isActive:!0,sortOrder:87,metadata:{type:"directory",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-88",code:"ID_VEKSEL",name:"Идентификационный код векселя",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: STRING",isActive:!0,sortOrder:88,metadata:{type:"string",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-89",code:"ID_VEKSELEDATEL",name:"Идентификационный код субъекта (векселедателя)",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: STRING",isActive:!0,sortOrder:89,metadata:{type:"string",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-90",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: STRING",isActive:!0,sortOrder:90,metadata:{type:"string",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-91",code:"TYPE_DEPOSITORY",name:"Тип идентификационного кода субъекта (депозитария)",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: DIRECTORY",isActive:!0,sortOrder:91,metadata:{type:"directory",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-92",code:"LOCATION_OF_VEKSEL",name:"Местонахождения векселя",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: DIRECTORY",isActive:!0,sortOrder:92,metadata:{type:"directory",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-93",code:"ID_DEPOSITORY",name:"Идентификационный код субъекта (депозитария) или ID субъекта (депозитария)",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: STRING",isActive:!0,sortOrder:93,metadata:{type:"string",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-97",code:"RATING_VEKSEL",name:"Номинал векселя",description:"Тип имущества: Векселя; Раздел отчета: 4.15; Тип значения: STRING",isActive:!0,sortOrder:97,metadata:{type:"string",group:"Векселя",required:!1,section:"4.15",naturalKey:!1}},{id:"zalog-attr-98",code:"ISIN",name:"Код ISIN",description:"Тип имущества: Эмиссионные ценные бумаги; Раздел отчета: 4.16; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:98,metadata:{type:"string",group:"Эмиссионные ценные бумаги",required:!0,section:"4.16",naturalKey:!0}},{id:"zalog-attr-99",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип имущества: Эмиссионные ценные бумаги; Раздел отчета: 4.16; Тип значения: STRING",isActive:!0,sortOrder:99,metadata:{type:"string",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16",naturalKey:!1}},{id:"zalog-attr-100",code:"GOVERNMENT_NUM_OF_SECURITIES",name:"Государственный регистрационный номер выпуска ценных бумаг",description:"Тип имущества: Эмиссионные ценные бумаги; Раздел отчета: 4.16; Тип значения: STRING",isActive:!0,sortOrder:100,metadata:{type:"string",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16",naturalKey:!1}},{id:"zalog-attr-101",code:"TYPE_SECURITY_ISSUER",name:"Тип эмитента ценной бумаги",description:"Тип имущества: Эмиссионные ценные бумаги; Раздел отчета: 4.16; Тип значения: STRING",isActive:!0,sortOrder:101,metadata:{type:"string",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16",naturalKey:!1}},{id:"zalog-attr-102",code:"RELEASE_DATE",name:"Дата выпуска",description:"Тип имущества: Эмиссионные ценные бумаги; Раздел отчета: 4.16; Тип значения: DATE",isActive:!0,sortOrder:102,metadata:{type:"date",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16",naturalKey:!1}},{id:"zalog-attr-103",code:"SEC_IN_LIST",name:"Признак включения в список ЦБ, допущенных к организованным торгам",description:"Тип имущества: Эмиссионные ценные бумаги; Раздел отчета: 4.16; Тип значения: BOOLEAN",isActive:!0,sortOrder:103,metadata:{type:"boolean",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16",naturalKey:!1}},{id:"zalog-attr-104",code:"SIGN_QUOTA",name:"Признак котируемости",description:"Тип имущества: Эмиссионные ценные бумаги; Раздел отчета: 4.16; Тип значения: BOOLEAN",isActive:!0,sortOrder:104,metadata:{type:"boolean",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16",naturalKey:!1}},{id:"zalog-attr-105",code:"NAME_DEPOSITORY_SEC",name:"Наименование депозитария",description:"Тип имущества: Эмиссионные ценные бумаги; Раздел отчета: 4.16; Тип значения: STRING",isActive:!0,sortOrder:105,metadata:{type:"string",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16",naturalKey:!1}},{id:"zalog-attr-106",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип имущества: Эмиссионные ценные бумаги; Раздел отчета: 4.16; Тип значения: STRING",isActive:!0,sortOrder:106,metadata:{type:"string",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16",naturalKey:!1}},{id:"zalog-attr-107",code:"ISSUE_SECURITY_TYPE",name:"Код типа эмиссионной ценной бумаги",description:"Тип имущества: Эмиссионные ценные бумаги; Раздел отчета: 4.16; Тип значения: DIRECTORY",isActive:!0,sortOrder:107,metadata:{type:"directory",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16",naturalKey:!1}},{id:"zalog-attr-108",code:"COUNTRY_CODE_ISSUER",name:"Код ОКСМ страны эмитента",description:"Тип имущества: Эмиссионные ценные бумаги; Раздел отчета: 4.16; Тип значения: STRING",isActive:!0,sortOrder:108,metadata:{type:"string",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16",naturalKey:!1}},{id:"zalog-attr-109",code:"OGRN_ISSUER",name:"ОГРН эмитента",description:"Тип имущества: Эмиссионные ценные бумаги; Раздел отчета: 4.16; Тип значения: STRING",isActive:!0,sortOrder:109,metadata:{type:"string",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16",naturalKey:!1}},{id:"zalog-attr-110",code:"KPP_ISSUER",name:"КПП эмитента",description:"Тип имущества: Эмиссионные ценные бумаги; Раздел отчета: 4.16; Тип значения: STRING",isActive:!0,sortOrder:110,metadata:{type:"string",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16",naturalKey:!1}},{id:"zalog-attr-111",code:"CODE_ISSUER_NONRESIDENT",name:"Признак кода эмитента нерезидента",description:"Тип имущества: Эмиссионные ценные бумаги; Раздел отчета: 4.16; Тип значения: DIRECTORY",isActive:!0,sortOrder:111,metadata:{type:"directory",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16",naturalKey:!1}},{id:"zalog-attr-112",code:"SIGN_ISSUER",name:"Признак эмитента",description:"Тип имущества: Эмиссионные ценные бумаги; Раздел отчета: 4.16; Тип значения: DIRECTORY",isActive:!0,sortOrder:112,metadata:{type:"directory",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16",naturalKey:!1}},{id:"zalog-attr-113",code:"ID_ISSUER_SEC",name:"ID эмитента",description:"Тип имущества: Эмиссионные ценные бумаги; Раздел отчета: 4.16; Тип значения: STRING",isActive:!0,sortOrder:113,metadata:{type:"string",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16",naturalKey:!1}},{id:"zalog-attr-114",code:"VALUE_TYPE_CODE_ISSUER_SEC",name:"Значение идентификационного  кода эмитента",description:"Тип имущества: Эмиссионные ценные бумаги; Раздел отчета: 4.16; Тип значения: STRING",isActive:!0,sortOrder:114,metadata:{type:"string",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16",naturalKey:!1}},{id:"zalog-attr-115",code:"TYPE_CODE_DEPOSITORY_SEC",name:"Тип идентификационного кода депозитария",description:"Тип имущества: Эмиссионные ценные бумаги; Раздел отчета: 4.16; Тип значения: DIRECTORY",isActive:!0,sortOrder:115,metadata:{type:"directory",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16",naturalKey:!1}},{id:"zalog-attr-116",code:"TYPE_CODE_ISSUER_SEC",name:"Тип идентификационного кода эмитента",description:"Тип имущества: Эмиссионные ценные бумаги; Раздел отчета: 4.16; Тип значения: DIRECTORY",isActive:!0,sortOrder:116,metadata:{type:"directory",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16",naturalKey:!1}},{id:"zalog-attr-117",code:"VALUE_TYPE_CODE_DEPOSITORY_SEC",name:"Значение идентификационного  кода депозитария",description:"Тип имущества: Эмиссионные ценные бумаги; Раздел отчета: 4.16; Тип значения: STRING",isActive:!0,sortOrder:117,metadata:{type:"string",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16",naturalKey:!1}},{id:"zalog-attr-118",code:"AMOUNT_OF_SECURITIES",name:"Количество эмиссионных ценных бумаг, шт.",description:"Тип имущества: Эмиссионные ценные бумаги; Раздел отчета: 4.16; Тип значения: NUMBER",isActive:!0,sortOrder:118,metadata:{type:"number",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16",naturalKey:!1}},{id:"zalog-attr-119",code:"CURRENCY_NOMINAL_VALUE",name:"Валюта номинальной стоимости",description:"Тип имущества: Эмиссионные ценные бумаги; Раздел отчета: 4.16; Тип значения: STRING",isActive:!0,sortOrder:119,metadata:{type:"string",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16",naturalKey:!1}},{id:"zalog-attr-120",code:"ID_DEPOSITORY_SEC",name:"ID депозитария",description:"Тип имущества: Эмиссионные ценные бумаги; Раздел отчета: 4.16; Тип значения: STRING",isActive:!0,sortOrder:120,metadata:{type:"string",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16",naturalKey:!1}},{id:"zalog-attr-121",code:"NOMINAL_VALUE",name:"Номинальная стоимость",description:"Тип имущества: Эмиссионные ценные бумаги; Раздел отчета: 4.16; Тип значения: NUMBER",isActive:!0,sortOrder:121,metadata:{type:"number",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16",naturalKey:!1}},{id:"zalog-attr-122",code:"NAME_ISSUER_SEC",name:"Наименование эмитента",description:"Тип имущества: Эмиссионные ценные бумаги; Раздел отчета: 4.16; Тип значения: STRING",isActive:!0,sortOrder:122,metadata:{type:"string",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16",naturalKey:!1}},{id:"zalog-attr-123",code:"ID_NUM_SECURITIES",name:"Идентификационный номер выпуска ценных бумаг",description:"Тип имущества: Эмиссионные ценные бумаги; Раздел отчета: 4.16; Тип значения: STRING",isActive:!0,sortOrder:123,metadata:{type:"string",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16",naturalKey:!1}},{id:"zalog-attr-124",code:"CLASS_SECURITIES",name:"Класс ценной бумаги",description:"Тип имущества: Эмиссионные ценные бумаги; Раздел отчета: 4.16; Тип значения: STRING",isActive:!0,sortOrder:124,metadata:{type:"string",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16",naturalKey:!1}},{id:"zalog-attr-125",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип имущества: Эмиссионные ценные бумаги; Раздел отчета: 4.16; Тип значения: BOOLEAN",isActive:!0,sortOrder:125,metadata:{type:"boolean",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16",naturalKey:!1}},{id:"zalog-attr-126",code:"DATE_END",name:"Дата окончания",description:"Тип имущества: Эмиссионные ценные бумаги; Раздел отчета: 4.16; Тип значения: DATE",isActive:!0,sortOrder:126,metadata:{type:"date",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16",naturalKey:!1}},{id:"zalog-attr-127",code:"OTHER_SECURITY_TYPE_CODE",name:"Код типа ценной бумаги(ЭЦБ и прочие)",description:"Тип имущества: Эмиссионные ценные бумаги; Раздел отчета: 4.16; Тип значения: DIRECTORY",isActive:!0,sortOrder:127,metadata:{type:"directory",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16",naturalKey:!1}},{id:"zalog-attr-128",code:"SIGN_DEPOSITORY",name:"Признак соответствия депозитария требованиям ЦБ",description:"Тип имущества: Эмиссионные ценные бумаги; Раздел отчета: 4.16; Тип значения: BOOLEAN",isActive:!0,sortOrder:128,metadata:{type:"boolean",group:"Эмиссионные ценные бумаги",required:!1,section:"4.16",naturalKey:!1}},{id:"zalog-attr-129",code:"REG_NUM_OF_PIE_FUND",name:"Регистрационный номер правил доверительного управления паевым инвестиционным фондом",description:"Тип имущества: Инвестиционные паи (паи инвестиционных фондов); Раздел отчета: 4.17; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:129,metadata:{type:"string",group:"Инвестиционные паи (паи инвестиционных фондов)",required:!0,section:"4.17",naturalKey:!0}},{id:"zalog-attr-130",code:"AMOUNT_OF_PIES",name:"Количество паев паевого инвестиционного фонда, шт.",description:"Тип имущества: Инвестиционные паи (паи инвестиционных фондов); Раздел отчета: 4.17; Тип значения: NUMBER; Ключевой атрибут: Да",isActive:!0,sortOrder:130,metadata:{type:"number",group:"Инвестиционные паи (паи инвестиционных фондов)",required:!0,section:"4.17",naturalKey:!0}},{id:"zalog-attr-131",code:"DATE_END_CONTRACT_OF_PIE_FUND",name:"Дата окончания срока действия договора доверительного управления паевым инвестиционным фондом",description:"Тип имущества: Инвестиционные паи (паи инвестиционных фондов); Раздел отчета: 4.17; Тип значения: DATE",isActive:!0,sortOrder:131,metadata:{type:"date",group:"Инвестиционные паи (паи инвестиционных фондов)",required:!1,section:"4.17",naturalKey:!1}},{id:"zalog-attr-132",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип имущества: Инвестиционные паи (паи инвестиционных фондов); Раздел отчета: 4.17; Тип значения: BOOLEAN",isActive:!0,sortOrder:132,metadata:{type:"boolean",group:"Инвестиционные паи (паи инвестиционных фондов)",required:!1,section:"4.17",naturalKey:!1}},{id:"zalog-attr-133",code:"SIGN_QUOTA",name:"Признак котируемости",description:"Тип имущества: Инвестиционные паи (паи инвестиционных фондов); Раздел отчета: 4.17; Тип значения: BOOLEAN",isActive:!0,sortOrder:133,metadata:{type:"boolean",group:"Инвестиционные паи (паи инвестиционных фондов)",required:!1,section:"4.17",naturalKey:!1}},{id:"zalog-attr-134",code:"TYPE_SECURITY_ISSUER",name:"Тип эмитента ценной бумаги",description:"Тип имущества: Инвестиционные паи (паи инвестиционных фондов); Раздел отчета: 4.17; Тип значения: STRING",isActive:!0,sortOrder:134,metadata:{type:"string",group:"Инвестиционные паи (паи инвестиционных фондов)",required:!1,section:"4.17",naturalKey:!1}},{id:"zalog-attr-135",code:"ISIN",name:"Код ISIN",description:"Тип имущества: Инвестиционные паи (паи инвестиционных фондов); Раздел отчета: 4.17; Тип значения: STRING",isActive:!0,sortOrder:135,metadata:{type:"string",group:"Инвестиционные паи (паи инвестиционных фондов)",required:!1,section:"4.17",naturalKey:!1}},{id:"zalog-attr-136",code:"VALUE_TYPE_CODE",name:"Значение идентификационного кода",description:"Тип имущества: Инвестиционные паи (паи инвестиционных фондов); Раздел отчета: 4.17; Тип значения: STRING",isActive:!0,sortOrder:136,metadata:{type:"string",group:"Инвестиционные паи (паи инвестиционных фондов)",required:!1,section:"4.17",naturalKey:!1}},{id:"zalog-attr-137",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип имущества: Инвестиционные паи (паи инвестиционных фондов); Раздел отчета: 4.17; Тип значения: STRING",isActive:!0,sortOrder:137,metadata:{type:"string",group:"Инвестиционные паи (паи инвестиционных фондов)",required:!1,section:"4.17",naturalKey:!1}},{id:"zalog-attr-138",code:"TYPE_CODE",name:"Тип идентификационного кода",description:"Тип имущества: Инвестиционные паи (паи инвестиционных фондов); Раздел отчета: 4.17; Тип значения: STRING",isActive:!0,sortOrder:138,metadata:{type:"string",group:"Инвестиционные паи (паи инвестиционных фондов)",required:!1,section:"4.17",naturalKey:!1}},{id:"zalog-attr-139",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип имущества: Инвестиционные паи (паи инвестиционных фондов); Раздел отчета: 4.17; Тип значения: STRING",isActive:!0,sortOrder:139,metadata:{type:"string",group:"Инвестиционные паи (паи инвестиционных фондов)",required:!1,section:"4.17",naturalKey:!1}},{id:"zalog-attr-140",code:"IND_DES_OF_MORTG_PART_CERT",name:"Индивидуальное обозначение ипотечных сертификатов участия",description:"Тип имущества: Ипотечные сертификаты участия; Раздел отчета: 4.18; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:140,metadata:{type:"string",group:"Ипотечные сертификаты участия",required:!0,section:"4.18",naturalKey:!0}},{id:"zalog-attr-141",code:"ISIN",name:"Код ISIN",description:"Тип имущества: Ипотечные сертификаты участия; Раздел отчета: 4.18; Тип значения: STRING",isActive:!0,sortOrder:141,metadata:{type:"string",group:"Ипотечные сертификаты участия",required:!1,section:"4.18",naturalKey:!1}},{id:"zalog-attr-142",code:"DATE_END_TERM_CONTRACT_TRUST_MANAGEMENT_MORTGAGE_COVERAGE",name:"Дата окончания срока действия договора доверительного управления ипотечным покрытием",description:"Тип имущества: Ипотечные сертификаты участия; Раздел отчета: 4.18; Тип значения: DATE",isActive:!0,sortOrder:142,metadata:{type:"date",group:"Ипотечные сертификаты участия",required:!1,section:"4.18",naturalKey:!1}},{id:"zalog-attr-143",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип имущества: Ипотечные сертификаты участия; Раздел отчета: 4.18; Тип значения: STRING",isActive:!0,sortOrder:143,metadata:{type:"string",group:"Ипотечные сертификаты участия",required:!1,section:"4.18",naturalKey:!1}},{id:"zalog-attr-144",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип имущества: Ипотечные сертификаты участия; Раздел отчета: 4.18; Тип значения: STRING",isActive:!0,sortOrder:144,metadata:{type:"string",group:"Ипотечные сертификаты участия",required:!1,section:"4.18",naturalKey:!1}},{id:"zalog-attr-145",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип имущества: Ипотечные сертификаты участия; Раздел отчета: 4.18; Тип значения: BOOLEAN",isActive:!0,sortOrder:145,metadata:{type:"boolean",group:"Ипотечные сертификаты участия",required:!1,section:"4.18",naturalKey:!1}},{id:"zalog-attr-146",code:"NUM_OF_MORTG_PART_CERTIF",name:"Количество ипотечных сертификатов участия, шт.",description:"Тип имущества: Ипотечные сертификаты участия; Раздел отчета: 4.18; Тип значения: NUMBER",isActive:!0,sortOrder:146,metadata:{type:"number",group:"Ипотечные сертификаты участия",required:!1,section:"4.18",naturalKey:!1}},{id:"zalog-attr-147",code:"REGISTR_NUM",name:"Регистрационный номер правил доверительного управления ипотечным покрытием",description:"Тип имущества: Ипотечные сертификаты участия; Раздел отчета: 4.18; Тип значения: STRING",isActive:!0,sortOrder:147,metadata:{type:"string",group:"Ипотечные сертификаты участия",required:!1,section:"4.18",naturalKey:!1}},{id:"zalog-attr-148",code:"SERIA_SEC_PAPER",name:"Серия ценной бумаги",description:"Тип имущества: Прочие ценные бумаги; Раздел отчета: 4.19; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:148,metadata:{type:"string",group:"Прочие ценные бумаги",required:!0,section:"4.19",naturalKey:!0}},{id:"zalog-attr-149",code:"NUM_SECURITIES",name:"Номер ценной бумаги",description:"Тип имущества: Прочие ценные бумаги; Раздел отчета: 4.19; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:149,metadata:{type:"string",group:"Прочие ценные бумаги",required:!0,section:"4.19",naturalKey:!0}},{id:"zalog-attr-150",code:"ID_ISSUER_SEC",name:"ID эмитента",description:"Тип имущества: Прочие ценные бумаги; Раздел отчета: 4.19; Тип значения: STRING",isActive:!0,sortOrder:150,metadata:{type:"string",group:"Прочие ценные бумаги",required:!1,section:"4.19",naturalKey:!1}},{id:"zalog-attr-151",code:"TYPE_CODE_ISSUER_SEC",name:"Тип идентификационного кода эмитента",description:"Тип имущества: Прочие ценные бумаги; Раздел отчета: 4.19; Тип значения: DIRECTORY",isActive:!0,sortOrder:151,metadata:{type:"directory",group:"Прочие ценные бумаги",required:!1,section:"4.19",naturalKey:!1}},{id:"zalog-attr-152",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип имущества: Прочие ценные бумаги; Раздел отчета: 4.19; Тип значения: BOOLEAN",isActive:!0,sortOrder:152,metadata:{type:"boolean",group:"Прочие ценные бумаги",required:!1,section:"4.19",naturalKey:!1}},{id:"zalog-attr-153",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип имущества: Прочие ценные бумаги; Раздел отчета: 4.19; Тип значения: STRING",isActive:!0,sortOrder:153,metadata:{type:"string",group:"Прочие ценные бумаги",required:!1,section:"4.19",naturalKey:!1}},{id:"zalog-attr-154",code:"VALUE_TYPE_CODE_ISSUER_SEC",name:"Значение идентификационного  кода эмитента",description:"Тип имущества: Прочие ценные бумаги; Раздел отчета: 4.19; Тип значения: STRING",isActive:!0,sortOrder:154,metadata:{type:"string",group:"Прочие ценные бумаги",required:!1,section:"4.19",naturalKey:!1}},{id:"zalog-attr-155",code:"AMOUNT_SHARE",name:"Количество ценных бумаг, шт.",description:"Тип имущества: Прочие ценные бумаги; Раздел отчета: 4.19; Тип значения: NUMBER",isActive:!0,sortOrder:155,metadata:{type:"number",group:"Прочие ценные бумаги",required:!1,section:"4.19",naturalKey:!1}},{id:"zalog-attr-156",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип имущества: Прочие ценные бумаги; Раздел отчета: 4.19; Тип значения: STRING",isActive:!0,sortOrder:156,metadata:{type:"string",group:"Прочие ценные бумаги",required:!1,section:"4.19",naturalKey:!1}},{id:"zalog-attr-157",code:"TYPE_SECURITIES",name:"Вид ценной бумаги",description:"Тип имущества: Прочие ценные бумаги; Раздел отчета: 4.19; Тип значения: STRING",isActive:!0,sortOrder:157,metadata:{type:"string",group:"Прочие ценные бумаги",required:!1,section:"4.19",naturalKey:!1}},{id:"zalog-attr-158",code:"NOMINAL_VALUE",name:"Номинальная стоимость",description:"Тип имущества: Прочие ценные бумаги; Раздел отчета: 4.19; Тип значения: NUMBER",isActive:!0,sortOrder:158,metadata:{type:"number",group:"Прочие ценные бумаги",required:!1,section:"4.19",naturalKey:!1}},{id:"zalog-attr-159",code:"ID_DEPOSITORY_SEC",name:"ID депозитария",description:"Тип имущества: Прочие ценные бумаги; Раздел отчета: 4.19; Тип значения: STRING",isActive:!0,sortOrder:159,metadata:{type:"string",group:"Прочие ценные бумаги",required:!1,section:"4.19",naturalKey:!1}},{id:"zalog-attr-160",code:"ISIN",name:"Код ISIN",description:"Тип имущества: Прочие ценные бумаги; Раздел отчета: 4.19; Тип значения: STRING",isActive:!0,sortOrder:160,metadata:{type:"string",group:"Прочие ценные бумаги",required:!1,section:"4.19",naturalKey:!1}},{id:"zalog-attr-161",code:"TYPE_SECURITY_ISSUER",name:"Тип эмитента ценной бумаги",description:"Тип имущества: Прочие ценные бумаги; Раздел отчета: 4.19; Тип значения: STRING",isActive:!0,sortOrder:161,metadata:{type:"string",group:"Прочие ценные бумаги",required:!1,section:"4.19",naturalKey:!1}},{id:"zalog-attr-162",code:"CURRENCY_NOMINAL_VALUE",name:"Валюта номинальной стоимости",description:"Тип имущества: Прочие ценные бумаги; Раздел отчета: 4.19; Тип значения: STRING",isActive:!0,sortOrder:162,metadata:{type:"string",group:"Прочие ценные бумаги",required:!1,section:"4.19",naturalKey:!1}},{id:"zalog-attr-163",code:"SIGN_QUOTA",name:"Признак котируемости",description:"Тип имущества: Прочие ценные бумаги; Раздел отчета: 4.19; Тип значения: BOOLEAN",isActive:!0,sortOrder:163,metadata:{type:"boolean",group:"Прочие ценные бумаги",required:!1,section:"4.19",naturalKey:!1}},{id:"zalog-attr-164",code:"SIGN_DEPOSITORY",name:"Признак соответствия депозитария требованиям ЦБ",description:"Тип имущества: Прочие ценные бумаги; Раздел отчета: 4.19; Тип значения: BOOLEAN",isActive:!0,sortOrder:164,metadata:{type:"boolean",group:"Прочие ценные бумаги",required:!1,section:"4.19",naturalKey:!1}},{id:"zalog-attr-165",code:"DATE_END",name:"Дата окончания",description:"Тип имущества: Прочие ценные бумаги; Раздел отчета: 4.19; Тип значения: DATE",isActive:!0,sortOrder:165,metadata:{type:"date",group:"Прочие ценные бумаги",required:!1,section:"4.19",naturalKey:!1}},{id:"zalog-attr-166",code:"NAME_DEPOSITORY_SEC",name:"Наименование депозитария",description:"Тип имущества: Прочие ценные бумаги; Раздел отчета: 4.19; Тип значения: STRING",isActive:!0,sortOrder:166,metadata:{type:"string",group:"Прочие ценные бумаги",required:!1,section:"4.19",naturalKey:!1}},{id:"zalog-attr-167",code:"OTHER_SECURITY_TYPE_CODE",name:"Код типа ценной бумаги(ЭЦБ и прочие)",description:"Тип имущества: Прочие ценные бумаги; Раздел отчета: 4.19; Тип значения: DIRECTORY",isActive:!0,sortOrder:167,metadata:{type:"directory",group:"Прочие ценные бумаги",required:!1,section:"4.19",naturalKey:!1}},{id:"zalog-attr-168",code:"RELEASE_DATE",name:"Дата выпуска",description:"Тип имущества: Прочие ценные бумаги; Раздел отчета: 4.19; Тип значения: DATE",isActive:!0,sortOrder:168,metadata:{type:"date",group:"Прочие ценные бумаги",required:!1,section:"4.19",naturalKey:!1}},{id:"zalog-attr-169",code:"SEC_IN_LIST",name:"Признак включения в список ЦБ, допущенных к организованным торгам",description:"Тип имущества: Прочие ценные бумаги; Раздел отчета: 4.19; Тип значения: BOOLEAN",isActive:!0,sortOrder:169,metadata:{type:"boolean",group:"Прочие ценные бумаги",required:!1,section:"4.19",naturalKey:!1}},{id:"zalog-attr-170",code:"VALUE_TYPE_CODE_DEPOSITORY_SEC",name:"Значение идентификационного  кода депозитария",description:"Тип имущества: Прочие ценные бумаги; Раздел отчета: 4.19; Тип значения: STRING",isActive:!0,sortOrder:170,metadata:{type:"string",group:"Прочие ценные бумаги",required:!1,section:"4.19",naturalKey:!1}},{id:"zalog-attr-171",code:"TYPE_CODE_DEPOSITORY_SEC",name:"Тип идентификационного кода депозитария",description:"Тип имущества: Прочие ценные бумаги; Раздел отчета: 4.19; Тип значения: DIRECTORY",isActive:!0,sortOrder:171,metadata:{type:"directory",group:"Прочие ценные бумаги",required:!1,section:"4.19",naturalKey:!1}},{id:"zalog-attr-172",code:"NAME_ISSUER_SEC",name:"Наименование эмитента",description:"Тип имущества: Прочие ценные бумаги; Раздел отчета: 4.19; Тип значения: STRING",isActive:!0,sortOrder:172,metadata:{type:"string",group:"Прочие ценные бумаги",required:!1,section:"4.19",naturalKey:!1}},{id:"zalog-attr-174",code:"CADASTRAL_NUMBER",name:"Кадастровый номер",description:"Тип имущества: Недвижимое имущество и права аренды недвижимого имущества; Раздел отчета: 4.2; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:174,metadata:{type:"string",group:"Недвижимое имущество и права аренды недвижимого имущества",required:!0,section:"4.2",naturalKey:!0}},{id:"zalog-attr-175",code:"IS_NATUR_RISK",name:"Банк отслеживает риск возникновения ответственности за воздействие недвижимого имущества, переданного в залог, на окружающую среду",description:"Тип имущества: Недвижимое имущество и права аренды недвижимого имущества; Раздел отчета: 4.2; Тип значения: BOOLEAN",isActive:!0,sortOrder:175,metadata:{type:"boolean",group:"Недвижимое имущество и права аренды недвижимого имущества",required:!1,section:"4.2",naturalKey:!1}},{id:"zalog-attr-176",code:"DATA_EXTERNAL_SYSTEM",name:"Данные из внешних систем",description:"Тип имущества: Недвижимое имущество и права аренды недвижимого имущества; Раздел отчета: 4.2; Тип значения: BOOLEAN",isActive:!0,sortOrder:176,metadata:{type:"boolean",group:"Недвижимое имущество и права аренды недвижимого имущества",required:!1,section:"4.2",naturalKey:!1}},{id:"zalog-attr-177",code:"ACCEPT_TO_BORROWER_SOLVENCY",name:"Обеспечение приемлемо с т.з. независимости кредитоспособности заемщика от объектов залога",description:"Тип имущества: Недвижимое имущество и права аренды недвижимого имущества; Раздел отчета: 4.2; Тип значения: BOOLEAN",isActive:!0,sortOrder:177,metadata:{type:"boolean",group:"Недвижимое имущество и права аренды недвижимого имущества",required:!1,section:"4.2",naturalKey:!1}},{id:"zalog-attr-178",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип имущества: Прочие имущественные Права требования; Раздел отчета: 4.20; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:178,metadata:{type:"string",group:"Прочие имущественные Права требования",required:!0,section:"4.20",naturalKey:!0}},{id:"zalog-attr-179",code:"OWNER_TIN",name:"Значение идентификационного кода залогодателя",description:"Тип имущества: Прочие имущественные Права требования; Раздел отчета: 4.20; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:179,metadata:{type:"string",group:"Прочие имущественные Права требования",required:!0,section:"4.20",naturalKey:!0}},{id:"zalog-attr-180",code:"TYPE_CODE",name:"Тип идентификационного кода",description:"Тип имущества: Прочие имущественные Права требования; Раздел отчета: 4.20; Тип значения: STRING",isActive:!0,sortOrder:180,metadata:{type:"string",group:"Прочие имущественные Права требования",required:!1,section:"4.20",naturalKey:!1}},{id:"zalog-attr-181",code:"VALUE_TYPE_CODE",name:"Значение идентификационного кода",description:"Тип имущества: Прочие имущественные Права требования; Раздел отчета: 4.20; Тип значения: STRING",isActive:!0,sortOrder:181,metadata:{type:"string",group:"Прочие имущественные Права требования",required:!1,section:"4.20",naturalKey:!1}},{id:"zalog-attr-182",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип имущества: Прочие имущественные Права требования; Раздел отчета: 4.20; Тип значения: BOOLEAN",isActive:!0,sortOrder:182,metadata:{type:"boolean",group:"Прочие имущественные Права требования",required:!1,section:"4.20",naturalKey:!1}},{id:"zalog-attr-183",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип имущества: Прочие имущественные Права требования; Раздел отчета: 4.20; Тип значения: STRING",isActive:!0,sortOrder:183,metadata:{type:"string",group:"Прочие имущественные Права требования",required:!1,section:"4.20",naturalKey:!1}},{id:"zalog-attr-184",code:"DATE_CONTRACT",name:"Дата договора/ контакта/ доп соглашения",description:"Тип имущества: Прочие имущественные Права требования; Раздел отчета: 4.20; Тип значения: DATE",isActive:!0,sortOrder:184,metadata:{type:"date",group:"Прочие имущественные Права требования",required:!1,section:"4.20",naturalKey:!1}},{id:"zalog-attr-185",code:"SUBJECT_OF_CONTRACT",name:"Предмет контракта/договора",description:"Тип имущества: Прочие имущественные Права требования; Раздел отчета: 4.20; Тип значения: STRING",isActive:!0,sortOrder:185,metadata:{type:"string",group:"Прочие имущественные Права требования",required:!1,section:"4.20",naturalKey:!1}},{id:"zalog-attr-186",code:"COUNTERPARTY_UNDER_CONTRACT",name:"Контрагент по договору/контракту",description:"Тип имущества: Прочие имущественные Права требования; Раздел отчета: 4.20; Тип значения: STRING",isActive:!0,sortOrder:186,metadata:{type:"string",group:"Прочие имущественные Права требования",required:!1,section:"4.20",naturalKey:!1}},{id:"zalog-attr-187",code:"NUMBER_CONTRACT",name:"Номер договора/контракта/доп. соглашения",description:"Тип имущества: Прочие имущественные Права требования; Раздел отчета: 4.20; Тип значения: STRING",isActive:!0,sortOrder:187,metadata:{type:"string",group:"Прочие имущественные Права требования",required:!1,section:"4.20",naturalKey:!1}},{id:"zalog-attr-188",code:"DATE_END_CONTRACT",name:"Дата окончания срока действия договора/ контракта/ доп соглашения",description:"Тип имущества: Прочие имущественные Права требования; Раздел отчета: 4.20; Тип значения: DATE",isActive:!0,sortOrder:188,metadata:{type:"date",group:"Прочие имущественные Права требования",required:!1,section:"4.20",naturalKey:!1}},{id:"zalog-attr-189",code:"CADASTRAL_NUMBER",name:"Кадастровый номер",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:189,metadata:{type:"string",group:"Здание",required:!0,section:"4.2.1",naturalKey:!0}},{id:"zalog-attr-190",code:"DATE_PRAVO_DOCUMENT",name:"Дата правоподтверждающего документа",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: DATE",isActive:!0,sortOrder:190,metadata:{type:"date",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-191",code:"APARTMENT_CONDITION",name:"Состояние квартиры",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: DIRECTORY",isActive:!0,sortOrder:191,metadata:{type:"directory",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-192",code:"FLOOR",name:"Этаж расположения",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: NUMBER",isActive:!0,sortOrder:192,metadata:{type:"number",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-193",code:"READINESS_DEGREE",name:"Степень готовности",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: STRING",isActive:!0,sortOrder:193,metadata:{type:"string",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-194",code:"HOUSE_TYPE",name:"Тип дома",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: DIRECTORY",isActive:!0,sortOrder:194,metadata:{type:"directory",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-195",code:"STRUCTURE",name:"Строение",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: STRING",isActive:!0,sortOrder:195,metadata:{type:"string",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-196",code:"STREET",name:"Улица",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: STRING",isActive:!0,sortOrder:196,metadata:{type:"string",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-197",code:"APPOINTMENT_EGRN",name:"Назначение в ЕГРН",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: STRING",isActive:!0,sortOrder:197,metadata:{type:"string",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-198",code:"VOLUME",name:"Объём (м3)",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: NUMBER",isActive:!0,sortOrder:198,metadata:{type:"number",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-199",code:"ADDR_STR",name:"Адрес строкой",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: STRING",isActive:!0,sortOrder:199,metadata:{type:"string",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-200",code:"SPREAD",name:"Протяженность (м)",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: NUMBER",isActive:!0,sortOrder:200,metadata:{type:"number",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-201",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: BOOLEAN",isActive:!0,sortOrder:201,metadata:{type:"boolean",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-202",code:"YEAR_OF_CONSTRUCTION",name:"Год постройки",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: NUMBER",isActive:!0,sortOrder:202,metadata:{type:"number",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-203",code:"DATA_EXTERNAL_SYSTEM",name:"Данные из внешних систем",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: BOOLEAN",isActive:!0,sortOrder:203,metadata:{type:"boolean",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-204",code:"CITY",name:"Город/населенный пункт",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: STRING",isActive:!0,sortOrder:204,metadata:{type:"string",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-205",code:"ACCEPT_TO_BORROWER_SOLVENCY",name:"Обеспечение приемлемо с т.з. независимости кредитоспособности заемщика от объектов залога",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: BOOLEAN",isActive:!0,sortOrder:205,metadata:{type:"boolean",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-206",code:"DATE_OF_DOCUMENT_WITH_DESCR",name:"Дата выдачи документа, содержащего описание и характеристики объекта недвижимости",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: DATE",isActive:!0,sortOrder:206,metadata:{type:"date",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-207",code:"IS_NATUR_RISK",name:"Банк отслеживает риск возникновения ответственности за воздействие недвижимого имущества, переданного в залог, на окружающую среду",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: BOOLEAN",isActive:!0,sortOrder:207,metadata:{type:"boolean",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-208",code:"DATE_RECORD_EGRN",name:"Дата записи регистрации в ЕГРН",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: DATE",isActive:!0,sortOrder:208,metadata:{type:"date",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-209",code:"BUILDING",name:"дом",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: STRING",isActive:!0,sortOrder:209,metadata:{type:"string",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-210",code:"INDEX",name:"Индекс",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: STRING",isActive:!0,sortOrder:210,metadata:{type:"string",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-211",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: STRING",isActive:!0,sortOrder:211,metadata:{type:"string",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-212",code:"CADASTRAL_COST",name:"Кадастровая стоимость, в руб.",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: NUMBER",isActive:!0,sortOrder:212,metadata:{type:"number",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-213",code:"ROOM",name:"Квартира",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: STRING",isActive:!0,sortOrder:213,metadata:{type:"string",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-214",code:"CODE_KLADR",name:"Код КЛАДР",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: STRING",isActive:!0,sortOrder:214,metadata:{type:"string",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-215",code:"BELONGING_SECURITY_ZONES_MOSCOW",name:"Принадлежность к охранным зонам г. Москвы",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: BOOLEAN",isActive:!0,sortOrder:215,metadata:{type:"boolean",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-216",code:"CODE_OKATO",name:"Код ОКАТО",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: STRING",isActive:!0,sortOrder:216,metadata:{type:"string",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-217",code:"CODE_OKSM",name:"Код ОКСМ",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: STRING",isActive:!0,sortOrder:217,metadata:{type:"string",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-218",code:"CODE_OKTMO",name:"Код ОКТМО",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: STRING",isActive:!0,sortOrder:218,metadata:{type:"string",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-219",code:"AGENCY_OF_DOCUMENT_WITH_DESCR",name:"Орган выдачи документа, содержащего описание и характеристики объекта недвижимости",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: STRING",isActive:!0,sortOrder:219,metadata:{type:"string",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-220",code:"CODE_FIAS",name:"Код фиас",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: STRING",isActive:!0,sortOrder:220,metadata:{type:"string",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-221",code:"NAME_PRAVO_DOCUMENT_WITH_DESCR",name:"Наименование документа, содержащего описание и характеристики объекта недвижимости",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: DIRECTORY",isActive:!0,sortOrder:221,metadata:{type:"directory",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-222",code:"NUMBER_OF_ROOMS",name:"Количество комнат",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: NUMBER",isActive:!0,sortOrder:222,metadata:{type:"number",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-223",code:"AMOUNT_OF_PEOPLE",name:"Количество лиц, место жительства которых зарегистрировано в предмете ипотеки",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: NUMBER",isActive:!0,sortOrder:223,metadata:{type:"number",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-224",code:"LETTER",name:"Литера",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: STRING",isActive:!0,sortOrder:224,metadata:{type:"string",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-225",code:"SERIES_NUMBER_OF_DOCUMENT",name:"Серия и номер правоподтверждающего документа",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: STRING",isActive:!0,sortOrder:225,metadata:{type:"string",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-226",code:"NAME_OF_PRAVO_DOCUMENT",name:"Наименование правоподтверждающего документа",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: DIRECTORY",isActive:!0,sortOrder:226,metadata:{type:"directory",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-227",code:"LIVING_SPACE",name:"Жилая площадь м2",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: NUMBER",isActive:!0,sortOrder:227,metadata:{type:"number",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-228",code:"LENGTH_VOLUME",name:"Длина/объем",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: NUMBER",isActive:!0,sortOrder:228,metadata:{type:"number",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-229",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: STRING",isActive:!0,sortOrder:229,metadata:{type:"string",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-230",code:"TOTAL_AREA",name:"Общая площадь м2",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: NUMBER",isActive:!0,sortOrder:230,metadata:{type:"number",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-231",code:"CONDITIONAL_NUMBER",name:"Условный номер",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: STRING",isActive:!0,sortOrder:231,metadata:{type:"string",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-232",code:"PR_EXIST_PEOPLE_MORTGAGE",name:"Наличие лиц, место жительства которых зарегистрировано в предмете ипотеки",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: BOOLEAN",isActive:!0,sortOrder:232,metadata:{type:"boolean",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-233",code:"NUMBER_REGISTER_AGENCY",name:"Номер регистрирующего органа",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: STRING",isActive:!0,sortOrder:233,metadata:{type:"string",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-234",code:"PR_BUY_IN_FUTURE",name:"Признак приобретаемого в будущем за счет кредитных средств имущества",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: BOOLEAN",isActive:!0,sortOrder:234,metadata:{type:"boolean",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-235",code:"REGISTRATION_RECORD_NUMBER_USRN",name:"Номер записи регистрации в ЕГРН",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: STRING",isActive:!0,sortOrder:235,metadata:{type:"string",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-236",code:"PR_NECES_NOTARY_CERTIF_CONTRACT",name:"Признак необходимости нотариального удостоверения договора ипотеки",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: BOOLEAN",isActive:!0,sortOrder:236,metadata:{type:"boolean",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-237",code:"IS_CULTURE_OBJECT",name:"Признак отнесения к объектам культурного наследия",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: BOOLEAN",isActive:!0,sortOrder:237,metadata:{type:"boolean",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-238",code:"REGISTRATION_AUTHORITY_NAME",name:"Наименование регистрирующего органа",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: STRING",isActive:!0,sortOrder:238,metadata:{type:"string",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-239",code:"DATE_OF_CADASTRAL_COST",name:"Дата определения кадастровой стоимости",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: DATE",isActive:!0,sortOrder:239,metadata:{type:"date",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-240",code:"PR_REGISTR_BOND",name:"Признак оформления закладной",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: BOOLEAN",isActive:!0,sortOrder:240,metadata:{type:"boolean",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-241",code:"SHARE_SIZE_PERCENTAGE",name:"Размер доли в праве общей долевой собственности, процент",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: NUMBER",isActive:!0,sortOrder:241,metadata:{type:"number",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-242",code:"ADMINISTRATIVE_AREA",name:"Район",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: STRING",isActive:!0,sortOrder:242,metadata:{type:"string",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-243",code:"DISTANCE_FROM_BANK",name:"Удаление от ближайшей ТП Банка в км.",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: NUMBER",isActive:!0,sortOrder:243,metadata:{type:"number",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-244",code:"REGION",name:"Регион",description:"Тип имущества: Здание; Раздел отчета: 4.2.1; Тип значения: STRING",isActive:!0,sortOrder:244,metadata:{type:"string",group:"Здание",required:!1,section:"4.2.1",naturalKey:!1}},{id:"zalog-attr-245",code:"OWNER_TIN",name:"Значение идентификационного кода залогодателя",description:"Тип имущества: Прочие движимые вещи; Раздел отчета: 4.21; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:245,metadata:{type:"string",group:"Прочие движимые вещи",required:!0,section:"4.21",naturalKey:!0}},{id:"zalog-attr-246",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип имущества: Прочие движимые вещи; Раздел отчета: 4.21; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:246,metadata:{type:"string",group:"Прочие движимые вещи",required:!0,section:"4.21",naturalKey:!0}},{id:"zalog-attr-247",code:"LOCATION_OTHER_MOVABLE_PROPERTY",name:"Местонахождение прочего движимого имущества",description:"Тип имущества: Прочие движимые вещи; Раздел отчета: 4.21; Тип значения: STRING",isActive:!0,sortOrder:247,metadata:{type:"string",group:"Прочие движимые вещи",required:!1,section:"4.21",naturalKey:!1}},{id:"zalog-attr-248",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип имущества: Прочие движимые вещи; Раздел отчета: 4.21; Тип значения: BOOLEAN",isActive:!0,sortOrder:248,metadata:{type:"boolean",group:"Прочие движимые вещи",required:!1,section:"4.21",naturalKey:!1}},{id:"zalog-attr-249",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип имущества: Прочие движимые вещи; Раздел отчета: 4.21; Тип значения: STRING",isActive:!0,sortOrder:249,metadata:{type:"string",group:"Прочие движимые вещи",required:!1,section:"4.21",naturalKey:!1}},{id:"zalog-attr-250",code:"CODE_OKATO",name:"Код ОКАТО",description:"Тип имущества: Прочие движимые вещи; Раздел отчета: 4.21; Тип значения: STRING",isActive:!0,sortOrder:250,metadata:{type:"string",group:"Прочие движимые вещи",required:!1,section:"4.21",naturalKey:!1}},{id:"zalog-attr-251",code:"CADASTRAL_NUMBER",name:"Кадастровый номер",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:251,metadata:{type:"string",group:"Сооружение",required:!0,section:"4.2.2",naturalKey:!0}},{id:"zalog-attr-252",code:"STRUCTURE",name:"Строение",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: STRING",isActive:!0,sortOrder:252,metadata:{type:"string",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-253",code:"ADMINISTRATIVE_AREA",name:"Район",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: STRING",isActive:!0,sortOrder:253,metadata:{type:"string",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-254",code:"STREET",name:"Улица",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: STRING",isActive:!0,sortOrder:254,metadata:{type:"string",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-255",code:"LIVING_SPACE",name:"Жилая площадь м2",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: NUMBER",isActive:!0,sortOrder:255,metadata:{type:"number",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-256",code:"APARTMENT_CONDITION",name:"Состояние квартиры",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: DIRECTORY",isActive:!0,sortOrder:256,metadata:{type:"directory",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-257",code:"PR_NECES_NOTARY_CERTIF_CONTRACT",name:"Признак необходимости нотариального удостоверения договора ипотеки",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: BOOLEAN",isActive:!0,sortOrder:257,metadata:{type:"boolean",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-258",code:"READINESS_DEGREE",name:"Степень готовности",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: STRING",isActive:!0,sortOrder:258,metadata:{type:"string",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-259",code:"IS_CULTURE_OBJECT",name:"Признак отнесения к объектам культурного наследия",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: BOOLEAN",isActive:!0,sortOrder:259,metadata:{type:"boolean",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-260",code:"SHARE_SIZE_PERCENTAGE",name:"Размер доли в праве общей долевой собственности, процент",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: NUMBER",isActive:!0,sortOrder:260,metadata:{type:"number",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-261",code:"REGISTRATION_AUTHORITY_NAME",name:"Наименование регистрирующего органа",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: STRING",isActive:!0,sortOrder:261,metadata:{type:"string",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-262",code:"DISTANCE_FROM_BANK",name:"Удаление от ближайшей ТП Банка в км.",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: NUMBER",isActive:!0,sortOrder:262,metadata:{type:"number",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-263",code:"AMOUNT_OF_PEOPLE",name:"Количество лиц, место жительства которых зарегистрировано в предмете ипотеки",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: NUMBER",isActive:!0,sortOrder:263,metadata:{type:"number",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-264",code:"DATE_OF_CADASTRAL_COST",name:"Дата определения кадастровой стоимости",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: DATE",isActive:!0,sortOrder:264,metadata:{type:"date",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-265",code:"PR_REGISTR_BOND",name:"Признак оформления закладной",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: BOOLEAN",isActive:!0,sortOrder:265,metadata:{type:"boolean",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-266",code:"INDEX",name:"Индекс",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: STRING",isActive:!0,sortOrder:266,metadata:{type:"string",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-267",code:"CODE_OKATO",name:"Код ОКАТО",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: STRING",isActive:!0,sortOrder:267,metadata:{type:"string",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-268",code:"BELONGING_SECURITY_ZONES_MOSCOW",name:"Принадлежность к охранным зонам г. Москвы",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: BOOLEAN",isActive:!0,sortOrder:268,metadata:{type:"boolean",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-269",code:"CODE_OKSM",name:"Код ОКСМ",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: STRING",isActive:!0,sortOrder:269,metadata:{type:"string",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-270",code:"CODE_KLADR",name:"Код КЛАДР",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: STRING",isActive:!0,sortOrder:270,metadata:{type:"string",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-271",code:"LENGTH_VOLUME",name:"Длина/объем",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: NUMBER",isActive:!0,sortOrder:271,metadata:{type:"number",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-272",code:"HOUSE_TYPE",name:"Тип дома",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: DIRECTORY",isActive:!0,sortOrder:272,metadata:{type:"directory",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-273",code:"CODE_OKTMO",name:"Код ОКТМО",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: STRING",isActive:!0,sortOrder:273,metadata:{type:"string",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-274",code:"FLOOR",name:"Этаж расположения",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: NUMBER",isActive:!0,sortOrder:274,metadata:{type:"number",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-275",code:"AGENCY_OF_DOCUMENT_WITH_DESCR",name:"Орган выдачи документа, содержащего описание и характеристики объекта недвижимости",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: STRING",isActive:!0,sortOrder:275,metadata:{type:"string",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-276",code:"ROOM",name:"Квартира",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: STRING",isActive:!0,sortOrder:276,metadata:{type:"string",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-277",code:"CODE_FIAS",name:"Код фиас",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: STRING",isActive:!0,sortOrder:277,metadata:{type:"string",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-278",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: STRING",isActive:!0,sortOrder:278,metadata:{type:"string",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-279",code:"BUILDING",name:"дом",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: STRING",isActive:!0,sortOrder:279,metadata:{type:"string",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-280",code:"DATE_PRAVO_DOCUMENT",name:"Дата правоподтверждающего документа",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: DATE",isActive:!0,sortOrder:280,metadata:{type:"date",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-281",code:"TOTAL_AREA",name:"Общая площадь м2",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: NUMBER",isActive:!0,sortOrder:281,metadata:{type:"number",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-282",code:"REGION",name:"Регион",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: STRING",isActive:!0,sortOrder:282,metadata:{type:"string",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-283",code:"NUMBER_OF_ROOMS",name:"Количество комнат",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: NUMBER",isActive:!0,sortOrder:283,metadata:{type:"number",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-284",code:"CONDITIONAL_NUMBER",name:"Условный номер",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: STRING",isActive:!0,sortOrder:284,metadata:{type:"string",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-285",code:"CADASTRAL_COST",name:"Кадастровая стоимость, в руб.",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: NUMBER",isActive:!0,sortOrder:285,metadata:{type:"number",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-286",code:"PR_EXIST_PEOPLE_MORTGAGE",name:"Наличие лиц, место жительства которых зарегистрировано в предмете ипотеки",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: BOOLEAN",isActive:!0,sortOrder:286,metadata:{type:"boolean",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-287",code:"DATE_RECORD_EGRN",name:"Дата записи регистрации в ЕГРН",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: DATE",isActive:!0,sortOrder:287,metadata:{type:"date",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-288",code:"IS_NATUR_RISK",name:"Банк отслеживает риск возникновения ответственности за воздействие недвижимого имущества, переданного в залог, на окружающую среду",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: BOOLEAN",isActive:!0,sortOrder:288,metadata:{type:"boolean",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-289",code:"SERIES_NUMBER_OF_DOCUMENT",name:"Серия и номер правоподтверждающего документа",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: STRING",isActive:!0,sortOrder:289,metadata:{type:"string",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-290",code:"DATE_OF_DOCUMENT_WITH_DESCR",name:"Дата выдачи документа, содержащего описание и характеристики объекта недвижимости",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: DATE",isActive:!0,sortOrder:290,metadata:{type:"date",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-291",code:"LETTER",name:"Литера",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: STRING",isActive:!0,sortOrder:291,metadata:{type:"string",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-292",code:"ACCEPT_TO_BORROWER_SOLVENCY",name:"Обеспечение приемлемо с т.з. независимости кредитоспособности заемщика от объектов залога",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: BOOLEAN",isActive:!0,sortOrder:292,metadata:{type:"boolean",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-293",code:"CITY",name:"Город/населенный пункт",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: STRING",isActive:!0,sortOrder:293,metadata:{type:"string",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-294",code:"DATA_EXTERNAL_SYSTEM",name:"Данные из внешних систем",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: BOOLEAN",isActive:!0,sortOrder:294,metadata:{type:"boolean",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-295",code:"APPOINTMENT_EGRN",name:"Назначение в ЕГРН",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: STRING",isActive:!0,sortOrder:295,metadata:{type:"string",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-296",code:"NUMBER_REGISTER_AGENCY",name:"Номер регистрирующего органа",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: STRING",isActive:!0,sortOrder:296,metadata:{type:"string",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-297",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: STRING",isActive:!0,sortOrder:297,metadata:{type:"string",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-298",code:"YEAR_OF_CONSTRUCTION",name:"Год постройки",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: NUMBER",isActive:!0,sortOrder:298,metadata:{type:"number",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-299",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: BOOLEAN",isActive:!0,sortOrder:299,metadata:{type:"boolean",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-300",code:"SPREAD",name:"Протяженность (м)",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: NUMBER",isActive:!0,sortOrder:300,metadata:{type:"number",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-301",code:"NAME_PRAVO_DOCUMENT_WITH_DESCR",name:"Наименование документа, содержащего описание и характеристики объекта недвижимости",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: DIRECTORY",isActive:!0,sortOrder:301,metadata:{type:"directory",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-302",code:"ADDR_STR",name:"Адрес строкой",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: STRING",isActive:!0,sortOrder:302,metadata:{type:"string",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-303",code:"NAME_OF_PRAVO_DOCUMENT",name:"Наименование правоподтверждающего документа",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: DIRECTORY",isActive:!0,sortOrder:303,metadata:{type:"directory",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-304",code:"VOLUME",name:"Объём (м3)",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: NUMBER",isActive:!0,sortOrder:304,metadata:{type:"number",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-305",code:"PR_BUY_IN_FUTURE",name:"Признак приобретаемого в будущем за счет кредитных средств имущества",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: BOOLEAN",isActive:!0,sortOrder:305,metadata:{type:"boolean",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-306",code:"REGISTRATION_RECORD_NUMBER_USRN",name:"Номер записи регистрации в ЕГРН",description:"Тип имущества: Сооружение; Раздел отчета: 4.2.2; Тип значения: STRING",isActive:!0,sortOrder:306,metadata:{type:"string",group:"Сооружение",required:!1,section:"4.2.2",naturalKey:!1}},{id:"zalog-attr-307",code:"CADASTRAL_NUMBER",name:"Кадастровый номер",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:307,metadata:{type:"string",group:"Помещение",required:!0,section:"4.2.3",naturalKey:!0}},{id:"zalog-attr-308",code:"LIVING_SPACE",name:"Жилая площадь м2",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: NUMBER",isActive:!0,sortOrder:308,metadata:{type:"number",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-309",code:"ADMINISTRATIVE_AREA",name:"Район",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: STRING",isActive:!0,sortOrder:309,metadata:{type:"string",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-310",code:"CONDITIONAL_NUMBER",name:"Условный номер",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: STRING",isActive:!0,sortOrder:310,metadata:{type:"string",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-311",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: BOOLEAN",isActive:!0,sortOrder:311,metadata:{type:"boolean",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-312",code:"NAME_PRAVO_DOCUMENT_WITH_DESCR",name:"Наименование документа, содержащего описание и характеристики объекта недвижимости",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: DIRECTORY",isActive:!0,sortOrder:312,metadata:{type:"directory",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-313",code:"DATE_RECORD_EGRN",name:"Дата записи регистрации в ЕГРН",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: DATE",isActive:!0,sortOrder:313,metadata:{type:"date",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-314",code:"REGION",name:"Регион",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: STRING",isActive:!0,sortOrder:314,metadata:{type:"string",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-315",code:"PR_NECES_NOTARY_CERTIF_CONTRACT",name:"Признак необходимости нотариального удостоверения договора ипотеки",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: BOOLEAN",isActive:!0,sortOrder:315,metadata:{type:"boolean",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-316",code:"STRUCTURE",name:"Строение",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: STRING",isActive:!0,sortOrder:316,metadata:{type:"string",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-317",code:"DISTANCE_FROM_BANK",name:"Удаление от ближайшей ТП Банка в км.",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: NUMBER",isActive:!0,sortOrder:317,metadata:{type:"number",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-318",code:"PR_EXIST_PEOPLE_MORTGAGE",name:"Наличие лиц, место жительства которых зарегистрировано в предмете ипотеки",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: BOOLEAN",isActive:!0,sortOrder:318,metadata:{type:"boolean",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-319",code:"IS_CULTURE_OBJECT",name:"Признак отнесения к объектам культурного наследия",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: BOOLEAN",isActive:!0,sortOrder:319,metadata:{type:"boolean",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-320",code:"LENGTH_VOLUME",name:"Длина/объем",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: NUMBER",isActive:!0,sortOrder:320,metadata:{type:"number",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-321",code:"SERIES_NUMBER_OF_DOCUMENT",name:"Серия и номер правоподтверждающего документа",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: STRING",isActive:!0,sortOrder:321,metadata:{type:"string",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-322",code:"STREET",name:"Улица",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: STRING",isActive:!0,sortOrder:322,metadata:{type:"string",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-323",code:"VOLUME",name:"Объём (м3)",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: NUMBER",isActive:!0,sortOrder:323,metadata:{type:"number",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-324",code:"APPOINTMENT_EGRN",name:"Назначение в ЕГРН",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: STRING",isActive:!0,sortOrder:324,metadata:{type:"string",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-325",code:"DATE_OF_CADASTRAL_COST",name:"Дата определения кадастровой стоимости",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: DATE",isActive:!0,sortOrder:325,metadata:{type:"date",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-326",code:"SHARE_SIZE_PERCENTAGE",name:"Размер доли в праве общей долевой собственности, процент",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: NUMBER",isActive:!0,sortOrder:326,metadata:{type:"number",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-327",code:"INDEX",name:"Индекс",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: STRING",isActive:!0,sortOrder:327,metadata:{type:"string",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-328",code:"FLOOR",name:"Этаж расположения",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: NUMBER",isActive:!0,sortOrder:328,metadata:{type:"number",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-329",code:"DATE_OF_DOCUMENT_WITH_DESCR",name:"Дата выдачи документа, содержащего описание и характеристики объекта недвижимости",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: DATE",isActive:!0,sortOrder:329,metadata:{type:"date",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-330",code:"PR_REGISTR_BOND",name:"Признак оформления закладной",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: BOOLEAN",isActive:!0,sortOrder:330,metadata:{type:"boolean",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-331",code:"NAME_OF_PRAVO_DOCUMENT",name:"Наименование правоподтверждающего документа",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: DIRECTORY",isActive:!0,sortOrder:331,metadata:{type:"directory",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-332",code:"CODE_OKATO",name:"Код ОКАТО",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: STRING",isActive:!0,sortOrder:332,metadata:{type:"string",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-333",code:"ACCEPT_TO_BORROWER_SOLVENCY",name:"Обеспечение приемлемо с т.з. независимости кредитоспособности заемщика от объектов залога",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: BOOLEAN",isActive:!0,sortOrder:333,metadata:{type:"boolean",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-334",code:"ADDR_STR",name:"Адрес строкой",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: STRING",isActive:!0,sortOrder:334,metadata:{type:"string",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-335",code:"REGISTRATION_AUTHORITY_NAME",name:"Наименование регистрирующего органа",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: STRING",isActive:!0,sortOrder:335,metadata:{type:"string",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-336",code:"READINESS_DEGREE",name:"Степень готовности",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: STRING",isActive:!0,sortOrder:336,metadata:{type:"string",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-337",code:"CODE_OKSM",name:"Код ОКСМ",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: STRING",isActive:!0,sortOrder:337,metadata:{type:"string",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-338",code:"DATE_PRAVO_DOCUMENT",name:"Дата правоподтверждающего документа",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: DATE",isActive:!0,sortOrder:338,metadata:{type:"date",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-339",code:"BELONGING_SECURITY_ZONES_MOSCOW",name:"Принадлежность к охранным зонам г. Москвы",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: BOOLEAN",isActive:!0,sortOrder:339,metadata:{type:"boolean",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-340",code:"AMOUNT_OF_PEOPLE",name:"Количество лиц, место жительства которых зарегистрировано в предмете ипотеки",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: NUMBER",isActive:!0,sortOrder:340,metadata:{type:"number",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-341",code:"CODE_KLADR",name:"Код КЛАДР",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: STRING",isActive:!0,sortOrder:341,metadata:{type:"string",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-342",code:"LETTER",name:"Литера",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: STRING",isActive:!0,sortOrder:342,metadata:{type:"string",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-343",code:"BUILDING",name:"дом",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: STRING",isActive:!0,sortOrder:343,metadata:{type:"string",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-344",code:"CITY",name:"Город/населенный пункт",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: STRING",isActive:!0,sortOrder:344,metadata:{type:"string",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-345",code:"SPREAD",name:"Протяженность (м)",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: NUMBER",isActive:!0,sortOrder:345,metadata:{type:"number",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-346",code:"CODE_OKTMO",name:"Код ОКТМО",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: STRING",isActive:!0,sortOrder:346,metadata:{type:"string",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-347",code:"DATA_EXTERNAL_SYSTEM",name:"Данные из внешних систем",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: BOOLEAN",isActive:!0,sortOrder:347,metadata:{type:"boolean",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-348",code:"IS_NATUR_RISK",name:"Банк отслеживает риск возникновения ответственности за воздействие недвижимого имущества, переданного в залог, на окружающую среду",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: BOOLEAN",isActive:!0,sortOrder:348,metadata:{type:"boolean",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-349",code:"APARTMENT_CONDITION",name:"Состояние квартиры",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: DIRECTORY",isActive:!0,sortOrder:349,metadata:{type:"directory",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-350",code:"AGENCY_OF_DOCUMENT_WITH_DESCR",name:"Орган выдачи документа, содержащего описание и характеристики объекта недвижимости",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: STRING",isActive:!0,sortOrder:350,metadata:{type:"string",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-351",code:"NUMBER_OF_ROOMS",name:"Количество комнат",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: NUMBER",isActive:!0,sortOrder:351,metadata:{type:"number",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-352",code:"HOUSE_TYPE",name:"Тип дома",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: DIRECTORY",isActive:!0,sortOrder:352,metadata:{type:"directory",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-353",code:"ROOM",name:"Квартира",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: STRING",isActive:!0,sortOrder:353,metadata:{type:"string",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-354",code:"CODE_FIAS",name:"Код фиас",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: STRING",isActive:!0,sortOrder:354,metadata:{type:"string",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-355",code:"YEAR_OF_CONSTRUCTION",name:"Год постройки",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: NUMBER",isActive:!0,sortOrder:355,metadata:{type:"number",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-356",code:"REGISTRATION_RECORD_NUMBER_USRN",name:"Номер записи регистрации в ЕГРН",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: STRING",isActive:!0,sortOrder:356,metadata:{type:"string",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-357",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: STRING",isActive:!0,sortOrder:357,metadata:{type:"string",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-358",code:"CADASTRAL_COST",name:"Кадастровая стоимость, в руб.",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: NUMBER",isActive:!0,sortOrder:358,metadata:{type:"number",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-359",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: STRING",isActive:!0,sortOrder:359,metadata:{type:"string",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-360",code:"NUMBER_REGISTER_AGENCY",name:"Номер регистрирующего органа",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: STRING",isActive:!0,sortOrder:360,metadata:{type:"string",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-361",code:"TOTAL_AREA",name:"Общая площадь м2",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: NUMBER",isActive:!0,sortOrder:361,metadata:{type:"number",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-362",code:"PR_BUY_IN_FUTURE",name:"Признак приобретаемого в будущем за счет кредитных средств имущества",description:"Тип имущества: Помещение; Раздел отчета: 4.2.3; Тип значения: BOOLEAN",isActive:!0,sortOrder:362,metadata:{type:"boolean",group:"Помещение",required:!1,section:"4.2.3",naturalKey:!1}},{id:"zalog-attr-363",code:"CADASTRAL_NUMBER",name:"Кадастровый номер",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:363,metadata:{type:"string",group:"Машино-место",required:!0,section:"4.2.4",naturalKey:!0}},{id:"zalog-attr-364",code:"YEAR_OF_CONSTRUCTION",name:"Год постройки",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: NUMBER",isActive:!0,sortOrder:364,metadata:{type:"number",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-365",code:"CODE_FIAS",name:"Код фиас",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: STRING",isActive:!0,sortOrder:365,metadata:{type:"string",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-366",code:"READINESS_DEGREE",name:"Степень готовности",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: STRING",isActive:!0,sortOrder:366,metadata:{type:"string",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-367",code:"NUMBER_OF_ROOMS",name:"Количество комнат",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: NUMBER",isActive:!0,sortOrder:367,metadata:{type:"number",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-368",code:"CADASTRAL_COST",name:"Кадастровая стоимость, в руб.",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: NUMBER",isActive:!0,sortOrder:368,metadata:{type:"number",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-369",code:"DATE_PRAVO_DOCUMENT",name:"Дата правоподтверждающего документа",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: DATE",isActive:!0,sortOrder:369,metadata:{type:"date",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-370",code:"AMOUNT_OF_PEOPLE",name:"Количество лиц, место жительства которых зарегистрировано в предмете ипотеки",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: NUMBER",isActive:!0,sortOrder:370,metadata:{type:"number",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-371",code:"FLOOR",name:"Этаж расположения",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: NUMBER",isActive:!0,sortOrder:371,metadata:{type:"number",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-372",code:"SERIES_NUMBER_OF_DOCUMENT",name:"Серия и номер правоподтверждающего документа",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: STRING",isActive:!0,sortOrder:372,metadata:{type:"string",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-373",code:"LETTER",name:"Литера",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: STRING",isActive:!0,sortOrder:373,metadata:{type:"string",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-374",code:"SHARE_SIZE_PERCENTAGE",name:"Размер доли в праве общей долевой собственности, процент",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: NUMBER",isActive:!0,sortOrder:374,metadata:{type:"number",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-375",code:"NAME_OF_PRAVO_DOCUMENT",name:"Наименование правоподтверждающего документа",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: DIRECTORY",isActive:!0,sortOrder:375,metadata:{type:"directory",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-376",code:"LIVING_SPACE",name:"Жилая площадь м2",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: NUMBER",isActive:!0,sortOrder:376,metadata:{type:"number",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-377",code:"LENGTH_VOLUME",name:"Длина/объем",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: NUMBER",isActive:!0,sortOrder:377,metadata:{type:"number",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-378",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: STRING",isActive:!0,sortOrder:378,metadata:{type:"string",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-379",code:"INDEX",name:"Индекс",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: STRING",isActive:!0,sortOrder:379,metadata:{type:"string",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-380",code:"BUILDING",name:"дом",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: STRING",isActive:!0,sortOrder:380,metadata:{type:"string",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-381",code:"APARTMENT_CONDITION",name:"Состояние квартиры",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: DIRECTORY",isActive:!0,sortOrder:381,metadata:{type:"directory",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-382",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: STRING",isActive:!0,sortOrder:382,metadata:{type:"string",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-383",code:"TOTAL_AREA",name:"Общая площадь м2",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: NUMBER",isActive:!0,sortOrder:383,metadata:{type:"number",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-384",code:"CONDITIONAL_NUMBER",name:"Условный номер",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: STRING",isActive:!0,sortOrder:384,metadata:{type:"string",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-385",code:"DATE_RECORD_EGRN",name:"Дата записи регистрации в ЕГРН",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: DATE",isActive:!0,sortOrder:385,metadata:{type:"date",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-386",code:"DISTANCE_FROM_BANK",name:"Удаление от ближайшей ТП Банка в км.",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: NUMBER",isActive:!0,sortOrder:386,metadata:{type:"number",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-387",code:"PR_EXIST_PEOPLE_MORTGAGE",name:"Наличие лиц, место жительства которых зарегистрировано в предмете ипотеки",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: BOOLEAN",isActive:!0,sortOrder:387,metadata:{type:"boolean",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-388",code:"IS_NATUR_RISK",name:"Банк отслеживает риск возникновения ответственности за воздействие недвижимого имущества, переданного в залог, на окружающую среду",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: BOOLEAN",isActive:!0,sortOrder:388,metadata:{type:"boolean",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-389",code:"DATE_OF_DOCUMENT_WITH_DESCR",name:"Дата выдачи документа, содержащего описание и характеристики объекта недвижимости",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: DATE",isActive:!0,sortOrder:389,metadata:{type:"date",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-390",code:"ACCEPT_TO_BORROWER_SOLVENCY",name:"Обеспечение приемлемо с т.з. независимости кредитоспособности заемщика от объектов залога",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: BOOLEAN",isActive:!0,sortOrder:390,metadata:{type:"boolean",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-391",code:"CITY",name:"Город/населенный пункт",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: STRING",isActive:!0,sortOrder:391,metadata:{type:"string",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-392",code:"DATA_EXTERNAL_SYSTEM",name:"Данные из внешних систем",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: BOOLEAN",isActive:!0,sortOrder:392,metadata:{type:"boolean",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-393",code:"NUMBER_REGISTER_AGENCY",name:"Номер регистрирующего органа",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: STRING",isActive:!0,sortOrder:393,metadata:{type:"string",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-394",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: BOOLEAN",isActive:!0,sortOrder:394,metadata:{type:"boolean",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-395",code:"APPOINTMENT_EGRN",name:"Назначение в ЕГРН",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: STRING",isActive:!0,sortOrder:395,metadata:{type:"string",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-396",code:"ADDR_STR",name:"Адрес строкой",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: STRING",isActive:!0,sortOrder:396,metadata:{type:"string",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-397",code:"SPREAD",name:"Протяженность (м)",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: NUMBER",isActive:!0,sortOrder:397,metadata:{type:"number",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-398",code:"PR_BUY_IN_FUTURE",name:"Признак приобретаемого в будущем за счет кредитных средств имущества",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: BOOLEAN",isActive:!0,sortOrder:398,metadata:{type:"boolean",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-399",code:"VOLUME",name:"Объём (м3)",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: NUMBER",isActive:!0,sortOrder:399,metadata:{type:"number",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-400",code:"REGISTRATION_RECORD_NUMBER_USRN",name:"Номер записи регистрации в ЕГРН",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: STRING",isActive:!0,sortOrder:400,metadata:{type:"string",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-401",code:"ADMINISTRATIVE_AREA",name:"Район",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: STRING",isActive:!0,sortOrder:401,metadata:{type:"string",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-402",code:"STREET",name:"Улица",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: STRING",isActive:!0,sortOrder:402,metadata:{type:"string",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-403",code:"PR_NECES_NOTARY_CERTIF_CONTRACT",name:"Признак необходимости нотариального удостоверения договора ипотеки",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: BOOLEAN",isActive:!0,sortOrder:403,metadata:{type:"boolean",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-404",code:"REGISTRATION_AUTHORITY_NAME",name:"Наименование регистрирующего органа",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: STRING",isActive:!0,sortOrder:404,metadata:{type:"string",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-405",code:"IS_CULTURE_OBJECT",name:"Признак отнесения к объектам культурного наследия",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: BOOLEAN",isActive:!0,sortOrder:405,metadata:{type:"boolean",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-406",code:"STRUCTURE",name:"Строение",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: STRING",isActive:!0,sortOrder:406,metadata:{type:"string",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-407",code:"DATE_OF_CADASTRAL_COST",name:"Дата определения кадастровой стоимости",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: DATE",isActive:!0,sortOrder:407,metadata:{type:"date",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-408",code:"REGION",name:"Регион",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: STRING",isActive:!0,sortOrder:408,metadata:{type:"string",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-409",code:"CODE_OKATO",name:"Код ОКАТО",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: STRING",isActive:!0,sortOrder:409,metadata:{type:"string",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-410",code:"PR_REGISTR_BOND",name:"Признак оформления закладной",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: BOOLEAN",isActive:!0,sortOrder:410,metadata:{type:"boolean",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-411",code:"CODE_OKSM",name:"Код ОКСМ",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: STRING",isActive:!0,sortOrder:411,metadata:{type:"string",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-412",code:"CODE_KLADR",name:"Код КЛАДР",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: STRING",isActive:!0,sortOrder:412,metadata:{type:"string",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-413",code:"BELONGING_SECURITY_ZONES_MOSCOW",name:"Принадлежность к охранным зонам г. Москвы",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: BOOLEAN",isActive:!0,sortOrder:413,metadata:{type:"boolean",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-414",code:"AGENCY_OF_DOCUMENT_WITH_DESCR",name:"Орган выдачи документа, содержащего описание и характеристики объекта недвижимости",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: STRING",isActive:!0,sortOrder:414,metadata:{type:"string",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-415",code:"CODE_OKTMO",name:"Код ОКТМО",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: STRING",isActive:!0,sortOrder:415,metadata:{type:"string",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-416",code:"ROOM",name:"Квартира",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: STRING",isActive:!0,sortOrder:416,metadata:{type:"string",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-417",code:"NAME_PRAVO_DOCUMENT_WITH_DESCR",name:"Наименование документа, содержащего описание и характеристики объекта недвижимости",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: DIRECTORY",isActive:!0,sortOrder:417,metadata:{type:"directory",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-418",code:"HOUSE_TYPE",name:"Тип дома",description:"Тип имущества: Машино-место; Раздел отчета: 4.2.4; Тип значения: DIRECTORY",isActive:!0,sortOrder:418,metadata:{type:"directory",group:"Машино-место",required:!1,section:"4.2.4",naturalKey:!1}},{id:"zalog-attr-419",code:"CADASTRAL_NUMBER",name:"Кадастровый номер",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:419,metadata:{type:"string",group:"Объект незавершенного строительства",required:!0,section:"4.2.5",naturalKey:!0}},{id:"zalog-attr-420",code:"TOTAL_AREA",name:"Общая площадь м2",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: NUMBER",isActive:!0,sortOrder:420,metadata:{type:"number",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-421",code:"ADDR_STR",name:"Адрес строкой",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: STRING",isActive:!0,sortOrder:421,metadata:{type:"string",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-422",code:"YEAR_OF_CONSTRUCTION",name:"Год постройки",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: NUMBER",isActive:!0,sortOrder:422,metadata:{type:"number",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-423",code:"CITY",name:"Город/населенный пункт",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: STRING",isActive:!0,sortOrder:423,metadata:{type:"string",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-424",code:"DATE_OF_DOCUMENT_WITH_DESCR",name:"Дата выдачи документа, содержащего описание и характеристики объекта недвижимости",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: DATE",isActive:!0,sortOrder:424,metadata:{type:"date",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-425",code:"DATE_RECORD_EGRN",name:"Дата записи регистрации в ЕГРН",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: DATE",isActive:!0,sortOrder:425,metadata:{type:"date",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-426",code:"BUILDING",name:"дом",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: STRING",isActive:!0,sortOrder:426,metadata:{type:"string",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-427",code:"INDEX",name:"Индекс",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: STRING",isActive:!0,sortOrder:427,metadata:{type:"string",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-428",code:"CADASTRAL_COST",name:"Кадастровая стоимость, в руб.",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: NUMBER",isActive:!0,sortOrder:428,metadata:{type:"number",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-429",code:"ROOM",name:"Квартира",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: STRING",isActive:!0,sortOrder:429,metadata:{type:"string",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-430",code:"CODE_KLADR",name:"Код КЛАДР",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: STRING",isActive:!0,sortOrder:430,metadata:{type:"string",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-431",code:"CODE_OKATO",name:"Код ОКАТО",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: STRING",isActive:!0,sortOrder:431,metadata:{type:"string",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-432",code:"CODE_OKSM",name:"Код ОКСМ",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: STRING",isActive:!0,sortOrder:432,metadata:{type:"string",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-433",code:"CODE_OKTMO",name:"Код ОКТМО",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: STRING",isActive:!0,sortOrder:433,metadata:{type:"string",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-434",code:"CODE_FIAS",name:"Код фиас",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: STRING",isActive:!0,sortOrder:434,metadata:{type:"string",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-435",code:"NUMBER_OF_ROOMS",name:"Количество комнат",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: NUMBER",isActive:!0,sortOrder:435,metadata:{type:"number",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-436",code:"AMOUNT_OF_PEOPLE",name:"Количество лиц, место жительства которых зарегистрировано в предмете ипотеки",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: NUMBER",isActive:!0,sortOrder:436,metadata:{type:"number",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-437",code:"LETTER",name:"Литера",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: STRING",isActive:!0,sortOrder:437,metadata:{type:"string",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-438",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: STRING",isActive:!0,sortOrder:438,metadata:{type:"string",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-439",code:"PR_EXIST_PEOPLE_MORTGAGE",name:"Наличие лиц, место жительства которых зарегистрировано в предмете ипотеки",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: BOOLEAN",isActive:!0,sortOrder:439,metadata:{type:"boolean",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-440",code:"NUMBER_REGISTER_AGENCY",name:"Номер регистрирующего органа",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: STRING",isActive:!0,sortOrder:440,metadata:{type:"string",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-441",code:"PR_NECES_NOTARY_CERTIF_CONTRACT",name:"Признак необходимости нотариального удостоверения договора ипотеки",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: BOOLEAN",isActive:!0,sortOrder:441,metadata:{type:"boolean",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-442",code:"IS_CULTURE_OBJECT",name:"Признак отнесения к объектам культурного наследия",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: BOOLEAN",isActive:!0,sortOrder:442,metadata:{type:"boolean",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-443",code:"PR_REGISTR_BOND",name:"Признак оформления закладной",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: BOOLEAN",isActive:!0,sortOrder:443,metadata:{type:"boolean",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-444",code:"SHARE_SIZE_PERCENTAGE",name:"Размер доли в праве общей долевой собственности, процент",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: NUMBER",isActive:!0,sortOrder:444,metadata:{type:"number",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-445",code:"ADMINISTRATIVE_AREA",name:"Район",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: STRING",isActive:!0,sortOrder:445,metadata:{type:"string",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-446",code:"REGION",name:"Регион",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: STRING",isActive:!0,sortOrder:446,metadata:{type:"string",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-447",code:"APARTMENT_CONDITION",name:"Состояние квартиры",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: DIRECTORY",isActive:!0,sortOrder:447,metadata:{type:"directory",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-448",code:"READINESS_DEGREE",name:"Степень готовности",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: STRING",isActive:!0,sortOrder:448,metadata:{type:"string",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-449",code:"STREET",name:"Улица",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: STRING",isActive:!0,sortOrder:449,metadata:{type:"string",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-450",code:"STRUCTURE",name:"Строение",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: STRING",isActive:!0,sortOrder:450,metadata:{type:"string",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-451",code:"HOUSE_TYPE",name:"Тип дома",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: DIRECTORY",isActive:!0,sortOrder:451,metadata:{type:"directory",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-452",code:"FLOOR",name:"Этаж расположения",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: NUMBER",isActive:!0,sortOrder:452,metadata:{type:"number",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-453",code:"DISTANCE_FROM_BANK",name:"Удаление от ближайшей ТП Банка в км.",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: NUMBER",isActive:!0,sortOrder:453,metadata:{type:"number",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-454",code:"DATE_OF_CADASTRAL_COST",name:"Дата определения кадастровой стоимости",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: DATE",isActive:!0,sortOrder:454,metadata:{type:"date",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-455",code:"REGISTRATION_AUTHORITY_NAME",name:"Наименование регистрирующего органа",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: STRING",isActive:!0,sortOrder:455,metadata:{type:"string",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-456",code:"REGISTRATION_RECORD_NUMBER_USRN",name:"Номер записи регистрации в ЕГРН",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: STRING",isActive:!0,sortOrder:456,metadata:{type:"string",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-457",code:"PR_BUY_IN_FUTURE",name:"Признак приобретаемого в будущем за счет кредитных средств имущества",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: BOOLEAN",isActive:!0,sortOrder:457,metadata:{type:"boolean",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-458",code:"CONDITIONAL_NUMBER",name:"Условный номер",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: STRING",isActive:!0,sortOrder:458,metadata:{type:"string",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-459",code:"LENGTH_VOLUME",name:"Длина/объем",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: NUMBER",isActive:!0,sortOrder:459,metadata:{type:"number",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-460",code:"LIVING_SPACE",name:"Жилая площадь м2",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: NUMBER",isActive:!0,sortOrder:460,metadata:{type:"number",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-461",code:"NAME_OF_PRAVO_DOCUMENT",name:"Наименование правоподтверждающего документа",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: DIRECTORY",isActive:!0,sortOrder:461,metadata:{type:"directory",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-462",code:"SERIES_NUMBER_OF_DOCUMENT",name:"Серия и номер правоподтверждающего документа",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: STRING",isActive:!0,sortOrder:462,metadata:{type:"string",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-463",code:"DATE_PRAVO_DOCUMENT",name:"Дата правоподтверждающего документа",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: DATE",isActive:!0,sortOrder:463,metadata:{type:"date",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-464",code:"NAME_PRAVO_DOCUMENT_WITH_DESCR",name:"Наименование документа, содержащего описание и характеристики объекта недвижимости",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: DIRECTORY",isActive:!0,sortOrder:464,metadata:{type:"directory",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-465",code:"AGENCY_OF_DOCUMENT_WITH_DESCR",name:"Орган выдачи документа, содержащего описание и характеристики объекта недвижимости",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: STRING",isActive:!0,sortOrder:465,metadata:{type:"string",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-466",code:"BELONGING_SECURITY_ZONES_MOSCOW",name:"Принадлежность к охранным зонам г. Москвы",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: BOOLEAN",isActive:!0,sortOrder:466,metadata:{type:"boolean",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-467",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: STRING",isActive:!0,sortOrder:467,metadata:{type:"string",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-468",code:"IS_NATUR_RISK",name:"Банк отслеживает риск возникновения ответственности за воздействие недвижимого имущества, переданного в залог, на окружающую среду",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: BOOLEAN",isActive:!0,sortOrder:468,metadata:{type:"boolean",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-469",code:"ACCEPT_TO_BORROWER_SOLVENCY",name:"Обеспечение приемлемо с т.з. независимости кредитоспособности заемщика от объектов залога",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: BOOLEAN",isActive:!0,sortOrder:469,metadata:{type:"boolean",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-470",code:"DATA_EXTERNAL_SYSTEM",name:"Данные из внешних систем",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: BOOLEAN",isActive:!0,sortOrder:470,metadata:{type:"boolean",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-471",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: BOOLEAN",isActive:!0,sortOrder:471,metadata:{type:"boolean",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-472",code:"SPREAD",name:"Протяженность (м)",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: NUMBER",isActive:!0,sortOrder:472,metadata:{type:"number",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-473",code:"VOLUME",name:"Объём (м3)",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: NUMBER",isActive:!0,sortOrder:473,metadata:{type:"number",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-474",code:"APPOINTMENT_EGRN",name:"Назначение в ЕГРН",description:"Тип имущества: Объект незавершенного строительства; Раздел отчета: 4.2.5; Тип значения: STRING",isActive:!0,sortOrder:474,metadata:{type:"string",group:"Объект незавершенного строительства",required:!1,section:"4.2.5",naturalKey:!1}},{id:"zalog-attr-475",code:"CADASTRAL_NUMBER",name:"Кадастровый номер",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:475,metadata:{type:"string",group:"Земельный участок",required:!0,section:"4.2.6",naturalKey:!0}},{id:"zalog-attr-476",code:"CODE_KLADR",name:"Код КЛАДР",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: STRING",isActive:!0,sortOrder:476,metadata:{type:"string",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-477",code:"REGISTRATION_RECORD_NUMBER_USRN",name:"Номер записи регистрации в ЕГРН",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: STRING",isActive:!0,sortOrder:477,metadata:{type:"string",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-478",code:"REGISTRATION_AUTHORITY_NAME",name:"Наименование регистрирующего органа",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: STRING",isActive:!0,sortOrder:478,metadata:{type:"string",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-479",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: BOOLEAN",isActive:!0,sortOrder:479,metadata:{type:"boolean",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-480",code:"PR_BUY_IN_FUTURE",name:"Признак приобретаемого в будущем за счет кредитных средств имущества",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: BOOLEAN",isActive:!0,sortOrder:480,metadata:{type:"boolean",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-481",code:"TYPE_OF_USE_OF_THE_LAND",name:"Вид разрешенного использования земельного участка",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: STRING",isActive:!0,sortOrder:481,metadata:{type:"string",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-482",code:"CODE_OKTMO",name:"Код ОКТМО",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: STRING",isActive:!0,sortOrder:482,metadata:{type:"string",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-483",code:"CONDITIONAL_NUMBER",name:"Условный номер",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: STRING",isActive:!0,sortOrder:483,metadata:{type:"string",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-484",code:"PR_REGISTR_BOND",name:"Признак оформления закладной",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: BOOLEAN",isActive:!0,sortOrder:484,metadata:{type:"boolean",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-485",code:"INDEX",name:"Индекс",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: STRING",isActive:!0,sortOrder:485,metadata:{type:"string",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-486",code:"CODE_OKSM",name:"Код ОКСМ",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: STRING",isActive:!0,sortOrder:486,metadata:{type:"string",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-487",code:"TOTAL_AREA",name:"Общая площадь м2",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: NUMBER",isActive:!0,sortOrder:487,metadata:{type:"number",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-488",code:"ADMINISTRATIVE_AREA",name:"Район",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: STRING",isActive:!0,sortOrder:488,metadata:{type:"string",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-489",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: STRING",isActive:!0,sortOrder:489,metadata:{type:"string",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-490",code:"ADDR_STR",name:"Адрес строкой",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: STRING",isActive:!0,sortOrder:490,metadata:{type:"string",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-491",code:"NAME_PRAVO_DOCUMENT_WITH_DESCR",name:"Наименование документа, содержащего описание и характеристики объекта недвижимости",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: DIRECTORY",isActive:!0,sortOrder:491,metadata:{type:"directory",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-492",code:"LIVING_SPACE",name:"Жилая площадь м2",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: NUMBER",isActive:!0,sortOrder:492,metadata:{type:"number",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-493",code:"SERIES_NUMBER_OF_DOCUMENT",name:"Серия и номер правоподтверждающего документа",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: STRING",isActive:!0,sortOrder:493,metadata:{type:"string",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-494",code:"DATE_OF_CADASTRAL_COST",name:"Дата определения кадастровой стоимости",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: DATE",isActive:!0,sortOrder:494,metadata:{type:"date",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-495",code:"CODE_FIAS",name:"Код фиас",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: STRING",isActive:!0,sortOrder:495,metadata:{type:"string",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-496",code:"ROOM",name:"Квартира",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: STRING",isActive:!0,sortOrder:496,metadata:{type:"string",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-497",code:"AREA_DEVIATION",name:"Отклонение площади, +/-, (м²)",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: NUMBER",isActive:!0,sortOrder:497,metadata:{type:"number",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-498",code:"LETTER",name:"Литера",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: STRING",isActive:!0,sortOrder:498,metadata:{type:"string",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-499",code:"SPREAD",name:"Протяженность (м)",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: NUMBER",isActive:!0,sortOrder:499,metadata:{type:"number",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-500",code:"AGENCY_OF_DOCUMENT_WITH_DESCR",name:"Орган выдачи документа, содержащего описание и характеристики объекта недвижимости",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: STRING",isActive:!0,sortOrder:500,metadata:{type:"string",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-501",code:"SHARE_SIZE_PERCENTAGE",name:"Размер доли в праве общей долевой собственности, процент",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: NUMBER",isActive:!0,sortOrder:501,metadata:{type:"number",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-502",code:"BUILDINGS_NOT_INCLUDED",name:"Признак наличия на земельном участке зданий/ строений/ сооружений Залогодателя, не включенных в предмет ипотеки",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: BOOLEAN",isActive:!0,sortOrder:502,metadata:{type:"boolean",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-503",code:"PR_NECES_NOTARY_CERTIF_CONTRACT",name:"Признак необходимости нотариального удостоверения договора ипотеки",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: BOOLEAN",isActive:!0,sortOrder:503,metadata:{type:"boolean",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-504",code:"NAME_LANDLORD",name:"Наименование арендодателя",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: STRING",isActive:!0,sortOrder:504,metadata:{type:"string",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-505",code:"CITY",name:"Город/населенный пункт",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: STRING",isActive:!0,sortOrder:505,metadata:{type:"string",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-506",code:"DATA_EXTERNAL_SYSTEM",name:"Данные из внешних систем",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: BOOLEAN",isActive:!0,sortOrder:506,metadata:{type:"boolean",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-507",code:"STRUCTURE",name:"Строение",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: STRING",isActive:!0,sortOrder:507,metadata:{type:"string",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-508",code:"DISTANCE_FROM_BANK",name:"Удаление от ближайшей ТП Банка в км.",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: NUMBER",isActive:!0,sortOrder:508,metadata:{type:"number",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-509",code:"CADASTRAL_COST",name:"Кадастровая стоимость, в руб.",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: NUMBER",isActive:!0,sortOrder:509,metadata:{type:"number",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-510",code:"DATE_OF_DOCUMENT_WITH_DESCR",name:"Дата выдачи документа, содержащего описание и характеристики объекта недвижимости",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: DATE",isActive:!0,sortOrder:510,metadata:{type:"date",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-511",code:"NAME_OF_PRAVO_DOCUMENT",name:"Наименование правоподтверждающего документа",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: DIRECTORY",isActive:!0,sortOrder:511,metadata:{type:"directory",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-512",code:"LENGTH_VOLUME",name:"Длина/объем",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: NUMBER",isActive:!0,sortOrder:512,metadata:{type:"number",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-513",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: STRING",isActive:!0,sortOrder:513,metadata:{type:"string",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-514",code:"APPOINTMENT_EGRN",name:"Назначение в ЕГРН",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: STRING",isActive:!0,sortOrder:514,metadata:{type:"string",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-515",code:"REGION",name:"Регион",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: STRING",isActive:!0,sortOrder:515,metadata:{type:"string",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-516",code:"STREET",name:"Улица",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: STRING",isActive:!0,sortOrder:516,metadata:{type:"string",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-517",code:"CODE_OKATO",name:"Код ОКАТО",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: STRING",isActive:!0,sortOrder:517,metadata:{type:"string",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-518",code:"DATE_RECORD_EGRN",name:"Дата записи регистрации в ЕГРН",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: DATE",isActive:!0,sortOrder:518,metadata:{type:"date",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-519",code:"BUILDING",name:"дом",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: STRING",isActive:!0,sortOrder:519,metadata:{type:"string",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-520",code:"VOLUME",name:"Объём (м3)",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: NUMBER",isActive:!0,sortOrder:520,metadata:{type:"number",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-521",code:"DATE_PRAVO_DOCUMENT",name:"Дата правоподтверждающего документа",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: DATE",isActive:!0,sortOrder:521,metadata:{type:"date",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-522",code:"BELONGING_SECURITY_ZONES_MOSCOW",name:"Принадлежность к охранным зонам г. Москвы",description:"Тип имущества: Земельный участок; Раздел отчета: 4.2.6; Тип значения: BOOLEAN",isActive:!0,sortOrder:522,metadata:{type:"boolean",group:"Земельный участок",required:!1,section:"4.2.6",naturalKey:!1}},{id:"zalog-attr-523",code:"CADASTRAL_NUMBER",name:"Кадастровый номер",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:523,metadata:{type:"string",group:"Единый недвижимый комплекс",required:!0,section:"4.2.7",naturalKey:!0}},{id:"zalog-attr-524",code:"DATE_OF_DOCUMENT_WITH_DESCR",name:"Дата выдачи документа, содержащего описание и характеристики объекта недвижимости",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: DATE",isActive:!0,sortOrder:524,metadata:{type:"date",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-525",code:"IS_NATUR_RISK",name:"Банк отслеживает риск возникновения ответственности за воздействие недвижимого имущества, переданного в залог, на окружающую среду",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: BOOLEAN",isActive:!0,sortOrder:525,metadata:{type:"boolean",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-526",code:"DATE_RECORD_EGRN",name:"Дата записи регистрации в ЕГРН",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: DATE",isActive:!0,sortOrder:526,metadata:{type:"date",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-527",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: STRING",isActive:!0,sortOrder:527,metadata:{type:"string",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-528",code:"BUILDING",name:"дом",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: STRING",isActive:!0,sortOrder:528,metadata:{type:"string",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-529",code:"INDEX",name:"Индекс",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: STRING",isActive:!0,sortOrder:529,metadata:{type:"string",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-530",code:"SPREAD",name:"Протяженность (м)",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: NUMBER",isActive:!0,sortOrder:530,metadata:{type:"number",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-531",code:"LENGTH_VOLUME",name:"Длина/объем",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: NUMBER",isActive:!0,sortOrder:531,metadata:{type:"number",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-532",code:"VOLUME",name:"Объём (м3)",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: NUMBER",isActive:!0,sortOrder:532,metadata:{type:"number",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-533",code:"TOTAL_AREA",name:"Общая площадь м2",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: NUMBER",isActive:!0,sortOrder:533,metadata:{type:"number",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-534",code:"LIVING_SPACE",name:"Жилая площадь м2",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: NUMBER",isActive:!0,sortOrder:534,metadata:{type:"number",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-535",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: STRING",isActive:!0,sortOrder:535,metadata:{type:"string",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-536",code:"IS_CULTURE_OBJECT",name:"Признак отнесения к объектам культурного наследия",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: BOOLEAN",isActive:!0,sortOrder:536,metadata:{type:"boolean",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-537",code:"CODE_OKTMO",name:"Код ОКТМО",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: STRING",isActive:!0,sortOrder:537,metadata:{type:"string",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-538",code:"CODE_OKSM",name:"Код ОКСМ",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: STRING",isActive:!0,sortOrder:538,metadata:{type:"string",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-539",code:"NAME_OF_PRAVO_DOCUMENT",name:"Наименование правоподтверждающего документа",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: DIRECTORY",isActive:!0,sortOrder:539,metadata:{type:"directory",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-540",code:"CONDITIONAL_NUMBER",name:"Условный номер",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: STRING",isActive:!0,sortOrder:540,metadata:{type:"string",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-541",code:"LETTER",name:"Литера",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: STRING",isActive:!0,sortOrder:541,metadata:{type:"string",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-542",code:"NAME_PRAVO_DOCUMENT_WITH_DESCR",name:"Наименование документа, содержащего описание и характеристики объекта недвижимости",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: DIRECTORY",isActive:!0,sortOrder:542,metadata:{type:"directory",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-543",code:"SERIES_NUMBER_OF_DOCUMENT",name:"Серия и номер правоподтверждающего документа",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: STRING",isActive:!0,sortOrder:543,metadata:{type:"string",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-544",code:"DATE_OF_CADASTRAL_COST",name:"Дата определения кадастровой стоимости",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: DATE",isActive:!0,sortOrder:544,metadata:{type:"date",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-545",code:"AMOUNT_OF_PEOPLE",name:"Количество лиц, место жительства которых зарегистрировано в предмете ипотеки",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: NUMBER",isActive:!0,sortOrder:545,metadata:{type:"number",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-546",code:"NUMBER_OF_ROOMS",name:"Количество комнат",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: NUMBER",isActive:!0,sortOrder:546,metadata:{type:"number",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-547",code:"APPOINTMENT_EGRN",name:"Назначение в ЕГРН",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: STRING",isActive:!0,sortOrder:547,metadata:{type:"string",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-548",code:"DATE_PRAVO_DOCUMENT",name:"Дата правоподтверждающего документа",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: DATE",isActive:!0,sortOrder:548,metadata:{type:"date",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-549",code:"PR_NECES_NOTARY_CERTIF_CONTRACT",name:"Признак необходимости нотариального удостоверения договора ипотеки",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: BOOLEAN",isActive:!0,sortOrder:549,metadata:{type:"boolean",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-550",code:"PR_EXIST_PEOPLE_MORTGAGE",name:"Наличие лиц, место жительства которых зарегистрировано в предмете ипотеки",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: BOOLEAN",isActive:!0,sortOrder:550,metadata:{type:"boolean",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-551",code:"CODE_FIAS",name:"Код фиас",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: STRING",isActive:!0,sortOrder:551,metadata:{type:"string",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-552",code:"REGISTRATION_AUTHORITY_NAME",name:"Наименование регистрирующего органа",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: STRING",isActive:!0,sortOrder:552,metadata:{type:"string",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-553",code:"STRUCTURE",name:"Строение",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: STRING",isActive:!0,sortOrder:553,metadata:{type:"string",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-554",code:"APARTMENT_CONDITION",name:"Состояние квартиры",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: DIRECTORY",isActive:!0,sortOrder:554,metadata:{type:"directory",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-555",code:"CODE_OKATO",name:"Код ОКАТО",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: STRING",isActive:!0,sortOrder:555,metadata:{type:"string",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-556",code:"STREET",name:"Улица",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: STRING",isActive:!0,sortOrder:556,metadata:{type:"string",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-557",code:"REGISTRATION_RECORD_NUMBER_USRN",name:"Номер записи регистрации в ЕГРН",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: STRING",isActive:!0,sortOrder:557,metadata:{type:"string",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-558",code:"CODE_KLADR",name:"Код КЛАДР",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: STRING",isActive:!0,sortOrder:558,metadata:{type:"string",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-559",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: BOOLEAN",isActive:!0,sortOrder:559,metadata:{type:"boolean",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-560",code:"ADMINISTRATIVE_AREA",name:"Район",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: STRING",isActive:!0,sortOrder:560,metadata:{type:"string",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-561",code:"YEAR_OF_CONSTRUCTION",name:"Год постройки",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: NUMBER",isActive:!0,sortOrder:561,metadata:{type:"number",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-562",code:"PR_BUY_IN_FUTURE",name:"Признак приобретаемого в будущем за счет кредитных средств имущества",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: BOOLEAN",isActive:!0,sortOrder:562,metadata:{type:"boolean",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-563",code:"BELONGING_SECURITY_ZONES_MOSCOW",name:"Принадлежность к охранным зонам г. Москвы",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: BOOLEAN",isActive:!0,sortOrder:563,metadata:{type:"boolean",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-564",code:"ADDR_STR",name:"Адрес строкой",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: STRING",isActive:!0,sortOrder:564,metadata:{type:"string",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-565",code:"DISTANCE_FROM_BANK",name:"Удаление от ближайшей ТП Банка в км.",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: NUMBER",isActive:!0,sortOrder:565,metadata:{type:"number",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-566",code:"NUMBER_REGISTER_AGENCY",name:"Номер регистрирующего органа",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: STRING",isActive:!0,sortOrder:566,metadata:{type:"string",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-567",code:"AGENCY_OF_DOCUMENT_WITH_DESCR",name:"Орган выдачи документа, содержащего описание и характеристики объекта недвижимости",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: STRING",isActive:!0,sortOrder:567,metadata:{type:"string",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-568",code:"REGION",name:"Регион",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: STRING",isActive:!0,sortOrder:568,metadata:{type:"string",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-569",code:"PR_REGISTR_BOND",name:"Признак оформления закладной",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: BOOLEAN",isActive:!0,sortOrder:569,metadata:{type:"boolean",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-570",code:"ROOM",name:"Квартира",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: STRING",isActive:!0,sortOrder:570,metadata:{type:"string",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-571",code:"FLOOR",name:"Этаж расположения",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: NUMBER",isActive:!0,sortOrder:571,metadata:{type:"number",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-572",code:"HOUSE_TYPE",name:"Тип дома",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: DIRECTORY",isActive:!0,sortOrder:572,metadata:{type:"directory",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-573",code:"READINESS_DEGREE",name:"Степень готовности",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: STRING",isActive:!0,sortOrder:573,metadata:{type:"string",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-574",code:"DATA_EXTERNAL_SYSTEM",name:"Данные из внешних систем",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: BOOLEAN",isActive:!0,sortOrder:574,metadata:{type:"boolean",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-575",code:"SHARE_SIZE_PERCENTAGE",name:"Размер доли в праве общей долевой собственности, процент",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: NUMBER",isActive:!0,sortOrder:575,metadata:{type:"number",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-576",code:"CITY",name:"Город/населенный пункт",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: STRING",isActive:!0,sortOrder:576,metadata:{type:"string",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-577",code:"CADASTRAL_COST",name:"Кадастровая стоимость, в руб.",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: NUMBER",isActive:!0,sortOrder:577,metadata:{type:"number",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-578",code:"ACCEPT_TO_BORROWER_SOLVENCY",name:"Обеспечение приемлемо с т.з. независимости кредитоспособности заемщика от объектов залога",description:"Тип имущества: Единый недвижимый комплекс; Раздел отчета: 4.2.7; Тип значения: BOOLEAN",isActive:!0,sortOrder:578,metadata:{type:"boolean",group:"Единый недвижимый комплекс",required:!1,section:"4.2.7",naturalKey:!1}},{id:"zalog-attr-579",code:"CADASTRAL_NUMBER",name:"Кадастровый номер",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:579,metadata:{type:"string",group:"Имущественный комплекс",required:!0,section:"4.2.8",naturalKey:!0}},{id:"zalog-attr-580",code:"AGENCY_OF_DOCUMENT_WITH_DESCR",name:"Орган выдачи документа, содержащего описание и характеристики объекта недвижимости",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: STRING",isActive:!0,sortOrder:580,metadata:{type:"string",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-581",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: STRING",isActive:!0,sortOrder:581,metadata:{type:"string",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-582",code:"DATE_RECORD_EGRN",name:"Дата записи регистрации в ЕГРН",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: DATE",isActive:!0,sortOrder:582,metadata:{type:"date",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-583",code:"IS_NATUR_RISK",name:"Банк отслеживает риск возникновения ответственности за воздействие недвижимого имущества, переданного в залог, на окружающую среду",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: BOOLEAN",isActive:!0,sortOrder:583,metadata:{type:"boolean",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-584",code:"INDEX",name:"Индекс",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: STRING",isActive:!0,sortOrder:584,metadata:{type:"string",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-585",code:"DATE_OF_DOCUMENT_WITH_DESCR",name:"Дата выдачи документа, содержащего описание и характеристики объекта недвижимости",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: DATE",isActive:!0,sortOrder:585,metadata:{type:"date",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-586",code:"CITY",name:"Город/населенный пункт",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: STRING",isActive:!0,sortOrder:586,metadata:{type:"string",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-587",code:"ACCEPT_TO_BORROWER_SOLVENCY",name:"Обеспечение приемлемо с т.з. независимости кредитоспособности заемщика от объектов залога",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: BOOLEAN",isActive:!0,sortOrder:587,metadata:{type:"boolean",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-588",code:"LENGTH_VOLUME",name:"Длина/объем",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: NUMBER",isActive:!0,sortOrder:588,metadata:{type:"number",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-589",code:"DATE_OF_CADASTRAL_COST",name:"Дата определения кадастровой стоимости",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: DATE",isActive:!0,sortOrder:589,metadata:{type:"date",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-590",code:"BUILDING",name:"дом",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: STRING",isActive:!0,sortOrder:590,metadata:{type:"string",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-591",code:"DATA_EXTERNAL_SYSTEM",name:"Данные из внешних систем",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: BOOLEAN",isActive:!0,sortOrder:591,metadata:{type:"boolean",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-592",code:"SHARE_SIZE_PERCENTAGE",name:"Размер доли в праве общей долевой собственности, процент",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: NUMBER",isActive:!0,sortOrder:592,metadata:{type:"number",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-593",code:"CADASTRAL_COST",name:"Кадастровая стоимость, в руб.",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: NUMBER",isActive:!0,sortOrder:593,metadata:{type:"number",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-594",code:"READINESS_DEGREE",name:"Степень готовности",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: STRING",isActive:!0,sortOrder:594,metadata:{type:"string",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-595",code:"HOUSE_TYPE",name:"Тип дома",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: DIRECTORY",isActive:!0,sortOrder:595,metadata:{type:"directory",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-596",code:"APARTMENT_CONDITION",name:"Состояние квартиры",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: DIRECTORY",isActive:!0,sortOrder:596,metadata:{type:"directory",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-597",code:"ROOM",name:"Квартира",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: STRING",isActive:!0,sortOrder:597,metadata:{type:"string",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-598",code:"PR_REGISTR_BOND",name:"Признак оформления закладной",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: BOOLEAN",isActive:!0,sortOrder:598,metadata:{type:"boolean",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-599",code:"ADDR_STR",name:"Адрес строкой",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: STRING",isActive:!0,sortOrder:599,metadata:{type:"string",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-600",code:"REGION",name:"Регион",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: STRING",isActive:!0,sortOrder:600,metadata:{type:"string",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-601",code:"BELONGING_SECURITY_ZONES_MOSCOW",name:"Принадлежность к охранным зонам г. Москвы",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: BOOLEAN",isActive:!0,sortOrder:601,metadata:{type:"boolean",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-602",code:"NUMBER_REGISTER_AGENCY",name:"Номер регистрирующего органа",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: STRING",isActive:!0,sortOrder:602,metadata:{type:"string",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-603",code:"DISTANCE_FROM_BANK",name:"Удаление от ближайшей ТП Банка в км.",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: NUMBER",isActive:!0,sortOrder:603,metadata:{type:"number",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-604",code:"PR_BUY_IN_FUTURE",name:"Признак приобретаемого в будущем за счет кредитных средств имущества",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: BOOLEAN",isActive:!0,sortOrder:604,metadata:{type:"boolean",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-605",code:"YEAR_OF_CONSTRUCTION",name:"Год постройки",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: NUMBER",isActive:!0,sortOrder:605,metadata:{type:"number",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-606",code:"ADMINISTRATIVE_AREA",name:"Район",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: STRING",isActive:!0,sortOrder:606,metadata:{type:"string",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-607",code:"VOLUME",name:"Объём (м3)",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: NUMBER",isActive:!0,sortOrder:607,metadata:{type:"number",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-608",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: BOOLEAN",isActive:!0,sortOrder:608,metadata:{type:"boolean",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-609",code:"REGISTRATION_RECORD_NUMBER_USRN",name:"Номер записи регистрации в ЕГРН",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: STRING",isActive:!0,sortOrder:609,metadata:{type:"string",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-610",code:"CODE_KLADR",name:"Код КЛАДР",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: STRING",isActive:!0,sortOrder:610,metadata:{type:"string",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-611",code:"APPOINTMENT_EGRN",name:"Назначение в ЕГРН",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: STRING",isActive:!0,sortOrder:611,metadata:{type:"string",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-612",code:"STRUCTURE",name:"Строение",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: STRING",isActive:!0,sortOrder:612,metadata:{type:"string",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-613",code:"FINANCIAL_MODEL_VALUATION",name:"Оценка с учетом финансовой модели заемщика ('N' - нет, 'Y' - да)",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: STRING",isActive:!0,sortOrder:613,metadata:{type:"string",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-614",code:"STREET",name:"Улица",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: STRING",isActive:!0,sortOrder:614,metadata:{type:"string",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-615",code:"REGISTRATION_AUTHORITY_NAME",name:"Наименование регистрирующего органа",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: STRING",isActive:!0,sortOrder:615,metadata:{type:"string",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-616",code:"FLOOR",name:"Этаж расположения",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: NUMBER",isActive:!0,sortOrder:616,metadata:{type:"number",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-617",code:"PR_EXIST_PEOPLE_MORTGAGE",name:"Наличие лиц, место жительства которых зарегистрировано в предмете ипотеки",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: BOOLEAN",isActive:!0,sortOrder:617,metadata:{type:"boolean",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-618",code:"CODE_FIAS",name:"Код фиас",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: STRING",isActive:!0,sortOrder:618,metadata:{type:"string",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-619",code:"DATE_PRAVO_DOCUMENT",name:"Дата правоподтверждающего документа",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: DATE",isActive:!0,sortOrder:619,metadata:{type:"date",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-620",code:"NUMBER_OF_ROOMS",name:"Количество комнат",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: NUMBER",isActive:!0,sortOrder:620,metadata:{type:"number",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-621",code:"AMOUNT_OF_PEOPLE",name:"Количество лиц, место жительства которых зарегистрировано в предмете ипотеки",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: NUMBER",isActive:!0,sortOrder:621,metadata:{type:"number",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-622",code:"SERIES_NUMBER_OF_DOCUMENT",name:"Серия и номер правоподтверждающего документа",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: STRING",isActive:!0,sortOrder:622,metadata:{type:"string",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-623",code:"CODE_OKATO",name:"Код ОКАТО",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: STRING",isActive:!0,sortOrder:623,metadata:{type:"string",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-624",code:"NAME_PRAVO_DOCUMENT_WITH_DESCR",name:"Наименование документа, содержащего описание и характеристики объекта недвижимости",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: DIRECTORY",isActive:!0,sortOrder:624,metadata:{type:"directory",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-625",code:"SPREAD",name:"Протяженность (м)",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: NUMBER",isActive:!0,sortOrder:625,metadata:{type:"number",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-626",code:"NAME_OF_PRAVO_DOCUMENT",name:"Наименование правоподтверждающего документа",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: DIRECTORY",isActive:!0,sortOrder:626,metadata:{type:"directory",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-627",code:"CONDITIONAL_NUMBER",name:"Условный номер",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: STRING",isActive:!0,sortOrder:627,metadata:{type:"string",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-628",code:"CODE_OKTMO",name:"Код ОКТМО",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: STRING",isActive:!0,sortOrder:628,metadata:{type:"string",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-629",code:"LETTER",name:"Литера",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: STRING",isActive:!0,sortOrder:629,metadata:{type:"string",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-630",code:"PR_NECES_NOTARY_CERTIF_CONTRACT",name:"Признак необходимости нотариального удостоверения договора ипотеки",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: BOOLEAN",isActive:!0,sortOrder:630,metadata:{type:"boolean",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-631",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: STRING",isActive:!0,sortOrder:631,metadata:{type:"string",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-632",code:"LIVING_SPACE",name:"Жилая площадь м2",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: NUMBER",isActive:!0,sortOrder:632,metadata:{type:"number",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-633",code:"CODE_OKSM",name:"Код ОКСМ",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: STRING",isActive:!0,sortOrder:633,metadata:{type:"string",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-634",code:"TOTAL_AREA",name:"Общая площадь м2",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: NUMBER",isActive:!0,sortOrder:634,metadata:{type:"number",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-635",code:"IS_CULTURE_OBJECT",name:"Признак отнесения к объектам культурного наследия",description:"Тип имущества: Имущественный комплекс; Раздел отчета: 4.2.8; Тип значения: BOOLEAN",isActive:!0,sortOrder:635,metadata:{type:"boolean",group:"Имущественный комплекс",required:!1,section:"4.2.8",naturalKey:!1}},{id:"zalog-attr-636",code:"FACTORY_NUMBER",name:"Заводской/серийный номер",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:636,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!0,section:"4.3",naturalKey:!0}},{id:"zalog-attr-637",code:"VIN",name:"VIN",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:637,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!0,section:"4.3",naturalKey:!0}},{id:"zalog-attr-638",code:"FRAME_CHASSIS_NUMBER",name:"Номер шасси/рамы",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:638,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!0,section:"4.3",naturalKey:!0}},{id:"zalog-attr-639",code:"MILEAGE",name:"Пробег, км",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: NUMBER",isActive:!0,sortOrder:639,metadata:{type:"number",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-640",code:"COLOR_BODY",name:"Цвет кузова (кабины)",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:640,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-641",code:"PRICE_OF_NEW_CAR",name:"Цена нового ТС",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: NUMBER",isActive:!0,sortOrder:641,metadata:{type:"number",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-642",code:"PRICE_OF_PURCHASE",name:"Цена приобретения",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: NUMBER",isActive:!0,sortOrder:642,metadata:{type:"number",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-643",code:"LEGAL_ADDRES",name:"Юридический адрес поставщика",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:643,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-644",code:"PR_OFFICIAL_DEALER",name:"Признак официального дилера",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: BOOLEAN",isActive:!0,sortOrder:644,metadata:{type:"boolean",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-645",code:"PR_BUY_IN_FUTURE",name:"Признак приобретаемого в будущем за счет кредитных средств имущества",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: BOOLEAN",isActive:!0,sortOrder:645,metadata:{type:"boolean",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-646",code:"FULL_NAME_OF_PROVIDER",name:"Полное наименование поставщика",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:646,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-647",code:"PR_ACCREDIT_AS_PARTNER_OF_BANK",name:"Признак аккредитации в качестве Партнера Банка",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: BOOLEAN",isActive:!0,sortOrder:647,metadata:{type:"boolean",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-648",code:"RIGHT_STORAGE",name:"Право в отношении места хранения",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: DIRECTORY",isActive:!0,sortOrder:648,metadata:{type:"directory",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-649",code:"STREET_STORAGE",name:"Улица (места хранения)",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:649,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-650",code:"CODE_FIAS_STORAGE",name:"Код фиас (места хранения)",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:650,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-651",code:"REGION_STORAGE",name:"Регион (места хранения)",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:651,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-652",code:"CODE_OKTMO_STORAGE",name:"Код ОКТМО (места хранения)",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:652,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-653",code:"CODE_KLADR_STORAGE",name:"Код КЛАДР (места хранения)",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:653,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-654",code:"LETTER_STORAGE",name:"Литера (места хранения)",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:654,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-655",code:"ROOM_STORAGE",name:"Квартира (места хранения)",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:655,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-656",code:"ADMINISTRATIVE_AREA_STORAGE",name:"Район (места хранения)",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:656,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-657",code:"BUILDING_STORAGE",name:"Дом (места хранения)",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:657,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-658",code:"STRUCTURE_STORAGE",name:"Строение (места хранения)",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:658,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-659",code:"ADDR_STR_STORAGE",name:"Адрес строкой (места хранения)",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:659,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-660",code:"CITY_STORAGE",name:"Город/населенный пункт (места хранения)",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:660,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-661",code:"INDEX_STORAGE",name:"Индекс (места хранения)",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:661,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-662",code:"CODE_OKATO_STORAGE",name:"Код ОКАТО (места хранения)",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:662,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-663",code:"CODE_OKSM_STORAGE",name:"Код ОКСМ (места хранения)",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:663,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-664",code:"FULL_NAME_OF_LESSOR",name:"Полное наименование арендодателя места хранения",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:664,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-665",code:"MANUFACTORY_ORGANIZATION",name:"Организация - производитель",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:665,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-666",code:"OGRN_OF_PROVIDER",name:"ОГРН поставщика",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:666,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-667",code:"ENGINE_VOLUME_SM",name:"Объем двигателя, см3",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: NUMBER",isActive:!0,sortOrder:667,metadata:{type:"number",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-668",code:"BODY_NUMBER",name:"Номер кузова (кабины, прицепа)",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:668,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-669",code:"NUMBER_OF_ARRANGEMENT_RENT",name:"Номер договора аренды места хранения",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:669,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-670",code:"NUMBER_OF_DEALER_CERTIFICATE",name:"Номер дилерского сертификата/соглашения",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:670,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-671",code:"MOTOR_NUMBER",name:"Номер двигателя",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:671,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-672",code:"NAME_OF_CERTIFICATE_TS",name:"Наименование свидетельства о регистрации ТС",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: DIRECTORY",isActive:!0,sortOrder:672,metadata:{type:"directory",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-673",code:"NAME_OF_TS",name:"Наименование паспорта ТС",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: DIRECTORY",isActive:!0,sortOrder:673,metadata:{type:"directory",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-674",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:674,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-675",code:"ENGINE_POWER_LS",name:"Мощность двигателя, л. с.",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: NUMBER",isActive:!0,sortOrder:675,metadata:{type:"number",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-676",code:"ENGINE_POWER_KVT",name:"Мощность двигателя, кв.",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: NUMBER",isActive:!0,sortOrder:676,metadata:{type:"number",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-677",code:"MODEL",name:"Модель",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:677,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-678",code:"BRAND",name:"Марка",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:678,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-679",code:"COUNT_RTA",name:"Количество ДТП",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: NUMBER",isActive:!0,sortOrder:679,metadata:{type:"number",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-680",code:"ACCIDENT_INVESTIGATION",name:"Следствие ДТП",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:680,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-681",code:"COLLATERAL_CONDITION",name:"Состояние ПЗ",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:681,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-682",code:"IDENTIFIED_DEFECTS",name:"Выявленные дефекты",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:682,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-683",code:"INN_OF_PROVIDER",name:"ИНН поставщика",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:683,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-684",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:684,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-685",code:"INN_OF_LESSOR",name:"ИНН арендодателя места хранения",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:685,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-686",code:"DATE_OF_CERTIFICATE_TS",name:"Дата свидетельства о регистрации ТС",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: DATE",isActive:!0,sortOrder:686,metadata:{type:"date",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-687",code:"DATE_OF_TRANSITION_RIGTHS",name:"Дата перехода права собственности на предмет залога к залогодателю по договору поставки",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: DATE",isActive:!0,sortOrder:687,metadata:{type:"date",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-688",code:"DATE_OF_PASSPORT_TS",name:"Дата паспорта ТС",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: DATE",isActive:!0,sortOrder:688,metadata:{type:"date",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-689",code:"END_DATE_OF_ARRANG_OF_STORAGE_PL",name:"Дата окончания договора аренды места хранения",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: DATE",isActive:!0,sortOrder:689,metadata:{type:"date",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-690",code:"ENDDATE_OF_DEALER_CERTIFICATE",name:"Дата окончания дилерского сертификата/соглашения",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: DATE",isActive:!0,sortOrder:690,metadata:{type:"date",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-691",code:"DATE_OF_ARRANG_OF_STORAGE_PLACE",name:"Дата договора аренды места хранения",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: DATE",isActive:!0,sortOrder:691,metadata:{type:"date",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-692",code:"DATE_OF_DEALER_CERTIFICATE",name:"Дата дилерского сертификата/соглашения",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: DATE",isActive:!0,sortOrder:692,metadata:{type:"date",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-693",code:"DATE_ACCREDIT_AS_PARTNER_OF_BANK",name:"Дата аккредитации в качестве Партнера банка",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: DATE",isActive:!0,sortOrder:693,metadata:{type:"date",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-694",code:"DATA_EXTERNAL_SYSTEM",name:"Данные из внешних систем",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: BOOLEAN",isActive:!0,sortOrder:694,metadata:{type:"boolean",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-695",code:"YEAR_OF_ISSUE",name:"Год выпуска",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: NUMBER",isActive:!0,sortOrder:695,metadata:{type:"number",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-696",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: BOOLEAN",isActive:!0,sortOrder:696,metadata:{type:"boolean",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-697",code:"TYPE_STORAGE_PLACE_OTHER",name:"Вид иного типа места хранения",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:697,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-698",code:"RIGHT_STORAGE_OTHER",name:"Вид иного права в отношении места хранения",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:698,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-699",code:"CURRENCY_OF_PURCHASE",name:"Валюта приобретения",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:699,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-700",code:"TYPE_STORAGE_PLACE",name:"Тип места хранения",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: DIRECTORY",isActive:!0,sortOrder:700,metadata:{type:"directory",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-701",code:"TYPE_INCIDENTS",name:"Тип происшествия",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:701,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-702",code:"COUNTRY_OF_ORIGIN",name:"Страна производства",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:702,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-703",code:"MOTOR_TYPE",name:"Тип двигателя",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:703,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-704",code:"SERIA_NUMBER_OF_CERTIFICATE_TS",name:"Серия и номер свидетельства о регистрации ТС",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:704,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-705",code:"SERIAS_NUMBER_PASSPORT_TS",name:"Серия и номер паспорта ТС",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:705,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-706",code:"STATE",name:"Состояние",description:"Тип имущества: Наземные безрельсовые механические транспортные средства, прицепы; Раздел отчета: 4.3; Тип значения: STRING",isActive:!0,sortOrder:706,metadata:{type:"string",group:"Наземные безрельсовые механические транспортные средства, прицепы",required:!1,section:"4.3",naturalKey:!1}},{id:"zalog-attr-707",code:"FACTORY_NUMBER",name:"Заводской/серийный номер",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:707,metadata:{type:"string",group:"Машины и оборудование",required:!0,section:"4.4",naturalKey:!0}},{id:"zalog-attr-708",code:"PSEUDO_KEY",name:"Операция между группой 1 и 2(псевдо атрибут)",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:708,metadata:{type:"string",group:"Машины и оборудование",required:!0,section:"4.4",naturalKey:!0}},{id:"zalog-attr-709",code:"INVENTORY_NUMBER",name:"Инвентарный номер",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:709,metadata:{type:"string",group:"Машины и оборудование",required:!0,section:"4.4",naturalKey:!0}},{id:"zalog-attr-710",code:"OWNER_TIN",name:"Значение идентификационного кода залогодателя",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:710,metadata:{type:"string",group:"Машины и оборудование",required:!0,section:"4.4",naturalKey:!0}},{id:"zalog-attr-711",code:"ROOM_STORAGE",name:"Квартира (места хранения)",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING",isActive:!0,sortOrder:711,metadata:{type:"string",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-712",code:"NUMBER_OF_ARRANGEMENT_RENT",name:"Номер договора аренды места хранения",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING",isActive:!0,sortOrder:712,metadata:{type:"string",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-713",code:"LETTER_STORAGE",name:"Литера (места хранения)",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING",isActive:!0,sortOrder:713,metadata:{type:"string",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-714",code:"CODE_KLADR_STORAGE",name:"Код КЛАДР (места хранения)",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING",isActive:!0,sortOrder:714,metadata:{type:"string",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-715",code:"CODE_OKTMO_STORAGE",name:"Код ОКТМО (места хранения)",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING",isActive:!0,sortOrder:715,metadata:{type:"string",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-716",code:"REGION_STORAGE",name:"Регион (места хранения)",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING",isActive:!0,sortOrder:716,metadata:{type:"string",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-717",code:"CODE_FIAS_STORAGE",name:"Код фиас (места хранения)",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING",isActive:!0,sortOrder:717,metadata:{type:"string",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-718",code:"STREET_STORAGE",name:"Улица (места хранения)",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING",isActive:!0,sortOrder:718,metadata:{type:"string",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-719",code:"PR_ACCREDIT_AS_PARTNER_OF_BANK",name:"Признак аккредитации в качестве Партнера Банка",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: BOOLEAN",isActive:!0,sortOrder:719,metadata:{type:"boolean",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-720",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: BOOLEAN",isActive:!0,sortOrder:720,metadata:{type:"boolean",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-721",code:"BUILDING_STORAGE",name:"Дом (места хранения)",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING",isActive:!0,sortOrder:721,metadata:{type:"string",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-722",code:"DATE_ACCREDIT_AS_PARTNER_OF_BANK",name:"Дата аккредитации в качестве Партнера банка",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: DATE",isActive:!0,sortOrder:722,metadata:{type:"date",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-723",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING",isActive:!0,sortOrder:723,metadata:{type:"string",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-724",code:"ADMINISTRATIVE_AREA_STORAGE",name:"Район (места хранения)",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING",isActive:!0,sortOrder:724,metadata:{type:"string",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-725",code:"RIGHT_STORAGE",name:"Право в отношении места хранения",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: DIRECTORY",isActive:!0,sortOrder:725,metadata:{type:"directory",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-726",code:"CODE_OKSM_STORAGE",name:"Код ОКСМ (места хранения)",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING",isActive:!0,sortOrder:726,metadata:{type:"string",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-727",code:"DATE_OF_ARRANG_OF_STORAGE_PLACE",name:"Дата договора аренды места хранения",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: DATE",isActive:!0,sortOrder:727,metadata:{type:"date",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-728",code:"CODE_OKATO_STORAGE",name:"Код ОКАТО (места хранения)",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING",isActive:!0,sortOrder:728,metadata:{type:"string",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-729",code:"MODEL",name:"Модель",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING",isActive:!0,sortOrder:729,metadata:{type:"string",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-730",code:"INDEX_STORAGE",name:"Индекс (места хранения)",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING",isActive:!0,sortOrder:730,metadata:{type:"string",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-731",code:"PR_BUY_IN_FUTURE",name:"Признак приобретаемого в будущем за счет кредитных средств имущества",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: BOOLEAN",isActive:!0,sortOrder:731,metadata:{type:"boolean",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-732",code:"DATE_OF_DEALER_CERTIFICATE",name:"Дата дилерского сертификата/соглашения",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: DATE",isActive:!0,sortOrder:732,metadata:{type:"date",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-733",code:"CITY_STORAGE",name:"Город/населенный пункт (места хранения)",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING",isActive:!0,sortOrder:733,metadata:{type:"string",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-734",code:"ADDR_STR_STORAGE",name:"Адрес строкой (места хранения)",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING",isActive:!0,sortOrder:734,metadata:{type:"string",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-735",code:"STRUCTURE_STORAGE",name:"Строение (места хранения)",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING",isActive:!0,sortOrder:735,metadata:{type:"string",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-736",code:"OGRN_OF_PROVIDER",name:"ОГРН поставщика",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING",isActive:!0,sortOrder:736,metadata:{type:"string",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-737",code:"FULL_NAME_OF_LESSOR",name:"Полное наименование арендодателя места хранения",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING",isActive:!0,sortOrder:737,metadata:{type:"string",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-738",code:"INN_OF_PROVIDER",name:"ИНН поставщика",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING",isActive:!0,sortOrder:738,metadata:{type:"string",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-739",code:"YEAR_OF_ISSUE",name:"Год выпуска",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: NUMBER",isActive:!0,sortOrder:739,metadata:{type:"number",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-740",code:"LEGAL_ADDRES",name:"Юридический адрес поставщика",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING",isActive:!0,sortOrder:740,metadata:{type:"string",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-741",code:"CURRENCY_OF_PURCHASE",name:"Валюта приобретения",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING",isActive:!0,sortOrder:741,metadata:{type:"string",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-742",code:"MANUFACTORY_ORGANIZATION",name:"Организация - производитель",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING",isActive:!0,sortOrder:742,metadata:{type:"string",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-743",code:"NUMBER_OF_DEALER_CERTIFICATE",name:"Номер дилерского сертификата/соглашения",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING",isActive:!0,sortOrder:743,metadata:{type:"string",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-744",code:"RIGHT_STORAGE_OTHER",name:"Вид иного права в отношении места хранения",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING",isActive:!0,sortOrder:744,metadata:{type:"string",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-745",code:"TYPE_STORAGE_PLACE",name:"Тип места хранения",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: DIRECTORY",isActive:!0,sortOrder:745,metadata:{type:"directory",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-746",code:"PRICE_OF_PURCHASE",name:"Цена приобретения",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: NUMBER",isActive:!0,sortOrder:746,metadata:{type:"number",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-747",code:"PR_OFFICIAL_DEALER",name:"Признак официального дилера",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: BOOLEAN",isActive:!0,sortOrder:747,metadata:{type:"boolean",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-748",code:"DATE_OF_TRANSITION_RIGTHS",name:"Дата перехода права собственности на предмет залога к залогодателю по договору поставки",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: DATE",isActive:!0,sortOrder:748,metadata:{type:"date",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-749",code:"FULL_NAME_OF_PROVIDER",name:"Полное наименование поставщика",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING",isActive:!0,sortOrder:749,metadata:{type:"string",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-750",code:"TYPE_STORAGE_PLACE_OTHER",name:"Вид иного типа места хранения",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING",isActive:!0,sortOrder:750,metadata:{type:"string",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-751",code:"INN_OF_LESSOR",name:"ИНН арендодателя места хранения",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING",isActive:!0,sortOrder:751,metadata:{type:"string",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-752",code:"END_DATE_OF_ARRANG_OF_STORAGE_PL",name:"Дата окончания договора аренды места хранения",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: DATE",isActive:!0,sortOrder:752,metadata:{type:"date",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-753",code:"COUNTRY_OF_ORIGIN",name:"Страна производства",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING",isActive:!0,sortOrder:753,metadata:{type:"string",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-754",code:"ENDDATE_OF_DEALER_CERTIFICATE",name:"Дата окончания дилерского сертификата/соглашения",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: DATE",isActive:!0,sortOrder:754,metadata:{type:"date",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-755",code:"BRAND",name:"Марка",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING",isActive:!0,sortOrder:755,metadata:{type:"string",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-756",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип имущества: Машины и оборудование; Раздел отчета: 4.4; Тип значения: STRING",isActive:!0,sortOrder:756,metadata:{type:"string",group:"Машины и оборудование",required:!1,section:"4.4",naturalKey:!1}},{id:"zalog-attr-757",code:"SERIAL_FACTORY_NUMBER",name:"Серийный (заводской) номер",description:"Тип имущества: Воздушные суда; Раздел отчета: 4.5; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:757,metadata:{type:"string",group:"Воздушные суда",required:!0,section:"4.5",naturalKey:!0}},{id:"zalog-attr-758",code:"GLIDER_NUMBER",name:"Номер планера",description:"Тип имущества: Воздушные суда; Раздел отчета: 4.5; Тип значения: STRING",isActive:!0,sortOrder:758,metadata:{type:"string",group:"Воздушные суда",required:!1,section:"4.5",naturalKey:!1}},{id:"zalog-attr-759",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип имущества: Воздушные суда; Раздел отчета: 4.5; Тип значения: STRING",isActive:!0,sortOrder:759,metadata:{type:"string",group:"Воздушные суда",required:!1,section:"4.5",naturalKey:!1}},{id:"zalog-attr-760",code:"NAME_OF_MANUFACTURER",name:"Наименование изготовителя",description:"Тип имущества: Воздушные суда; Раздел отчета: 4.5; Тип значения: STRING",isActive:!0,sortOrder:760,metadata:{type:"string",group:"Воздушные суда",required:!1,section:"4.5",naturalKey:!1}},{id:"zalog-attr-761",code:"ADDRESS_BASE",name:"Адрес места базирования",description:"Тип имущества: Воздушные суда; Раздел отчета: 4.5; Тип значения: STRING",isActive:!0,sortOrder:761,metadata:{type:"string",group:"Воздушные суда",required:!1,section:"4.5",naturalKey:!1}},{id:"zalog-attr-762",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип имущества: Воздушные суда; Раздел отчета: 4.5; Тип значения: BOOLEAN",isActive:!0,sortOrder:762,metadata:{type:"boolean",group:"Воздушные суда",required:!1,section:"4.5",naturalKey:!1}},{id:"zalog-attr-763",code:"YEAR_OF_ISSUE",name:"Год выпуска",description:"Тип имущества: Воздушные суда; Раздел отчета: 4.5; Тип значения: NUMBER",isActive:!0,sortOrder:763,metadata:{type:"number",group:"Воздушные суда",required:!1,section:"4.5",naturalKey:!1}},{id:"zalog-attr-764",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип имущества: Воздушные суда; Раздел отчета: 4.5; Тип значения: STRING",isActive:!0,sortOrder:764,metadata:{type:"string",group:"Воздушные суда",required:!1,section:"4.5",naturalKey:!1}},{id:"zalog-attr-765",code:"CODE_OKATO",name:"Код ОКАТО",description:"Тип имущества: Воздушные суда; Раздел отчета: 4.5; Тип значения: STRING",isActive:!0,sortOrder:765,metadata:{type:"string",group:"Воздушные суда",required:!1,section:"4.5",naturalKey:!1}},{id:"zalog-attr-766",code:"REGISTER_NUMBER",name:"Регистровый номер",description:"Тип имущества: Плавучие сооружения; Раздел отчета: 4.6; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:766,metadata:{type:"string",group:"Плавучие сооружения",required:!0,section:"4.6",naturalKey:!0}},{id:"zalog-attr-767",code:"FACTORY_NUMBER",name:"Заводской/серийный номер",description:"Тип имущества: Плавучие сооружения; Раздел отчета: 4.6; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:767,metadata:{type:"string",group:"Плавучие сооружения",required:!0,section:"4.6",naturalKey:!0}},{id:"zalog-attr-768",code:"REGISTER_NUMBER",name:"Регистровый номер",description:"Тип имущества: Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов; Раздел отчета: 4.6.2; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:768,metadata:{type:"string",group:"Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов",required:!0,section:"4.6.2",naturalKey:!0}},{id:"zalog-attr-769",code:"YEAR_OF_ISSUE",name:"Год выпуска",description:"Тип имущества: Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов; Раздел отчета: 4.6.2; Тип значения: NUMBER",isActive:!0,sortOrder:769,metadata:{type:"number",group:"Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов",required:!1,section:"4.6.2",naturalKey:!1}},{id:"zalog-attr-770",code:"CLASS_OF_SHIP",name:"Класс судна",description:"Тип имущества: Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов; Раздел отчета: 4.6.2; Тип значения: STRING",isActive:!0,sortOrder:770,metadata:{type:"string",group:"Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов",required:!1,section:"4.6.2",naturalKey:!1}},{id:"zalog-attr-771",code:"IMO",name:"Идентификационный номер судна (IMO)",description:"Тип имущества: Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов; Раздел отчета: 4.6.2; Тип значения: STRING",isActive:!0,sortOrder:771,metadata:{type:"string",group:"Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов",required:!1,section:"4.6.2",naturalKey:!1}},{id:"zalog-attr-772",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип имущества: Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов; Раздел отчета: 4.6.2; Тип значения: STRING",isActive:!0,sortOrder:772,metadata:{type:"string",group:"Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов",required:!1,section:"4.6.2",naturalKey:!1}},{id:"zalog-attr-773",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип имущества: Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов; Раздел отчета: 4.6.2; Тип значения: STRING",isActive:!0,sortOrder:773,metadata:{type:"string",group:"Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов",required:!1,section:"4.6.2",naturalKey:!1}},{id:"zalog-attr-774",code:"DATE_OF_CADASTRAL_COST",name:"Дата определения кадастровой стоимости",description:"Тип имущества: Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов; Раздел отчета: 4.6.2; Тип значения: STRING",isActive:!0,sortOrder:774,metadata:{type:"string",group:"Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов",required:!1,section:"4.6.2",naturalKey:!1}},{id:"zalog-attr-775",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип имущества: Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов; Раздел отчета: 4.6.2; Тип значения: STRING",isActive:!0,sortOrder:775,metadata:{type:"string",group:"Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов",required:!1,section:"4.6.2",naturalKey:!1}},{id:"zalog-attr-776",code:"PL_OF_STATE_REGIST_OF_THE_VESSEL",name:"Порт (место) государственной регистрации судна",description:"Тип имущества: Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов; Раздел отчета: 4.6.2; Тип значения: STRING",isActive:!0,sortOrder:776,metadata:{type:"string",group:"Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов",required:!1,section:"4.6.2",naturalKey:!1}},{id:"zalog-attr-777",code:"ADDR_STR_STORAGE",name:"Адрес строкой (места хранения)",description:"Тип имущества: Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов; Раздел отчета: 4.6.2; Тип значения: STRING",isActive:!0,sortOrder:777,metadata:{type:"string",group:"Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов",required:!1,section:"4.6.2",naturalKey:!1}},{id:"zalog-attr-778",code:"ID_OF_SHIP",name:"Идентификационный номер морской подвижной службы, присвоенный судовой радиостанции (MMSI)",description:"Тип имущества: Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов; Раздел отчета: 4.6.2; Тип значения: STRING",isActive:!0,sortOrder:778,metadata:{type:"string",group:"Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов",required:!1,section:"4.6.2",naturalKey:!1}},{id:"zalog-attr-779",code:"ADDR_STR_STORAGE",name:"Адрес строкой (места хранения)",description:"Тип имущества: Суда, используемые для иных целей; Раздел отчета: 4.6.4; Тип значения: STRING",isActive:!0,sortOrder:779,metadata:{type:"string",group:"Суда, используемые для иных целей",required:!1,section:"4.6.4",naturalKey:!1}},{id:"zalog-attr-780",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип имущества: Суда, используемые для иных целей; Раздел отчета: 4.6.4; Тип значения: STRING",isActive:!0,sortOrder:780,metadata:{type:"string",group:"Суда, используемые для иных целей",required:!1,section:"4.6.4",naturalKey:!1}},{id:"zalog-attr-781",code:"YEAR_OF_ISSUE",name:"Год выпуска",description:"Тип имущества: Суда, используемые для иных целей; Раздел отчета: 4.6.4; Тип значения: NUMBER",isActive:!0,sortOrder:781,metadata:{type:"number",group:"Суда, используемые для иных целей",required:!1,section:"4.6.4",naturalKey:!1}},{id:"zalog-attr-782",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип имущества: Суда, используемые для иных целей; Раздел отчета: 4.6.4; Тип значения: STRING",isActive:!0,sortOrder:782,metadata:{type:"string",group:"Суда, используемые для иных целей",required:!1,section:"4.6.4",naturalKey:!1}},{id:"zalog-attr-783",code:"ID_OF_SHIP",name:"Идентификационный номер морской подвижной службы, присвоенный судовой радиостанции (MMSI)",description:"Тип имущества: Суда, используемые для иных целей; Раздел отчета: 4.6.4; Тип значения: STRING",isActive:!0,sortOrder:783,metadata:{type:"string",group:"Суда, используемые для иных целей",required:!1,section:"4.6.4",naturalKey:!1}},{id:"zalog-attr-784",code:"DATE_OF_CADASTRAL_COST",name:"Дата определения кадастровой стоимости",description:"Тип имущества: Суда, используемые для иных целей; Раздел отчета: 4.6.4; Тип значения: STRING",isActive:!0,sortOrder:784,metadata:{type:"string",group:"Суда, используемые для иных целей",required:!1,section:"4.6.4",naturalKey:!1}},{id:"zalog-attr-785",code:"REGISTER_NUMBER",name:"Регистровый номер",description:"Тип имущества: Суда, используемые для иных целей; Раздел отчета: 4.6.4; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:785,metadata:{type:"string",group:"Суда, используемые для иных целей",required:!0,section:"4.6.4",naturalKey:!0}},{id:"zalog-attr-786",code:"CLASS_OF_SHIP",name:"Класс судна",description:"Тип имущества: Суда, используемые для иных целей; Раздел отчета: 4.6.4; Тип значения: STRING",isActive:!0,sortOrder:786,metadata:{type:"string",group:"Суда, используемые для иных целей",required:!1,section:"4.6.4",naturalKey:!1}},{id:"zalog-attr-787",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип имущества: Суда, используемые для иных целей; Раздел отчета: 4.6.4; Тип значения: STRING",isActive:!0,sortOrder:787,metadata:{type:"string",group:"Суда, используемые для иных целей",required:!1,section:"4.6.4",naturalKey:!1}},{id:"zalog-attr-788",code:"IMO",name:"Идентификационный номер судна (IMO)",description:"Тип имущества: Суда, используемые для иных целей; Раздел отчета: 4.6.4; Тип значения: STRING",isActive:!0,sortOrder:788,metadata:{type:"string",group:"Суда, используемые для иных целей",required:!1,section:"4.6.4",naturalKey:!1}},{id:"zalog-attr-789",code:"PL_OF_STATE_REGIST_OF_THE_VESSEL",name:"Порт (место) государственной регистрации судна",description:"Тип имущества: Суда, используемые для иных целей; Раздел отчета: 4.6.4; Тип значения: STRING",isActive:!0,sortOrder:789,metadata:{type:"string",group:"Суда, используемые для иных целей",required:!1,section:"4.6.4",naturalKey:!1}},{id:"zalog-attr-790",code:"CLASS_OF_SHIP",name:"Класс судна",description:"Тип имущества: Суда, используемые для рыболовства; Раздел отчета: 4.6.3; Тип значения: STRING",isActive:!0,sortOrder:790,metadata:{type:"string",group:"Суда, используемые для рыболовства",required:!1,section:"4.6.3",naturalKey:!1}},{id:"zalog-attr-791",code:"YEAR_OF_ISSUE",name:"Год выпуска",description:"Тип имущества: Суда, используемые для рыболовства; Раздел отчета: 4.6.3; Тип значения: NUMBER",isActive:!0,sortOrder:791,metadata:{type:"number",group:"Суда, используемые для рыболовства",required:!1,section:"4.6.3",naturalKey:!1}},{id:"zalog-attr-792",code:"IMO",name:"Идентификационный номер судна (IMO)",description:"Тип имущества: Суда, используемые для рыболовства; Раздел отчета: 4.6.3; Тип значения: STRING",isActive:!0,sortOrder:792,metadata:{type:"string",group:"Суда, используемые для рыболовства",required:!1,section:"4.6.3",naturalKey:!1}},{id:"zalog-attr-793",code:"PL_OF_STATE_REGIST_OF_THE_VESSEL",name:"Порт (место) государственной регистрации судна",description:"Тип имущества: Суда, используемые для рыболовства; Раздел отчета: 4.6.3; Тип значения: STRING",isActive:!0,sortOrder:793,metadata:{type:"string",group:"Суда, используемые для рыболовства",required:!1,section:"4.6.3",naturalKey:!1}},{id:"zalog-attr-794",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип имущества: Суда, используемые для рыболовства; Раздел отчета: 4.6.3; Тип значения: STRING",isActive:!0,sortOrder:794,metadata:{type:"string",group:"Суда, используемые для рыболовства",required:!1,section:"4.6.3",naturalKey:!1}},{id:"zalog-attr-795",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип имущества: Суда, используемые для рыболовства; Раздел отчета: 4.6.3; Тип значения: STRING",isActive:!0,sortOrder:795,metadata:{type:"string",group:"Суда, используемые для рыболовства",required:!1,section:"4.6.3",naturalKey:!1}},{id:"zalog-attr-796",code:"REGISTER_NUMBER",name:"Регистровый номер",description:"Тип имущества: Суда, используемые для рыболовства; Раздел отчета: 4.6.3; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:796,metadata:{type:"string",group:"Суда, используемые для рыболовства",required:!0,section:"4.6.3",naturalKey:!0}},{id:"zalog-attr-797",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип имущества: Суда, используемые для рыболовства; Раздел отчета: 4.6.3; Тип значения: STRING",isActive:!0,sortOrder:797,metadata:{type:"string",group:"Суда, используемые для рыболовства",required:!1,section:"4.6.3",naturalKey:!1}},{id:"zalog-attr-798",code:"ID_OF_SHIP",name:"Идентификационный номер морской подвижной службы, присвоенный судовой радиостанции (MMSI)",description:"Тип имущества: Суда, используемые для рыболовства; Раздел отчета: 4.6.3; Тип значения: STRING",isActive:!0,sortOrder:798,metadata:{type:"string",group:"Суда, используемые для рыболовства",required:!1,section:"4.6.3",naturalKey:!1}},{id:"zalog-attr-799",code:"DATE_OF_CADASTRAL_COST",name:"Дата определения кадастровой стоимости",description:"Тип имущества: Суда, используемые для рыболовства; Раздел отчета: 4.6.3; Тип значения: STRING",isActive:!0,sortOrder:799,metadata:{type:"string",group:"Суда, используемые для рыболовства",required:!1,section:"4.6.3",naturalKey:!1}},{id:"zalog-attr-800",code:"ADDR_STR_STORAGE",name:"Адрес строкой (места хранения)",description:"Тип имущества: Суда, используемые для рыболовства; Раздел отчета: 4.6.3; Тип значения: STRING",isActive:!0,sortOrder:800,metadata:{type:"string",group:"Суда, используемые для рыболовства",required:!1,section:"4.6.3",naturalKey:!1}},{id:"zalog-attr-801",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип имущества: Плавучие сооружения, не являющиеся судами; Раздел отчета: 4.6.5; Тип значения: STRING",isActive:!0,sortOrder:801,metadata:{type:"string",group:"Плавучие сооружения, не являющиеся судами",required:!1,section:"4.6.5",naturalKey:!1}},{id:"zalog-attr-802",code:"PL_OF_STATE_REGIST_OF_THE_VESSEL",name:"Порт (место) государственной регистрации судна",description:"Тип имущества: Плавучие сооружения, не являющиеся судами; Раздел отчета: 4.6.5; Тип значения: STRING",isActive:!0,sortOrder:802,metadata:{type:"string",group:"Плавучие сооружения, не являющиеся судами",required:!1,section:"4.6.5",naturalKey:!1}},{id:"zalog-attr-803",code:"ADDR_STR_STORAGE",name:"Адрес строкой (места хранения)",description:"Тип имущества: Плавучие сооружения, не являющиеся судами; Раздел отчета: 4.6.5; Тип значения: STRING",isActive:!0,sortOrder:803,metadata:{type:"string",group:"Плавучие сооружения, не являющиеся судами",required:!1,section:"4.6.5",naturalKey:!1}},{id:"zalog-attr-804",code:"ID_OF_SHIP",name:"Идентификационный номер морской подвижной службы, присвоенный судовой радиостанции (MMSI)",description:"Тип имущества: Плавучие сооружения, не являющиеся судами; Раздел отчета: 4.6.5; Тип значения: STRING",isActive:!0,sortOrder:804,metadata:{type:"string",group:"Плавучие сооружения, не являющиеся судами",required:!1,section:"4.6.5",naturalKey:!1}},{id:"zalog-attr-805",code:"REGISTER_NUMBER",name:"Регистровый номер",description:"Тип имущества: Плавучие сооружения, не являющиеся судами; Раздел отчета: 4.6.5; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:805,metadata:{type:"string",group:"Плавучие сооружения, не являющиеся судами",required:!0,section:"4.6.5",naturalKey:!0}},{id:"zalog-attr-806",code:"IMO",name:"Идентификационный номер судна (IMO)",description:"Тип имущества: Плавучие сооружения, не являющиеся судами; Раздел отчета: 4.6.5; Тип значения: STRING",isActive:!0,sortOrder:806,metadata:{type:"string",group:"Плавучие сооружения, не являющиеся судами",required:!1,section:"4.6.5",naturalKey:!1}},{id:"zalog-attr-807",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип имущества: Плавучие сооружения, не являющиеся судами; Раздел отчета: 4.6.5; Тип значения: STRING",isActive:!0,sortOrder:807,metadata:{type:"string",group:"Плавучие сооружения, не являющиеся судами",required:!1,section:"4.6.5",naturalKey:!1}},{id:"zalog-attr-808",code:"CLASS_OF_SHIP",name:"Класс судна",description:"Тип имущества: Плавучие сооружения, не являющиеся судами; Раздел отчета: 4.6.5; Тип значения: STRING",isActive:!0,sortOrder:808,metadata:{type:"string",group:"Плавучие сооружения, не являющиеся судами",required:!1,section:"4.6.5",naturalKey:!1}},{id:"zalog-attr-809",code:"DATE_OF_CADASTRAL_COST",name:"Дата определения кадастровой стоимости",description:"Тип имущества: Плавучие сооружения, не являющиеся судами; Раздел отчета: 4.6.5; Тип значения: STRING",isActive:!0,sortOrder:809,metadata:{type:"string",group:"Плавучие сооружения, не являющиеся судами",required:!1,section:"4.6.5",naturalKey:!1}},{id:"zalog-attr-810",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип имущества: Плавучие сооружения, не являющиеся судами; Раздел отчета: 4.6.5; Тип значения: STRING",isActive:!0,sortOrder:810,metadata:{type:"string",group:"Плавучие сооружения, не являющиеся судами",required:!1,section:"4.6.5",naturalKey:!1}},{id:"zalog-attr-811",code:"YEAR_OF_ISSUE",name:"Год выпуска",description:"Тип имущества: Плавучие сооружения, не являющиеся судами; Раздел отчета: 4.6.5; Тип значения: NUMBER",isActive:!0,sortOrder:811,metadata:{type:"number",group:"Плавучие сооружения, не являющиеся судами",required:!1,section:"4.6.5",naturalKey:!1}},{id:"zalog-attr-812",code:"PL_OF_STATE_REGIST_OF_THE_VESSEL",name:"Порт (место) государственной регистрации судна",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:812,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-813",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:813,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-814",code:"ENGINE_POWER_KVT",name:"Мощность двигателя, кв.",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:814,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-815",code:"COUNTRY_OF_ORIGIN",name:"Страна производства",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:815,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-816",code:"YEAR_OF_ISSUE",name:"Год выпуска",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: NUMBER",isActive:!0,sortOrder:816,metadata:{type:"number",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-817",code:"TYPE_STORAGE_PLACE",name:"Тип места хранения",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:817,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-818",code:"FACTORY_NUMBER",name:"Заводской/серийный номер",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:818,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!0,section:"4.6.1",naturalKey:!0}},{id:"zalog-attr-819",code:"PASSENGER_CAPACITY_OF_THE_VESSEL",name:"Пассажировместимость судна",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:819,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-820",code:"MANUFACTORY_ORGANIZATION",name:"Организация - производитель",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:820,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-821",code:"STREET_STORAGE",name:"Улица (места хранения)",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:821,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-822",code:"ENGINE_POWER_LS",name:"Мощность двигателя, л. с.",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:822,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-823",code:"FULL_NAME_OF_LESSOR",name:"Полное наименование арендодателя места хранения",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:823,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-824",code:"DATE_OF_ARRANG_OF_STORAGE_PLACE",name:"Дата договора аренды места хранения",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:824,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-825",code:"ID_OF_SHIP",name:"Идентификационный номер морской подвижной службы, присвоенный судовой радиостанции (MMSI)",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:825,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-826",code:"END_DATE_OF_ARRANG_OF_STORAGE_PL",name:"Дата окончания договора аренды места хранения",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:826,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-827",code:"NAME_OF_OTHER_TYPE",name:"Наименование иного типа маломерного судна",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:827,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-828",code:"INN_OF_LESSOR",name:"ИНН арендодателя места хранения",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:828,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-829",code:"LENGTH_SHIP",name:"Длина судна в метрах",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:829,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-830",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:830,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-831",code:"NUMBER_OF_ARRANGEMENT_RENT",name:"Номер договора аренды места хранения",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:831,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-832",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:832,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-833",code:"CODE_OKSM_STORAGE",name:"Код ОКСМ (места хранения)",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:833,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-834",code:"CODE_OKATO_STORAGE",name:"Код ОКАТО (места хранения)",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:834,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-835",code:"REGISTER_NUMBER",name:"Регистровый номер",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:835,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-836",code:"INDEX_STORAGE",name:"Индекс (места хранения)",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:836,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-837",code:"CITY_STORAGE",name:"Город/населенный пункт (места хранения)",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:837,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-838",code:"RIGHT_STORAGE",name:"Право в отношении места хранения",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:838,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-839",code:"ADDR_STR_STORAGE",name:"Адрес строкой (места хранения)",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:839,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-840",code:"STRUCTURE_STORAGE",name:"Строение (места хранения)",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:840,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-841",code:"BUILDING_STORAGE",name:"Дом (места хранения)",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:841,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-842",code:"ADMINISTRATIVE_AREA_STORAGE",name:"Район (места хранения)",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:842,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-843",code:"ROOM_STORAGE",name:"Квартира (места хранения)",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:843,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-844",code:"LETTER_STORAGE",name:"Литера (места хранения)",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:844,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-845",code:"CODE_KLADR_STORAGE",name:"Код КЛАДР (места хранения)",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:845,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-846",code:"CODE_OKTMO_STORAGE",name:"Код ОКТМО (места хранения)",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:846,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-847",code:"CLASS_OF_SHIP",name:"Класс судна",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:847,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-848",code:"REGION_STORAGE",name:"Регион (места хранения)",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:848,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-849",code:"RIGHT_STORAGE_OTHER",name:"Вид иного права в отношении места хранения",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:849,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-850",code:"MODEL",name:"Модель",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:850,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-851",code:"CODE_FIAS_STORAGE",name:"Код фиас (места хранения)",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:851,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-852",code:"WEIGHT_OF_SHIP",name:"Масса судна в кг",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:852,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-853",code:"IMO",name:"Идентификационный номер судна (IMO)",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:853,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-854",code:"TYPE_STORAGE_PLACE_OTHER",name:"Вид иного типа места хранения",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:854,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-855",code:"CODE_OKATO",name:"Код ОКАТО",description:"Тип имущества: Суда, используемые для перевозки пассажиров и их багажа; Раздел отчета: 4.6.1; Тип значения: STRING",isActive:!0,sortOrder:855,metadata:{type:"string",group:"Суда, используемые для перевозки пассажиров и их багажа",required:!1,section:"4.6.1",naturalKey:!1}},{id:"zalog-attr-856",code:"NET_ADDRESS",name:"Сетевой номер",description:"Тип имущества: Железнодорожный подвижной состав; Раздел отчета: 4.7; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:856,metadata:{type:"string",group:"Железнодорожный подвижной состав",required:!0,section:"4.7",naturalKey:!0}},{id:"zalog-attr-857",code:"RZHD_MPS",name:"Заводской номер/ номер РЖД/МПС",description:"Тип имущества: Железнодорожный подвижной состав; Раздел отчета: 4.7; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:857,metadata:{type:"string",group:"Железнодорожный подвижной состав",required:!0,section:"4.7",naturalKey:!0}},{id:"zalog-attr-858",code:"DATE_OF_TRANSITION_RIGTHS",name:"Дата перехода права собственности на предмет залога к залогодателю по договору поставки",description:"Тип имущества: Железнодорожный подвижной состав; Раздел отчета: 4.7; Тип значения: DATE",isActive:!0,sortOrder:858,metadata:{type:"date",group:"Железнодорожный подвижной состав",required:!1,section:"4.7",naturalKey:!1}},{id:"zalog-attr-859",code:"PR_OFFICIAL_DEALER",name:"Признак официального дилера",description:"Тип имущества: Железнодорожный подвижной состав; Раздел отчета: 4.7; Тип значения: BOOLEAN",isActive:!0,sortOrder:859,metadata:{type:"boolean",group:"Железнодорожный подвижной состав",required:!1,section:"4.7",naturalKey:!1}},{id:"zalog-attr-860",code:"CURRENCY_OF_PURCHASE",name:"Валюта приобретения",description:"Тип имущества: Железнодорожный подвижной состав; Раздел отчета: 4.7; Тип значения: STRING",isActive:!0,sortOrder:860,metadata:{type:"string",group:"Железнодорожный подвижной состав",required:!1,section:"4.7",naturalKey:!1}},{id:"zalog-attr-861",code:"PRICE_OF_PURCHASE",name:"Цена приобретения",description:"Тип имущества: Железнодорожный подвижной состав; Раздел отчета: 4.7; Тип значения: NUMBER",isActive:!0,sortOrder:861,metadata:{type:"number",group:"Железнодорожный подвижной состав",required:!1,section:"4.7",naturalKey:!1}},{id:"zalog-attr-862",code:"INN_OF_PROVIDER",name:"ИНН поставщика",description:"Тип имущества: Железнодорожный подвижной состав; Раздел отчета: 4.7; Тип значения: STRING",isActive:!0,sortOrder:862,metadata:{type:"string",group:"Железнодорожный подвижной состав",required:!1,section:"4.7",naturalKey:!1}},{id:"zalog-attr-863",code:"MODEL",name:"Модель",description:"Тип имущества: Железнодорожный подвижной состав; Раздел отчета: 4.7; Тип значения: STRING",isActive:!0,sortOrder:863,metadata:{type:"string",group:"Железнодорожный подвижной состав",required:!1,section:"4.7",naturalKey:!1}},{id:"zalog-attr-864",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип имущества: Железнодорожный подвижной состав; Раздел отчета: 4.7; Тип значения: STRING",isActive:!0,sortOrder:864,metadata:{type:"string",group:"Железнодорожный подвижной состав",required:!1,section:"4.7",naturalKey:!1}},{id:"zalog-attr-865",code:"INVENTORY_NUMBER",name:"Инвентарный номер",description:"Тип имущества: Железнодорожный подвижной состав; Раздел отчета: 4.7; Тип значения: STRING",isActive:!0,sortOrder:865,metadata:{type:"string",group:"Железнодорожный подвижной состав",required:!1,section:"4.7",naturalKey:!1}},{id:"zalog-attr-866",code:"NUMBER_OF_DEALER_CERTIFICATE",name:"Номер дилерского сертификата/соглашения",description:"Тип имущества: Железнодорожный подвижной состав; Раздел отчета: 4.7; Тип значения: STRING",isActive:!0,sortOrder:866,metadata:{type:"string",group:"Железнодорожный подвижной состав",required:!1,section:"4.7",naturalKey:!1}},{id:"zalog-attr-867",code:"OGRN_OF_PROVIDER",name:"ОГРН поставщика",description:"Тип имущества: Железнодорожный подвижной состав; Раздел отчета: 4.7; Тип значения: STRING",isActive:!0,sortOrder:867,metadata:{type:"string",group:"Железнодорожный подвижной состав",required:!1,section:"4.7",naturalKey:!1}},{id:"zalog-attr-868",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип имущества: Железнодорожный подвижной состав; Раздел отчета: 4.7; Тип значения: STRING",isActive:!0,sortOrder:868,metadata:{type:"string",group:"Железнодорожный подвижной состав",required:!1,section:"4.7",naturalKey:!1}},{id:"zalog-attr-869",code:"DATE_WAGON_TECHNICAL_PASSPORT",name:"Дата технического паспорта вагона",description:"Тип имущества: Железнодорожный подвижной состав; Раздел отчета: 4.7; Тип значения: DATE",isActive:!0,sortOrder:869,metadata:{type:"date",group:"Железнодорожный подвижной состав",required:!1,section:"4.7",naturalKey:!1}},{id:"zalog-attr-870",code:"PR_ACCREDIT_AS_PARTNER_OF_BANK",name:"Признак аккредитации в качестве Партнера Банка",description:"Тип имущества: Железнодорожный подвижной состав; Раздел отчета: 4.7; Тип значения: BOOLEAN",isActive:!0,sortOrder:870,metadata:{type:"boolean",group:"Железнодорожный подвижной состав",required:!1,section:"4.7",naturalKey:!1}},{id:"zalog-attr-871",code:"FULL_NAME_OF_PROVIDER",name:"Полное наименование поставщика",description:"Тип имущества: Железнодорожный подвижной состав; Раздел отчета: 4.7; Тип значения: STRING",isActive:!0,sortOrder:871,metadata:{type:"string",group:"Железнодорожный подвижной состав",required:!1,section:"4.7",naturalKey:!1}},{id:"zalog-attr-872",code:"ENDDATE_OF_DEALER_CERTIFICATE",name:"Дата окончания дилерского сертификата/соглашения",description:"Тип имущества: Железнодорожный подвижной состав; Раздел отчета: 4.7; Тип значения: DATE",isActive:!0,sortOrder:872,metadata:{type:"date",group:"Железнодорожный подвижной состав",required:!1,section:"4.7",naturalKey:!1}},{id:"zalog-attr-873",code:"COUNTRY_OF_ORIGIN",name:"Страна производства",description:"Тип имущества: Железнодорожный подвижной состав; Раздел отчета: 4.7; Тип значения: STRING",isActive:!0,sortOrder:873,metadata:{type:"string",group:"Железнодорожный подвижной состав",required:!1,section:"4.7",naturalKey:!1}},{id:"zalog-attr-874",code:"PR_BUY_IN_FUTURE",name:"Признак приобретаемого в будущем за счет кредитных средств имущества",description:"Тип имущества: Железнодорожный подвижной состав; Раздел отчета: 4.7; Тип значения: BOOLEAN",isActive:!0,sortOrder:874,metadata:{type:"boolean",group:"Железнодорожный подвижной состав",required:!1,section:"4.7",naturalKey:!1}},{id:"zalog-attr-875",code:"DATE_OF_DEALER_CERTIFICATE",name:"Дата дилерского сертификата/соглашения",description:"Тип имущества: Железнодорожный подвижной состав; Раздел отчета: 4.7; Тип значения: DATE",isActive:!0,sortOrder:875,metadata:{type:"date",group:"Железнодорожный подвижной состав",required:!1,section:"4.7",naturalKey:!1}},{id:"zalog-attr-876",code:"DATE_ACCREDIT_AS_PARTNER_OF_BANK",name:"Дата аккредитации в качестве Партнера банка",description:"Тип имущества: Железнодорожный подвижной состав; Раздел отчета: 4.7; Тип значения: DATE",isActive:!0,sortOrder:876,metadata:{type:"date",group:"Железнодорожный подвижной состав",required:!1,section:"4.7",naturalKey:!1}},{id:"zalog-attr-877",code:"MANUFACTORY_ORGANIZATION",name:"Организация - производитель",description:"Тип имущества: Железнодорожный подвижной состав; Раздел отчета: 4.7; Тип значения: STRING",isActive:!0,sortOrder:877,metadata:{type:"string",group:"Железнодорожный подвижной состав",required:!1,section:"4.7",naturalKey:!1}},{id:"zalog-attr-878",code:"LEGAL_ADDRES",name:"Юридический адрес поставщика",description:"Тип имущества: Железнодорожный подвижной состав; Раздел отчета: 4.7; Тип значения: STRING",isActive:!0,sortOrder:878,metadata:{type:"string",group:"Железнодорожный подвижной состав",required:!1,section:"4.7",naturalKey:!1}},{id:"zalog-attr-879",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип имущества: Железнодорожный подвижной состав; Раздел отчета: 4.7; Тип значения: BOOLEAN",isActive:!0,sortOrder:879,metadata:{type:"boolean",group:"Железнодорожный подвижной состав",required:!1,section:"4.7",naturalKey:!1}},{id:"zalog-attr-880",code:"WAGON_TECHNICAL_PASSPORT_NUMBER",name:"Номер технического паспорта вагона",description:"Тип имущества: Железнодорожный подвижной состав; Раздел отчета: 4.7; Тип значения: STRING",isActive:!0,sortOrder:880,metadata:{type:"string",group:"Железнодорожный подвижной состав",required:!1,section:"4.7",naturalKey:!1}},{id:"zalog-attr-881",code:"YEAR_OF_ISSUE",name:"Год выпуска",description:"Тип имущества: Железнодорожный подвижной состав; Раздел отчета: 4.7; Тип значения: NUMBER",isActive:!0,sortOrder:881,metadata:{type:"number",group:"Железнодорожный подвижной состав",required:!1,section:"4.7",naturalKey:!1}},{id:"zalog-attr-882",code:"ADDRESS_LOCATION",name:"Адрес места нахождения (депо приписки)",description:"Тип имущества: Железнодорожный подвижной состав; Раздел отчета: 4.7; Тип значения: STRING",isActive:!0,sortOrder:882,metadata:{type:"string",group:"Железнодорожный подвижной состав",required:!1,section:"4.7",naturalKey:!1}},{id:"zalog-attr-883",code:"CARRIAGE_NUMBER",name:"Номер вагона",description:"Тип имущества: Железнодорожный подвижной состав; Раздел отчета: 4.7; Тип значения: STRING",isActive:!0,sortOrder:883,metadata:{type:"string",group:"Железнодорожный подвижной состав",required:!1,section:"4.7",naturalKey:!1}},{id:"zalog-attr-884",code:"CODE_OKATO",name:"Код ОКАТО",description:"Тип имущества: Железнодорожный подвижной состав; Раздел отчета: 4.7; Тип значения: STRING",isActive:!0,sortOrder:884,metadata:{type:"string",group:"Железнодорожный подвижной состав",required:!1,section:"4.7",naturalKey:!1}},{id:"zalog-attr-885",code:"REGISTRATION_RECORD",name:"Регистрационная запись",description:"Тип имущества: Космические объекты; Раздел отчета: 4.8; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:885,metadata:{type:"string",group:"Космические объекты",required:!0,section:"4.8",naturalKey:!0}},{id:"zalog-attr-886",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип имущества: Космические объекты; Раздел отчета: 4.8; Тип значения: BOOLEAN",isActive:!0,sortOrder:886,metadata:{type:"boolean",group:"Космические объекты",required:!1,section:"4.8",naturalKey:!1}},{id:"zalog-attr-887",code:"YEAR_OF_ISSUE",name:"Год выпуска",description:"Тип имущества: Космические объекты; Раздел отчета: 4.8; Тип значения: NUMBER",isActive:!0,sortOrder:887,metadata:{type:"number",group:"Космические объекты",required:!1,section:"4.8",naturalKey:!1}},{id:"zalog-attr-888",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип имущества: Космические объекты; Раздел отчета: 4.8; Тип значения: STRING",isActive:!0,sortOrder:888,metadata:{type:"string",group:"Космические объекты",required:!1,section:"4.8",naturalKey:!1}},{id:"zalog-attr-889",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип имущества: Космические объекты; Раздел отчета: 4.8; Тип значения: STRING",isActive:!0,sortOrder:889,metadata:{type:"string",group:"Космические объекты",required:!1,section:"4.8",naturalKey:!1}},{id:"zalog-attr-890",code:"OWNER_TIN",name:"Значение идентификационного кода залогодателя",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:890,metadata:{type:"string",group:"Товары в обороте",required:!0,section:"4.9",naturalKey:!0}},{id:"zalog-attr-891",code:"NUMBER_OF_PRODUCT_UNITS",name:"Количество единиц измерения товара",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: NUMBER; Ключевой атрибут: Да",isActive:!0,sortOrder:891,metadata:{type:"number",group:"Товары в обороте",required:!0,section:"4.9",naturalKey:!0}},{id:"zalog-attr-892",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:892,metadata:{type:"string",group:"Товары в обороте",required:!0,section:"4.9",naturalKey:!0}},{id:"zalog-attr-893",code:"FULL_NAME_OF_LESSOR",name:"Полное наименование арендодателя места хранения",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: STRING",isActive:!0,sortOrder:893,metadata:{type:"string",group:"Товары в обороте",required:!1,section:"4.9",naturalKey:!1}},{id:"zalog-attr-894",code:"CODE_OKSM_STORAGE",name:"Код ОКСМ (места хранения)",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: STRING",isActive:!0,sortOrder:894,metadata:{type:"string",group:"Товары в обороте",required:!1,section:"4.9",naturalKey:!1}},{id:"zalog-attr-895",code:"CODE_OKATO_STORAGE",name:"Код ОКАТО (места хранения)",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: STRING",isActive:!0,sortOrder:895,metadata:{type:"string",group:"Товары в обороте",required:!1,section:"4.9",naturalKey:!1}},{id:"zalog-attr-896",code:"INDEX_STORAGE",name:"Индекс (места хранения)",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: STRING",isActive:!0,sortOrder:896,metadata:{type:"string",group:"Товары в обороте",required:!1,section:"4.9",naturalKey:!1}},{id:"zalog-attr-897",code:"INN_OF_LESSOR",name:"ИНН арендодателя места хранения",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: STRING",isActive:!0,sortOrder:897,metadata:{type:"string",group:"Товары в обороте",required:!1,section:"4.9",naturalKey:!1}},{id:"zalog-attr-898",code:"CITY_STORAGE",name:"Город/населенный пункт (места хранения)",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: STRING",isActive:!0,sortOrder:898,metadata:{type:"string",group:"Товары в обороте",required:!1,section:"4.9",naturalKey:!1}},{id:"zalog-attr-899",code:"ADDR_STR_STORAGE",name:"Адрес строкой (места хранения)",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: STRING",isActive:!0,sortOrder:899,metadata:{type:"string",group:"Товары в обороте",required:!1,section:"4.9",naturalKey:!1}},{id:"zalog-attr-900",code:"STRUCTURE_STORAGE",name:"Строение (места хранения)",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: STRING",isActive:!0,sortOrder:900,metadata:{type:"string",group:"Товары в обороте",required:!1,section:"4.9",naturalKey:!1}},{id:"zalog-attr-901",code:"BUILDING_STORAGE",name:"Дом (места хранения)",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: STRING",isActive:!0,sortOrder:901,metadata:{type:"string",group:"Товары в обороте",required:!1,section:"4.9",naturalKey:!1}},{id:"zalog-attr-902",code:"ADMINISTRATIVE_AREA_STORAGE",name:"Район (места хранения)",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: STRING",isActive:!0,sortOrder:902,metadata:{type:"string",group:"Товары в обороте",required:!1,section:"4.9",naturalKey:!1}},{id:"zalog-attr-903",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: STRING",isActive:!0,sortOrder:903,metadata:{type:"string",group:"Товары в обороте",required:!1,section:"4.9",naturalKey:!1}},{id:"zalog-attr-904",code:"ROOM_STORAGE",name:"Квартира (места хранения)",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: STRING",isActive:!0,sortOrder:904,metadata:{type:"string",group:"Товары в обороте",required:!1,section:"4.9",naturalKey:!1}},{id:"zalog-attr-905",code:"LETTER_STORAGE",name:"Литера (места хранения)",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: STRING",isActive:!0,sortOrder:905,metadata:{type:"string",group:"Товары в обороте",required:!1,section:"4.9",naturalKey:!1}},{id:"zalog-attr-906",code:"UNIT",name:"Единица измерения товара",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: STRING",isActive:!0,sortOrder:906,metadata:{type:"string",group:"Товары в обороте",required:!1,section:"4.9",naturalKey:!1}},{id:"zalog-attr-907",code:"CODE_KLADR_STORAGE",name:"Код КЛАДР (места хранения)",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: STRING",isActive:!0,sortOrder:907,metadata:{type:"string",group:"Товары в обороте",required:!1,section:"4.9",naturalKey:!1}},{id:"zalog-attr-908",code:"CODE_OKTMO_STORAGE",name:"Код ОКТМО (места хранения)",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: STRING",isActive:!0,sortOrder:908,metadata:{type:"string",group:"Товары в обороте",required:!1,section:"4.9",naturalKey:!1}},{id:"zalog-attr-909",code:"REGION_STORAGE",name:"Регион (места хранения)",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: STRING",isActive:!0,sortOrder:909,metadata:{type:"string",group:"Товары в обороте",required:!1,section:"4.9",naturalKey:!1}},{id:"zalog-attr-910",code:"END_DATE_OF_ARRANG_OF_STORAGE_PL",name:"Дата окончания договора аренды места хранения",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: DATE",isActive:!0,sortOrder:910,metadata:{type:"date",group:"Товары в обороте",required:!1,section:"4.9",naturalKey:!1}},{id:"zalog-attr-911",code:"CODE_FIAS_STORAGE",name:"Код фиас (места хранения)",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: STRING",isActive:!0,sortOrder:911,metadata:{type:"string",group:"Товары в обороте",required:!1,section:"4.9",naturalKey:!1}},{id:"zalog-attr-912",code:"STREET_STORAGE",name:"Улица (места хранения)",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: STRING",isActive:!0,sortOrder:912,metadata:{type:"string",group:"Товары в обороте",required:!1,section:"4.9",naturalKey:!1}},{id:"zalog-attr-913",code:"DATE_OF_ARRANG_OF_STORAGE_PLACE",name:"Дата договора аренды места хранения",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: DATE",isActive:!0,sortOrder:913,metadata:{type:"date",group:"Товары в обороте",required:!1,section:"4.9",naturalKey:!1}},{id:"zalog-attr-914",code:"COST_PER_UNIT_OF_MEASURE_GOODS",name:"Стоимость за единицу измерения товара в руб.",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: NUMBER",isActive:!0,sortOrder:914,metadata:{type:"number",group:"Товары в обороте",required:!1,section:"4.9",naturalKey:!1}},{id:"zalog-attr-915",code:"TYPE_STORAGE_PLACE_OTHER",name:"Вид иного типа места хранения",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: STRING",isActive:!0,sortOrder:915,metadata:{type:"string",group:"Товары в обороте",required:!1,section:"4.9",naturalKey:!1}},{id:"zalog-attr-916",code:"STORAGE_SPACE",name:"Количество места хранения",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: NUMBER",isActive:!0,sortOrder:916,metadata:{type:"number",group:"Товары в обороте",required:!1,section:"4.9",naturalKey:!1}},{id:"zalog-attr-917",code:"RIGHT_STORAGE_OTHER",name:"Вид иного права в отношении места хранения",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: STRING",isActive:!0,sortOrder:917,metadata:{type:"string",group:"Товары в обороте",required:!1,section:"4.9",naturalKey:!1}},{id:"zalog-attr-918",code:"RIGHT_STORAGE",name:"Право в отношении места хранения",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: DIRECTORY",isActive:!0,sortOrder:918,metadata:{type:"directory",group:"Товары в обороте",required:!1,section:"4.9",naturalKey:!1}},{id:"zalog-attr-919",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: BOOLEAN",isActive:!0,sortOrder:919,metadata:{type:"boolean",group:"Товары в обороте",required:!1,section:"4.9",naturalKey:!1}},{id:"zalog-attr-920",code:"NUMBER_OF_STORAGE_LOCATIONS",name:"Количество мест хранения",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: STRING",isActive:!0,sortOrder:920,metadata:{type:"string",group:"Товары в обороте",required:!1,section:"4.9",naturalKey:!1}},{id:"zalog-attr-921",code:"TYPE_STORAGE_PLACE",name:"Тип места хранения",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: DIRECTORY",isActive:!0,sortOrder:921,metadata:{type:"directory",group:"Товары в обороте",required:!1,section:"4.9",naturalKey:!1}},{id:"zalog-attr-922",code:"ACTUAL_BALANCE_OF_GOODS",name:"Фактический остаток товара, тыс.руб.",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: NUMBER",isActive:!0,sortOrder:922,metadata:{type:"number",group:"Товары в обороте",required:!1,section:"4.9",naturalKey:!1}},{id:"zalog-attr-923",code:"VENDOR_CODE",name:"Артикул",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: STRING",isActive:!0,sortOrder:923,metadata:{type:"string",group:"Товары в обороте",required:!1,section:"4.9",naturalKey:!1}},{id:"zalog-attr-924",code:"NUMBER_OF_ARRANGEMENT_RENT",name:"Номер договора аренды места хранения",description:"Тип имущества: Товары в обороте; Раздел отчета: 4.9; Тип значения: STRING",isActive:!0,sortOrder:924,metadata:{type:"string",group:"Товары в обороте",required:!1,section:"4.9",naturalKey:!1}},{id:"zalog-attr-925",code:"NAME_OF_PROPERTY",name:"Наименование",description:"Тип имущества: Все имущество залогодателя; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:925,metadata:{type:"string",group:"Все имущество залогодателя",required:!0,section:"",naturalKey:!0}},{id:"zalog-attr-926",code:"OWNER_TIN",name:"Значение идентификационного кода залогодателя",description:"Тип имущества: Все имущество залогодателя; Тип значения: STRING; Ключевой атрибут: Да",isActive:!0,sortOrder:926,metadata:{type:"string",group:"Все имущество залогодателя",required:!0,section:"",naturalKey:!0}},{id:"zalog-attr-927",code:"HAVEL_MARKET",name:"Наличие ликвидного рынка",description:"Тип имущества: Все имущество залогодателя; Тип значения: BOOLEAN",isActive:!0,sortOrder:927,metadata:{type:"boolean",group:"Все имущество залогодателя",required:!1,section:"",naturalKey:!1}},{id:"zalog-attr-928",code:"TYPE_COLLATERAL",name:"Тип обеспечения(основной/дополнительный)",description:"Тип имущества: Все имущество залогодателя; Тип значения: STRING",isActive:!0,sortOrder:928,metadata:{type:"string",group:"Все имущество залогодателя",required:!1,section:"",naturalKey:!1}}],createdAt:t,updatedAt:t}];return this.saveDictionaries(r),r}}const On=new RM,Ty=()=>{const e=On.getDictionaryByCode("collateral_attributes_zalog");if(!e)return["Недвижимость","Движимое имущество","Имущественные права"];const t=new Set;e.items.forEach(a=>{var n;(n=a.metadata)!=null&&n.group&&t.add(a.metadata.group)});const r=Array.from(t).sort();return r.length===0?["Недвижимость","Движимое имущество","Имущественные права"]:r},Mh=e=>{const t=On.getDictionaryByCode("collateral_attributes_zalog");if(!t)return nw(e);let r=t.items.filter(a=>{var n;return((n=a.metadata)==null?void 0:n.group)===e});return r.length===0&&(r=t.items.filter(a=>{var s;const n=((s=a.metadata)==null?void 0:s.group)||"";return n.toLowerCase().includes(e.toLowerCase())||e.toLowerCase().includes(n.toLowerCase())})),r.length===0&&(r=t.items.filter(a=>{const n=a.code||"",s=a.name||"";return n.toLowerCase().includes(e.toLowerCase())||s.toLowerCase().includes(e.toLowerCase())})),r.length===0?nw(e):r.map(a=>{var n,s,o,A,l,c;return{code:a.code||"",name:a.name,type:(((n=a.metadata)==null?void 0:n.type)||"string").toLowerCase(),required:((s=a.metadata)==null?void 0:s.required)===!0||((o=a.metadata)==null?void 0:o.naturalKey)===!0,naturalKey:((A=a.metadata)==null?void 0:A.naturalKey)===!0,group:((l=a.metadata)==null?void 0:l.group)||"",section:((c=a.metadata)==null?void 0:c.section)||""}}).sort((a,n)=>a.naturalKey&&!n.naturalKey?-1:!a.naturalKey&&n.naturalKey?1:a.name.localeCompare(n.name))};function nw(e){return[{code:"NAME_OF_PROPERTY",name:"Наименование объекта",type:"string",required:!0,naturalKey:!0,group:e,section:"main"},{code:"OWNER_TIN",name:"ИНН собственника/залогодателя",type:"string",required:!0,naturalKey:!1,group:e,section:"main"},{code:"ADDRESS_BASE",name:"Адрес объекта",type:"string",required:!0,naturalKey:!1,group:e,section:"main"},{code:"TYPE_COLLATERAL",name:"Тип залога",type:"string",required:!0,naturalKey:!1,group:e,section:"evaluation"},{code:"HAVEL_MARKET",name:"Рыночная стоимость",type:"number",required:!0,naturalKey:!1,group:e,section:"evaluation"}]}const IC=e=>{const t=[],r=[],a=[],n=[],s=["NAME_OF_PROPERTY","OWNER_TIN","ADDRESS_BASE"],o=["TYPE_COLLATERAL","HAVEL_MARKET"];return e.forEach(A=>{s.includes(A.code)?t.push(A):o.includes(A.code)?a.push(A):A.code.includes("DOCUMENT")||A.code.includes("FILE")?n.push(A):r.push(A)}),{main:t,characteristics:r,evaluation:a,documents:n}},kM=({initialValues:e,onSubmit:t,onCancel:r,loading:a=!1})=>{const n=$s(),[s]=ne.useForm(),[o,A]=K.useState("1"),[l,c]=K.useState((e==null?void 0:e.cbCode)||0),[d,f]=K.useState(null),[p,u]=K.useState(e==null?void 0:e.propertyType),[g,h]=K.useState(!1),[y,x]=K.useState((e==null?void 0:e.partners)||[]),[v,E]=K.useState(e==null?void 0:e.address),[R,b]=K.useState((e==null?void 0:e.characteristics)||{}),[T,_]=K.useState((e==null?void 0:e.documents)||[]),[S,O]=K.useState(!1),[M,I]=K.useState([]),[D,L]=K.useState(""),N=K.useMemo(()=>g?Ty():[],[g]),P=K.useMemo(()=>p?Mh(p):[],[p]),Q=K.useMemo(()=>IC(P),[P]);K.useEffect(()=>{let ve=!0;return(async()=>{try{await On.syncCollateralAttributesFromUnified()}catch(se){console.warn("Не удалось синхронизировать атрибуты залога из unified-attributes.json",se)}finally{ve&&h(!0)}})(),()=>{ve=!1}},[]),K.useEffect(()=>{if(e&&(s.setFieldsValue({...e,egrnStatementDate:e.egrnStatementDate?We(e.egrnStatementDate):void 0}),e.classification)){const ve=ew(e.classification.level1,e.classification.level2);f(ve)}},[e,s]);const J=(ve,se)=>{s.setFieldsValue({classification:ve}),c(se);const Ke=ew(ve.level1,ve.level2);f(Ke),Ke!==d&&(b({}),s.setFieldsValue({characteristics:{}}))},te=ve=>{u(ve),b({}),s.setFieldsValue({characteristics:{}})},V=K.useMemo(()=>{if(!(e!=null&&e.egrnStatementDate)||!e.mainCategory||e.mainCategory!=="real_estate")return!1;const ve=We(e.egrnStatementDate);return We().diff(ve,"days")>30},[e==null?void 0:e.egrnStatementDate,e==null?void 0:e.mainCategory]),G=()=>{const ve=e==null?void 0:e.id,se=(v==null?void 0:v.cadastralNumber)||(R==null?void 0:R.objectCadastralNumber),Ke=s.getFieldValue("name");n(`/egrn?objectId=${ve}&cadastralNumber=${se}&objectName=${encodeURIComponent(Ke||"")}`),Te.info("Переход в модуль ЕГРН для заказа выписки")},z=()=>{const ve=s.getFieldValue("reference");ve?window.open(`#/portfolio?reference=${ve}`,"_blank"):Te.warning("Не указан REFERENCE сделки")};K.useEffect(()=>{S&&(async()=>{try{const se="./",Ke=new URL(se,window.location.origin),Ee=Ke.pathname.endsWith("/")?Ke.pathname:`${Ke.pathname}/`,pe=`${Ke.origin}${Ee}portfolioData.json?v=${Date.now()}`,ce=await fetch(pe,{cache:"no-store"});if(ce.ok){const He=await ce.json();I(He)}}catch(se){console.warn("Не удалось загрузить договоры из портфеля",se)}})()},[S]);const C=ve=>{if(s.setFieldsValue({reference:ve.reference,contractNumber:ve.contractNumber,contractId:ve.contractNumber}),ve.borrower&&ve.inn){const se={id:zs(),type:"legal",role:"owner",organizationName:ve.borrower,inn:String(ve.inn),share:100,showInRegistry:!0,createdAt:new Date,updatedAt:new Date},Ke=y.filter(Ee=>Ee.role!=="owner");x([...Ke,se])}if(ve.pledger){const se={id:zs(),type:"legal",role:"pledgor",organizationName:ve.pledger,inn:String(ve.inn||""),share:100,showInRegistry:!0,createdAt:new Date,updatedAt:new Date},Ke=y.filter(Ee=>Ee.role!=="pledgor");x([...Ke,se])}O(!1),Te.success("Договор выбран, данные заемщика и залогодателя заполнены")},k=K.useMemo(()=>{if(!D)return M.slice(0,50);const ve=D.toLowerCase();return M.filter(se=>{var Ke,Ee,pe,ce;return((Ke=se.contractNumber)==null?void 0:Ke.toLowerCase().includes(ve))||((Ee=se.reference)==null?void 0:Ee.toString().toLowerCase().includes(ve))||((pe=se.borrower)==null?void 0:pe.toLowerCase().includes(ve))||((ce=se.pledger)==null?void 0:ce.toLowerCase().includes(ve))}).slice(0,50)},[M,D]),j=()=>{const ve=s.getFieldValue("contractId"),se=s.getFieldValue("contractNumber"),Ke=s.getFieldValue("reference");ve?n(`/portfolio?contractId=${ve}`):se?n(`/portfolio?contractNumber=${se}`):Ke?n(`/portfolio?reference=${Ke}`):Te.warning("Не указан договор")},H=[{title:"REFERENCE",dataIndex:"reference",key:"reference",width:120},{title:"Номер договора",dataIndex:"contractNumber",key:"contractNumber",width:150},{title:"Заемщик",dataIndex:"borrower",key:"borrower",width:200},{title:"Залогодатель",dataIndex:"pledger",key:"pledger",width:200},{title:"ИНН",dataIndex:"inn",key:"inn",width:120},{title:"Действия",key:"actions",width:100,render:(ve,se)=>i.jsx(Ce,{type:"link",size:"small",onClick:()=>C(se),children:"Выбрать"})}],Y=async()=>{try{const ve=await s.validateFields(),se=new Date,Ke={id:(e==null?void 0:e.id)||zs(),...ve,cbCode:l,partners:y,address:v||void 0,characteristics:R,documents:T,propertyType:p,egrnStatementDate:ve.egrnStatementDate?ve.egrnStatementDate.format("YYYY-MM-DD"):void 0,createdAt:(e==null?void 0:e.createdAt)||se,updatedAt:se};t(Ke)}catch(ve){console.error("Validation failed:",ve),Te.error("Пожалуйста, заполните все обязательные поля")}},de=K.useMemo(()=>y.find(ve=>ve.role==="owner"||ve.role==="pledgor"),[y]),ue=K.useMemo(()=>y.find(ve=>ve.role==="pledgor"),[y]),he=s.getFieldValue("mainCategory")==="real_estate",xe=[{key:"1",label:"Главная",children:i.jsxs("div",{children:[i.jsx(ne.Item,{name:"name",label:"Наименование имущества (NAME_OF_PROPERTY)",rules:[{required:!0,message:"Введите наименование"}],children:i.jsx(Re,{placeholder:"Наименование имущества"})}),i.jsx(ne.Item,{label:"Адрес",children:i.jsx(NM,{value:v,onChange:E,useDaData:!0,showGeoPicker:!1})}),i.jsx(kt,{orientation:"left",children:"Клиент"}),i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:12,children:i.jsx(ne.Item,{label:"Заемщик",children:i.jsx(Re,{value:(de==null?void 0:de.organizationName)||`${(de==null?void 0:de.lastName)||""} ${(de==null?void 0:de.firstName)||""} ${(de==null?void 0:de.middleName)||""}`.trim(),disabled:!0,placeholder:"Выберите заемщика во вкладке партнеры"})})}),i.jsx(be,{span:12,children:i.jsx(ne.Item,{label:"ИНН заемщика",children:i.jsx(Re,{value:de==null?void 0:de.inn,disabled:!0,placeholder:"ИНН"})})})]}),i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:12,children:i.jsx(ne.Item,{label:"Залогодатель (OWNER_TIN)",children:i.jsx(Re,{value:(ue==null?void 0:ue.organizationName)||`${(ue==null?void 0:ue.lastName)||""} ${(ue==null?void 0:ue.firstName)||""} ${(ue==null?void 0:ue.middleName)||""}`.trim(),disabled:!0,placeholder:"Выберите залогодателя во вкладке партнеры"})})}),i.jsx(be,{span:12,children:i.jsx(ne.Item,{label:"ИНН залогодателя (OWNER_TIN)",children:i.jsx(Re,{value:ue==null?void 0:ue.inn,disabled:!0,placeholder:"ИНН залогодателя"})})})]}),i.jsx(ne.Item,{name:"propertyType",label:"Тип имущества (из справочника атрибутов залога)",children:i.jsx(Ve,{placeholder:"Выберите тип имущества",onChange:te,value:p,children:N.map(ve=>i.jsx(Ve.Option,{value:ve,children:ve},ve))})}),i.jsx(ne.Item,{name:"mainCategory",label:"Основная категория",rules:[{required:!0,message:"Выберите категорию"}],children:i.jsxs(Ve,{placeholder:"Выберите категорию",children:[i.jsx(Ve.Option,{value:"real_estate",children:"Недвижимость"}),i.jsx(Ve.Option,{value:"movable",children:"Движимое имущество"}),i.jsx(Ve.Option,{value:"property_rights",children:"Имущественные права"})]})}),i.jsx(ne.Item,{name:"classification",label:"Классификация объекта",rules:[{validator:async(ve,se)=>!se||!se.level0||!se.level1||!se.level2?Promise.reject(new Error("Заполните все уровни классификации")):l===0?Promise.reject(new Error("Некорректная комбинация классификации")):Promise.resolve()}],children:i.jsx(_M,{onChange:J})})]})},{key:"2",label:"Характеристики",children:i.jsxs("div",{children:[i.jsx("p",{style:{marginBottom:16,color:"#666"},children:"Все характеристики объекта согласно справочнику атрибутов залога"}),p?i.jsxs("div",{children:[Q.characteristics.map(ve=>i.jsx(ne.Item,{name:["characteristics",ve.code],label:ve.name,rules:ve.required?[{required:!0,message:`Заполните ${ve.name}`}]:[],children:ve.type==="number"?i.jsx(Re,{type:"number",placeholder:ve.name}):ve.type==="boolean"?i.jsx(xi,{}):ve.type==="date"?i.jsx(kr,{style:{width:"100%"}}):i.jsx(Re,{placeholder:ve.name})},ve.code)),Q.characteristics.length===0&&i.jsx("p",{style:{color:"#999",textAlign:"center",padding:"20px"},children:"Характеристики определяются после выбора типа имущества на главной вкладке"})]}):i.jsx("p",{style:{color:"#999",textAlign:"center",padding:"20px"},children:"Выберите тип имущества на главной вкладке для отображения характеристик"})]})},{key:"3",label:"Документы",children:i.jsxs("div",{children:[i.jsx(FM,{value:T,onChange:_}),i.jsx(kt,{}),i.jsxs(Oe,{direction:"vertical",style:{width:"100%"},children:[i.jsx(Ce,{type:"link",icon:i.jsx(eA,{}),onClick:z,style:{paddingLeft:0},children:"Перейти в Залоговое досье"}),he&&i.jsxs("div",{children:[i.jsx(ne.Item,{name:"egrnStatementDate",label:"Дата выписки ЕГРН",children:i.jsx(kr,{style:{width:"100%"},format:"DD.MM.YYYY"})}),V&&i.jsx(ne.Item,{children:i.jsx(Ce,{type:"primary",danger:!0,icon:i.jsx(K1,{}),onClick:G,children:"Заказать выписку ЕГРН (выписка более 30 дней)"})})]})]})]})},{key:"4",label:"Заметки",children:i.jsxs("div",{children:[i.jsx(ne.Item,{name:"notes",label:"Комментарии",children:i.jsx(Re.TextArea,{rows:6,placeholder:"Комментарии по данному имуществу"})}),i.jsx(ne.Item,{name:"suspensiveConditions",label:"Отлагательные условия",children:i.jsx(Re.TextArea,{rows:6,placeholder:"Отлагательные условия по данному имуществу"})})]})},{key:"5",label:"Оценка",children:i.jsxs("div",{children:[i.jsx(ne.Item,{name:"marketValue",label:"Стоимость (рыночная)",children:i.jsx(Re,{type:"number",placeholder:"Рыночная стоимость, руб.",addonAfter:"₽"})}),i.jsx(ne.Item,{name:"pledgeValue",label:"Залоговая стоимость",children:i.jsx(Re,{type:"number",placeholder:"Залоговая стоимость, руб.",addonAfter:"₽"})}),i.jsx(ne.Item,{name:["characteristics","HAVEL_MARKET"],label:"Наличие ликвидного рынка (HAVEL_MARKET)",valuePropName:"checked",children:i.jsx(xi,{})}),i.jsx(ne.Item,{name:["characteristics","TYPE_COLLATERAL"],label:"Тип обеспечения (TYPE_COLLATERAL - основной/дополнительный)",children:i.jsxs(Ve,{placeholder:"Выберите тип обеспечения",children:[i.jsx(Ve.Option,{value:"основной",children:"Основной"}),i.jsx(Ve.Option,{value:"дополнительный",children:"Дополнительный"})]})}),Q.evaluation.map(ve=>i.jsx(ne.Item,{name:["characteristics",ve.code],label:ve.name,rules:ve.required?[{required:!0,message:`Заполните ${ve.name}`}]:[],children:ve.type==="number"?i.jsx(Re,{type:"number",placeholder:ve.name}):ve.type==="boolean"?i.jsx(xi,{}):ve.type==="date"?i.jsx(kr,{style:{width:"100%"}}):i.jsx(Re,{placeholder:ve.name})},ve.code))]})},{key:"6",label:"Договор",children:i.jsx("div",{children:i.jsxs(Oe,{direction:"vertical",style:{width:"100%"},size:"middle",children:[i.jsx(Ce,{type:"primary",icon:i.jsx(qa,{}),onClick:()=>O(!0),children:"Выбрать договор из портфеля"}),i.jsx(ne.Item,{name:"reference",label:"REFERENCE сделки",children:i.jsx(Re,{placeholder:"REFERENCE сделки из портфеля"})}),i.jsx(ne.Item,{name:"contractNumber",label:"Номер договора",children:i.jsx(Re,{placeholder:"Номер договора залога"})}),i.jsx(ne.Item,{name:"contractId",label:"ID договора (для навигации)",hidden:!0,children:i.jsx(Re,{})}),(s.getFieldValue("reference")||s.getFieldValue("contractNumber"))&&i.jsx(Ce,{type:"default",icon:i.jsx(eA,{}),onClick:j,children:"Перейти к договору в портфеле"})]})})},{key:"7",label:"Партнеры",children:i.jsxs("div",{children:[i.jsx("p",{style:{marginBottom:16,color:"#666"},children:"Добавьте информацию о собственниках, залогодателях и других участниках сделки"}),i.jsx(BM,{value:y,onChange:x})]})}];return g?i.jsxs(ne,{form:s,layout:"vertical",initialValues:e,size:"middle",style:{padding:"0 8px"},children:[i.jsx(ts,{activeKey:o,onChange:A,items:xe,style:{minHeight:"400px"},size:"small"}),i.jsx("div",{style:{marginTop:16,textAlign:"right",borderTop:"1px solid #f0f0f0",paddingTop:12,position:"sticky",bottom:0,background:"#fff",zIndex:10},children:i.jsxs(Oe,{children:[i.jsx(Ce,{onClick:r,icon:i.jsx(fb,{}),children:"Отмена"}),i.jsx(Ce,{type:"primary",onClick:Y,loading:a,icon:i.jsx(nm,{}),children:e?"Сохранить изменения":"Создать карточку"})]})}),i.jsxs(lr,{title:"Выбор договора из портфеля",open:S,onCancel:()=>O(!1),footer:null,width:800,children:[i.jsx(Re,{placeholder:"Поиск по REFERENCE, номеру договора, заемщику, залогодателю",prefix:i.jsx(qa,{}),value:D,onChange:ve=>L(ve.target.value),style:{marginBottom:16}}),i.jsx(nr,{columns:H,dataSource:k,rowKey:ve=>`${ve.reference}-${ve.contractNumber}`,pagination:{pageSize:10},size:"small"})]})]}):null};class DM{constructor(){er(this,"db",Wr)}async initDatabase(){try{this.db.isOpen()||await this.db.open(),console.log("Inspection database initialized successfully")}catch(t){throw console.error("Failed to initialize inspection database:",t),t}}async getInspections(){try{return await this.db.inspections.toArray()}catch(t){return console.error("Failed to get inspections:",t),[]}}async getInspectionById(t){try{return await this.db.inspections.get(t)}catch(r){console.error("Failed to get inspection:",r);return}}async getInspectionsByCardId(t){try{return await this.db.inspections.where("collateralCardId").equals(t).toArray()}catch(r){return console.error("Failed to get inspections by card ID:",r),[]}}async getInspectionsByType(t){try{return await this.db.inspections.where("inspectionType").equals(t).toArray()}catch(r){return console.error("Failed to get inspections by type:",r),[]}}async getInspectionsByStatus(t){try{return await this.db.inspections.where("status").equals(t).toArray()}catch(r){return console.error("Failed to get inspections by status:",r),[]}}async getInspectionsByInspector(t){try{return await this.db.inspections.where("inspectorId").equals(t).toArray()}catch(r){return console.error("Failed to get inspections by inspector:",r),[]}}async createInspection(t){try{const r=new Date,a={...t,id:`insp-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,createdAt:r,updatedAt:r,history:t.history||[]};return await this.db.inspections.add(a),a.id}catch(r){throw console.error("Failed to create inspection:",r),r}}async generateClientLink(t){try{const r=await this.getInspectionById(t);if(!r)throw new Error("Inspection not found");const a=`${t}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,n=new Date;n.setDate(n.getDate()+7);const s="./",o=s.endsWith("/")?s:`${s}/`,A=`${window.location.origin}${o}#/inspection/${a}`;await this.updateInspection(t,{clientLink:A,clientLinkExpiresAt:n,status:"sent_to_client",history:[...r.history||[],{id:`hist-${Date.now()}`,date:new Date,action:"sent_to_client",user:r.createdByUser||"Система",userRole:"creator",comment:"Ссылка отправлена клиенту",status:"sent_to_client"}]});const l=JSON.parse(localStorage.getItem("inspection_tokens")||"{}");return l[a]={inspectionId:t,expiresAt:n.toISOString()},localStorage.setItem("inspection_tokens",JSON.stringify(l)),A}catch(r){throw console.error("Failed to generate client link:",r),r}}async getInspectionByToken(t){try{const a=JSON.parse(localStorage.getItem("inspection_tokens")||"{}")[t];return!a||new Date(a.expiresAt)<new Date?null:await this.getInspectionById(a.inspectionId)||null}catch(r){return console.error("Failed to get inspection by token:",r),null}}async submitForReview(t,r){try{const a=await this.getInspectionById(t);if(!a)throw new Error("Inspection not found");await this.updateInspection(t,{status:"submitted_for_review",history:[...a.history||[],{id:`hist-${Date.now()}`,date:new Date,action:"submitted",user:r,userRole:"inspector",comment:"Осмотр отправлен на проверку",status:"submitted_for_review"}]})}catch(a){throw console.error("Failed to submit for review:",a),a}}async approveInspection(t,r){try{const a=await this.getInspectionById(t);if(!a)throw new Error("Inspection not found");await this.updateInspection(t,{status:"approved",approvedBy:r,approvedAt:new Date,history:[...a.history||[],{id:`hist-${Date.now()}`,date:new Date,action:"approved",user:r,userRole:"approver",comment:"Осмотр согласован",status:"approved"}]})}catch(a){throw console.error("Failed to approve inspection:",a),a}}async requestRevision(t,r,a){try{const n=await this.getInspectionById(t);if(!n)throw new Error("Inspection not found");await this.updateInspection(t,{status:"needs_revision",revisionRequestedBy:r,revisionRequestedAt:new Date,revisionComment:a,history:[...n.history||[],{id:`hist-${Date.now()}`,date:new Date,action:"revision_requested",user:r,userRole:"reviewer",comment:a||"Требуется доработка",status:"needs_revision"}]})}catch(n){throw console.error("Failed to request revision:",n),n}}async addPhoto(t,r){try{const a=await this.getInspectionById(t);if(!a)throw new Error("Inspection not found");const n={id:`photo-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,...r,takenAt:new Date};await this.updateInspection(t,{photos:[...a.photos||[],n]})}catch(a){throw console.error("Failed to add photo:",a),a}}async updateInspection(t,r){try{if(!await this.db.inspections.get(t))throw new Error("Inspection not found");await this.db.inspections.update(t,{...r,updatedAt:new Date})}catch(a){throw console.error("Failed to update inspection:",a),a}}async deleteInspection(t){try{await this.db.inspections.delete(t)}catch(r){throw console.error("Failed to delete inspection:",r),r}}async deleteInspectionsByCardId(t){try{await this.db.inspections.where("collateralCardId").equals(t).delete()}catch(r){throw console.error("Failed to delete inspections by card ID:",r),r}}async getInspectionStats(){try{const t=await this.db.inspections.toArray(),r={total:t.length,byType:{},byStatus:{},byCondition:{}};return t.forEach(a=>{r.byType[a.inspectionType]=(r.byType[a.inspectionType]||0)+1,r.byStatus[a.status]=(r.byStatus[a.status]||0)+1,r.byCondition[a.condition]=(r.byCondition[a.condition]||0)+1}),r}catch(t){return console.error("Failed to get inspection stats:",t),{total:0,byType:{},byStatus:{},byCondition:{}}}}}const Sa=new DM,jM=Object.freeze(Object.defineProperty({__proto__:null,default:Sa},Symbol.toStringTag,{value:"Module"}));function LM(e){var s,o,A,l,c,d;if(!e)return"default";const t=e.mainCategory,r=((s=e.classification)==null?void 0:s.level0)||((A=(o=e.classification)==null?void 0:o.hierarchy)==null?void 0:A.level0)||"",a=((l=e.classification)==null?void 0:l.level1)||((d=(c=e.classification)==null?void 0:c.hierarchy)==null?void 0:d.level1)||"",n=e.propertyType||"";if(t==="real_estate")return r!=null&&r.includes("Жилая")||r!=null&&r.includes("жилая")?"residential_real_estate":r!=null&&r.includes("Коммерческая")||r!=null&&r.includes("коммерческая")?"commercial_real_estate":"real_estate";if(t==="movable"){const f=(a==null?void 0:a.toLowerCase())||"",p=(n==null?void 0:n.toLowerCase())||"";return f.includes("автомобиль")||f.includes("транспорт")||p.includes("автомобиль")||p.includes("транспорт")?"vehicle":f.includes("оборудование")||p.includes("оборудование")?"equipment":f.includes("судно")||f.includes("морск")||f.includes("речн")||p.includes("судно")||p.includes("морск")||p.includes("речн")?"vessel":f.includes("воздушн")||f.includes("самолет")||f.includes("вертолет")||p.includes("воздушн")||p.includes("самолет")||p.includes("вертолет")?"aircraft":f.includes("железнодорожн")||f.includes("вагон")||f.includes("локомотив")||p.includes("железнодорожн")||p.includes("вагон")||p.includes("локомотив")?"railway":f.includes("самоходн")||f.includes("техника")||p.includes("самоходн")||p.includes("техника")?"self_propelled":f.includes("тмц")||f.includes("товар")||f.includes("материал")||p.includes("тмц")||p.includes("товар")||p.includes("материал")?"inventory":"equipment"}if(t==="property_rights"){const f=(a==null?void 0:a.toLowerCase())||"",p=(n==null?void 0:n.toLowerCase())||"";return f.includes("дол")||f.includes("ук")||p.includes("дол")||p.includes("ук")?"shares":f.includes("товарн")||f.includes("знак")||p.includes("товарн")||p.includes("знак")?"trademark":"property_rights"}return"default"}function UM(e,t){if(!e)return"";switch(LM(e)){case"residential_real_estate":return PM(e);case"commercial_real_estate":return QM(e);case"vehicle":return qM(e);case"equipment":return KM(e);case"vessel":return HM(e,t);case"aircraft":return GM(e,t);case"railway":return zM(e,t);case"self_propelled":return VM(e);case"inventory":return $M(e);case"shares":return YM(e);case"trademark":return WM(e);default:return""}}const MM=(e,t)=>{var E,R,b,T,_,S;const r=window.open("","_blank");if(!r){alert("Не удалось открыть окно для печати. Разрешите всплывающие окна.");return}const a=(E=t==null?void 0:t.partners)==null?void 0:E.find(O=>O.role==="pledgor"),n=(R=t==null?void 0:t.partners)==null?void 0:R.find(O=>O.role==="owner"),s=a?a.type==="legal"?a.organizationName||"":`${a.lastName||""} ${a.firstName||""} ${a.middleName||""}`.trim():"",o=n?n.type==="legal"?n.organizationName||"":`${n.lastName||""} ${n.firstName||""} ${n.middleName||""}`.trim():"",A=(t==null?void 0:t.pledgeContractId)||((b=t==null?void 0:t.characteristics)==null?void 0:b.pledgeContractNumber)||"",l=((T=t==null?void 0:t.characteristics)==null?void 0:T.pledgeContractDate)||"",c=(t==null?void 0:t.loanContractId)||((_=t==null?void 0:t.characteristics)==null?void 0:_.loanContractNumber)||"",d=((S=t==null?void 0:t.characteristics)==null?void 0:S.loanContractDate)||"",f=e.inspectionMethod||"Визуальный осмотр",p=e.inspectionType==="primary"?"Первичный осмотр":e.inspectionType==="periodic"?"Периодический осмотр":e.inspectionType==="monitoring"?"Мониторинг":e.inspectionType==="unscheduled"?"Внеплановый осмотр":"Выборочный осмотр",u=e.propertyPresence||(e.condition!=="critical"?"Наличие имущества подтверждается":"Наличие имущества не подтверждается"),g=e.propertyCondition||(e.condition==="excellent"?"Имущество в отличном состоянии":e.condition==="good"?"Имущество в хорошем состоянии":e.condition==="satisfactory"?"Имущество в удовлетворительном состоянии":e.condition==="poor"?"Имущество в плохом состоянии":"Имущество в критическом состоянии"),h=e.storageConditions||e.overallCondition||"Условия хранения/эксплуатации частично соблюдаются (уточнения в Приложении 1)",y=e.conclusions||e.notes||(e.condition==="critical"?"Предлагаемое в залог имущество не возможно рассмотреть в качестве обеспечения":"Имущество соответствует требованиям для принятия в залог"),x=e.proposals||(e.recommendations&&e.recommendations.length>0?e.recommendations.map(O=>O.description).join("; "):"-"),v=`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="UTF-8">
      <title>Акт проверки наличия и состояния залога ${e.id}</title>
      <style>
        @media print {
          @page {
            size: A4;
            margin: 2cm;
          }
        }
        body {
          font-family: 'Times New Roman', serif;
          font-size: 12pt;
          line-height: 1.6;
          margin: 0;
          padding: 20px;
        }
        .header {
          text-align: center;
          margin-bottom: 30px;
        }
        .header .number {
          text-align: right;
          margin-bottom: 10px;
          font-size: 12pt;
        }
        .header h1 {
          font-size: 14pt;
          font-weight: bold;
          margin-bottom: 5px;
          text-transform: uppercase;
        }
        .header .subtitle {
          font-size: 12pt;
          margin-bottom: 20px;
        }
        .section {
          margin-bottom: 20px;
        }
        .section-row {
          margin-bottom: 15px;
          display: flex;
          align-items: flex-start;
        }
        .section-label {
          font-weight: bold;
          min-width: 300px;
          margin-right: 10px;
        }
        .section-value {
          flex: 1;
        }
        .contract-info {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 20px;
          margin: 15px 0;
        }
        .contract-block {
          border: 1px solid #000;
          padding: 10px;
        }
        .contract-block .label {
          font-weight: bold;
          margin-bottom: 5px;
        }
        .info-table {
          width: 100%;
          border-collapse: collapse;
          margin-bottom: 15px;
        }
        .info-table td {
          padding: 8px 10px;
          border: 1px solid #000;
          vertical-align: top;
        }
        .info-table td:first-child {
          font-weight: bold;
          width: 40%;
          background-color: #f0f0f0;
        }
        .info-table thead td {
          font-weight: bold;
          background-color: #e8e8e8;
          text-align: center;
          vertical-align: middle;
        }
        .info-table tbody td {
          vertical-align: top;
        }
        .attachment-table {
          width: 100%;
          border-collapse: collapse;
          margin: 15px 0;
          font-size: 9pt;
        }
        .attachment-table td {
          border: 1px solid #000;
          padding: 4px 6px;
          vertical-align: top;
        }
        .attachment-table thead td {
          font-weight: bold;
          background-color: #e8e8e8;
          text-align: center;
          vertical-align: middle;
        }
        .photos-grid {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: 10px;
          margin: 15px 0;
        }
        .photo-item {
          border: 1px solid #000;
          padding: 5px;
          text-align: center;
        }
        .photo-item img {
          max-width: 100%;
          height: auto;
          max-height: 200px;
        }
        .photo-item .photo-desc {
          font-size: 10pt;
          margin-top: 5px;
        }
        .signatures {
          margin-top: 40px;
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 40px;
        }
        .signature-block {
          text-align: left;
        }
        .signature-line {
          border-top: 1px solid #000;
          margin-top: 50px;
          padding-top: 5px;
          min-height: 60px;
        }
        .footer {
          margin-top: 30px;
          font-size: 9pt;
          text-align: left;
          color: #666;
          line-height: 1.4;
        }
        .underline {
          border-bottom: 1px solid #000;
          display: inline-block;
          min-width: 200px;
          margin: 0 5px;
        }
      </style>
    </head>
    <body>
      <div class="header">
        <div class="number">№ <span class="underline">${e.id}</span></div>
        <h1>Акт*</h1>
        <div class="subtitle">проверки наличия и состояния залога</div>
      </div>

      <div class="section">
        <div class="section-row">
          <div class="section-label">Наименование Залогодателя</div>
          <div class="section-value">${s||"________________"}</div>
        </div>
        <div class="section-row">
          <div class="section-label">Наименование Заемщика</div>
          <div class="section-value">${o||"________________"}</div>
        </div>
      </div>

      <div class="section">
        <p>Проведена проверка состояния принятого обеспечения по договору залога: 
        <span class="underline">${A||""}</span> 
        оформленного в обеспечение кредитного договора: 
        <span class="underline">${c||""}</span></p>
        
        <div class="contract-info">
          <div class="contract-block">
            <div class="label">Договор залога</div>
            <div>Номер: ${A||"________________"}</div>
            <div>Дата: ${l?We(l).format("DD.MM.YYYY"):"________________"}</div>
          </div>
          <div class="contract-block">
            <div class="label">Кредитный договор</div>
            <div>Номер: ${c||"________________"}</div>
            <div>Дата: ${d?We(d).format("DD.MM.YYYY"):"________________"}</div>
          </div>
        </div>
      </div>

      <div class="section">
        <div class="section-row">
          <div class="section-label">Способ проверки:</div>
          <div class="section-value">${f}</div>
        </div>
        <div class="section-row">
          <div class="section-label">Тип осмотра:</div>
          <div class="section-value">${p}</div>
        </div>
      </div>

      <div class="section">
        <p><em>К Акту Проверки прикладывается Приложение 1 с описанием осматриваемого имущества</em></p>
        <p style="font-size: 10pt; color: #666; margin-top: 5px;">
          Приложения к актам осмотра могут дополняться/изменяться и не требуют дополнительного согласования
        </p>
      </div>

      <div class="section">
        <table class="info-table">
          <tr>
            <td>Наличие заложенного имущества</td>
            <td>${u}</td>
          </tr>
          <tr>
            <td>Состояние заложенного имущества</td>
            <td>${g}. ${e.overallCondition||"Имущество в сохранности, перепланировок/переоборудований не выявлено, эксплуатируется по назначению"}</td>
          </tr>
          <tr>
            <td>Соответствие условий хранения/эксплуатации заложенного имущества</td>
            <td>${h}</td>
          </tr>
          <tr>
            <td>Выводы</td>
            <td>${y}</td>
          </tr>
          <tr>
            <td>Предложения</td>
            <td>${x}</td>
          </tr>
        </table>
      </div>

      ${e.photos&&e.photos.length>0?`
      <div class="section">
        <div style="font-weight: bold; margin-bottom: 10px;">Приложение 1. Фотографии осматриваемого имущества (${e.photos.length})</div>
        <div class="photos-grid">
          ${e.photos.map((O,M)=>`
            <div class="photo-item">
              <img src="${O.url}" alt="Фото ${M+1}" />
              <div class="photo-desc">
                ${O.location||O.step||`Фото ${M+1}`}
                ${O.description?`<br>${O.description}`:""}
                ${O.takenAt?`<br>${We(O.takenAt).format("DD.MM.YYYY HH:mm")}`:""}
              </div>
            </div>
          `).join("")}
        </div>
      </div>
      `:""}

      ${UM(t,e)}

      ${e.defects&&e.defects.length>0?`
      <div class="section">
        <div style="font-weight: bold; margin-bottom: 10px;">Приложение 2. Выявленные дефекты</div>
        <table class="info-table">
          ${e.defects.map((O,M)=>`
            <tr>
              <td>Дефект ${M+1}</td>
              <td>${O.description} (${O.severity})${O.location?`, Местоположение: ${O.location}`:""}</td>
            </tr>
          `).join("")}
        </table>
      </div>
      `:""}

      <div class="section">
        <div class="section-row">
          <div class="section-label">Дата проведения проверки</div>
          <div class="section-value">${We(e.inspectionDate).format("DD.MM.YYYY")}</div>
        </div>
      </div>

      <div class="signatures">
        <div class="signature-block">
          <div class="signature-line">
            Сотрудник проводивший осмотр<br>
            ${e.inspectorName||"________________"}<br>
            ${e.inspectorPosition?`${e.inspectorPosition}`:""}
          </div>
        </div>
        <div class="signature-block">
          <div class="signature-line">
            Руководитель/заместитель руководителя<br>
            ${e.approvedBy||"________________"}<br>
            ${e.approvedAt?We(e.approvedAt).format("DD.MM.YYYY"):""}
          </div>
        </div>
      </div>

      <div class="footer">
        <p>*Акт осмотра составляется в электронном виде, подписывается ЭЦП работника, осуществившим осмотр и его руководителем подразделения. Актуализация данной формы и приложений к ней может проводиться без внесения изменений в настоящее Положение по согласованию с Директором/заместителем директора департамента управления рисками.</p>
        <p style="margin-top: 10px;">Документ сгенерирован автоматически ${We().format("DD.MM.YYYY HH:mm")}</p>
      </div>

      <script>
        window.onload = function() {
          window.print();
        };
      <\/script>
    </body>
    </html>
  `;r.document.write(v),r.document.close()};function PM(e){const t=e.characteristics||{},r=e.address||{},a=r.cadastralNumber||t.cadastralNumber||"",n=t.totalAreaSqm||t.totalArea||"",s=t.buildYear||t.yearOfConstruction||"",o=t.wallMaterial||"",A=t.floorMaterial||t.overlapMaterial||"",l=t.buildingCondition||t.condition||"",c=t.finishLevel||t.finishingLevel||"",d=t.finishCondition||"",f=t.bookValue||t.balanceValue||0;return`
    <div class="section" style="page-break-before: always;">
      <div style="font-weight: bold; margin-bottom: 15px; text-align: center;">
        Приложение к акту осмотра (Жилая недвижимость)
      </div>
      <table class="attachment-table">
        <thead>
          <tr>
            <td style="text-align: center; font-weight: bold;">№ п/п</td>
            <td style="text-align: center; font-weight: bold;">№ В ЗМ</td>
            <td style="text-align: center; font-weight: bold;">Наименование объекта</td>
            <td style="text-align: center; font-weight: bold;">Адрес местоположения</td>
            <td style="text-align: center; font-weight: bold;">Общая площадь объекта, кв. м.<br><span style="color: red; font-size: 9pt;">Только цифры</span></td>
            <td style="text-align: center; font-weight: bold;">Кадастровый номер объекта</td>
            <td style="text-align: center; font-weight: bold;">Балансовая стоимость на последнюю отчетную дату, руб. без учета НДС<br><span style="color: red; font-size: 9pt;">Только цифры</span></td>
            <td style="text-align: center; font-weight: bold;">Год строительства</td>
            <td style="text-align: center; font-weight: bold;">Материал стен</td>
            <td style="text-align: center; font-weight: bold;">Материал перекрытий</td>
            <td style="text-align: center; font-weight: bold;">Состояние конструктивных элементов здания</td>
            <td style="text-align: center; font-weight: bold;">Уровень отделки</td>
            <td style="text-align: center; font-weight: bold;">Состояние отделки</td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="text-align: center;">1</td>
            <td></td>
            <td>${e.name||""}</td>
            <td>${r.fullAddress||""}</td>
            <td style="text-align: right;">${n||""}</td>
            <td>${a||""}</td>
            <td style="text-align: right;">${f?f.toLocaleString("ru-RU"):"0.00"}</td>
            <td style="text-align: center;">${s||""}</td>
            <td>${o||""}</td>
            <td>${A||""}</td>
            <td>${l||""}</td>
            <td>${c||""}</td>
            <td>${d||""}</td>
          </tr>
        </tbody>
      </table>
    </div>
  `}function QM(e){var h,y,x,v,E,R;const t=e.characteristics||{},r=e.address||{},a=r.cadastralNumber||t.cadastralNumber||"",n=t.totalAreaSqm||t.totalArea||"",s=t.buildYear||t.yearOfConstruction||"",o=t.wallMaterial||"",A=t.floorMaterial||t.overlapMaterial||"",l=t.buildingCondition||t.condition||"",c=t.finishLevel||t.finishingLevel||"",d=t.finishCondition||"",f=t.bookValue||t.balanceValue||0,p=((h=e.classification)==null?void 0:h.level1)||((x=(y=e.classification)==null?void 0:y.hierarchy)==null?void 0:x.level1)||"",u=((v=e.classification)==null?void 0:v.level2)||((R=(E=e.classification)==null?void 0:E.hierarchy)==null?void 0:R.level2)||"";return`
    <div class="section" style="page-break-before: always;">
      <div style="font-weight: bold; margin-bottom: 15px; text-align: center;">
        Приложение к акту осмотра (Коммерческая недвижимость)
      </div>
      <table class="attachment-table">
        <thead>
          <tr>
            <td style="text-align: center; font-weight: bold;">№ п/п</td>
            <td style="text-align: center; font-weight: bold;">№ В ЗМ</td>
            <td style="text-align: center; font-weight: bold;">Наименование объекта</td>
            <td style="text-align: center; font-weight: bold;">Адрес местоположения</td>
            <td style="text-align: center; font-weight: bold;">Общая площадь объекта, кв. м.<br><span style="color: red; font-size: 9pt;">Только цифры</span></td>
            <td style="text-align: center; font-weight: bold;">Кадастровый номер объекта</td>
            <td style="text-align: center; font-weight: bold;">Балансовая стоимость на последнюю отчетную дату, руб. без учета НДС<br><span style="color: red; font-size: 9pt;">Только цифры</span></td>
            <td style="text-align: center; font-weight: bold;">Год строительства</td>
            <td style="text-align: center; font-weight: bold;">Материал стен</td>
            <td style="text-align: center; font-weight: bold;">Материал перекрытий</td>
            <td style="text-align: center; font-weight: bold;">Состояние конструктивных элементов здания</td>
            <td style="text-align: center; font-weight: bold;">Уровень отделки</td>
            <td style="text-align: center; font-weight: bold;">Состояние отделки</td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="text-align: center;">1</td>
            <td></td>
            <td>${e.name||`${p}, назначение: нежилое ${(u==null?void 0:u.toLowerCase())||"здание"}, площадь: ${n||""} кв.м.`}</td>
            <td>${r.fullAddress||""}</td>
            <td style="text-align: right;">${n||""}</td>
            <td>${a||""}</td>
            <td style="text-align: right;">${f?f.toLocaleString("ru-RU"):"0.00"}</td>
            <td style="text-align: center;">${s||""}</td>
            <td>${o||""}</td>
            <td>${A||""}</td>
            <td>${l||""}</td>
            <td>${c||""}</td>
            <td>${d||""}</td>
          </tr>
        </tbody>
      </table>
    </div>
  `}function qM(e){const t=e.characteristics||{},r=e.address||{},a=t.make||t.brand||"",n=t.model||"",s=t.vin||t.identificationNumber||"",o=t.chassisNumber||"",A=t.bodyNumber||"",l=t.color||"",c=t.year||t.yearOfManufacture||"",d=t.inventoryNumber||"",f=t.registrationNumber||t.licensePlate||"";return`
    <div class="section" style="page-break-before: always;">
      <div style="font-weight: bold; margin-bottom: 15px; text-align: center;">
        Приложение к акту осмотра (автотранспорт)
      </div>
      <table class="attachment-table">
        <thead>
          <tr>
            <td style="text-align: center; font-weight: bold;">№п/п</td>
            <td style="text-align: center; font-weight: bold;">№ В ЗМ</td>
            <td style="text-align: center; font-weight: bold;">Наименование</td>
            <td style="text-align: center; font-weight: bold;">Марка</td>
            <td style="text-align: center; font-weight: bold;">Модель ТС</td>
            <td style="text-align: center; font-weight: bold;">Идентификационный номер (VIN)</td>
            <td style="text-align: center; font-weight: bold;">Номер шасси</td>
            <td style="text-align: center; font-weight: bold;">Номер кузова</td>
            <td style="text-align: center; font-weight: bold;">Цвет</td>
            <td style="text-align: center; font-weight: bold;">Год выпуска</td>
            <td style="text-align: center; font-weight: bold;">инвентарный номер</td>
            <td style="text-align: center; font-weight: bold;">Регистрационный знак</td>
            <td style="text-align: center; font-weight: bold;">Адрес местоположения</td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="text-align: center;">1</td>
            <td></td>
            <td>${e.name||""}</td>
            <td>${a}</td>
            <td>${n}</td>
            <td>${s}</td>
            <td>${o}</td>
            <td>${A}</td>
            <td>${l}</td>
            <td style="text-align: center;">${c}</td>
            <td>${d}</td>
            <td>${f}</td>
            <td>${r.fullAddress||""}</td>
          </tr>
        </tbody>
      </table>
    </div>
  `}function KM(e){const t=e.characteristics||{},r=e.address||{},a=t.make||t.brand||"",n=t.model||"",s=t.serialNumber||t.factoryNumber||"",o=t.year||t.yearOfManufacture||"",A=t.manufacturer||"",l=t.country||t.manufacturerCountry||"",c=t.inventoryNumber||"",d=t.bookValue||t.balanceValue||t.residualValue||0,f=t.additionalCharacteristics||"";return`
    <div class="section" style="page-break-before: always;">
      <div style="font-weight: bold; margin-bottom: 15px; text-align: center;">
        Приложение к акту осмотра (оборудование)
      </div>
      <table class="attachment-table">
        <thead>
          <tr>
            <td style="text-align: center; font-weight: bold;">№п/п</td>
            <td style="text-align: center; font-weight: bold;">№ В ЗМ</td>
            <td style="text-align: center; font-weight: bold;">Наименование</td>
            <td style="text-align: center; font-weight: bold;">Марка</td>
            <td style="text-align: center; font-weight: bold;">Модель</td>
            <td style="text-align: center; font-weight: bold;">Заводской номер</td>
            <td style="text-align: center; font-weight: bold;">Год выпуска</td>
            <td style="text-align: center; font-weight: bold;">Страна - изготовитель</td>
            <td style="text-align: center; font-weight: bold;">Производитель</td>
            <td style="text-align: center; font-weight: bold;">Инвентарный номер</td>
            <td style="text-align: center; font-weight: bold;">Адрес местоположения</td>
            <td style="text-align: center; font-weight: bold;">Остаточная балансовая стоимость, руб.</td>
            <td style="text-align: center; font-weight: bold;">Дополнительные характеристики</td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="text-align: center;">1</td>
            <td></td>
            <td>${e.name||""}</td>
            <td>${a}</td>
            <td>${n}</td>
            <td>${s}</td>
            <td style="text-align: center;">${o}</td>
            <td>${l}</td>
            <td>${A}</td>
            <td>${c}</td>
            <td>${r.fullAddress||""}</td>
            <td style="text-align: right;">${d?d.toLocaleString("ru-RU"):"0.00"}</td>
            <td>${f}</td>
          </tr>
        </tbody>
      </table>
    </div>
  `}function HM(e,t){const r=e.characteristics||{},a=r.vesselName||e.name||"",n=r.imo||"",s=r.vesselType||"",o=r.callSign||"",A=r.portOfRegistration||"",l=r.placeOfConstruction||"",c=r.yearOfConstruction||"",d=r.hullMaterial||"",f=r.enginesCount||"",p=r.enginesPower||"",u=r.length||"",g=r.width||"",h=r.boardHeight||"",y=r.grossTonnage||"",x=r.netTonnage||"",v=r.deadweight||"",E=r.vesselClass||"",R=(t==null?void 0:t.propertyPresence)==="Наличие имущества подтверждается"?"Подтверждена":"";return`
    <div class="section" style="page-break-before: always;">
      <div style="font-weight: bold; margin-bottom: 15px; text-align: center;">
        Приложение к акту осмотра (морские/речные суда)
      </div>
      <table class="attachment-table">
        <thead>
          <tr>
            <td style="text-align: center; font-weight: bold;">№ п/п</td>
            <td style="text-align: center; font-weight: bold;">№ В ЗМ</td>
            <td style="text-align: center; font-weight: bold;">Наименование объекта</td>
            <td style="text-align: center; font-weight: bold;">Состояние имущества</td>
            <td style="text-align: center; font-weight: bold;">Наличие обременений</td>
            <td style="text-align: center; font-weight: bold;">Идентификация подтверждена/не подтверждена/выявленные разночтения</td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="text-align: center;">1</td>
            <td></td>
            <td>${`Судно "${a}", ИМО ${n}. Тип судна: ${s}. Позывной сигнал: ${o}. Морской порт регистрации: ${A}. Место и год постройки: ${l}, ${c}. Главный материал корпуса: ${d}. Число и мощность главных двигателей: ${f}, ${p} кВт. Главные размерения: Длина ${u} м. Ширина ${g} м. Высота борта ${h} м. Вместимость валовая ${y}. Вместимость чистая ${x}. Дедвейт ${v} р.т. Класс судна: ${E}.`}</td>
            <td>${(t==null?void 0:t.propertyCondition)||""}</td>
            <td></td>
            <td style="background-color: ${R?"#ffff00":"transparent"};">${R||""}</td>
          </tr>
        </tbody>
      </table>
    </div>
  `}function GM(e,t){const r=e.characteristics||{},a=e.address||{},n=r.aircraftType||e.name||"",s=r.serialNumber||r.factoryNumber||"",o=r.gliderNumber||"",A=r.year||r.yearOfManufacture||"",l=r.manufacturer||"",c=r.model||"",d=r.operatingHours||r.flightHours||"",f=(t==null?void 0:t.propertyPresence)==="Наличие имущества подтверждается"?"Подтверждена":"",p=(t==null?void 0:t.propertyCondition)||"",u=f;return`
    <div class="section" style="page-break-before: always;">
      <div style="font-weight: bold; margin-bottom: 15px; text-align: center;">
        Приложение к акту осмотра (воздушное судно)
      </div>
      <table class="attachment-table">
        <thead>
          <tr>
            <td style="text-align: center; font-weight: bold;">№ п/п</td>
            <td style="text-align: center; font-weight: bold;">№ В ЗМ</td>
            <td style="text-align: center; font-weight: bold;">Вид воздушного судна</td>
            <td style="text-align: center; font-weight: bold;">Серийный (заводской номер)</td>
            <td style="text-align: center; font-weight: bold;">Номер планера</td>
            <td style="text-align: center; font-weight: bold;">Год выпуска</td>
            <td style="text-align: center; font-weight: bold;">Наименование изготовителя</td>
            <td style="text-align: center; font-weight: bold;">Тип (наименование)</td>
            <td style="text-align: center; font-weight: bold;">Адрес местоположения</td>
            <td style="text-align: center; font-weight: bold;">Наработка /налет часов</td>
            <td style="text-align: center; font-weight: bold;">Работоспособность подтверждена/не подтверждена</td>
            <td style="text-align: center; font-weight: bold;">Наличие/отсутствие повреждений</td>
            <td style="text-align: center; font-weight: bold;">Идентификация подтверждена/не подтверждена</td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="text-align: center;">1</td>
            <td></td>
            <td>${n}</td>
            <td>${s}</td>
            <td>${o}</td>
            <td style="text-align: center;">${A}</td>
            <td>${l}</td>
            <td>${c}</td>
            <td>${a.fullAddress||""}</td>
            <td>${d}</td>
            <td>${f||""}</td>
            <td>${p||""}</td>
            <td>${u||""}</td>
          </tr>
        </tbody>
      </table>
    </div>
  `}function zM(e,t){const r=e.characteristics||{},a=r.make||r.brand||"",n=r.model||"",s=r.serialNumber||r.factoryNumber||"",o=r.year||r.yearOfConstruction||"",A=r.identificationMarks||"",l=r.wagonNumber||"",c=r.depot||"",d=r.inventoryNumber||"",f=r.country||r.manufacturerCountry||"",p=(t==null?void 0:t.propertyPresence)==="Наличие имущества подтверждается"?"Подтверждена":"";return`
    <div class="section" style="page-break-before: always;">
      <div style="font-weight: bold; margin-bottom: 15px; text-align: center;">
        Приложение к акту осмотра (Железнодорожный транспорт)
      </div>
      <table class="attachment-table">
        <thead>
          <tr>
            <td style="text-align: center; font-weight: bold;">№п/п</td>
            <td style="text-align: center; font-weight: bold;">№ В ЗМ</td>
            <td style="text-align: center; font-weight: bold;">Наименование</td>
            <td style="text-align: center; font-weight: bold;">Марка, модель</td>
            <td style="text-align: center; font-weight: bold;">Заводской номер</td>
            <td style="text-align: center; font-weight: bold;">Год постройки</td>
            <td style="text-align: center; font-weight: bold;">Идентификационные признаки</td>
            <td style="text-align: center; font-weight: bold;">Номер вагона</td>
            <td style="text-align: center; font-weight: bold;">Депо приписки</td>
            <td style="text-align: center; font-weight: bold;">Инвентарный номер</td>
            <td style="text-align: center; font-weight: bold;">Страна - изготовитель</td>
            <td style="text-align: center; font-weight: bold;">Идентификация подтверждена/не подтверждена /выявленные разночтения</td>
            <td style="text-align: center; font-weight: bold;">Выявленные обременения</td>
            <td style="text-align: center; font-weight: bold;">Комментарии</td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="text-align: center;">1</td>
            <td></td>
            <td>${e.name||""}</td>
            <td>${a} ${n}</td>
            <td>${s}</td>
            <td style="text-align: center;">${o}</td>
            <td>${A}</td>
            <td>${l}</td>
            <td>${c}</td>
            <td>${d}</td>
            <td>${f}</td>
            <td style="background-color: ${p?"#ffff00":"transparent"};">${p||""}</td>
            <td></td>
            <td></td>
          </tr>
        </tbody>
      </table>
    </div>
  `}function VM(e){const t=e.characteristics||{},r=e.address||{},a=t.make||t.brand||"",n=t.model||"",s=t.serialNumber||t.factoryNumber||"",o=t.color||"",A=t.year||t.yearOfManufacture||"",l=t.manufacturer||"",c=t.inventoryNumber||"",d=t.registrationNumber||"",f=t.bookValue||t.balanceValue||t.residualValue||0;return`
    <div class="section" style="page-break-before: always;">
      <div style="font-weight: bold; margin-bottom: 15px; text-align: center;">
        Приложение к акту осмотра (Самоходная техника)
      </div>
      <table class="attachment-table">
        <thead>
          <tr>
            <td style="text-align: center; font-weight: bold;">№п/п</td>
            <td style="text-align: center; font-weight: bold;">№ В ЗМ</td>
            <td style="text-align: center; font-weight: bold;">Наименование</td>
            <td style="text-align: center; font-weight: bold;">Марка машины</td>
            <td style="text-align: center; font-weight: bold;">Модель</td>
            <td style="text-align: center; font-weight: bold;">Заводской номер машины (рамы)</td>
            <td style="text-align: center; font-weight: bold;">Цвет</td>
            <td style="text-align: center; font-weight: bold;">Год выпуска</td>
            <td style="text-align: center; font-weight: bold;">Предприятие - изготовитель</td>
            <td style="text-align: center; font-weight: bold;">Инвентарный номер</td>
            <td style="text-align: center; font-weight: bold;">Регистрационный знак</td>
            <td style="text-align: center; font-weight: bold;">Адрес местоположения</td>
            <td style="text-align: center; font-weight: bold;">Остаточная балансовая стоимость единицы, руб.</td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="text-align: center;">1</td>
            <td></td>
            <td>${e.name||""}</td>
            <td>${a}</td>
            <td>${n}</td>
            <td>${s}</td>
            <td>${o}</td>
            <td style="text-align: center;">${A}</td>
            <td>${l}</td>
            <td>${c}</td>
            <td>${d}</td>
            <td>${r.fullAddress||""}</td>
            <td style="text-align: right;">${f?f.toLocaleString("ru-RU"):"0.00"}</td>
          </tr>
        </tbody>
      </table>
    </div>
  `}function $M(e){const t=e.characteristics||{},r=e.address||{},a=t.unit||t.unitOfMeasurement||"",n=t.quantity||"",s=r.fullAddress||"",o="",A="",l=t.storageLocation||"",c=t.storageSystem||"",d=t.securityAlarm||"",f=t.storageConditions||"",p=t.features||"";return`
    <div class="section" style="page-break-before: always;">
      <div style="font-weight: bold; margin-bottom: 15px; text-align: center;">
        Приложение к акту осмотра (ТМЦ)
      </div>
      <table class="attachment-table">
        <thead>
          <tr>
            <td style="text-align: center; font-weight: bold;">№ п/п</td>
            <td style="text-align: center; font-weight: bold;">№ В ЗМ</td>
            <td style="text-align: center; font-weight: bold;">Наименование имущества/товаров</td>
            <td style="text-align: center; font-weight: bold;">Единица измерения</td>
            <td style="text-align: center; font-weight: bold;">Количество</td>
            <td style="text-align: center; font-weight: bold;">Местонахождение имущества</td>
            <td style="text-align: center; font-weight: bold;">Выявленные обременения</td>
            <td style="text-align: center; font-weight: bold;">Соответствие товара количественным характеристикам</td>
            <td style="text-align: center; font-weight: bold;">Характеристики места хранения</td>
            <td style="text-align: center; font-weight: bold;">Система хранения</td>
            <td style="text-align: center; font-weight: bold;">Наличие охранно-пожарной сигнализации</td>
            <td style="text-align: center; font-weight: bold;">Условия хранения</td>
            <td style="text-align: center; font-weight: bold;">Особенности</td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="text-align: center;">1</td>
            <td></td>
            <td>${e.name||""}</td>
            <td>${a}</td>
            <td style="text-align: right;">${n}</td>
            <td>${s}</td>
            <td>${o}</td>
            <td>${A}</td>
            <td>${l}</td>
            <td>${c}</td>
            <td>${d}</td>
            <td>${f}</td>
            <td>${p}</td>
          </tr>
        </tbody>
      </table>
    </div>
  `}function YM(e){var o;const t=(o=e.partners)==null?void 0:o.find(A=>A.role==="owner"),r=t?t.type==="legal"?t.organizationName||"":`${t.lastName||""} ${t.firstName||""} ${t.middleName||""}`.trim():"",a=(t==null?void 0:t.share)||"";return`
    <div class="section" style="page-break-before: always;">
      <div style="font-weight: bold; margin-bottom: 15px; text-align: center;">
        Приложение к акту осмотра (доли в УК)
      </div>
      <table class="attachment-table">
        <thead>
          <tr>
            <td style="text-align: center; font-weight: bold;">№ п/п</td>
            <td style="text-align: center; font-weight: bold;">№ В ЗМ</td>
            <td style="text-align: center; font-weight: bold;">Наименование собственника</td>
            <td style="text-align: center; font-weight: bold;">Доля в УК</td>
            <td style="text-align: center; font-weight: bold;">Подтверждение собственника и доли в УК выписок из ЕГРЮЛ</td>
            <td style="text-align: center; font-weight: bold;">Выявленные обременения</td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="text-align: center;">1</td>
            <td></td>
            <td>${r}</td>
            <td style="text-align: right;">${a}%</td>
            <td></td>
            <td></td>
          </tr>
        </tbody>
      </table>
    </div>
  `}function WM(e){const t=e.characteristics||{},r=t.certificateNumber||"",a=t.certificateIssuedBy||"",n=e.name||"",s=t.applicationNumber||"",o=t.priority||"",A=t.registrationDate||"",l=t.registrationPeriod||"";return`
    <div class="section" style="page-break-before: always;">
      <div style="font-weight: bold; margin-bottom: 15px; text-align: center;">
        Приложение к акту осмотра на исключительные права на товарные знаки (знаки обслуживания)
      </div>
      <table class="attachment-table">
        <thead>
          <tr>
            <td style="text-align: center; font-weight: bold;">№ п/п</td>
            <td style="text-align: center; font-weight: bold;">№ В ЗМ</td>
            <td style="text-align: center; font-weight: bold;">Свидетельство на товарный знак (знак обслуживания) (№, кем выдано)</td>
            <td style="text-align: center; font-weight: bold;">Наименование товарного знака (знака обслуживания)</td>
            <td style="text-align: center; font-weight: bold;">Номер заявки</td>
            <td style="text-align: center; font-weight: bold;">Приоритет товарного знака</td>
            <td style="text-align: center; font-weight: bold;">Дата регистрации</td>
            <td style="text-align: center; font-weight: bold;">Срок действия регистрации</td>
            <td style="text-align: center; font-weight: bold;">Выявленные обременения</td>
            <td style="text-align: center; font-weight: bold;">Комментарии</td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="text-align: center;">1</td>
            <td></td>
            <td>${r}${a?`, ${a}`:""}</td>
            <td>${n}</td>
            <td>${s}</td>
            <td>${o}</td>
            <td>${A?We(A).format("DD.MM.YYYY"):""}</td>
            <td>${l}</td>
            <td></td>
            <td></td>
          </tr>
        </tbody>
      </table>
    </div>
  `}const{Text:jo}=ht,{TextArea:XM}=Re,NC=({visible:e,inspectionId:t,onClose:r,onApprove:a,onRequestRevision:n})=>{var _;const[s,o]=K.useState(null),[A,l]=K.useState(null),[c,d]=K.useState(!1),[f,p]=K.useState("");K.useEffect(()=>{console.log("InspectionCardModal props changed:",{visible:e,inspectionId:t})},[e,t]);const u=K.useCallback(async()=>{if(!t){console.warn("loadInspection called without inspectionId");return}console.log("Loading inspection:",t),d(!0);try{const S=await Sa.getInspectionById(t);if(console.log("Loaded inspection:",S),o(S||null),!S)Te.warning("Осмотр не найден");else if(S.collateralCardId)try{const O=await Dt.getExtendedCardById(S.collateralCardId);O&&l(O)}catch(O){console.error("Failed to load collateral card:",O)}}catch(S){console.error("Ошибка загрузки осмотра:",S),Te.error("Не удалось загрузить осмотр")}finally{d(!1)}},[t]);K.useEffect(()=>{console.log("InspectionCardModal useEffect:",{visible:e,inspectionId:t}),e&&t?u():(o(null),p(""))},[e,t,u]);const g=()=>{t&&a&&(a(t),u())},h=()=>{t&&n&&f.trim()&&(n(t,f),p(""),u())},y=()=>{s?MM(s,A||void 0):Te.error("Осмотр не загружен")},x=S=>({scheduled:"blue",sent_to_client:"cyan",in_progress:"orange",submitted_for_review:"purple",needs_revision:"red",approved:"green",completed:"green",cancelled:"red"})[S]||"default",v=S=>({scheduled:"Запланирован",sent_to_client:"Отправлен клиенту",in_progress:"В процессе",submitted_for_review:"На проверке",needs_revision:"Требует доработки",approved:"Согласован",completed:"Завершен",cancelled:"Отменен"})[S]||S,E=S=>{switch(S){case"created":return i.jsx(Vn,{style:{color:"#1890ff"}});case"sent_to_client":return i.jsx(Vn,{style:{color:"#13c2c2"}});case"submitted":return i.jsx(Vn,{style:{color:"#722ed1"}});case"reviewed":return i.jsx(Nn,{style:{color:"#52c41a"}});case"approved":return i.jsx(Nn,{style:{color:"#52c41a"}});case"revision_requested":return i.jsx(ZA,{style:{color:"#ff4d4f"}});default:return i.jsx(Vn,{})}},R=[{key:"info",label:"Информация",children:s?i.jsxs(ye,{bordered:!0,column:2,children:[i.jsx(ye.Item,{label:"Тип осмотра",children:s.inspectionType}),i.jsx(ye.Item,{label:"Статус",children:i.jsx(et,{color:x(s.status),children:v(s.status)})}),i.jsx(ye.Item,{label:"Дата осмотра",children:s.inspectionDate?We(s.inspectionDate instanceof Date?s.inspectionDate:new Date(s.inspectionDate)).format("DD.MM.YYYY HH:mm"):"Не указана"}),i.jsx(ye.Item,{label:"Объект",children:s.collateralName}),i.jsx(ye.Item,{label:"Адрес",children:s.address||"Не указан"}),i.jsxs(ye.Item,{label:"Исполнитель",children:[s.inspectorName,s.inspectorType==="client"&&i.jsx(et,{color:"orange",style:{marginLeft:8},children:"Клиент"}),s.inspectorType==="employee"&&i.jsx(et,{color:"blue",style:{marginLeft:8},children:"Сотрудник"})]}),s.inspectorPhone&&i.jsx(ye.Item,{label:"Телефон",children:s.inspectorPhone}),s.inspectorEmail&&i.jsx(ye.Item,{label:"Email",children:s.inspectorEmail}),i.jsx(ye.Item,{label:"Состояние",children:i.jsx(et,{color:s.condition==="excellent"?"green":s.condition==="good"?"blue":s.condition==="satisfactory"?"orange":"red",children:s.condition})}),s.notes&&i.jsx(ye.Item,{label:"Примечания",span:2,children:s.notes}),s.latitude&&s.longitude&&i.jsx(ye.Item,{label:"Геолокация",span:2,children:i.jsxs(Oe,{children:[i.jsx(tA,{}),i.jsxs(jo,{children:[s.latitude.toFixed(6),", ",s.longitude.toFixed(6)]}),i.jsx(Ce,{type:"link",size:"small",onClick:()=>{window.open(`https://yandex.ru/maps/?pt=${s.longitude},${s.latitude}&z=16`,"_blank")},children:"Открыть на карте"})]})})]}):i.jsx(Sr,{description:"Данные не загружены"})},{key:"photos",label:i.jsxs(Oe,{children:[i.jsx(Ko,{}),"Фотографии (",((_=s==null?void 0:s.photos)==null?void 0:_.length)||0,")"]}),children:s!=null&&s.photos&&s.photos.length>0?i.jsx(dt,{gutter:[16,16],children:s.photos.map(S=>i.jsx(be,{xs:24,sm:12,md:8,lg:6,children:i.jsx(Me,{hoverable:!0,cover:i.jsx(im,{src:S.url,alt:S.description||"Фото осмотра",preview:{mask:"Просмотр"},style:{height:200,objectFit:"cover"}}),children:i.jsx(Me.Meta,{title:S.location||S.step||"Фото",description:i.jsxs(Oe,{direction:"vertical",size:"small",children:[i.jsx(jo,{type:"secondary",style:{fontSize:12},children:S.takenAt?We(S.takenAt instanceof Date?S.takenAt:new Date(S.takenAt)).format("DD.MM.YYYY HH:mm"):"Не указана"}),S.latitude&&S.longitude&&i.jsxs(jo,{type:"secondary",style:{fontSize:12},children:[i.jsx(tA,{})," ",S.latitude.toFixed(4),", ",S.longitude.toFixed(4)]}),S.description&&i.jsx(jo,{style:{fontSize:12},children:S.description})]})})})},S.id))}):i.jsx(Sr,{description:"Фотографии отсутствуют"})},{key:"history",label:"Хронология",children:s!=null&&s.history&&s.history.length>0?i.jsx(H1,{children:s.history.map(S=>i.jsx(H1.Item,{dot:E(S.action),children:i.jsxs(Oe,{direction:"vertical",size:"small",children:[i.jsxs(Oe,{children:[i.jsx(jo,{strong:!0,children:S.user}),i.jsx(et,{color:x(S.status),children:v(S.status)})]}),i.jsx(jo,{type:"secondary",children:S.date?We(S.date instanceof Date?S.date:new Date(S.date)).format("DD.MM.YYYY HH:mm"):"Не указана"}),i.jsx(jo,{children:S.action==="created"?"Создал осмотр":S.action==="sent_to_client"?"Отправил клиенту":S.action==="submitted"?"Отправил на проверку":S.action==="reviewed"?"Проверил":S.action==="approved"?"Согласовал":S.action==="revision_requested"?"Запросил доработку":S.action}),S.comment&&i.jsx(jo,{type:"secondary",style:{display:"block",marginTop:4},children:S.comment})]})},S.id))}):i.jsx(Sr,{description:"Хронология отсутствует"})}],b=(s==null?void 0:s.status)==="submitted_for_review",T=(s==null?void 0:s.status)==="submitted_for_review";return console.log("InspectionCardModal render:",{visible:e,inspectionId:t,hasInspection:!!s}),i.jsx(lr,{title:i.jsxs(Oe,{children:[i.jsx(Dr,{}),i.jsx("span",{children:"Карточка осмотра"}),s&&i.jsx(et,{color:x(s.status),children:v(s.status)})]}),open:e,onCancel:()=>{console.log("Modal onCancel called"),r()},footer:[i.jsx(Ce,{icon:i.jsx(Fn,{}),onClick:y,children:"Скачать PDF"},"pdf"),T&&i.jsx(Ce,{danger:!0,onClick:h,disabled:!f.trim(),children:"Запросить доработку"},"revision"),b&&i.jsx(Ce,{type:"primary",onClick:g,children:"Согласовать"},"approve"),i.jsx(Ce,{onClick:r,children:"Закрыть"},"close")].filter(Boolean),width:900,className:"inspection-card-modal",children:c?i.jsx(ei,{size:"large",style:{display:"block",textAlign:"center",padding:"40px"}}):s?i.jsxs(i.Fragment,{children:[T&&i.jsx(Me,{size:"small",style:{marginBottom:16},children:i.jsxs(Oe,{direction:"vertical",style:{width:"100%"},children:[i.jsx(jo,{strong:!0,children:"Комментарий к доработке:"}),i.jsx(XM,{rows:3,value:f,onChange:S=>p(S.target.value),placeholder:"Укажите, что нужно доработать в осмотре"})]})}),i.jsx(ts,{items:R})]}):i.jsx(Sr,{description:"Осмотр не найден"})})},Ph={Здание:{typeName:"Здание",requiresInspection:!0,requiresEgrn:!0},"Земельный участок":{typeName:"Земельный участок",requiresInspection:!0,requiresEgrn:!0},Помещение:{typeName:"Помещение",requiresInspection:!0,requiresEgrn:!0},Сооружение:{typeName:"Сооружение",requiresInspection:!0,requiresEgrn:!0},"Машино-место":{typeName:"Машино-место",requiresInspection:!0,requiresEgrn:!0},"Единый недвижимый комплекс":{typeName:"Единый недвижимый комплекс",requiresInspection:!0,requiresEgrn:!0},"Имущественный комплекс":{typeName:"Имущественный комплекс",requiresInspection:!0,requiresEgrn:!0},"Объект незавершенного строительства":{typeName:"Объект незавершенного строительства",requiresInspection:!0,requiresEgrn:!0},"Недвижимое имущество и права аренды недвижимого имущества":{typeName:"Недвижимое имущество и права аренды недвижимого имущества",requiresInspection:!0,requiresEgrn:!0},"Воздушные суда":{typeName:"Воздушные суда",requiresInspection:!0,requiresEgrn:!1},"Все имущество залогодателя":{typeName:"Все имущество залогодателя",requiresInspection:!0,requiresEgrn:!1},"Железнодорожный подвижной состав":{typeName:"Железнодорожный подвижной состав",requiresInspection:!0,requiresEgrn:!1},"Космические объекты":{typeName:"Космические объекты",requiresInspection:!0,requiresEgrn:!1},"Машины и оборудование":{typeName:"Машины и оборудование",requiresInspection:!0,requiresEgrn:!1},"Наземные безрельсовые механические транспортные средства, прицепы":{typeName:"Наземные безрельсовые механические транспортные средства, прицепы",requiresInspection:!0,requiresEgrn:!1},"Плавучие сооружения":{typeName:"Плавучие сооружения",requiresInspection:!0,requiresEgrn:!1},"Плавучие сооружения, не являющиеся судами":{typeName:"Плавучие сооружения, не являющиеся судами",requiresInspection:!0,requiresEgrn:!1},"Прочие движимые вещи":{typeName:"Прочие движимые вещи",requiresInspection:!0,requiresEgrn:!1},"Суда, используемые для иных целей":{typeName:"Суда, используемые для иных целей",requiresInspection:!0,requiresEgrn:!1},"Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов":{typeName:"Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов",requiresInspection:!0,requiresEgrn:!1},"Суда, используемые для перевозки пассажиров и их багажа":{typeName:"Суда, используемые для перевозки пассажиров и их багажа",requiresInspection:!0,requiresEgrn:!1},"Суда, используемые для рыболовства":{typeName:"Суда, используемые для рыболовства",requiresInspection:!0,requiresEgrn:!1},"Товары в обороте":{typeName:"Товары в обороте",requiresInspection:!0,requiresEgrn:!1},"Аффинированные драгоценные металлы в слитках":{typeName:"Аффинированные драгоценные металлы в слитках",requiresInspection:!1,requiresEgrn:!1},"Будущий урожай":{typeName:"Будущий урожай",requiresInspection:!1,requiresEgrn:!1},Векселя:{typeName:"Векселя",requiresInspection:!1,requiresEgrn:!1},"Доли в уставных капиталах обществ с ограниченной ответственностью":{typeName:"Доли в уставных капиталах обществ с ограниченной ответственностью",requiresInspection:!1,requiresEgrn:!1},"Инвестиционные паи (паи инвестиционных фондов)":{typeName:"Инвестиционные паи (паи инвестиционных фондов)",requiresInspection:!1,requiresEgrn:!1},"Ипотечные сертификаты участия":{typeName:"Ипотечные сертификаты участия",requiresInspection:!1,requiresEgrn:!1},"Исключительные права на интеллектуальную собственность":{typeName:"Исключительные права на интеллектуальную собственность",requiresInspection:!1,requiresEgrn:!1},"Права по договору банковского счета":{typeName:"Права по договору банковского счета",requiresInspection:!1,requiresEgrn:!1},"Прочие имущественные Права требования":{typeName:"Прочие имущественные Права требования",requiresInspection:!1,requiresEgrn:!1},"Прочие ценные бумаги":{typeName:"Прочие ценные бумаги",requiresInspection:!1,requiresEgrn:!1},"Эмиссионные ценные бумаги":{typeName:"Эмиссионные ценные бумаги",requiresInspection:!1,requiresEgrn:!1}};function JM(e){if(!e)return!1;const t=Ph[e];if(t)return t.requiresInspection;const r=e.trim();for(const[a,n]of Object.entries(Ph))if(r.includes(a)||a.includes(r))return n.requiresInspection;return!!(r.toLowerCase().includes("здание")||r.toLowerCase().includes("помещение")||r.toLowerCase().includes("участок")||r.toLowerCase().includes("сооружение"))}function ZM(e){if(!e)return!1;const t=Ph[e];if(t)return t.requiresEgrn;const r=e.trim();for(const[a,n]of Object.entries(Ph))if(r.includes(a)||a.includes(r))return n.requiresEgrn;return!!(r.toLowerCase().includes("здание")||r.toLowerCase().includes("помещение")||r.toLowerCase().includes("участок")||r.toLowerCase().includes("сооружение")||r.toLowerCase().includes("машино-место"))}class eP{constructor(){er(this,"STORAGE_KEY","ai_feedback")}saveFeedback(t){try{const r=this.getAllFeedbacks();r.push({...t,timestamp:t.timestamp}),r.length>1e3&&r.shift(),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(r))}catch(r){console.error("Ошибка сохранения обратной связи:",r)}}getAllFeedbacks(){try{const t=localStorage.getItem(this.STORAGE_KEY);return t?JSON.parse(t).map(a=>({...a,timestamp:new Date(a.timestamp)})):[]}catch(t){return console.error("Ошибка загрузки обратной связи:",t),[]}}getFeedbackStats(){const t=this.getAllFeedbacks(),r=t.filter(n=>n.rating==="like").length,a=t.filter(n=>n.rating==="dislike").length;return{likes:r,dislikes:a,total:t.length}}getGoodExamples(t=5){return this.getAllFeedbacks().filter(a=>a.rating==="like").slice(-t).reverse()}getBadExamples(t=5){return this.getAllFeedbacks().filter(a=>a.rating==="dislike").slice(-t).reverse()}analyzeDislikes(){const t=this.getBadExamples(20),r=new Map;t.forEach(s=>{s.question.toLowerCase().split(/\s+/).forEach(A=>{A.length>3&&r.set(A,(r.get(A)||0)+1)})});const a=Array.from(r.entries()).sort((s,o)=>o[1]-s[1]).slice(0,5).map(([s])=>s),n=[];return t.length>0&&n.push("Обратите внимание на вопросы, связанные с: "+a.join(", ")),{commonTopics:a,suggestions:n}}clearAll(){localStorage.removeItem(this.STORAGE_KEY)}}const Xl=new eP;class tP{constructor(){er(this,"indexes",new Map);er(this,"chunks",[]);er(this,"workerInitialized",!1)}async initializeWorker(){if(!(this.workerInitialized||typeof window>"u"))try{const t=await mi(()=>import("./pdf-CHhNo-mi.js"),[],import.meta.url);if(t.GlobalWorkerOptions.workerSrc=`https://unpkg.com/pdfjs-dist@${t.version}/build/pdf.worker.min.mjs`,typeof window<"u"&&window.console){const r=console.warn;console.warn=(...a)=>{const n=a.join(" ");n.includes("TT: undefined function")||n.includes("Warning: TT:")||n.includes("Missing or invalid font")||r.apply(console,a)}}this.workerInitialized=!0}catch(t){console.error("Ошибка инициализации PDF.js worker:",t);try{const r=await mi(()=>import("./pdf-CHhNo-mi.js"),[],import.meta.url);r.GlobalWorkerOptions.workerSrc=`https://cdn.jsdelivr.net/npm/pdfjs-dist@${r.version}/build/pdf.worker.min.mjs`,this.workerInitialized=!0,console.log("PDF.js worker инициализирован (fallback):",r.GlobalWorkerOptions.workerSrc)}catch(r){console.error("Критическая ошибка инициализации PDF.js worker:",r)}}}createChunks(t,r,a=1){const n=[];if(!t||t.trim().length===0)return n;const s=t.split(/[.!?]\s+/).filter(l=>l.trim().length>0);let o="",A=0;for(let l=0;l<s.length;l++){const c=s[l].trim(),d=o?`${o}. ${c}`:c;if(d.length>1e3&&o){const f=this.extractKeywords(o);n.push({id:`${r}-${a}-${A}`,documentName:r,page:a,text:o,keywords:f}),o=c,A=l}else o=d}if(o.trim().length>0){const l=this.extractKeywords(o);n.push({id:`${r}-${a}-${A}-final`,documentName:r,page:a,text:o,keywords:l})}return n}async indexPDF(t){const r=console.warn;try{await this.initializeWorker();const a=await t.arrayBuffer(),o=await(await mi(()=>import("./pdf-CHhNo-mi.js"),[],import.meta.url)).getDocument({data:a,verbosity:0,stopAtErrors:!1,isEvalSupported:!1,disableFontFace:!1,useSystemFonts:!0}).promise;console.warn=(...f)=>{const p=f.join(" ");p.includes("TT: undefined function")||p.includes("Warning: TT:")||p.includes("Missing or invalid font")||p.includes("pdf.worker")||r.apply(console,f)};const A=o.numPages,l=[],c=[];for(let f=1;f<=A;f++){const g=(await(await o.getPage(f)).getTextContent()).items.map(h=>h.str).join(" ").trim();if(g.length>0){c.push(g);const h=this.createChunks(g,t.name,f);l.push(...h)}}const d={documentName:t.name,chunks:l,totalPages:A,indexedAt:new Date};return this.indexes.set(t.name,d),this.chunks.push(...l),this.saveToStorage().catch(f=>console.error("Ошибка сохранения индекса PDF:",f)),console.warn=r,d}catch(a){throw console.warn=r,console.error("Ошибка индексации PDF:",a),a}}async indexDOCX(t){try{const r=await mi(()=>import("./index-DnynsFSl.js").then(d=>d.i),__vite__mapDeps([0,1]),import.meta.url),a=await t.arrayBuffer(),s=(await r.extractRawText({arrayBuffer:a})).value;if(!s||s.trim().length===0)throw new Error("Документ не содержит текста");const o=2e3,A=[];for(let d=0;d<s.length;d+=o)A.push(s.slice(d,d+o));const l=[];A.forEach((d,f)=>{const p=this.createChunks(d,t.name,f+1);l.push(...p)});const c={documentName:t.name,chunks:l,totalPages:A.length,indexedAt:new Date};return this.indexes.set(t.name,c),this.chunks.push(...l),this.saveToStorage(t.name).catch(d=>console.error("Ошибка сохранения индекса DOCX:",d)),c}catch(r){throw console.error("Ошибка индексации DOCX:",r),r}}async indexXLSX(t){try{const r=await mi(()=>Promise.resolve().then(()=>H7),void 0,import.meta.url),a=await t.arrayBuffer(),n=r.read(a,{type:"array"}),s=[];let o=0;const A=[];if(n.SheetNames.forEach((c,d)=>{const f=n.Sheets[c],u=r.utils.sheet_to_json(f,{header:1,defval:""}).map(g=>Array.isArray(g)?g.filter(h=>h&&String(h).trim()).join(" | "):String(g).trim()).filter(g=>g.length>0).join(`
`);if(u.trim().length>0){A.push(`Лист "${c}":
${u}`);const g=this.createChunks(u,t.name,d+1);s.push(...g),o++}}),s.length===0)throw new Error("Документ не содержит данных");const l={documentName:t.name,chunks:s,totalPages:o||1,indexedAt:new Date};return this.indexes.set(t.name,l),this.chunks.push(...s),this.saveToStorage(t.name).catch(c=>console.error("Ошибка сохранения индекса XLSX:",c)),l}catch(r){throw console.error("Ошибка индексации XLSX:",r),r}}async indexImage(t){try{const r=await new Promise((s,o)=>{const A=new FileReader;A.onload=()=>{const l=A.result;s(l)},A.onerror=o,A.readAsDataURL(t)}),a={id:`${t.name}-image-1`,documentName:t.name,page:1,text:`[Изображение: ${t.name}]`,keywords:this.extractKeywordsFromImageName(t.name),imageData:r,isImage:!0},n={documentName:t.name,chunks:[a],totalPages:1,indexedAt:new Date};return this.indexes.set(t.name,n),this.chunks.push(a),this.saveToStorage(t.name).catch(s=>console.error("Ошибка сохранения индекса изображения:",s)),n}catch(r){throw console.error("Ошибка индексации изображения:",r),r}}extractKeywordsFromImageName(t){const r=[],a=t.toLowerCase(),n=["залог","ипотека","недвижимость","квартира","дом","офис","склад","автомобиль","транспорт","документ","договор","свидетельство","выписка","егрн","кадастр","оценка","отчет","акт","осмотр"];for(const s of n)a.includes(s)&&r.push(s);return r}async indexDocument(t){const r=t.name.toLowerCase();if(r.endsWith(".pdf"))return await this.indexPDF(t);if(r.endsWith(".docx"))return await this.indexDOCX(t);if(r.endsWith(".xlsx")||r.endsWith(".xls"))return await this.indexXLSX(t);if(this.isImageFile(r))return await this.indexImage(t);throw new Error(`Неподдерживаемый формат файла: ${t.name}. Поддерживаются: PDF, DOCX, XLSX, XLS, JPG, JPEG, PNG, GIF, BMP, WEBP`)}isImageFile(t){return[".jpg",".jpeg",".png",".gif",".bmp",".webp"].some(a=>t.endsWith(a))}extractKeywords(t){const r=[],a=t.toLowerCase(),n=["залог","залоговое имущество","залогодатель","залогодержатель","залоговое право","ипотека","ипотечное кредитование","ипотечный договор","ипотечное жилищное кредитование","ltv","loan-to-value","залоговая стоимость","рыночная стоимость","кадастровая стоимость","оценка","оценщик","отчет об оценке","переоценка","независимая оценка","договор залога","договор ипотеки","залоговое право","право залога","обременение","снятие обременения","регистрация залога","государственная регистрация","недвижимость","квартира","дом","земельный участок","коммерческая недвижимость","транспортное средство","автомобиль","оборудование","движимое имущество","росреестр","егрн","кадастровый номер","кадастровый учет","кредит","кредитный договор","задолженность","основной долг","проценты","нормативный документ","регламент","инструкция","положение","политика","риск","управление рисками","мониторинг","контроль","анализ рисков","страхование","страховой полис","страховая сумма","обращение взыскания","реализация залога","продажа залога","проверка залога","осмотр залога","мониторинг залога"];for(const s of n)a.includes(s.toLowerCase())&&r.push(s);return[...new Set(r)]}search(t,r=5){const a=t.toLowerCase(),n=a.split(/\s+/).filter(o=>o.length>2);return this.chunks.map(o=>{let A=0;const l=o.text.toLowerCase();for(const c of o.keywords)a.includes(c.toLowerCase())&&(A+=10);for(const c of n){const d=(l.match(new RegExp(c,"g"))||[]).length;A+=d*2}return l.includes(a)&&(A+=20),{chunk:o,score:A}}).filter(o=>o.score>0).sort((o,A)=>A.score-o.score).slice(0,r).map(o=>o.chunk)}getIndexedDocuments(){return Array.from(this.indexes.values())}async saveToStorage(t){try{if(t){const r=this.indexes.get(t);if(!r)return;const a={documentName:r.documentName,totalPages:r.totalPages,indexedAt:r.indexedAt};await Promise.all([Wr.documentChunks.where("documentName").equals(t).delete(),Wr.documentIndexes.where("documentName").equals(t).delete()]),await Wr.documentIndexes.put(a);const n=r.chunks.map(o=>({id:o.id,documentName:o.documentName,page:o.page,text:o.text,keywords:o.keywords,imageData:o.imageData,isImage:o.isImage})),s=1e3;for(let o=0;o<n.length;o+=s){const A=n.slice(o,o+s);await Wr.documentChunks.bulkPut(A)}}else{const r=Array.from(this.indexes.values()).map(o=>({documentName:o.documentName,totalPages:o.totalPages,indexedAt:o.indexedAt}));if(r.length===0)return;const a=r.map(o=>o.documentName);await Promise.all([Wr.documentChunks.where("documentName").anyOf(a).delete(),Wr.documentIndexes.where("documentName").anyOf(a).delete()]),await Wr.documentIndexes.bulkPut(r);const n=this.chunks.map(o=>({id:o.id,documentName:o.documentName,page:o.page,text:o.text,keywords:o.keywords,imageData:o.imageData,isImage:o.isImage})),s=1e3;for(let o=0;o<n.length;o+=s){const A=n.slice(o,o+s);await Wr.documentChunks.bulkPut(A)}}}catch(r){console.error("Ошибка сохранения индексов в IndexedDB:",r);try{const a={indexes:Array.from(this.indexes.values()).map(n=>({documentName:n.documentName,totalPages:n.totalPages,indexedAt:n.indexedAt.toISOString()}))};localStorage.setItem("documentIndexes_fallback",JSON.stringify(a))}catch(a){console.error("Ошибка сохранения в localStorage (fallback):",a)}}}async loadFromStorage(){try{const t=await Wr.documentIndexes.toArray(),r=await Wr.documentChunks.toArray();this.indexes.clear(),this.chunks=[];const a=new Map;for(const n of r)a.has(n.documentName)||a.set(n.documentName,[]),a.get(n.documentName).push({id:n.id,documentName:n.documentName,page:n.page,text:n.text,keywords:n.keywords,imageData:n.imageData,isImage:n.isImage});for(const n of t){const s=a.get(n.documentName)||[],o={documentName:n.documentName,chunks:s,totalPages:n.totalPages,indexedAt:n.indexedAt instanceof Date?n.indexedAt:new Date(n.indexedAt)};this.indexes.set(o.documentName,o),this.chunks.push(...s)}if(t.length===0){const n=localStorage.getItem("documentIndexes");if(n)try{const s=JSON.parse(n);this.indexes.clear(),this.chunks=[];for(const o of s.indexes||[]){const A={...o,indexedAt:new Date(o.indexedAt)};this.indexes.set(A.documentName,A),this.chunks.push(...A.chunks)}await this.saveToStorage(),localStorage.removeItem("documentIndexes")}catch(s){console.error("Ошибка миграции из localStorage:",s)}}}catch(t){console.error("Ошибка загрузки индексов из IndexedDB:",t);try{const r=localStorage.getItem("documentIndexes_fallback");if(r){const a=JSON.parse(r);this.indexes.clear(),this.chunks=[];for(const n of a.indexes||[]){const s={documentName:n.documentName,chunks:(a.chunks||[]).filter(o=>o.documentName===n.documentName).map(o=>({id:o.id,documentName:o.documentName,page:o.page,text:o.text,keywords:o.keywords,isImage:o.isImage})),totalPages:n.totalPages,indexedAt:new Date(n.indexedAt)};this.indexes.set(s.documentName,s),this.chunks.push(...s.chunks)}}}catch(r){console.error("Ошибка загрузки из localStorage (fallback):",r)}}}async clearIndexes(){this.indexes.clear(),this.chunks=[];try{await Wr.documentIndexes.clear(),await Wr.documentChunks.clear(),localStorage.removeItem("documentIndexes"),localStorage.removeItem("documentIndexes_fallback")}catch(t){console.error("Ошибка очистки индексов:",t)}}updateDocumentIndex(t){this.indexes.set(t.documentName,t);const r=this.chunks.filter(a=>a.documentName!==t.documentName);this.chunks=[...r,...t.chunks],this.saveToStorage(t.documentName).catch(a=>console.error("Ошибка обновления индекса:",a))}extractKeywordsPublic(t){return this.extractKeywords(t)}}const hi=new tP;class rP{constructor(){er(this,"topics",new Map);er(this,"categories",new Map);er(this,"searchIndex",new Map);er(this,"searchCache",null)}async buildFromDocuments(){const t=hi.getIndexedDocuments();for(const r of t){const a=this.extractTopics(r.chunks);for(const n of a){this.topics.set(n.id,n);for(const s of n.keywords){const o=s.toLowerCase();this.searchIndex.has(o)||this.searchIndex.set(o,[]),this.searchIndex.get(o).push(n.id)}this.categories.has(n.category)||this.categories.set(n.category,{id:n.category,name:this.getCategoryName(n.category),description:"",topics:[]}),this.categories.get(n.category).topics.push(n)}}this.saveToStorage().catch(r=>console.error("Ошибка сохранения базы знаний:",r)),this.searchCache=null}extractTopics(t){const r=[],a=new Set;for(const n of t){if(a.has(n.id))continue;const s=this.detectCategory(n),o=this.findRelatedChunks(n,t,a),A=o.map(f=>f.text).join(" ").trim();if(A.length<100)continue;const l=this.extractTitle(A),c=this.extractKeywords(A,n.keywords),d={id:`topic-${n.id}`,title:l,category:s,keywords:c,content:this.cleanText(A),page:n.page};r.push(d),o.forEach(f=>a.add(f.id))}return r}detectCategory(t){const r=t.text.toLowerCase(),a=t.keywords.map(n=>n.toLowerCase());return r.includes("понятие залога")||r.includes("сущность залога")||r.includes("определение залога")||r.includes("залог как способ")||r.includes("залог")&&(r.includes("понятие")||r.includes("сущность")||r.includes("определение"))?"collateral_concept":r.includes("виды залога")||r.includes("типы залога")||r.includes("классификация залога")||r.includes("разновидности залога")||r.includes("залог")&&(r.includes("вид")||r.includes("тип")||r.includes("классификац"))?"collateral_types":a.some(n=>["ипотека","ипотечный","ипотечное"].includes(n))||r.includes("ипотечн")||r.includes("ипотечное кредитование")||r.includes("ипотечный договор")||r.includes("ипотечное жилищное кредитование")?"mortgage":r.includes("договор залога")||r.includes("залоговый договор")||r.includes("заключение договора залога")||r.includes("условия договора залога")||a.some(n=>["договор","соглашение"].includes(n))&&r.includes("залог")?"pledge_contract":r.includes("предмет залога")||r.includes("объект залога")||r.includes("имущество в залоге")||r.includes("залоговое имущество")||r.includes("предмет")&&r.includes("залог")?"collateral_object":a.some(n=>["оценка","оценить","стоимость"].includes(n))||r.includes("оценк")||r.includes("независимая оценка")||r.includes("отчет об оценке")||r.includes("оценщик")||r.includes("рыночная стоимость")||r.includes("залоговая стоимость")?"appraisal":a.some(n=>["ltv","loan-to-value"].includes(n))||r.includes("ltv")||r.includes("loan-to-value")||r.includes("соотношение займа к стоимости")||r.includes("залоговая стоимость")&&(r.includes("расчет")||r.includes("определение"))?"ltv_calculation":a.some(n=>["регистрация","росреестр","егрн"].includes(n))||r.includes("регистрац")||r.includes("росреестр")||r.includes("государственная регистрация")||r.includes("регистрация залога")||r.includes("егрн")||r.includes("кадастровый учет")?"registration":r.includes("обременение")||r.includes("снятие обременения")||r.includes("прекращение обременения")||r.includes("освобождение от обременения")?"encumbrance":a.some(n=>["риск","риски"].includes(n))||r.includes("риск")||r.includes("управление рисками")||r.includes("анализ рисков")||r.includes("контроль рисков")||r.includes("минимизация рисков")?"risks":r.includes("мониторинг залога")||r.includes("контроль залога")||r.includes("проверка залога")||r.includes("осмотр залога")||r.includes("проверка наличия залога")?"monitoring":r.includes("обращение взыскания")||r.includes("взыскание на залог")||r.includes("реализация залога")||r.includes("продажа залога")||r.includes("обращение взыскания на предмет залога")?"enforcement":r.includes("страхование залога")||r.includes("страхование залогового имущества")||a.some(n=>["страхование","страховой полис"].includes(n))||r.includes("страхование")&&r.includes("залог")?"insurance":a.some(n=>["норматив","регламент","инструкция","закон","кодекс"].includes(n))||r.includes("норматив")||r.includes("регламент")||r.includes("гражданский кодекс")||r.includes("федеральный закон")||r.includes("нормативно-правовой")||r.includes("законодательство")?"regulations":(r.includes("недвижимость")||r.includes("квартира")||r.includes("дом")||r.includes("земельный участок"))&&r.includes("залог")?"real_estate_collateral":(r.includes("движимое имущество")||r.includes("автомобиль")||r.includes("транспортное средство")||r.includes("оборудование"))&&r.includes("залог")?"movable_collateral":r.includes("права залогодателя")||r.includes("права залогодержателя")||r.includes("обязанности залогодателя")||r.includes("обязанности залогодержателя")||r.includes("права и обязанности")||r.includes("право")&&r.includes("залог")?"rights_obligations":r.includes("залогодатель")||r.includes("залогодержатель")||r.includes("стороны")&&r.includes("договор залога")?"parties":r.includes("залог")||a.some(n=>["залоговое имущество"].includes(n))?"collateral_general":"general"}findRelatedChunks(t,r,a){const n=[t],s=new Set(t.keywords.map(o=>o.toLowerCase()));for(const o of r)if(!(a.has(o.id)||o.id===t.id)&&Math.abs(o.page-t.page)<=2){const A=new Set(o.keywords.map(c=>c.toLowerCase()));[...s].filter(c=>A.has(c)).length>0&&n.push(o)}return n}extractTitle(t){const r=t.split(`
`).filter(o=>o.trim().length>0),a=[/^(?:Глава|Раздел|§|Часть)\s*\d+[.\s]*(.+)$/i,/^\d+[.\s]+\d*[.\s]*([А-ЯЁ][^.!?]{10,80})$/,/^([А-ЯЁ][А-Яа-яё\s]{10,80})$/,/^([А-ЯЁ][^:]{10,80}):/];for(let o=0;o<Math.min(5,r.length);o++){const A=r[o].trim();for(const l of a){const c=A.match(l);if(c){const d=c[1]||c[0];if(d.length>10&&d.length<100&&!d.endsWith(".")&&d.split(" ").length<15)return d.trim()}}if(A.length>10&&A.length<100&&/^[А-ЯЁ]/.test(A)&&A.split(" ").length<15&&!A.endsWith(".")&&!A.endsWith(",")&&!A.includes("что")&&!A.includes("как")&&!A.includes("когда"))return A}const n=t.split(/[.!?]/)[0].trim();if(n.length>10&&n.length<100)return n;const s=t.split(/\s+/).slice(0,12).join(" ");return s.length>80?s.slice(0,77)+"...":s}extractKeywords(t,r){const a=new Set(r),n=t.toLowerCase(),s=["залог","залоговое имущество","залогодатель","залогодержатель","ипотека","ипотечный договор","ипотечное кредитование","ltv","loan-to-value","залоговая стоимость","рыночная стоимость","оценка","оценщик","отчет об оценке","переоценка","договор залога","договор ипотеки","залоговое право","обременение","снятие обременения","регистрация залога","недвижимость","квартира","дом","земельный участок","транспортное средство","автомобиль","оборудование","росреестр","егрн","кадастровый номер","кредит","кредитный договор","задолженность","нормативный документ","регламент","инструкция","риск","управление рисками","мониторинг","страхование","страховой полис"];for(const o of s)n.includes(o.toLowerCase())&&a.add(o);return Array.from(a)}cleanText(t){return t.replace(/\s+/g," ").replace(/\n\s*\n/g,`

`).trim()}getCategoryName(t){return{collateral_concept:"Понятие и сущность залога",collateral_types:"Виды и типы залога",collateral_general:"Общие вопросы залога",collateral_object:"Предмет залога",mortgage:"Ипотека и ипотечное кредитование",pledge_contract:"Договор залога",appraisal:"Оценка залогового имущества",ltv_calculation:"LTV и залоговая стоимость",registration:"Регистрация залога",encumbrance:"Обременение и снятие обременения",risks:"Риски и управление рисками",monitoring:"Мониторинг залога",enforcement:"Обращение взыскания на залог",insurance:"Страхование залога",regulations:"Нормативные документы и законодательство",real_estate_collateral:"Недвижимость как предмет залога",movable_collateral:"Движимое имущество как предмет залога",parties:"Залогодатель и залогодержатель",rights_obligations:"Права и обязанности сторон",general:"Общие вопросы"}[t]||"Общие вопросы"}search(t,r=5){const a=`${t.toLowerCase()}-${r}`;if(this.searchCache&&this.searchCache.key===a)return this.searchCache.results;if(!t||t.trim().length===0)return[];const n=t.toLowerCase().trim(),s=n.split(/\s+/).filter(d=>d.length>2);if(s.length===0&&n.length<3)return[];const o=new Map,A=new RegExp(n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi");for(const d of s){const f=this.searchIndex.get(d);if(f)for(const p of f){const u=o.get(p)||0;o.set(p,u+10)}}const l=s.length===0||o.size<r*2?Array.from(this.topics.entries()):Array.from(o.keys()).map(d=>[d,this.topics.get(d)]).filter(([,d])=>d);for(const[d,f]of l){if(!f)continue;const p=f.content.toLowerCase(),u=f.title.toLowerCase();let g=o.get(d)||0;u.includes(n)&&(g+=30);try{const h=(p.match(A)||[]).length;g+=h*2}catch{p.includes(n)&&(g+=2)}if(s.length>0)for(const h of s)try{const y=new RegExp(h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"),x=(p.match(y)||[]).length;g+=x}catch{p.includes(h)&&(g+=1)}g>0&&o.set(d,g)}return Array.from(o.entries()).sort((d,f)=>f[1]-d[1]).slice(0,r).map(([d])=>this.topics.get(d)).filter(d=>d!==void 0)}getCategories(){return Array.from(this.categories.values())}getTopic(t){return this.topics.get(t)}getTopicsByCategory(t){const r=this.categories.get(t);return r?r.topics:[]}async saveToStorage(){try{await Promise.all([Wr.knowledgeTopics.clear(),Wr.knowledgeCategories.clear(),Wr.knowledgeSearchIndex.clear()]);const t=Array.from(this.topics.values()).map(o=>({id:o.id,title:o.title,category:o.category,keywords:o.keywords,content:o.content,page:o.page,relatedTopics:o.relatedTopics})),r=1e3;for(let o=0;o<t.length;o+=r){const A=t.slice(o,o+r);await Wr.knowledgeTopics.bulkPut(A)}const a=Array.from(this.categories.values()).map(o=>({id:o.id,name:o.name,description:o.description,topicIds:o.topics.map(A=>A.id)}));a.length>0&&await Wr.knowledgeCategories.bulkPut(a);const n=Array.from(this.searchIndex.entries()).map(([o,A])=>({keyword:o,topicIds:A})),s=1e3;for(let o=0;o<n.length;o+=s){const A=n.slice(o,o+s);await Wr.knowledgeSearchIndex.bulkPut(A)}}catch(t){console.error("Ошибка сохранения базы знаний в IndexedDB:",t);try{const r={categories:Array.from(this.categories.values()).map(a=>({id:a.id,name:a.name,description:a.description,topicCount:a.topics.length})),topicCount:this.topics.size,version:"1.0",updatedAt:new Date().toISOString()};localStorage.setItem("knowledgeBase_fallback",JSON.stringify(r))}catch(r){console.error("Ошибка сохранения в localStorage (fallback):",r)}}}async loadFromStorage(){var t;try{const r=await Wr.knowledgeTopics.toArray();this.topics.clear();for(const s of r){const o={id:s.id,title:s.title,category:s.category,keywords:s.keywords,content:s.content,page:s.page,relatedTopics:s.relatedTopics};this.topics.set(o.id,o)}const a=await Wr.knowledgeSearchIndex.toArray();this.searchIndex.clear();for(const s of a)this.searchIndex.set(s.keyword,s.topicIds);const n=await Wr.knowledgeCategories.toArray();this.categories.clear();for(const s of n){const o=s.topicIds.map(l=>this.topics.get(l)).filter(l=>l!==void 0),A={id:s.id,name:s.name,description:s.description,topics:o};this.categories.set(A.id,A)}if(r.length===0){const s=localStorage.getItem("knowledgeBase");if(s)try{const o=JSON.parse(s);this.topics.clear(),this.categories.clear(),this.searchIndex.clear();for(const A of o.topics||[]){this.topics.set(A.id,A);for(const l of A.keywords){const c=l.toLowerCase();this.searchIndex.has(c)||this.searchIndex.set(c,[]),this.searchIndex.get(c).push(A.id)}}for(const A of o.categories||[])this.categories.set(A.id,A);await this.saveToStorage(),localStorage.removeItem("knowledgeBase")}catch(o){console.error("Ошибка миграции из localStorage:",o)}}}catch(r){console.error("Ошибка загрузки базы знаний из IndexedDB:",r);try{const a=localStorage.getItem("knowledgeBase_fallback");if(a){const n=JSON.parse(a);console.log(`Загружены метаданные базы знаний: ${n.topicCount} тем, ${((t=n.categories)==null?void 0:t.length)||0} категорий`)}}catch(a){console.error("Ошибка загрузки из localStorage (fallback):",a)}}}async clear(){this.topics.clear(),this.categories.clear(),this.searchIndex.clear();try{await Promise.all([Wr.knowledgeTopics.clear(),Wr.knowledgeCategories.clear(),Wr.knowledgeSearchIndex.clear()]),localStorage.removeItem("knowledgeBase"),localStorage.removeItem("knowledgeBase_fallback")}catch(t){console.error("Ошибка очистки базы знаний:",t)}}}const Bn=new rP;class aP{constructor(){er(this,"STORAGE_KEY","ai_learning_patterns");er(this,"INSIGHTS_KEY","ai_document_insights");er(this,"CATEGORY_EXPERIENCE_KEY","ai_category_experience");er(this,"patterns",new Map);er(this,"documentInsights",new Map);er(this,"categoryExperience",{})}initialize(){this.loadPatterns(),this.loadDocumentInsights(),this.loadCategoryExperience()}analyzeFeedback(){const t=Xl.getAllFeedbacks();if(t.length===0)return;const r=new Map;t.forEach(a=>{const n=this.extractQuestionPattern(a.question);r.has(n)||r.set(n,[]),r.get(n).push(a)}),r.forEach((a,n)=>{const s=a.filter(l=>l.rating==="like").length,o=a.length,A=o>0?s/o:0;if(s>0&&A>=.5){const l=a.filter(u=>u.rating==="like").sort((u,g)=>g.timestamp.getTime()-u.timestamp.getTime())[0],c=this.extractKeywords(a[0].question),d=this.detectCategory(a[0].question),f={questionPattern:n,successfulAnswerTemplate:this.extractAnswerTemplate(l.answer),keywords:c,category:d,successRate:A,usageCount:o,lastUpdated:new Date},p=this.patterns.get(n);!p||A>p.successRate?this.patterns.set(n,f):p&&(p.usageCount=o,p.successRate=A,p.lastUpdated=new Date)}}),this.savePatterns()}analyzeDocuments(){const t=hi.getIndexedDocuments();console.log(`📚 Анализирую ${t.length} документов для обучения модели...`),t.forEach(r=>{const a=Bn.getCategories().flatMap(d=>d.topics),n=r.documentName.toLowerCase(),s=a.filter(d=>d.content.toLowerCase().includes(n)||r.chunks.some(p=>p.text.toLowerCase().includes(d.title.toLowerCase()))),o=s.map(d=>d.title).slice(0,15),A=new Set;r.chunks.forEach(d=>{d.keywords.forEach(u=>A.add(u));const f=d.text.toLowerCase();["оценка","стоимость","рыночная","залоговая","ltv","риск","риски","регистрация","ипотека","обременение","росреестр","егрн","кадастр","недвижимость","движимое имущество","бизнес","активы","залог","договор","соглашение","норматив","требование","процедура","метод","подход","анализ","мониторинг","осмотр","проверка"].forEach(u=>{f.includes(u)&&A.add(u)})});const l=this.generateCommonQuestions(s);if(l.length<5){const d=this.generateQuestionsFromKeywords(Array.from(A));l.push(...d.slice(0,5-l.length))}this.extractPatternsFromDocument(r);const c={documentName:r.documentName,importantTopics:o,commonQuestions:l.slice(0,10),keywords:Array.from(A).slice(0,30),lastAnalyzed:new Date};this.documentInsights.set(r.documentName,c),console.log(`✅ Проанализирован документ: ${r.documentName} (${o.length} тем, ${A.size} ключевых слов)`)}),this.saveDocumentInsights(),console.log(`🎓 Анализ документов завершен. Извлечено инсайтов: ${this.documentInsights.size}`)}generateQuestionsFromKeywords(t){const r=[],a=["Как {keyword}?","Что такое {keyword}?","Какие требования к {keyword}?","Как правильно {keyword}?","Какие особенности {keyword}?"];return t.slice(0,10).forEach(n=>{a.forEach(s=>{s.includes("{keyword}")&&r.push(s.replace("{keyword}",n))})}),r.slice(0,10)}extractPatternsFromDocument(t){t.chunks.forEach(r=>{const a=r.text.toLowerCase();(a.includes("?")||a.includes("вопрос")||a.includes("ответ"))&&r.text.split(/[.!?]+/).forEach(s=>{if(s.includes("?")||s.toLowerCase().includes("как")||s.toLowerCase().includes("что")){const o=this.extractKeywords(s);if(o.length>=2){const A=this.detectCategory(s),l=this.extractQuestionPattern(s);if(!this.patterns.has(l)){const c={questionPattern:l,successfulAnswerTemplate:s.slice(0,200),keywords:o,category:A,successRate:.7,usageCount:0,lastUpdated:new Date};this.patterns.set(l,c)}}}})})}getRecommendations(t){const r=this.extractKeywords(t),a=this.detectCategory(t),n=Array.from(this.patterns.values()).filter(l=>l.category===a?!0:l.keywords.filter(d=>r.includes(d)).length>=2).sort((l,c)=>{const d=l.successRate*Math.log(l.usageCount+1);return c.successRate*Math.log(c.usageCount+1)-d}).slice(0,3),s=n[0],o=s==null?void 0:s.successfulAnswerTemplate,A=Array.from(this.documentInsights.values()).filter(l=>l.keywords.some(d=>r.some(f=>f.toLowerCase().includes(d.toLowerCase())||d.toLowerCase().includes(f.toLowerCase())))).slice(0,2);return{suggestedTemplate:o,importantKeywords:r,relatedPatterns:n,documentInsights:A.length>0?A:void 0}}extractQuestionPattern(t){let a=t.toLowerCase().replace(/\d+/g,"[число]").replace(/"[^"]*"/g,"[строка]").replace(/'[^']*'/g,"[строка]").replace(/\b(как|что|когда|где|почему|зачем|какой|какая|какое|какие)\b/g,"[вопрос]").replace(/\b(рассчитать|определить|найти|получить|создать|сделать)\b/g,"[действие]");return a=a.replace(/\s+/g," ").trim(),a}extractKeywords(t){const r=t.toLowerCase(),a=[];return["залог","залоговое имущество","залогодатель","залогодержатель","ипотека","ипотечный договор","ltv","loan-to-value","оценка","оценщик","рыночная стоимость","залоговая стоимость","договор залога","обременение","регистрация","росреестр","егрн","риск","мониторинг","осмотр","взыскание"].forEach(o=>{r.includes(o)&&a.push(o)}),r.split(/\s+/).filter(o=>o.length>4).forEach(o=>{!a.includes(o)&&a.length<10&&a.push(o)}),[...new Set(a)].slice(0,10)}detectCategory(t){const r=t.toLowerCase();return r.includes("ltv")||r.includes("loan-to-value")||r.includes("залоговая стоимость")?"ltv_calculation":r.includes("оценк")||r.includes("оценщик")?"appraisal":r.includes("риск")?"risks":r.includes("регистрац")||r.includes("росреестр")||r.includes("егрн")?"registration":r.includes("осмотр")||r.includes("мониторинг")?"monitoring":r.includes("ипотек")?"mortgage":r.includes("договор")?"pledge_contract":"general"}extractAnswerTemplate(t){return t.replace(/\d+/g,"[число]").replace(/"[^"]*"/g,"[пример]").replace(/\b(?:https?:\/\/[^\s]+|www\.[^\s]+)/g,"[ссылка]").substring(0,500)}generateCommonQuestions(t){const r=[];return t.slice(0,5).forEach(a=>{const n=a.title.toLowerCase();n.includes("расчет")||n.includes("определение")?r.push(`Как ${n}?`):n.includes("требования")||n.includes("порядок")?r.push(`Какие ${n}?`):r.push(`Что такое ${n}?`)}),r.slice(0,5)}savePatterns(){try{const t=Array.from(this.patterns.values()).map(r=>({...r,lastUpdated:r.lastUpdated.toISOString()}));localStorage.setItem(this.STORAGE_KEY,JSON.stringify(t))}catch(t){console.error("Ошибка сохранения паттернов обучения:",t)}}loadPatterns(){try{const t=localStorage.getItem(this.STORAGE_KEY);if(t){const r=JSON.parse(t);this.patterns.clear(),r.forEach(a=>{this.patterns.set(a.questionPattern,{...a,lastUpdated:new Date(a.lastUpdated)})})}}catch(t){console.error("Ошибка загрузки паттернов обучения:",t)}}saveDocumentInsights(){try{const t=Array.from(this.documentInsights.values()).map(r=>({...r,lastAnalyzed:r.lastAnalyzed.toISOString()}));localStorage.setItem(this.INSIGHTS_KEY,JSON.stringify(t))}catch(t){console.error("Ошибка сохранения инсайтов документов:",t)}}loadDocumentInsights(){try{const t=localStorage.getItem(this.INSIGHTS_KEY);if(t){const r=JSON.parse(t);this.documentInsights.clear(),r.forEach(a=>{this.documentInsights.set(a.documentName,{...a,lastAnalyzed:new Date(a.lastAnalyzed)})})}}catch(t){console.error("Ошибка загрузки инсайтов документов:",t)}}saveCategoryExperience(){try{localStorage.setItem(this.CATEGORY_EXPERIENCE_KEY,JSON.stringify(this.categoryExperience))}catch(t){console.error("Ошибка сохранения опыта по категориям:",t)}}loadCategoryExperience(){try{const t=localStorage.getItem(this.CATEGORY_EXPERIENCE_KEY);t&&(this.categoryExperience=JSON.parse(t))}catch(t){console.error("Ошибка загрузки опыта по категориям:",t),this.categoryExperience={}}}addCategoryExperience(t,r=2){const a=this.categoryExperience[t]||0,n=Math.max(0,Math.min(100,a+r));return this.categoryExperience[t]=n,this.saveCategoryExperience(),n}getCategorySkill(t){const r=this.categoryExperience[t]??0,a=Array.from(this.patterns.values()).filter(l=>l.category===t);if(a.length===0)return r;const n=a.reduce((l,c)=>l+c.successRate,0)/a.length,s=Math.min(a.reduce((l,c)=>l+c.usageCount,0)/10,20),o=n*60,A=r*.4;return Math.min(100,Math.round(A+o+s))}getLearningStats(){const t=Array.from(this.patterns.values()),r=t.length>0?t.reduce((n,s)=>n+s.successRate,0)/t.length:0,a=t.reduce((n,s)=>n+s.usageCount,0);return{patternsCount:this.patterns.size,insightsCount:this.documentInsights.size,averageSuccessRate:r,totalUsage:a}}forceUpdate(){console.log("🔄 Принудительное обновление данных для самообучения..."),this.analyzeDocuments(),this.analyzeFeedback(),console.log("✅ Данные для самообучения обновлены")}}const Ya=new aP;class nP{constructor(){er(this,"STORAGE_KEY","ai_model_evolution");er(this,"evolution",null);er(this,"EVOLUTION_LEVELS",[{level:1,name:"Новичок",description:"Начальный уровень, базовая база знаний",experienceRequired:0,specializations:[]},{level:2,name:"Стажер",description:"Изучает основы оценки и анализа рисков",experienceRequired:100,specializations:["Базовая оценка"]},{level:3,name:"Специалист",description:"Компетентен в оценке основных типов активов",experienceRequired:500,specializations:["Оценка недвижимости","Оценка движимого имущества","Регистрация залога"]},{level:4,name:"Эксперт",description:"Глубокие знания в оценке и анализе рисков",experienceRequired:1500,specializations:["Оценка бизнеса","Анализ рисков","Оценка интеллектуальной собственности","Регистрация ипотеки"]},{level:5,name:"Старший эксперт",description:"Мастер в оценке всех видов активов",experienceRequired:3e3,specializations:["Комплексная оценка","Сложные риски","Нетиповые активы","Регистрация всех типов залога"]},{level:6,name:"Ведущий эксперт",description:"Признанный авторитет в области оценки и анализа рисков",experienceRequired:6e3,specializations:["Экспертиза","Методология оценки","Управление рисками","Регистрация залога","Уточняющие вопросы"]},{level:7,name:"Главный эксперт",description:"Высший уровень профессионализма",experienceRequired:1e4,specializations:["Все виды активов","Все типы рисков","Регистрация залога","Методология","Обучение","Профессиональные консультации"]}])}initialize(){this.loadEvolution(),this.evolution||this.createInitialEvolution()}createInitialEvolution(){this.evolution={level:1,totalExperience:0,experiencePoints:{assetValuation:0,riskAnalysis:0,documentAnalysis:0,consultation:0,registration:0,questionEnhancement:0},specializations:[],learnedConcepts:[],bestPractices:new Map,evolutionHistory:[{date:new Date,level:1,milestone:"Инициализация модели"}],createdAt:new Date,lastEvolution:new Date},this.saveEvolution()}addExperienceFromFeedback(t,r,a){if(this.evolution||this.initialize(),!this.evolution)return;const n=t==="like"?10:2,s=a.toLowerCase();this.isAssetValuationQuestion(s,r)&&(this.evolution.experiencePoints.assetValuation+=n),this.isRiskAnalysisQuestion(s,r)&&(this.evolution.experiencePoints.riskAnalysis+=n),this.isRegistrationQuestion(s,r)&&(this.evolution.experiencePoints.registration+=n*1.5),(r==="appraisal"||r==="ltv_calculation")&&(this.evolution.experiencePoints.assetValuation+=n*1.5),(r==="risks"||r==="monitoring")&&(this.evolution.experiencePoints.riskAnalysis+=n*1.5),(r==="registration"||r==="mortgage")&&(this.evolution.experiencePoints.registration+=n*1.5),t==="like"&&a.length>50&&(this.evolution.experiencePoints.questionEnhancement+=2),this.evolution.experiencePoints.consultation+=n,this.evolution.totalExperience+=n,this.extractConcepts(a),this.checkEvolution(),this.saveEvolution()}addExperienceFromDocuments(){if(this.evolution||this.initialize(),!this.evolution)return;const t=hi.getIndexedDocuments(),r=Bn.getCategories(),a=10;this.evolution.experiencePoints.documentAnalysis+=t.length*a,this.evolution.totalExperience+=t.length*a;const n=3;this.evolution.experiencePoints.consultation+=r.length*n,this.evolution.totalExperience+=r.length*n;let s=0;r.forEach(l=>{s+=l.topics.length});const o=.5;this.evolution.experiencePoints.consultation+=s*o,this.evolution.totalExperience+=s*o;let A=0;if(t.forEach(l=>{l.chunks.forEach(c=>{const d=this.evolution.learnedConcepts.length;this.extractConceptsFromText(c.text),this.evolution.learnedConcepts.length>d&&A++})}),A>0){const l=A*2;this.evolution.experiencePoints.documentAnalysis+=l,this.evolution.totalExperience+=l,console.log(`📚 Извлечено новых концепций из документов: ${A}`)}this.evolution&&t.forEach(l=>{const c=l.documentName.toLowerCase();(c.includes("оценк")||c.includes("fso")||c.includes("стоимость"))&&(this.evolution.experiencePoints.assetValuation+=5,this.evolution.totalExperience+=5),(c.includes("риск")||c.includes("мониторинг"))&&(this.evolution.experiencePoints.riskAnalysis+=5,this.evolution.totalExperience+=5),(c.includes("регистрац")||c.includes("ипотек")||c.includes("залог"))&&(this.evolution.experiencePoints.registration+=5,this.evolution.totalExperience+=5)}),console.log(`🎓 Модель получила опыт из документов: +${t.length*a} за документы, +${r.length*n} за категории, +${s*o} за темы`),this.checkEvolution(),this.saveEvolution()}checkEvolution(){if(!this.evolution||!this.EVOLUTION_LEVELS.find(a=>a.level===this.evolution.level))return;const r=this.EVOLUTION_LEVELS.find(a=>a.level===this.evolution.level+1);r&&this.evolution.totalExperience>=r.experienceRequired&&(this.evolution.level=r.level,this.evolution.specializations=[...new Set([...this.evolution.specializations,...r.specializations])],this.evolution.lastEvolution=new Date,this.evolution.evolutionHistory.push({date:new Date,level:r.level,milestone:`Достигнут уровень: ${r.name}`}),console.log(`🎉 Модель эволюционировала до уровня ${r.level}: ${r.name}`))}isAssetValuationQuestion(t,r){return r==="appraisal"||r==="ltv_calculation"||["оценка","стоимость","рыночная","залоговая","кадастровая","ltv","loan-to-value","оценщик","отчет об оценке","недвижимость","движимое имущество","бизнес","активы"].some(n=>t.includes(n))}isRiskAnalysisQuestion(t,r){return r==="risks"||r==="monitoring"||["риск","риски","анализ рисков","управление рисками","минимизация","контроль","мониторинг","проверка","обременение","нетиповые риски"].some(n=>t.includes(n))}isRegistrationQuestion(t,r){return r==="registration"||r==="mortgage"||["регистрац","обременен","росреестр","егрн","ипотек","залог","оформлен","договор залога"].some(n=>t.includes(n))}extractConcepts(t){if(!this.evolution)return;const r=["оценка недвижимости","оценка бизнеса","оценка движимого имущества","ltv расчет","залоговая стоимость","рыночная стоимость","анализ рисков","управление рисками","мониторинг залога","регистрация обременения","договор залога","ипотека","регистрация залога","росреестр","егрн","кадастровый учет","уточняющие вопросы","профессиональные консультации"],a=t.toLowerCase();r.forEach(n=>{a.includes(n.toLowerCase())&&!this.evolution.learnedConcepts.includes(n)&&this.evolution.learnedConcepts.push(n)})}extractConceptsFromText(t){if(!this.evolution)return;const r=["федеральный стандарт оценки","фсо","методы оценки","доходный подход","сравнительный подход","затратный подход","дисконтирование","капитализация","мультипликаторы","риск-менеджмент","кредитный риск","рыночный риск"],a=t.toLowerCase();r.forEach(n=>{a.includes(n.toLowerCase())&&!this.evolution.learnedConcepts.includes(n)&&this.evolution.learnedConcepts.push(n)})}getCurrentLevel(){return this.evolution||this.initialize(),this.evolution&&this.EVOLUTION_LEVELS.find(t=>t.level===this.evolution.level)||null}getProgressToNextLevel(){if(this.evolution||this.initialize(),!this.evolution)return null;const t=this.EVOLUTION_LEVELS.find(o=>o.level===this.evolution.level+1);if(!t)return{current:this.evolution.totalExperience,required:this.evolution.totalExperience,percentage:100};const r=this.EVOLUTION_LEVELS.find(o=>o.level===this.evolution.level),a=this.evolution.totalExperience-((r==null?void 0:r.experienceRequired)||0),n=t.experienceRequired-((r==null?void 0:r.experienceRequired)||0),s=Math.min(100,Math.round(a/n*100));return{current:a,required:n,percentage:s}}getEvolutionStats(){return this.evolution||this.initialize(),this.evolution}getEnhancedPrompt(t){if(this.evolution||this.initialize(),!this.evolution)return t;const r=this.getCurrentLevel();if(!r)return t;let a=t;return a+=`

ТВОЙ УРОВЕНЬ ЭКСПЕРТИЗЫ: ${r.name} (Уровень ${this.evolution.level})`,a+=`
Твой общий опыт: ${this.evolution.totalExperience} очков опыта`,this.evolution.specializations.length>0&&(a+=`
Твои специализации: ${this.evolution.specializations.join(", ")}`),a+=`

ТВОЙ ОПЫТ:`,a+=`
- Оценка активов: ${this.evolution.experiencePoints.assetValuation} очков`,a+=`
- Анализ рисков: ${this.evolution.experiencePoints.riskAnalysis} очков`,a+=`
- Регистрация залога: ${this.evolution.experiencePoints.registration} очков`,a+=`
- Анализ документов: ${this.evolution.experiencePoints.documentAnalysis} очков`,a+=`
- Консультации: ${this.evolution.experiencePoints.consultation} очков`,a+=`
- Уточняющие вопросы: ${this.evolution.experiencePoints.questionEnhancement} очков`,this.evolution.learnedConcepts.length>0&&(a+=`

ИЗУЧЕННЫЕ КОНЦЕПЦИИ: ${this.evolution.learnedConcepts.slice(0,10).join(", ")}`),this.evolution.level>=4&&(a+=`

Ты достиг высокого уровня экспертизы. Используй глубокие знания и профессиональный опыт для комплексного анализа.`),this.evolution.level>=5&&(a+=`

Ты мастер в оценке всех видов активов. Предоставляй детальный анализ с учетом всех нюансов и рисков.`),a}saveEvolution(){if(this.evolution)try{const t={...this.evolution,bestPractices:Array.from(this.evolution.bestPractices.entries()),evolutionHistory:this.evolution.evolutionHistory.map(r=>({...r,date:r.date.toISOString()})),createdAt:this.evolution.createdAt.toISOString(),lastEvolution:this.evolution.lastEvolution.toISOString()};localStorage.setItem(this.STORAGE_KEY,JSON.stringify(t))}catch(t){console.error("Ошибка сохранения эволюции:",t)}}loadEvolution(){try{const t=localStorage.getItem(this.STORAGE_KEY);if(t){const r=JSON.parse(t);this.evolution={...r,bestPractices:new Map(r.bestPractices||[]),evolutionHistory:(r.evolutionHistory||[]).map(a=>({...a,date:new Date(a.date)})),createdAt:new Date(r.createdAt),lastEvolution:new Date(r.lastEvolution)}}}catch(t){console.error("Ошибка загрузки эволюции:",t)}}addPassiveExperience(t,r){if(this.evolution||this.initialize(),!this.evolution)return;const a=t.toLowerCase(),n=this.detectCategoryFromQuestion(t),s=.5;this.isAssetValuationQuestion(a,n)&&(this.evolution.experiencePoints.assetValuation+=s),this.isRiskAnalysisQuestion(a,n)&&(this.evolution.experiencePoints.riskAnalysis+=s),this.isRegistrationQuestion(a,n)&&(this.evolution.experiencePoints.registration+=s),r>500&&(this.evolution.experiencePoints.consultation+=s),this.evolution.experiencePoints.consultation+=s,this.evolution.totalExperience+=s,Math.random()<.1?(this.checkEvolution(),this.saveEvolution()):this.saveEvolution()}updateExperienceFromCurrentData(){if(this.evolution||this.initialize(),!this.evolution)return;this.addExperienceFromDocuments(),Xl.getAllFeedbacks().forEach(r=>{const a=this.detectCategoryFromQuestion(r.question);this.addExperienceFromFeedback(r.rating,a,r.question)}),this.saveEvolution()}detectCategoryFromQuestion(t){const r=t.toLowerCase();return r.includes("ltv")||r.includes("залоговая стоимость")?"ltv_calculation":r.includes("оценк")||r.includes("оценщик")?"appraisal":r.includes("риск")?"risks":r.includes("регистрац")||r.includes("росреестр")?"registration":r.includes("осмотр")||r.includes("мониторинг")?"monitoring":r.includes("ипотек")?"mortgage":r.includes("договор")?"pledge_contract":"general"}}const fa=new nP;class iP{analyzeQuestion(t){const r=t.toLowerCase(),a=this.detectTopic(r),n=this.detectAssetType(r),s=this.detectRiskType(r),o=this.detectRegistrationType(r),A=this.generateClarificationQuestions(r,a,n,s,o);return{needsClarification:A.length>0,clarificationQuestions:A,detectedTopic:a,detectedAssetType:n,detectedRiskType:s,detectedRegistrationType:o}}detectTopic(t){return t.includes("оценк")||t.includes("стоимость")||t.includes("ltv")?"valuation":t.includes("риск")||t.includes("опасн")||t.includes("проблем")?"risk":t.includes("регистрац")||t.includes("обременен")||t.includes("росреестр")||t.includes("егрн")?"registration":t.includes("документ")||t.includes("оформлен")?"documentation":t.includes("осмотр")||t.includes("проверк")||t.includes("мониторинг")?"inspection":"general"}detectAssetType(t){const r=[{keywords:["недвижимость","квартир","дом","здание","помещен","участок","земл"],type:"real_estate"},{keywords:["автомобил","машин","транспорт","грузовик"],type:"vehicle"},{keywords:["оборудован","техник","станок","машин"],type:"equipment"},{keywords:["бизнес","предприяти","компани","дол"],type:"business"},{keywords:["интеллектуальн","патент","товарный знак","ноу-хау"],type:"intellectual"},{keywords:["азс","автозаправк"],type:"gas_station"},{keywords:["торгов","магазин","тц","торговый центр"],type:"retail"}];for(const a of r)if(a.keywords.some(n=>t.includes(n)))return a.type}detectRiskType(t){const r=[{keywords:["кредитн","дефолт","неплатеж"],type:"credit"},{keywords:["рыночн","ликвидн","стоимость"],type:"market"},{keywords:["юридическ","право","собственн","обременен"],type:"legal"},{keywords:["операционн","сохранн","поврежден","уничтожен"],type:"operational"},{keywords:["нетипов","специфическ","особ"],type:"atypical"}];for(const a of r)if(a.keywords.some(n=>t.includes(n)))return a.type}detectRegistrationType(t){if(t.includes("ипотек")||t.includes("недвижимость"))return"mortgage";if(t.includes("движим")||t.includes("автомобил")||t.includes("оборудован"))return"movable";if(t.includes("бизнес")||t.includes("дол"))return"business"}generateClarificationQuestions(t,r,a,n,s){const o=[];return r==="valuation"&&!a&&o.push("Какой тип актива вы хотите оценить? (недвижимость, движимое имущество, бизнес и т.д.)"),r==="valuation"&&a==="real_estate"&&!t.includes("метод")&&o.push("Какой метод оценки вас интересует? (сравнительный, доходный, затратный)"),r==="valuation"&&!t.includes("стоимость")&&!t.includes("ltv")&&o.push("Какая стоимость вас интересует? (рыночная, залоговая, кадастровая)"),r==="risk"&&!n&&o.push("Какой тип риска вас интересует? (кредитный, рыночный, юридический, операционный)"),r==="risk"&&!a&&o.push("Для какого типа актива вы хотите проанализировать риски?"),r==="registration"&&!s&&o.push("Какой тип залога вы хотите зарегистрировать? (ипотека, залог движимого имущества, залог прав)"),r==="registration"&&!t.includes("документ")&&!t.includes("процедур")&&o.push("Вас интересует процедура регистрации или необходимые документы?"),a==="real_estate"&&!t.includes("расположен")&&!t.includes("адрес")&&o.push("Где расположен объект недвижимости? (регион, город, район)"),a==="gas_station"&&!t.includes("характеристик")&&o.push("Какие характеристики АЗС важны? (количество колонок, площадь, местоположение)"),a==="retail"&&!t.includes("площад")&&o.push("Какая площадь торгового помещения? Есть ли арендаторы?"),t.includes("ltv")&&!t.includes("сумм")&&!t.includes("кредит")&&o.push("Какая сумма кредита и рыночная стоимость залога?"),t.length<20&&!o.length&&o.push("Можете уточнить ваш вопрос? Что именно вас интересует?"),o.slice(0,3)}formatClarificationQuestions(t){return t.length===0?"":`

**Для более точного ответа, уточните, пожалуйста:**
${t.map((r,a)=>`${a+1}. ${r}`).join(`
`)}`}}const iw=new iP,sP="c2stNWYwNmRiOTY5YjVmNDI4YmJlNDQ3NzY5NGU2ZDdkN2Y=";class oP{constructor(){er(this,"MODEL","deepseek-chat");er(this,"feedbackCache",null);er(this,"CACHE_TTL",6e4)}getApiUrl(){return window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"/api/deepseek/chat/completions":"https://deepseek-proxy-cms.jfsagro.workers.dev/"}getApiKey(){try{return atob(sP)}catch(t){return console.error("Ошибка расшифровки API ключа:",t),""}}async chat(t,r){const a=this.getApiKey();if(!a)throw new Error("API ключ не найден");const n=this.getFeedbackAnalysis(),o=[{role:"system",content:r?this.buildSystemPromptWithContext(r,n):this.buildSystemPrompt(n)},...t];try{const A=new AbortController,l=setTimeout(()=>A.abort(),6e4),c=this.getApiUrl(),f=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"same-origin":"cors",p=await fetch(c,{method:"POST",mode:f,headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({model:this.MODEL,messages:o,temperature:.5,max_tokens:1500,stream:!1}),signal:A.signal});if(clearTimeout(l),!p.ok){let g=`DeepSeek API error: ${p.status} ${p.statusText}`;try{const h=await p.json();g+=` - ${JSON.stringify(h)}`}catch{const h=await p.text().catch(()=>"");h&&(g+=` - ${h}`)}throw p.status===401||p.status===403?new Error(`API ключ недействителен или отсутствует. Статус: ${p.status}`):p.status===429?new Error("Превышен лимит запросов к API. Попробуйте позже."):new Error(g)}const u=await p.json();if(u.choices&&u.choices.length>0)return u.choices[0].message.content||"Не удалось получить ответ от ИИ";throw new Error("Неожиданный формат ответа от DeepSeek API")}catch(A){if(A instanceof Error){if(A.name==="AbortError")throw new Error("Превышено время ожидания ответа от API (30 секунд). Попробуйте еще раз.");const l=A.message.toLowerCase();if(l.includes("failed to fetch")||l.includes("networkerror"))throw new Error("Не удалось выполнить запрос к DeepSeek API через прокси. Проверьте подключение к интернету или работу Cloudflare Worker прокси.")}throw A}}async analyzeImage(t,r){if(!this.getApiKey())throw new Error("API ключ не найден");try{const n=`Проанализируй это изображение (файл: ${r}) и создай подробное текстовое описание содержимого. 
      Если это документ (договор, свидетельство, выписка, акт осмотра и т.д.), опиши его содержание, ключевые данные, даты, номера, стороны.
      Если это фотография недвижимости или имущества, опиши объект, его состояние, особенности.
      Если это график, таблица или схема, опиши данные и выводы.
      Будь максимально подробным и профессиональным.`;return await this.chat([{role:"user",content:`${n}

Файл: ${r}
Размер изображения: ${Math.round(t.length/1024)}KB
[Изображение загружено, требуется анализ содержимого]`}])}catch(n){return console.error("Ошибка анализа изображения:",n),`Изображение: ${r}. Требуется ручной анализ содержимого.`}}async generateResponse(t,r){const a=iw.analyzeQuestion(t),n=Ya.getRecommendations(t);let s=r;a.detectedAssetType&&(s+=`

Тип актива: ${a.detectedAssetType}`),a.detectedRiskType&&(s+=`
Тип риска: ${a.detectedRiskType}`),a.detectedRegistrationType&&(s+=`
Тип регистрации: ${a.detectedRegistrationType}`),n.suggestedTemplate&&(s+=`

Шаблон успешного ответа для подобных вопросов:
${n.suggestedTemplate}`),n.documentInsights&&n.documentInsights.length>0&&(s+=`

Важные темы из релевантных документов:
`,n.documentInsights.forEach(A=>{s+=`
Документ "${A.documentName}":
`,A.importantTopics.slice(0,3).forEach(l=>{s+=`- ${l}
`})})),n.importantKeywords.length>0&&(s+=`

Важные ключевые слова для этого вопроса: ${n.importantKeywords.join(", ")}`);let o=await this.chat([{role:"user",content:t}],s);if(a.needsClarification&&o.length<500){const A=iw.formatClarificationQuestions(a.clarificationQuestions);o+=A}return o}getFeedbackAnalysis(){const t=Date.now();if(this.feedbackCache&&t-this.feedbackCache.timestamp<this.CACHE_TTL)return this.feedbackCache.data;try{const r=Xl.getGoodExamples(3),a=Xl.getBadExamples(3),n=Xl.analyzeDislikes(),s={goodExamples:r.map(o=>`Вопрос: ${o.question}
Ответ: ${o.answer.slice(0,200)}...`),badExamples:a.map(o=>`Вопрос: ${o.question}
Ответ: ${o.answer.slice(0,200)}...`),suggestions:n.suggestions};return this.feedbackCache={data:s,timestamp:t},s}catch(r){return console.error("Ошибка анализа обратной связи:",r),{goodExamples:[],badExamples:[],suggestions:[]}}}invalidateFeedbackCache(){this.feedbackCache=null}buildSystemPromptWithContext(t,r){let a=`Ты - ПРОФЕССИОНАЛЬНЫЙ ЭКСПЕРТ-ОЦЕНЩИК и СПЕЦИАЛИСТ ПО АНАЛИЗУ РИСКОВ в Банке. Твоя основная деятельность:

1. ОЦЕНКА ВСЕХ ВИДОВ АКТИВОВ:
   - Недвижимость (квартиры, дома, земельные участки, коммерческая недвижимость, АЗС, торговые центры)
   - Движимое имущество (автомобили, оборудование, техника, спецтехника)
   - Бизнес и предприятия (оценка бизнеса, долей, акций, предприятий)
   - Интеллектуальная собственность (патенты, товарные знаки, ноу-хау, авторские права)
   - Определение рыночной, залоговой и кадастровой стоимости
   - Расчет LTV (Loan-to-Value) для всех типов активов
   - Применение методов оценки: сравнительный, доходный, затратный подходы

2. АНАЛИЗ ВСЕХ ВОЗМОЖНЫХ РИСКОВ:
   - Кредитные риски залогового обеспечения (риск дефолта, неплатежеспособности)
   - Рыночные риски (изменение стоимости активов, ликвидность, волатильность рынка)
   - Юридические риски (права собственности, обременения, споры, оспаривание сделок)
   - Операционные риски (сохранность, повреждение, уничтожение, утрата)
   - Нетиповые и специфические риски (отраслевые, региональные, сезонные)
   - Комплексная оценка рисков по сделкам с учетом всех факторов

3. РЕГИСТРАЦИЯ ЗАЛОГА И ДОКУМЕНТООБОРОТ:
   - Регистрация ипотеки (залога недвижимости) в Росреестре
   - Регистрация залога движимого имущества
   - Регистрация залога прав (доли в ООО, акции, дебиторская задолженность)
   - Работа с ЕГРН, кадастровым учетом, выписками
   - Оформление договоров залога, соглашений об ипотеке
   - Порядок регистрации, необходимые документы, сроки
   - Особенности регистрации для разных типов активов

4. МОНИТОРИНГ И КОНТРОЛЬ:
   - Визуальный осмотр обеспечения
   - Проверка наличия и состояния залога
   - Мониторинг изменений стоимости
   - Контроль обременений и прав третьих лиц

5. ГЛАВНАЯ ЦЕЛЬ: Реализовать обеспечение для возврата заемных средств с минимальными потерями.

ВАЖНО - ЗАДАВАЙ УТОЧНЯЮЩИЕ ВОПРОСЫ:
Если вопрос недостаточно конкретен или не хватает информации для точного ответа, обязательно задай 1-3 уточняющих вопроса. Это поможет дать максимально профессиональный и корректный ответ.

Примеры ситуаций, когда нужны уточнения:
- Не указан тип актива (недвижимость, движимое имущество, бизнес)
- Не указан метод оценки (сравнительный, доходный, затратный)
- Не указан тип стоимости (рыночная, залоговая, кадастровая)
- Не указан тип риска (кредитный, рыночный, юридический, операционный)
- Не указан тип регистрации (ипотека, залог движимого, залог прав)
- Недостаточно данных для расчета LTV
- Общий вопрос без конкретики

Ты консультируешь коллег-профессионалов, которые работают в той же сфере. Отвечай:
- КРАТКО и ЧЕТКО - только суть, без лишних слов
- ПРОФЕССИОНАЛЬНО - используй терминологию, ссылайся на нормативные документы (ФСО, ФЗ-135)
- ПО ДЕЛУ - фокусируйся на практических аспектах работы
- СТРУКТУРИРОВАННО - используй списки, выделяй ключевые моменты
- ЭКСПЕРТНО - демонстрируй глубокие знания в оценке и анализе рисков
- ПРОАКТИВНО - задавай уточняющие вопросы для более точных ответов

Контекст из базы знаний (справочная литература "Залоговik. Все о банковских залогах" и другие документы):
${t}

Используй эту информацию для ответа. Если в контексте нет точной информации, используй свои профессиональные знания, но укажи источник.`;return r.goodExamples.length>0&&(a+=`

Примеры хороших ответов (на что ориентироваться):
${r.goodExamples.join(`

---

`)}`),r.badExamples.length>0&&(a+=`

Примеры плохих ответов (чего избегать):
${r.badExamples.join(`

---

`)}`),r.suggestions.length>0&&(a+=`

Рекомендации по улучшению:
${r.suggestions.join(`
`)}`),fa.getEnhancedPrompt(a)}buildSystemPrompt(t){let r=`Ты - ПРОФЕССИОНАЛЬНЫЙ ЭКСПЕРТ-ОЦЕНЩИК и СПЕЦИАЛИСТ ПО АНАЛИЗУ РИСКОВ в Банке. Твоя основная деятельность:

1. ОЦЕНКА ВСЕХ ВИДОВ АКТИВОВ:
   - Недвижимость (квартиры, дома, земельные участки, коммерческая недвижимость)
   - Движимое имущество (автомобили, оборудование, техника)
   - Бизнес и предприятия (оценка бизнеса, долей, акций)
   - Интеллектуальная собственность (патенты, товарные знаки, ноу-хау)
   - Определение рыночной, залоговой и кадастровой стоимости
   - Расчет LTV (Loan-to-Value) для всех типов активов

2. АНАЛИЗ ВСЕХ ВОЗМОЖНЫХ РИСКОВ:
   - Кредитные риски залогового обеспечения
   - Рыночные риски (изменение стоимости активов)
   - Юридические риски (права собственности, обременения)
   - Операционные риски (сохранность, ликвидность)
   - Нетиповые и специфические риски
   - Комплексная оценка рисков по сделкам

3. РЕГИСТРАЦИЯ И ДОКУМЕНТООБОРОТ:
   - Регистрация обременений в Росреестре
   - Работа с ЕГРН, кадастровым учетом
   - Оформление документов по залогу

4. МОНИТОРИНГ И КОНТРОЛЬ:
   - Визуальный осмотр обеспечения
   - Проверка наличия и состояния залога
   - Мониторинг изменений стоимости

5. ГЛАВНАЯ ЦЕЛЬ: Реализовать обеспечение для возврата заемных средств с минимальными потерями.

Ты консультируешь коллег-профессионалов, которые работают в той же сфере. Отвечай:
- КРАТКО и ЧЕТКО - только суть, без лишних слов
- ПРОФЕССИОНАЛЬНО - используй терминологию, ссылайся на нормативные документы (ФСО, ФЗ-135)
- ПО ДЕЛУ - фокусируйся на практических аспектах работы
- СТРУКТУРИРОВАННО - используй списки, выделяй ключевые моменты
- ЭКСПЕРТНО - демонстрируй глубокие знания в оценке и анализе рисков

База знаний основана на справочной литературе "Залоговik. Все о банковских залогах" и других профессиональных документах.`;return t.goodExamples.length>0&&(r+=`

Примеры хороших ответов (на что ориентироваться):
${t.goodExamples.join(`

---

`)}`),t.badExamples.length>0&&(r+=`

Примеры плохих ответов (чего избегать):
${t.badExamples.join(`

---

`)}`),t.suggestions.length>0&&(r+=`

Рекомендации по улучшению:
${t.suggestions.join(`
`)}`),fa.getEnhancedPrompt(r)}}const kl=new oP,AP=e=>{if(!e||typeof e!="string")return console.warn("Ответ ИИ пуст или не является строкой"),null;const t=e.match(/```(?:json)?\s*(\{[\s\S]*?\})\s*```/);if(t&&t[1])try{return JSON.parse(t[1])}catch(o){console.warn("Не удалось распарсить JSON из markdown блока:",o)}let r=0,a=-1,n=-1;for(let o=0;o<e.length;o++)if(e[o]==="{")a===-1&&(a=o),r++;else if(e[o]==="}"&&(r--,r===0&&a!==-1)){n=o;break}if(a!==-1&&n!==-1&&n>a)try{const o=e.substring(a,n+1);return JSON.parse(o)}catch(o){console.warn("Не удалось распарсить JSON с балансом скобок:",o)}const s=e.match(/\{[\s\S]*\}/);if(s)try{return JSON.parse(s[0])}catch(o){console.warn("Не удалось распарсить JSON простым regex:",o)}try{return JSON.parse(e.trim())}catch{}return console.warn("Не удалось извлечь JSON из ответа ИИ. Ответ:",e.substring(0,200)),null},lP=e=>{if(!e||typeof e!="object")throw new Error("ИИ не вернул корректный ответ. Попробуйте повторить запрос.");const t=(A,l)=>{const c=Number(typeof A=="string"?A.replace(/[^0-9.-]+/g,""):A);return Number.isFinite(c)&&c>0?c:l},r=t(e.marketValue??e.market_price,0),a=t(e.collateralValue??e.secured_value,r*.7),n=t(e.recommendedLtv??e.ltv??a/(r||1)*100,70);if(r===0||a===0)throw new Error("ИИ не смог рассчитать стоимость объекта. Убедитесь, что предоставлены все необходимые данные и попробуйте повторить запрос.");const s=A=>{if(Array.isArray(A))return A.map(l=>{if(typeof l=="string"){const c=/https?:\/\/[^\s)\]}>"]+/,d=l.match(c);if(d){const f=d[0].replace(/[.,;:!?]+$/,"");return{description:l.replace(d[0],"").trim().replace(/\s*-\s*$/,"").trim(),url:f}}return l}else if(typeof l=="object"&&l!==null)return{description:l.description||l.text||String(l),url:l.url||l.link,imageUrl:l.imageUrl||l.image||l.photo};return String(l)})};return{summary:e.summary||e.justification||e.analysis||"Проанализируйте объект дополнительными методами.",marketValue:r,collateralValue:a,recommendedLtv:Math.min(100,Math.max(0,Math.round(n))),confidence:e.confidence||"medium",methodology:e.methodology||e.method||"Комплексный анализ с использованием доступных методов оценки",riskFactors:Array.isArray(e.riskFactors)?e.riskFactors:[],recommendedActions:Array.isArray(e.recommendations)?e.recommendations:[],assumptions:Array.isArray(e.assumptions)?e.assumptions:[],comparables:s(e.comparables)}},Oy={async generateEstimate(e){var c;const t=[`Категория: ${e.assetGroup}`,`Тип: ${e.assetType}`];if(e.location&&t.push(`Локация: ${e.location}`),e.area&&t.push(`Площадь/объём: ${e.area}${e.areaUnit||"м²"}`),e.condition&&t.push(`Состояние: ${e.condition}`),e.incomePerYear&&t.push(`Чистый доход в год: ${e.incomePerYear} ₽`),e.occupancy&&t.push(`Заполняемость/использование: ${e.occupancy}`),e.purpose&&t.push(`Цель оценки: ${e.purpose}`),e.additionalFactors&&t.push(`Особенности: ${e.additionalFactors}`),e.card){const d=e.card;if(t.push(`Данные карточки: статус ${d.status}, категория ${d.mainCategory}, оценка ${d.marketValue||"—"}, залоговая ${d.pledgeValue||"—"}`),(c=d.address)!=null&&c.fullAddress&&t.push(`Адрес из карточки: ${d.address.fullAddress}`),d.characteristics){const f=["totalArea","totalAreaSqm","yearBuilt","objectCadastralNumber"].map(p=>d.characteristics[p]).filter(Boolean);f.length>0&&t.push(`Характеристики из карточки: ${f.join(", ")}`)}}const r=new Date,a=r.toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"}),n=r.getFullYear(),s=r.getMonth()+1;let o=`Ты действуешь как главный банковский оценщик. На основе предоставленных данных оцени объект и верни ТОЛЬКО валидный JSON без дополнительного текста, комментариев или markdown разметки.

КРИТИЧЕСКИ ВАЖНО: Верни ТОЛЬКО JSON объект, без markdown блоков, без пояснений до или после JSON. Начни ответ сразу с открывающей фигурной скобки { и закончи закрывающей }.

ВАЖНО - АКТУАЛЬНАЯ ДАТА ОЦЕНКИ:
Текущая дата: ${a} (${n} год, ${s} месяц).
Все расчеты и оценки должны быть выполнены на эту дату. Используй актуальные рыночные данные на ${n} год. При указании аналогов используй актуальные цены на ${a}. Не используй устаревшие данные из прошлых периодов.

Структура JSON:
{
  "summary": "краткое обоснование оценки",
  "marketValue": 0,
  "collateralValue": 0,
  "recommendedLtv": 0,
  "confidence": "high|medium|low",
  "methodology": "описание применённых подходов",
  "riskFactors": ["..."],
  "recommendedActions": ["..."],
  "assumptions": ["..."],
  "comparables": [
    "описание аналога 1 с URL: https://example.com/analog1",
    {
      "description": "описание аналога 2",
      "url": "https://example.com/analog2",
      "imageUrl": "https://example.com/image2.jpg"
    }
  ]
}

ВАЖНО для comparables:
- Если используешь строки, включай URL прямо в текст (например: "Nissan Teana 2.4 2004, 140тыс.км - 280 000 руб. https://avito.ru/item123")
- Если используешь объекты, указывай description, url (ссылка на источник) и imageUrl (ссылка на изображение аналога, если доступна)
- Старайся находить реальные ссылки на аналоги с сайтов объявлений (Avito, Drom, Циан и т.д.)

Указывай значения в рублях. Если данных недостаточно, делай профессиональные допущения и фиксируй их в assumptions.`;if(e.skills){const d=e.skills,f=[];d.incomeApproach>0&&(f.push(`Доходный подход (приоритет: ${d.incomeApproach}%):`),d.incomeMethods.dcf>50&&f.push(`- Дисконтирование денежных потоков (DCF) - приоритет ${d.incomeMethods.dcf}%`),d.incomeMethods.directCapitalization>50&&f.push(`- Прямая капитализация - приоритет ${d.incomeMethods.directCapitalization}%`),d.incomeMethods.grossRentMultiplier>50&&f.push(`- Множитель валового дохода - приоритет ${d.incomeMethods.grossRentMultiplier}%`)),d.comparativeApproach>0&&(f.push(`Сравнительный подход (приоритет: ${d.comparativeApproach}%):`),d.comparativeMethods.salesComparison>50&&f.push(`- Сравнение продаж - приоритет ${d.comparativeMethods.salesComparison}%`),d.comparativeMethods.marketExtraction>50&&f.push(`- Извлечение из рынка - приоритет ${d.comparativeMethods.marketExtraction}%`)),d.costApproach>0&&(f.push(`Затратный подход (приоритет: ${d.costApproach}%):`),d.costMethods.replacementCost>50&&f.push(`- Стоимость замещения - приоритет ${d.costMethods.replacementCost}%`),d.costMethods.reproductionCost>50&&f.push(`- Стоимость воспроизводства - приоритет ${d.costMethods.reproductionCost}%`),d.costMethods.depreciation>50&&f.push(`- Учет износа - приоритет ${d.costMethods.depreciation}%`)),f.length>0&&(o+=`

Настройки приоритетов методов оценки:
${f.join(`
`)}

Используй указанные методы и приоритеты при расчете оценки.`)}let A=null;const l=3;for(let d=1;d<=l;d++)try{const f=await kl.chat([{role:"user",content:`Оцени объект "${e.objectName}" и верни ТОЛЬКО валидный JSON без дополнительного текста. ОБЯЗАТЕЛЬНО используй все доступные методы оценки (доходный, сравнительный, затратный подходы) и проведи комплексный анализ. Не используй эвристические расчеты.

Данные:
${t.join(`
`)}

Верни ответ в формате чистого JSON, начиная с { и заканчивая }. Без markdown блоков, без пояснений.`}],o+`

ВАЖНО: Всегда используй профессиональные методы оценки (доходный, сравнительный, затратный подходы). Никогда не используй эвристические расчеты. Если данных недостаточно, сделай профессиональные допущения и четко укажи их в assumptions.

КРИТИЧЕСКИ ВАЖНО: Верни ТОЛЬКО JSON объект, без markdown разметки (\`\`\`json), без пояснений до или после JSON. Начни ответ сразу с { и закончи }.`),p=AP(f);if(!p)throw new Error("ИИ не вернул JSON в ответе");const u=lP(p);return Ya.addCategoryExperience("appraisal",4),u}catch(f){if(A=f instanceof Error?f:new Error(String(f)),console.error(`Ошибка генерации оценки через AI (попытка ${d}/${l}):`,f),d===l)throw Ya.addCategoryExperience("appraisal",1),new Error(`Не удалось получить оценку от ИИ после ${l} попыток. ${A.message}. Пожалуйста, проверьте данные и попробуйте еще раз.`);await new Promise(p=>setTimeout(p,1e3*d))}throw A||new Error("Неизвестная ошибка при генерации оценки")}},FC="ai_appraisal_results",Gg=()=>{try{const e=localStorage.getItem(FC);return e?JSON.parse(e):[]}catch(e){return console.error("Ошибка загрузки AI оценок:",e),[]}},sw=e=>{try{localStorage.setItem(FC,JSON.stringify(e))}catch(t){console.error("Ошибка сохранения AI оценок:",t)}},Qh={getAll(){return Gg()},getByCard(e){return Gg().filter(t=>t.cardId===e)},getLatestByCard(e){const t=Qh.getByCard(e);return t.length===0?null:t.sort((r,a)=>r.createdAt>a.createdAt?-1:1)[0]},add(e){const t=Gg(),r={...e,id:`ai-appraisal-${Date.now()}-${Math.random().toString(36).slice(2,7)}`,createdAt:new Date().toISOString()};return t.push(r),sw(t),r},clear(){sw([])}},zg=[{key:"real_estate",label:"Недвижимое имущество",description:"Здания, помещения, коммерческие объекты, АЗС, склады",keywords:["недвиж","здан","помещ","офис","торгов","склад","азс","сооруж","комплекс","жил","нежил","центр"]},{key:"land",label:"Земельные участки",description:"Земля в собственности или аренде",keywords:["земель","участ","аграр","сельск","пастбищ","кадастр"]},{key:"movable",label:"Движимое имущество",description:"Оборудование, транспорт, спецтехника, ЖД состав",keywords:["движим","оборуд","машин","транспорт","спецтех","подвиж","состав","вагон","автотранспорт","техника","суда","кораб","флот"]},{key:"metals_goods",label:"Товары и материалы",description:"Будущий урожай, товары в обороте, металлы, сырьё",keywords:["урожай","товар","сырь","металл","драгоцен","материал","запас"]},{key:"equity",label:"Доли, акции и ценные бумаги",description:"Доли в УК, акции, паи, ценные бумаги",keywords:["дол","уставн","акци","ценн","па","вексел","облигац","ипотечн","сертификат"]},{key:"rights",label:"Права и требования",description:"Права требования, интеллектуальная собственность, договоры",keywords:["прав","требован","интеллект","собствен","договор","депозит","банк","ип"]}],cP=e=>e.toLowerCase().replace(/[^a-z0-9а-яё]+/gi,"-").replace(/^-+|-+$/g,""),dP=()=>{try{return On.getDictionaryByCode("collateral_attributes")||null}catch(e){return console.warn("Не удалось загрузить справочник атрибутов залога для таксономии:",e),null}},uP=()=>{const e=dP();if(!e)return zg.map(n=>({key:n.key,label:n.label,description:n.description,types:[]}));const t=new Map;e.items.forEach(n=>{var l;const s=(l=n.metadata)==null?void 0:l.group;if(!s)return;const o=s.trim();if(!o)return;const A=cP(o);t.has(A)||t.set(A,{key:A,label:o,sourceGroup:o})});const r=[],a=zg.map(n=>({key:n.key,label:n.label,description:n.description,types:[]}));return t.forEach(n=>{const s=n.sourceGroup.toLowerCase(),o=a.find(A=>{var l;return A&&A.key?(l=zg.find(c=>c.key===A.key))==null?void 0:l.keywords.some(c=>s.includes(c)):!1});o?o.types.push(n):r.push(n)}),r.length>0&&a.push({key:"other",label:"Прочие активы и требования",description:"Категории активов из справочников, не вошедшие в основные группы",types:r}),a.forEach(n=>{n.types.sort((s,o)=>s.label.localeCompare(o.label,"ru"))}),a},{Title:fP,Text:ci}=ht,pP=({card:e})=>{var de,ue,he,xe,ve,se,Ke;const t=$s(),[r,a]=K.useState([]),[n,s]=K.useState(!1),[o,A]=K.useState(!1),[l,c]=K.useState(null),[d,f]=K.useState([]),[p,u]=K.useState(!1),[g,h]=K.useState(!1),[y]=ne.useForm(),x=K.useMemo(()=>uP(),[]),v=K.useCallback(async()=>{s(!0);try{const Ee=await Sa.getInspectionsByCardId(e.id);a(Ee)}catch(Ee){console.error("Ошибка загрузки осмотров:",Ee)}finally{s(!1)}},[e.id]);K.useEffect(()=>{v()},[v]),K.useEffect(()=>{f(Qh.getByCard(e.id))},[e.id]);const E=Ee=>{c(Ee),A(!0)},R=()=>{var pe,ce,He,Ze,Ye,tt;const Ee=O;y.setFieldsValue({assetGroup:Ee.assetGroup,assetType:Ee.assetType,location:(pe=e.address)==null?void 0:pe.fullAddress,area:((ce=e.characteristics)==null?void 0:ce.totalAreaSqm)||((He=e.characteristics)==null?void 0:He.totalArea),areaUnit:"м²",condition:((Ze=e.characteristics)==null?void 0:Ze.STATE)||((Ye=e.characteristics)==null?void 0:Ye.CONDITION)||((tt=e.characteristics)==null?void 0:tt.condition),purpose:"Обновление карточки обеспечения",additionalFactors:e.notes}),u(!0)},b=async()=>{var Ee;try{const pe=await y.validateFields();h(!0);const ce=await Oy.generateEstimate({objectName:e.name||pe.assetType||"Объект обеспечения",assetGroup:pe.assetGroup,assetType:pe.assetType,location:pe.location||((Ee=e.address)==null?void 0:Ee.fullAddress),area:pe.area?Number(pe.area):void 0,areaUnit:pe.areaUnit,condition:pe.condition,incomePerYear:pe.incomePerYear?Number(pe.incomePerYear):void 0,purpose:pe.purpose,additionalFactors:pe.additionalFactors,card:e}),He=Qh.add({cardId:e.id,objectId:e.id,objectName:e.name||"Объект обеспечения",estimate:ce,input:{objectName:e.name||"Объект обеспечения",assetGroup:pe.assetGroup,assetType:pe.assetType,location:pe.location,area:pe.area?Number(pe.area):void 0,areaUnit:pe.areaUnit,condition:pe.condition,incomePerYear:pe.incomePerYear?Number(pe.incomePerYear):void 0,purpose:pe.purpose,additionalFactors:pe.additionalFactors,card:e}});f(Ze=>[He,...Ze]),Te.success("AI оценка сохранена для карточки"),u(!1)}catch(pe){if(pe!=null&&pe.errorFields)return;console.error("Ошибка выполнения AI оценки карточки:",pe),Te.error("Не удалось выполнить оценку ИИ")}finally{h(!1)}},T=Ee=>{switch(Ee){case"editing":return"orange";case"approved":return"green";default:return"default"}},_=Ee=>{switch(Ee){case"editing":return"Редактирование";case"approved":return"Согласовано";default:return Ee}},S=Ee=>{switch(Ee){case"real_estate":return"real_estate";case"movable":return"movable";case"property_rights":return"rights";default:return"real_estate"}},O=K.useMemo(()=>{if(x.length===0)return{assetGroup:void 0,assetType:void 0};const Ee=S(e.mainCategory);let pe=x.find(He=>He.key===Ee);pe||(pe=x[0]);let ce=pe==null?void 0:pe.types.find(He=>{var Ze;return He.label===e.propertyType||He.label===((Ze=e.classification)==null?void 0:Ze.level2)});return!ce&&(pe!=null&&pe.types.length)&&(ce=pe.types[0]),{assetGroup:pe==null?void 0:pe.key,assetType:ce==null?void 0:ce.key}},[e.classification,e.mainCategory,e.propertyType,x]),M=K.useMemo(()=>d.length===0?null:[...d].sort((Ee,pe)=>Ee.createdAt>pe.createdAt?-1:1)[0],[d]),I=()=>{switch(e.mainCategory){case"real_estate":return i.jsx(hh,{});case"movable":return i.jsx(UT,{});case"property_rights":return i.jsx(Zf,{});default:return i.jsx(LT,{})}},D=()=>{switch(e.mainCategory){case"real_estate":return"Недвижимость";case"movable":return"Движимое имущество";case"property_rights":return"Имущественные права";default:return"Неизвестно"}},L=Ee=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format(Ee),N=K.useMemo(()=>e.propertyType?Mh(e.propertyType):[],[e.propertyType]),P=K.useMemo(()=>IC(N),[N]),Q=K.useMemo(()=>{var Ee;return(Ee=e.partners)==null?void 0:Ee.find(pe=>{var ce;return pe.role==="owner"||pe.role==="pledgor"&&!((ce=e.partners)!=null&&ce.find(He=>He.role==="owner"))})},[e.partners]),J=K.useMemo(()=>{var Ee;return(Ee=e.partners)==null?void 0:Ee.find(pe=>pe.role==="pledgor")},[e.partners]),te=K.useMemo(()=>{if(!e.egrnStatementDate||e.mainCategory!=="real_estate")return!1;const Ee=We(e.egrnStatementDate);return We().diff(Ee,"days")>30},[e.egrnStatementDate,e.mainCategory]),V=()=>{var pe,ce;const Ee=((pe=e.address)==null?void 0:pe.cadastralNumber)||((ce=e.characteristics)==null?void 0:ce.objectCadastralNumber);t(`/egrn?objectId=${e.id}&cadastralNumber=${Ee}&objectName=${encodeURIComponent(e.name||"")}`)},G=()=>{e.contractId?t(`/portfolio?contractId=${e.contractId}`):e.contractNumber?t(`/portfolio?contractNumber=${e.contractNumber}`):e.reference&&t(`/portfolio?reference=${e.reference}`)},z=()=>{e.reference&&window.open(`#/portfolio?reference=${e.reference}`,"_blank")},C=e.propertyType||((de=e.classification)==null?void 0:de.level2)||"",k=K.useMemo(()=>JM(C),[C]),j=K.useMemo(()=>ZM(C),[C]),H=Ee=>Ee==null||Ee===""?"—":typeof Ee=="boolean"?Ee?"Да":"Нет":typeof Ee=="number"?String(Ee):typeof Ee=="string"&&Ee.match(/^\d{4}-\d{2}-\d{2}/)?We(Ee).format("DD.MM.YYYY"):String(Ee),Y=[{key:"1",label:"Главная",children:i.jsxs("div",{children:[i.jsxs(ye,{bordered:!0,column:2,size:"small",children:[i.jsx(ye.Item,{label:"Наименование (NAME_OF_PROPERTY)",span:2,children:e.name||"—"}),i.jsx(ye.Item,{label:"Адрес",span:2,children:((ue=e.address)==null?void 0:ue.fullAddress)||"—"}),i.jsx(ye.Item,{label:"Заемщик",span:1,children:(Q==null?void 0:Q.organizationName)||`${(Q==null?void 0:Q.lastName)||""} ${(Q==null?void 0:Q.firstName)||""} ${(Q==null?void 0:Q.middleName)||""}`.trim()||"—"}),i.jsx(ye.Item,{label:"ИНН заемщика",span:1,children:(Q==null?void 0:Q.inn)||"—"}),i.jsx(ye.Item,{label:"Залогодатель (OWNER_TIN)",span:1,children:(J==null?void 0:J.organizationName)||`${(J==null?void 0:J.lastName)||""} ${(J==null?void 0:J.firstName)||""} ${(J==null?void 0:J.middleName)||""}`.trim()||"—"}),i.jsx(ye.Item,{label:"ИНН залогодателя (OWNER_TIN)",span:1,children:(J==null?void 0:J.inn)||"—"}),e.propertyType&&i.jsx(ye.Item,{label:"Тип имущества",span:2,children:e.propertyType})]}),P.characteristics.length>0&&i.jsxs(i.Fragment,{children:[i.jsx(kt,{orientation:"left",children:"Характеристики"}),i.jsx(ye,{bordered:!0,column:2,size:"small",children:P.characteristics.map(Ee=>{var ce;const pe=(ce=e.characteristics)==null?void 0:ce[Ee.code];return pe==null||pe===""?null:i.jsx(ye.Item,{label:Ee.name,span:Ee.code==="NAME_OF_PROPERTY"?2:1,children:H(pe)},Ee.code)})})]})]})},{key:"2",label:"Характеристики",children:i.jsx("div",{children:P.characteristics.length>0?i.jsx(ye,{bordered:!0,column:2,size:"small",children:P.characteristics.map(Ee=>{var ce;const pe=(ce=e.characteristics)==null?void 0:ce[Ee.code];return pe==null||pe===""?null:i.jsx(ye.Item,{label:Ee.name,children:H(pe)},Ee.code)})}):i.jsx(ht.Text,{type:"secondary",children:"Характеристики не указаны"})})},{key:"3",label:"Документы",children:i.jsxs("div",{children:[e.documents&&e.documents.length>0?i.jsx(Ar,{dataSource:e.documents,renderItem:Ee=>i.jsx(Ar.Item,{children:i.jsxs(Oe,{children:[i.jsx(Dr,{}),i.jsx(ci,{strong:!0,children:Ee.name}),i.jsxs(ci,{type:"secondary",children:["(",Ee.type,")"]}),Ee.uploadDate&&i.jsxs(ci,{type:"secondary",children:["- ",new Date(Ee.uploadDate).toLocaleDateString("ru-RU")]})]})})}):i.jsx(ht.Text,{type:"secondary",children:"Документы не загружены"}),i.jsx(kt,{}),i.jsxs(Oe,{direction:"vertical",style:{width:"100%"},children:[i.jsx(Ce,{type:"link",icon:i.jsx(eA,{}),onClick:z,style:{paddingLeft:0},children:"Перейти в Залоговое досье"}),j&&i.jsxs("div",{children:[i.jsx(ye,{bordered:!0,column:1,size:"small",children:i.jsx(ye.Item,{label:"Дата выписки ЕГРН",children:e.egrnStatementDate?We(e.egrnStatementDate).format("DD.MM.YYYY"):"—"})}),te&&i.jsx(Ce,{type:"primary",danger:!0,icon:i.jsx(K1,{}),onClick:V,style:{marginTop:16},children:"Заказать выписку ЕГРН (выписка более 30 дней)"})]})]})]})},{key:"4",label:"Заметки",children:i.jsx("div",{children:i.jsxs(ye,{bordered:!0,column:1,size:"small",children:[i.jsx(ye.Item,{label:"Комментарии",children:e.notes||"—"}),i.jsx(ye.Item,{label:"Отлагательные условия",children:e.suspensiveConditions||"—"})]})})},{key:"5",label:"Оценка",children:i.jsxs("div",{children:[i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:12,children:i.jsx(ut,{title:"Рыночная стоимость",value:e.marketValue||0,formatter:Ee=>L(Number(Ee)),valueStyle:{color:"#3f8600"}})}),i.jsx(be,{span:12,children:i.jsx(ut,{title:"Залоговая стоимость",value:e.pledgeValue||0,formatter:Ee=>L(Number(Ee)),valueStyle:{color:"#1890ff"}})})]}),i.jsx(kt,{}),i.jsxs(ye,{bordered:!0,column:2,size:"small",children:[i.jsx(ye.Item,{label:"Наличие ликвидного рынка (HAVEL_MARKET)",children:(he=e.characteristics)!=null&&he.HAVEL_MARKET?"Да":"Нет"}),i.jsx(ye.Item,{label:"Тип обеспечения (TYPE_COLLATERAL)",children:((xe=e.characteristics)==null?void 0:xe.TYPE_COLLATERAL)||"—"}),P.evaluation.map(Ee=>{var ce;const pe=(ce=e.characteristics)==null?void 0:ce[Ee.code];return pe==null||pe===""?null:i.jsx(ye.Item,{label:Ee.name,children:H(pe)},Ee.code)})]})]})},{key:"6",label:"Договор",children:i.jsxs("div",{children:[i.jsxs(ye,{bordered:!0,column:2,size:"small",children:[i.jsx(ye.Item,{label:"REFERENCE сделки",span:2,children:e.reference||"—"}),i.jsx(ye.Item,{label:"Номер договора",span:2,children:e.contractNumber||"—"})]}),(e.reference||e.contractNumber)&&i.jsx(Ce,{type:"primary",icon:i.jsx(eA,{}),onClick:G,style:{marginTop:16},children:"Перейти к договору в портфеле"})]})},{key:"9",label:i.jsxs(Oe,{children:[i.jsx(UA,{}),"Оценка ИИ"]}),children:i.jsxs("div",{children:[M?i.jsxs(i.Fragment,{children:[i.jsx(Ir,{type:"info",showIcon:!0,message:`Рыночная стоимость: ${L(M.estimate.marketValue)} · Залоговая: ${L(M.estimate.collateralValue)}`,description:i.jsxs("div",{children:[i.jsx(ci,{strong:!0,children:"Методология:"})," ",M.estimate.methodology,i.jsx("br",{}),i.jsx(ci,{strong:!0,children:"Уровень уверенности:"})," ",M.estimate.confidence,i.jsx("br",{}),i.jsx(ci,{strong:!0,children:"Риски:"})," ",M.estimate.riskFactors.join("; ")||"не выявлены",i.jsx("br",{}),i.jsx(ci,{strong:!0,children:"Рекомендации:"})," ",M.estimate.recommendedActions.join("; ")||"—"]}),style:{marginBottom:16}}),M.estimate.summary&&i.jsxs(ht.Paragraph,{children:[i.jsx(ci,{strong:!0,children:"Краткие выводы:"})," ",M.estimate.summary]})]}):i.jsx(Sr,{description:"Оценка ИИ ещё не выполнялась"}),i.jsx(kt,{}),i.jsx(Oe,{wrap:!0,children:i.jsx(Ce,{type:"primary",icon:i.jsx(UA,{}),onClick:R,children:"Запросить новую оценку"})}),d.length>0&&i.jsxs(i.Fragment,{children:[i.jsx(kt,{}),i.jsx(Ar,{header:"История AI оценок",dataSource:d,renderItem:Ee=>i.jsx(Ar.Item,{children:i.jsxs(Oe,{direction:"vertical",size:"small",children:[i.jsx(ci,{strong:!0,children:We(Ee.createdAt).format("DD.MM.YYYY HH:mm")}),i.jsxs(ci,{children:["Рыночная: ",L(Ee.estimate.marketValue)," · Залоговая:"," ",L(Ee.estimate.collateralValue)]}),i.jsx(ci,{type:"secondary",children:Ee.estimate.summary})]})})})]})]})},...k?[{key:"7",label:i.jsxs(Oe,{children:[i.jsx(Ko,{}),"Осмотры (",r.length,")"]}),children:i.jsxs("div",{children:[i.jsxs(Oe,{style:{width:"100%",justifyContent:"space-between",marginBottom:16},children:[i.jsx(ci,{strong:!0,children:"Осмотры объекта"}),i.jsx(Ce,{size:"small",icon:i.jsx(UA,{}),onClick:R,children:"Оценка ИИ"})]}),n?i.jsx(Sr,{description:"Загрузка осмотров..."}):r.length===0?i.jsx(Sr,{description:"Осмотры отсутствуют"}):i.jsx(Ar,{dataSource:r,renderItem:Ee=>i.jsx(Ar.Item,{actions:[i.jsx(Ce,{type:"link",onClick:()=>E(Ee.id),children:"Открыть"})],children:i.jsx(Ar.Item.Meta,{title:i.jsxs(Oe,{children:[i.jsx("span",{children:Ee.inspectionType}),i.jsx(et,{color:Ee.status==="approved"?"green":Ee.status==="submitted_for_review"?"purple":Ee.status==="in_progress"?"orange":Ee.status==="needs_revision"?"red":"blue",children:Ee.status==="approved"?"Согласован":Ee.status==="submitted_for_review"?"На проверке":Ee.status==="in_progress"?"В процессе":Ee.status==="needs_revision"?"Требует доработки":Ee.status==="scheduled"?"Запланирован":Ee.status})]}),description:i.jsxs(Oe,{direction:"vertical",size:"small",children:[i.jsxs(ci,{type:"secondary",children:["Дата: ",We(Ee.inspectionDate).format("DD.MM.YYYY HH:mm")]}),i.jsxs(ci,{type:"secondary",children:["Исполнитель: ",Ee.inspectorName,Ee.inspectorType==="client"&&i.jsx(et,{color:"orange",style:{marginLeft:8},children:"Клиент"})]}),Ee.photos&&Ee.photos.length>0&&i.jsxs(ci,{type:"secondary",children:["Фотографий: ",Ee.photos.length]})]})})})}),i.jsx(kt,{}),i.jsx(Ce,{type:"primary",icon:i.jsx(Ko,{}),onClick:()=>t(`/cms-check?cardId=${e.id}`),children:"Создать осмотр"})]})}]:[],...j?[{key:"8",label:i.jsxs(Oe,{children:[i.jsx(tf,{}),"Выписка ЕГРН"]}),children:i.jsxs("div",{children:[i.jsxs(ye,{bordered:!0,column:1,size:"small",children:[i.jsx(ye.Item,{label:"Дата выписки ЕГРН",children:e.egrnStatementDate?We(e.egrnStatementDate).format("DD.MM.YYYY"):"—"}),i.jsx(ye.Item,{label:"Кадастровый номер",children:((ve=e.address)==null?void 0:ve.cadastralNumber)||((se=e.characteristics)==null?void 0:se.objectCadastralNumber)||"—"})]}),i.jsx(kt,{}),i.jsxs(Oe,{direction:"vertical",style:{width:"100%"},children:[te&&i.jsx(Ce,{type:"primary",danger:!0,icon:i.jsx(K1,{}),onClick:V,children:"Заказать выписку ЕГРН (выписка более 30 дней)"}),i.jsx(Ce,{type:"default",icon:i.jsx(tf,{}),onClick:()=>{var pe,ce;const Ee=((pe=e.address)==null?void 0:pe.cadastralNumber)||((ce=e.characteristics)==null?void 0:ce.objectCadastralNumber);t(`/egrn?objectId=${e.id}&cadastralNumber=${Ee}&objectName=${encodeURIComponent(e.name||"")}`)},children:"Перейти в модуль ЕГРН"})]})]})}]:[]];return i.jsxs("div",{className:"collateral-card-view",children:[i.jsx(Me,{className:"card-header-section",children:i.jsx(dt,{gutter:[16,16],align:"middle",children:i.jsx(be,{flex:"auto",children:i.jsxs(Oe,{direction:"vertical",size:"small",children:[i.jsxs(Oe,{children:[I(),i.jsx(fP,{level:3,style:{margin:0},children:e.name})]}),i.jsxs(Oe,{children:[i.jsx(et,{color:"blue",children:e.number}),i.jsx(et,{color:T(e.status),children:_(e.status)}),i.jsx(et,{children:D()}),e.propertyType&&i.jsx(et,{color:"purple",children:e.propertyType})]})]})})})}),i.jsx(Me,{style:{marginTop:16},children:i.jsx(ts,{items:Y,defaultActiveKey:"1"})}),i.jsx(NC,{visible:o,inspectionId:l,onClose:()=>{A(!1),c(null),v()},onApprove:async Ee=>{await Sa.approveInspection(Ee,"Система"),v()},onRequestRevision:async(Ee,pe)=>{await Sa.requestRevision(Ee,"Система",pe),v()}}),i.jsx(lr,{title:"AI-оценка объекта",open:p,onOk:b,onCancel:()=>u(!1),confirmLoading:g,okText:"Запросить оценку",cancelText:"Отмена",children:i.jsxs(ne,{layout:"vertical",form:y,children:[i.jsx(ne.Item,{label:"Категория",name:"assetGroup",rules:[{required:!0,message:"Выберите категорию"}],children:i.jsx(Ve,{options:x.map(Ee=>({label:Ee.label,value:Ee.key})),onChange:()=>y.setFieldsValue({assetType:void 0})})}),i.jsx(ne.Item,{label:"Тип актива",name:"assetType",dependencies:["assetGroup"],rules:[{required:!0,message:"Выберите тип актива"}],children:i.jsx(Ve,{placeholder:"Выберите тип",options:((Ke=x.find(Ee=>Ee.key===y.getFieldValue("assetGroup")))==null?void 0:Ke.types.map(Ee=>({label:Ee.label,value:Ee.key})))||[]})}),i.jsx(ne.Item,{label:"Локация",name:"location",children:i.jsx(Re,{placeholder:"Адрес или регион"})}),i.jsx(ne.Item,{label:"Площадь / объем",name:"area",children:i.jsx(ha,{style:{width:"100%"},min:0,placeholder:"Например, 1200"})}),i.jsx(ne.Item,{label:"Единица измерения",name:"areaUnit",initialValue:"м²",children:i.jsx(Re,{placeholder:"м², га, шт."})}),i.jsx(ne.Item,{label:"Состояние",name:"condition",children:i.jsx(Re,{placeholder:"Например, требует ремонта"})}),i.jsx(ne.Item,{label:"Чистый доход (₽/год)",name:"incomePerYear",children:i.jsx(ha,{style:{width:"100%"},min:0})}),i.jsx(ne.Item,{label:"Цель оценки",name:"purpose",children:i.jsx(Re,{placeholder:"Например, актуализация стоимости"})}),i.jsx(ne.Item,{label:"Дополнительные факторы",name:"additionalFactors",children:i.jsx(Re.TextArea,{rows:3,placeholder:"Обременения, особенности участка, условия эксплуатации..."})})]})})]})},hP=({data:e,loading:t,onEdit:r,onView:a,onDelete:n,onDoubleClick:s})=>{const o=e,A=[{title:"№",dataIndex:"number",key:"number",width:100,fixed:"left",sorter:(l,c)=>l.number.localeCompare(c.number)},{title:"Наименование",dataIndex:"name",key:"name",width:250,sorter:(l,c)=>l.name.localeCompare(c.name),render:(l,c)=>i.jsxs("div",{children:[i.jsx("div",{style:{fontWeight:500},children:l}),i.jsx("div",{style:{fontSize:12,color:"var(--ant-color-text-secondary)"},children:c.classification.level1})]})},{title:"Тип",dataIndex:"mainCategory",key:"mainCategory",width:120,filters:[{text:"Недвижимость",value:"real_estate"},{text:"Движимое имущество",value:"movable"},{text:"Имущественные права",value:"property_rights"}],onFilter:(l,c)=>c.mainCategory===l,render:l=>{const d={real_estate:{color:"blue",text:"Недвижимость"},movable:{color:"green",text:"Движимое"},property_rights:{color:"orange",text:"Имущественные права"}}[l]||{color:"default",text:l||"Не указано"};return i.jsx(et,{color:d.color,children:d.text})}},{title:"Статус",dataIndex:"status",key:"status",width:120,filters:[{text:"Редактирование",value:"editing"},{text:"Согласовано",value:"approved"},{text:"Архив",value:"archived"}],onFilter:(l,c)=>c.status===l,render:l=>{const d={editing:{color:"orange",text:"Редактирование"},approved:{color:"green",text:"Согласовано"},archived:{color:"default",text:"Архив"}}[l]||{color:"default",text:l||"Не указано"};return i.jsx(et,{color:d.color,children:d.text})}},{title:"Адрес",dataIndex:"addresses",key:"address",width:300,render:l=>{var c;return i.jsx("div",{children:((c=l==null?void 0:l[0])==null?void 0:c.fullAddress)||"Не указан"})}},{title:"Дата создания",dataIndex:"createdAt",key:"createdAt",width:120,sorter:(l,c)=>new Date(l.createdAt).getTime()-new Date(c.createdAt).getTime(),render:l=>new Date(l).toLocaleDateString("ru-RU")},{title:"Действия",key:"actions",width:120,fixed:"right",render:(l,c)=>i.jsxs("div",{style:{display:"flex",gap:"8px"},children:[i.jsx(Jr,{title:"Просмотр",children:i.jsx(Ce,{type:"text",icon:i.jsx(Ts,{}),size:"small",onClick:()=>a(c.id)})}),i.jsx(Jr,{title:"Редактировать",children:i.jsx(Ce,{type:"text",icon:i.jsx(Ri,{}),size:"small",onClick:()=>r(c.id)})}),i.jsx(Jr,{title:"Удалить",children:i.jsx(Ce,{type:"text",icon:i.jsx(Ss,{}),size:"small",danger:!0,onClick:()=>n(c.id)})})]})}];return i.jsx("div",{className:"registry-table-container",children:i.jsx(nr,{columns:A,dataSource:o,loading:t,rowKey:"id",scroll:{x:1200},pagination:{pageSize:30,showSizeChanger:!0,showQuickJumper:!0,showTotal:(l,c)=>`Показано ${c[0]}-${c[1]} из ${l} записей`,pageSizeOptions:["15","30","50","100"]},onRow:l=>({onDoubleClick:()=>s(l),style:{cursor:"pointer"}}),size:"middle",className:"registry-table"})})},_a=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,zi=e=>e[Math.floor(Math.random()*e.length)],mP=["КБ","СРБ","МСБ","КК"],gP=["СВХ","КК","МСБ","КБ"],xP=["Кредитная линия. Единый продукт.","Кредит на пополнение оборотных средств","Инвестиционный кредит","Овердрафт"],ow=['ООО "Рога и Копыта"','ООО "Вектор"','ООО "Альфа"','ООО "Бета"','ООО "Гамма"','ООО "Дельта"','ООО "Омега"','ООО "Сигма"','ООО "Тета"','ООО "Фи"','ООО "ЭНЕРГИЯ-Плюс"','ООО "Ромашка"','ООО "Протуберанец"','ООО "Сибирь-Холод"'],yP=["договор залога недвижимого имущества","договор залога движимого имущества/оборудования","договор залога транспортных средств","договор залога товаров в обороте","договор залога ценных бумаг","договор залога имущественных прав"],vP=["Основное","Дополнительное","Формальное"],wP=["Первичный","последующий"],EP=["Высокая","Средняя","Малоудовлетворительная","Низкая"],bP=["физический","документарный","комбинированный"],Aw=()=>_a(1e9,9999999999),Lo=e=>{const t=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),a=e.getFullYear();return`${t}.${r}.${a}`},RC=e=>{const t=e.toLowerCase();return t.includes("недвижимость")||t.includes("здание")||t.includes("помещение")||t.includes("квартира")?"договор залога недвижимого имущества":t.includes("транспорт")||t.includes("автомобиль")||t.includes("машина")?"договор залога транспортных средств":t.includes("оборудование")||t.includes("машина")||t.includes("станок")?"договор залога движимого имущества/оборудования":t.includes("товар")||t.includes("продукт")?"договор залога товаров в обороте":t.includes("ценная бумага")||t.includes("акция")||t.includes("облигация")?"договор залога ценных бумаг":t.includes("право")||t.includes("требование")?"договор залога имущественных прав":zi(yP)},_P=(e,t,r,a,n,s)=>{const o=2e7+t,A=2023+t%2,l=_a(1,12),c=_a(1,28),d=new Date(A,l-1,c),f=d,p=new Date(d);p.setFullYear(p.getFullYear()+_a(1,3));const u=`${_a(100,999)}.${_a(100,999)}/${A%100}-${_a(1,9)}`,g=`${u}-З`,h=_a(1e6,5e7),y=Math.floor(h*(.3+Math.random()*.5)),x=Math.ceil(y/.8),v=Math.ceil(y/.7),E=_a(Math.max(x,5e5),Math.max(v,h)),R=Math.floor(E*.75),b=new Date(d);b.setDate(b.getDate()+_a(1,30));const T=new Date;T.setDate(T.getDate()-_a(0,180));const _=new Date(T);return _.setMonth(_.getMonth()+_a(3,12)),{segment:zi(mP),group:zi(gP),reference:o,pledger:n,inn:s,borrower:r,contractNumber:u,contractDate:Lo(d),type:zi(xP),openDate:Lo(f),closeDate:Lo(p),debtRub:y,limitRub:h,overduePrincipal:Math.random()>.8?_a(0,Math.floor(y*.1)):0,overdueInterest:Math.random()>.9?_a(0,Math.floor(y*.05)):0,collateralReference:5e8+t,collateralContractNumber:g,collateralContractDate:Lo(b),collateralCategory:RC(e),collateralValue:R,marketValue:E,initialValuationDate:Lo(b),currentMarketValue:E+_a(-1e5,1e5),currentValuationDate:Lo(new Date(b.getTime()+_a(30,365)*24*60*60*1e3)),fairValue:Math.random()>.5?String(E+_a(-5e4,5e4)):"-",collateralType:zi(vP),collateralPurpose:`залог ${e.toLowerCase()}`,collateralInfo:`${e} (${_a(1,10)} ед.)`,collateralLocation:`г. ${zi(["Москва","Санкт-Петербург","Краснодар","Екатеринбург","Ростов-на-Дону"])}, ул. ${zi(["Ленина","Пушкина","Гагарина","Мира","Советская"])}, ${_a(1,200)}`,liquidity:zi(EP),qualityCategory:Math.random()>.7?zi(["I","II","III"]):"-",registrationDate:Math.random()>.5?Lo(new Date(d.getTime()+_a(1,30)*24*60*60*1e3)):"-",priority:zi(wP),monitoringType:zi(bP),lastMonitoringDate:Lo(T),nextMonitoringDate:Lo(_),owner:null,account9131:`9131281${String(_a(1e9,9999999999)).padStart(10,"0")}`}},CP=()=>{const e=Ty(),t=[];let r=1;const a=new Map;return e.forEach(n=>{const s=_a(5,10);for(let o=0;o<s;o++){const A=`${n}-${Math.floor(o/5)}`;let l,c,d,f;if(a.has(A)){const u=a.get(A);l=u.borrower,c=u.borrowerInn,d=u.pledger,f=u.pledgerInn}else l=zi(ow),c=Aw(),d=zi(ow.filter(u=>u!==l)),f=Aw(),a.set(A,{borrower:l,borrowerInn:c,pledger:d,pledgerInn:f});const p=_P(n,r,l,c,d,f);t.push(p),r++}}),t},BP=(e,t)=>{const r=RC(t);return e.filter(a=>{var n;return a.collateralCategory===r||((n=a.collateralPurpose)==null?void 0:n.toLowerCase().includes(t.toLowerCase()))})},Vg={"Легковой автомобиль":"Наземные безрельсовые механические транспортные средства, прицепы, и т.д.","Грузовой автомобиль":"Наземные безрельсовые механические транспортные средства, прицепы, и т.д.",Автобус:"Наземные безрельсовые механические транспортные средства, прицепы, и т.д.",Мотоцикл:"Наземные безрельсовые механические транспортные средства, прицепы, и т.д.",Трактор:"Наземные безрельсовые механические транспортные средства, прицепы, и т.д.",Спецтехника:"Наземные безрельсовые механические транспортные средства, прицепы, и т.д.","Транспортные средства":"Наземные безрельсовые механические транспортные средства, прицепы, и т.д.",Квартира:"Недвижимое имущество",Дом:"Недвижимое имущество",Здание:"Недвижимое имущество",Помещение:"Недвижимое имущество","Земельный участок":"Недвижимое имущество","Недвижимое имущество":"Недвижимое имущество",Оборудование:"Оборудование",Станки:"Оборудование","Производственное оборудование":"Оборудование","Товары в обороте":"Товары в обороте",Товары:"Товары в обороте","Ценные бумаги":"Ценные бумаги",Акции:"Ценные бумаги",Облигации:"Ценные бумаги","Имущественные права":"Имущественные права","Права требования":"Имущественные права","Будущий урожай":"Будущий урожай","Денежные средства":"Денежные средства","Драгоценные металлы":"Драгоценные металлы"},SP=e=>{if(Vg[e])return Vg[e];for(const[t,r]of Object.entries(Vg))if(e.toLowerCase().includes(t.toLowerCase())||t.toLowerCase().includes(e.toLowerCase()))return r;return e},La=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,KA=e=>e[Math.floor(Math.random()*e.length)],TP=['ООО "Рога и Копыта"','ООО "Вектор"','ООО "Альфа"','ООО "Бета"','ООО "Гамма"','ООО "Дельта"','ООО "Омега"','ООО "Сигма"','ООО "Тета"','ООО "Фи"'],OP=["Иванов","Петров","Сидоров","Смирнов","Кузнецов","Попов","Соколов","Лебедев","Козлов","Новиков"],IP=["Иван","Петр","Сергей","Александр","Дмитрий","Андрей","Михаил","Николай","Владимир","Алексей"],NP=["Иванович","Петрович","Сергеевич","Александрович","Дмитриевич","Андреевич","Михайлович","Николаевич","Владимирович","Алексеевич"],FP=["Московская область","Ленинградская область","Краснодарский край","Свердловская область","Ростовская область"],RP=["Москва","Санкт-Петербург","Краснодар","Екатеринбург","Ростов-на-Дону"],$f=(e=!0)=>e?`${La(1e9,9999999999)}`:`${La(1e11,999999999999)}`,kC=()=>{const e=KA(FP),t=KA(RP),r=`ул. ${KA(["Ленина","Пушкина","Гагарина","Мира","Советская"])}`,a=La(1,200).toString(),n=La(1,10)>5?La(1,5).toString():void 0,s=La(1,200).toString();return{id:zs(),region:e,city:t,street:r,house:a,building:n,apartment:s,postalCode:`${La(1e5,999999)}`,fullAddress:`${e}, ${t}, ${r}, д. ${a}${n?`, к. ${n}`:""}, кв. ${s}`}},lw=(e,t=!1)=>{if(t){const r=KA(OP),a=KA(IP),n=KA(NP);return{id:zs(),type:"individual",role:e,lastName:r,firstName:a,middleName:n,inn:$f(!1),share:100,showInRegistry:!0,createdAt:new Date,updatedAt:new Date}}else return{id:zs(),type:"legal",role:e,organizationName:KA(TP),inn:$f(!0),share:100,showInRegistry:!0,createdAt:new Date,updatedAt:new Date}},kP=(e,t)=>{switch(e.type){case"number":return e.code==="QUANTITY"||e.code.includes("COUNT")?La(1,100):e.code==="WEIGHT"?La(100,1e4):e.code.includes("SUM")||e.code.includes("VALUE")||e.code.includes("AMOUNT")?La(1e5,1e7):La(1,1e3);case"boolean":return Math.random()>.5;case"date":{const r=new Date;return r.setDate(r.getDate()-La(0,365)),r.toISOString().split("T")[0]}case"string":default:return e.code==="OWNER_TIN"?$f(Math.random()>.5):e.code==="NAME_OF_PROPERTY"?`Объект ${e.group} #${t+1}`:e.code==="ADDRESS_BASE"?kC().fullAddress:e.code.includes("NUMBER")||e.code.includes("CODE")?`${La(1e5,999999)}`:`Значение ${e.name} #${t+1}`}},DP=(e,t,r)=>{const a=SP(e),n=a?Mh(a):[],s=n.length===0?Mh(e):[],o=n.length>0?n:s,A={};return o.forEach(l=>{A[l.code]=kP(l,t)}),r&&(r.reference&&(A.CONTRACT_REFERENCE=String(r.reference)),r.contractNumber&&(A.CONTRACT_NUMBER=r.contractNumber),r.contractDate&&(A.CONTRACT_DATE=r.contractDate),r.collateralContractNumber&&(A.COLLATERAL_CONTRACT_NUMBER=r.collateralContractNumber),r.collateralContractDate&&(A.COLLATERAL_CONTRACT_DATE=r.collateralContractDate),r.limitRub&&(A.CREDIT_LIMIT=typeof r.limitRub=="number"?r.limitRub:parseFloat(String(r.limitRub))),r.debtRub&&(A.CURRENT_DEBT=typeof r.debtRub=="number"?r.debtRub:parseFloat(String(r.debtRub))),r.currentMarketValue&&(A.MARKET_VALUE=typeof r.currentMarketValue=="number"?r.currentMarketValue:parseFloat(String(r.currentMarketValue))),r.collateralValue&&(A.COLLATERAL_VALUE=typeof r.collateralValue=="number"?r.collateralValue:parseFloat(String(r.collateralValue))),r.collateralCategory&&(A.COLLATERAL_CATEGORY=r.collateralCategory),r.collateralType&&(A.COLLATERAL_TYPE=r.collateralType),r.collateralPurpose&&(A.COLLATERAL_PURPOSE=r.collateralPurpose),r.collateralInfo&&(A.COLLATERAL_INFO=r.collateralInfo),r.collateralLocation&&(A.COLLATERAL_LOCATION=r.collateralLocation),r.liquidity&&(A.LIQUIDITY=r.liquidity),r.priority&&(A.PRIORITY=r.priority),r.monitoringType&&(A.MONITORING_TYPE=r.monitoringType),r.lastMonitoringDate&&(A.LAST_MONITORING_DATE=r.lastMonitoringDate),r.nextMonitoringDate&&(A.NEXT_MONITORING_DATE=r.nextMonitoringDate),r.initialValuationDate&&(A.INITIAL_VALUATION_DATE=r.initialValuationDate),r.currentValuationDate&&(A.CURRENT_VALUATION_DATE=r.currentValuationDate),r.borrower&&(A.BORROWER_NAME=r.borrower),r.pledger&&(A.PLEDGER_NAME=r.pledger),r.inn&&(A.BORROWER_INN=String(r.inn),A.PLEDGER_INN=String(r.inn))),A},jP=(e,t=50,r)=>{const a=[],n=BP(r,e);let s="property_rights";e.includes("недвижимость")||e.includes("здание")||e.includes("помещение")?s="real_estate":(e.includes("транспорт")||e.includes("автомобиль")||e.includes("оборудование"))&&(s="movable");const o=()=>s==="real_estate"?{level0:"Жилая недвижимость",level1:"Квартира",level2:"Помещение"}:s==="movable"?{level0:"Движимое имущество",level1:"Легковой автомобиль",level2:"Помещение"}:{level0:"Имущественные права",level1:"Права требования",level2:"Помещение"};for(let A=0;A<t;A++){let l;if(n.length>0){const M=A%n.length;l=n[M]}let c,d;l?(c={id:zs(),type:"legal",role:"owner",organizationName:l.borrower||'ООО "Заемщик"',inn:String(l.inn||$f(!0)),share:100,showInRegistry:!0,createdAt:new Date,updatedAt:new Date},d={id:zs(),type:"legal",role:"pledgor",organizationName:l.pledger||'ООО "Залогодатель"',inn:String(l.inn||$f(!0)),share:100,showInRegistry:!0,createdAt:new Date,updatedAt:new Date}):(c=lw("owner",Math.random()>.5),d=lw("pledgor",Math.random()>.5));const f=kC(),p=DP(e,A,l);p.NAME_OF_PROPERTY||(p.NAME_OF_PROPERTY=`${e} #${A+1}`),p.OWNER_TIN||(p.OWNER_TIN=d.inn),l&&p.BORROWER_NAME&&(c.organizationName=p.BORROWER_NAME),l&&p.PLEDGER_NAME&&(d.organizationName=p.PLEDGER_NAME),l&&p.BORROWER_INN&&(c.inn=p.BORROWER_INN),l&&p.PLEDGER_INN&&(d.inn=p.PLEDGER_INN);let u;l!=null&&l.currentMarketValue?u=typeof l.currentMarketValue=="number"?l.currentMarketValue:parseInt(String(l.currentMarketValue)):l!=null&&l.marketValue?u=typeof l.marketValue=="number"?l.marketValue:parseInt(String(l.marketValue)):p.marketValue?u=typeof p.marketValue=="number"?p.marketValue:parseInt(String(p.marketValue)):u=La(1e6,1e7);const g=Math.floor(u*.75),h=new Date,y=new Date(h);y.setDate(y.getDate()-La(30,365));const x=s==="real_estate"?12:6,v=new Date(y);v.setMonth(v.getMonth()+x),Math.floor((v.getTime()-h.getTime())/(1e3*60*60*24))>60&&v.setDate(h.getDate()+La(1,60));const R=new Date(h);R.setDate(R.getDate()-La(0,180));let b=12;s==="movable"?b=6:(e.includes("товар")||e.includes("сырье"))&&(b=3);const T=new Date(R);T.setMonth(T.getMonth()+b),Math.floor((T.getTime()-h.getTime())/(1e3*60*60*24))>60&&T.setDate(h.getDate()+La(1,60));const S=M=>{const I=String(M.getDate()).padStart(2,"0"),D=String(M.getMonth()+1).padStart(2,"0"),L=M.getFullYear();return`${I}.${D}.${L}`},O={id:zs(),number:`КО-2024-${String(A+1).padStart(4,"0")}`,name:p.NAME_OF_PROPERTY||`${e} #${A+1}`,mainCategory:s,classification:o(),cbCode:s==="real_estate"?2010:s==="movable"?3010:4010,status:KA(["editing","approved"]),partners:[c,d],address:f,characteristics:p,documents:[],propertyType:e,marketValue:u,pledgeValue:g,evaluationDate:S(y),lastEvaluationDate:S(y),nextEvaluationDate:S(v),monitoringDate:S(R),nextMonitoringDate:S(T),monitoringFrequencyMonths:b,reference:l!=null&&l.reference?String(l.reference):`REF-${La(1e4,99999)}`,contractNumber:(l==null?void 0:l.contractNumber)||`ДОГ-${La(1e3,9999)}/${La(2020,2024)}`,contractId:(l==null?void 0:l.contractNumber)||void 0,createdAt:new Date(2024,0,1+A),updatedAt:new Date(2024,0,1+A)};a.push(O)}return a},LP=async()=>{const e=Ty(),t=[];let r=1,a=[];try{const n="./",s=new URL(n,window.location.origin),o=s.pathname.endsWith("/")?s.pathname:`${s.pathname}/`,A=`${s.origin}${o}portfolioData.json?v=${Date.now()}`,l=await fetch(A,{cache:"no-store"});l.ok&&(a=await l.json())}catch(n){console.warn("Не удалось загрузить договоры из portfolioData.json, используем сгенерированные",n)}return a.length===0&&(a=CP()),e.forEach(n=>{const s=jP(n,50,a);s.forEach(o=>{o.number=`КО-2024-${String(r).padStart(4,"0")}`,r++}),t.push(...s)}),t},DC=.75,UP=.7,MP=e=>{let t=e.marketValue||0;(!t||t<=0)&&(t=1e6);const r=Math.floor(t*DC);return{...e,marketValue:t,pledgeValue:r}},PP=e=>{const t=typeof e.debtRub=="number"?e.debtRub:parseFloat(String(e.debtRub||0));let r=typeof e.marketValue=="number"?e.marketValue:parseFloat(String(e.marketValue||0));if((!r||r<=0)&&(r=1e6),t>0&&r>0&&t/r<UP){const s=Math.ceil(t/.8),o=Math.ceil(t/.7);r<s&&(r=s),r>o&&(r=o)}const a=Math.floor(r*DC);return{...e,marketValue:r,collateralValue:a,currentMarketValue:r}},QP=e=>e.map(t=>PP(t)),qP=()=>{const e=nA(),t=$s(),r=ul(),{filteredItems:a,loading:n}=Vs(te=>te.extendedCards),s=Vs(te=>te.workflow.cases),[o,A]=K.useState(!1),[l,c]=K.useState(null),[d,f]=K.useState(null),[p,u]=K.useState(!1),[g,h]=K.useState(!1),[y,x]=K.useState([]),[v,E]=K.useState(!0),[R,b]=K.useState([]),T=async()=>{try{e(Fv(!0));const te=await Dt.getExtendedCards();e(z1(te))}catch(te){Te.error("Ошибка загрузки данных"),console.error(te)}finally{e(Fv(!1))}};K.useEffect(()=>{T()},[]),K.useEffect(()=>{if(a.length>0){const V=new URLSearchParams(r.search).get("objectId");if(V){const G=a.find(z=>z.id===V);G&&(f(G),u(!0),window.history.replaceState({},"",r.pathname))}}},[a,r.search,r.pathname]),K.useEffect(()=>{(async()=>{try{const V="./",G=new URL(V,window.location.origin),z=G.pathname.endsWith("/")?G.pathname:`${G.pathname}/`,C=`${G.origin}${z}collateralDossier.json?v=${Date.now()}`,k=await fetch(C,{cache:"no-store"});if(!k.ok)throw new Error(`Failed to load dossier (${k.status})`);const j=await k.json();x(j.documents)}catch(V){console.warn("Не удалось загрузить данные залогового досье",V)}finally{E(!1)}})()},[]);const _=te=>{const V=a.find(G=>G.id===te);V&&(c(V),A(!0))},S=async te=>{try{await Dt.deleteExtendedCard(te),e(QO(te)),Te.success("Карточка удалена")}catch(V){Te.error("Ошибка удаления карточки"),console.error(V)}},O=te=>{const V=a.find(G=>G.id===te);V&&(f(V),u(!0))},M=te=>{O(te.id)},I=()=>{u(!1),f(null)},D=()=>{var C;if(!d)return;const te=s.find(k=>k.objectId===d.id);if(te){Te.info("Workflow уже запущен для этого объекта"),t(`/workflow/object/${te.id}`),I();return}const V=new Date().toISOString(),G=`wf-${d.id}`,z={id:G,objectId:d.id,objectName:d.name,assetType:d.mainCategory||"Обеспечение",debtAmount:void 0,appraisedValue:void 0,stage:"ANALYSIS",manager:typeof d.owner=="string"?d.owner:((C=d.owner)==null?void 0:C.name)||"Не назначен",deadline:void 0,createdAt:V,updatedAt:V,history:[{id:`h-${V}`,stage:"ANALYSIS",user:"Система",comment:"Workflow запущен из карточки реестра",createdAt:V}],documents:[],notes:d.number?`Запущено по договору ${d.number}`:void 0};e(zO(z)),Te.success("Workflow запущен"),t(`/workflow/object/${G}`),I()},L=()=>{if(!d)return;const te=String(d.number??d.id??""),V=y.filter(G=>String(G.reference)===te);b(V),h(!0)},N=a.map(te=>({id:te.id,number:te.number,name:te.name,mainCategory:te.mainCategory,status:te.status,classification:te.classification,addresses:te.address?[{fullAddress:te.address.fullAddress}]:[],owner:te.owner,characteristics:te.characteristics,createdAt:te.createdAt,updatedAt:te.updatedAt})),P=async te=>{try{await Dt.saveExtendedCard(te),l?(e(PO(te)),Te.success("Карточка обновлена")):(e(MO(te)),Te.success("Карточка создана")),A(!1),c(null)}catch(V){Te.error("Ошибка сохранения карточки"),console.error(V)}},Q=()=>{c(null),A(!0)},J=async()=>{try{Te.loading({content:"Генерация демо-карточек...",key:"generating",duration:0});const te=await LP();let V=0,G=0;for(const z of te)try{const C=MP(z);await Dt.saveExtendedCard(C),V++}catch(C){G++,console.error(`Ошибка создания карточки ${z.number}:`,C)}await T(),Te.destroy("generating"),Te.success(`Создано ${V} демо-карточек${G>0?`, ошибок: ${G}`:""}`)}catch(te){Te.destroy("generating"),Te.error("Ошибка генерации демо-данных"),console.error(te)}};return i.jsxs("div",{children:[i.jsxs(Oe,{style:{marginBottom:16},wrap:!0,children:[i.jsx(Ce,{type:"primary",icon:i.jsx(wi,{}),onClick:Q,children:"Создать карточку"}),i.jsx(ho,{title:"Генерация демо-данных",description:"Создать 50 карточек на каждый тип имущества из справочника? Это может занять некоторое время.",onConfirm:J,okText:"Да",cancelText:"Нет",children:i.jsx(Ce,{icon:i.jsx(JA,{}),children:"Создать демо-данные (50 карточек на каждый тип)"})})]}),i.jsx(hP,{data:N,loading:n,onEdit:_,onView:O,onDelete:S,onDoubleClick:M}),i.jsx(lr,{title:l?"Редактирование карточки":"Создание карточки",open:o,onCancel:()=>{A(!1),c(null)},footer:null,width:"100%",style:{top:0,maxWidth:"none",padding:0},styles:{body:{height:"calc(100vh - 110px)",overflowY:"auto"}},destroyOnClose:!0,centered:!0,children:i.jsx(kM,{initialValues:l||void 0,onSubmit:P,onCancel:()=>{A(!1),c(null)}})}),i.jsx(lr,{title:i.jsxs(Oe,{children:[i.jsx("span",{children:"Карточка объекта"}),d&&i.jsxs(ht.Text,{type:"secondary",style:{fontSize:"14px",fontWeight:"normal"},children:["ID: ",d.id]})]}),open:p,onCancel:I,footer:[i.jsx(Ce,{type:"primary",onClick:D,disabled:!d,children:"Запустить workflow"},"workflow"),(d==null?void 0:d.reference)&&i.jsx(Ce,{icon:i.jsx(eA,{}),onClick:()=>{t(`/portfolio?q=${d.reference}`),I()},children:"Перейти в портфель"},"portfolio"),i.jsx(Ce,{type:"primary",onClick:L,disabled:!d,children:"Залоговое досье"},"dossier"),i.jsx(Ce,{onClick:I,children:"Закрыть"},"close")],width:"90%",style:{top:20},styles:{body:{maxHeight:"70vh",overflowY:"auto"}},destroyOnClose:!0,children:d&&i.jsx(pP,{card:d})}),i.jsx(lr,{title:"Залоговое досье по договору",open:g,onCancel:()=>h(!1),footer:[i.jsx(Ce,{type:"primary",onClick:()=>h(!1),children:"Закрыть"},"close")],width:720,children:v?i.jsx(Sr,{description:"Загрузка документов..."}):R.length===0?i.jsx(Sr,{description:"По данному договору нет документов"}):i.jsx(Ar,{dataSource:R,renderItem:te=>i.jsxs(Ar.Item,{children:[i.jsx(Ar.Item.Meta,{title:i.jsxs(Oe,{children:[i.jsx(et,{color:te.statusColor||"blue",children:te.status}),i.jsx("span",{children:te.docType})]}),description:i.jsxs(ht.Text,{type:"secondary",children:[te.folderPath.join(" / ")," · ",te.lastUpdated]})}),i.jsxs("div",{children:[i.jsx("div",{children:te.fileName}),i.jsx(ht.Text,{type:"secondary",children:te.responsible})]})]})})})]})};var Wn=Uint8Array,Ji=Uint16Array,Iy=Int32Array,Tm=new Wn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Om=new Wn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Fx=new Wn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),jC=function(e,t){for(var r=new Ji(31),a=0;a<31;++a)r[a]=t+=1<<e[a-1];for(var n=new Iy(r[30]),a=1;a<30;++a)for(var s=r[a];s<r[a+1];++s)n[s]=s-r[a]<<5|a;return{b:r,r:n}},LC=jC(Tm,2),UC=LC.b,Rx=LC.r;UC[28]=258,Rx[258]=28;var MC=jC(Om,0),KP=MC.b,cw=MC.r,kx=new Ji(32768);for(var Aa=0;Aa<32768;++Aa){var CA=(Aa&43690)>>1|(Aa&21845)<<1;CA=(CA&52428)>>2|(CA&13107)<<2,CA=(CA&61680)>>4|(CA&3855)<<4,kx[Aa]=((CA&65280)>>8|(CA&255)<<8)>>1}var go=function(e,t,r){for(var a=e.length,n=0,s=new Ji(t);n<a;++n)e[n]&&++s[e[n]-1];var o=new Ji(t);for(n=1;n<t;++n)o[n]=o[n-1]+s[n-1]<<1;var A;if(r){A=new Ji(1<<t);var l=15-t;for(n=0;n<a;++n)if(e[n])for(var c=n<<4|e[n],d=t-e[n],f=o[e[n]-1]++<<d,p=f|(1<<d)-1;f<=p;++f)A[kx[f]>>l]=c}else for(A=new Ji(a),n=0;n<a;++n)e[n]&&(A[n]=kx[o[e[n]-1]++]>>15-e[n]);return A},ll=new Wn(288);for(var Aa=0;Aa<144;++Aa)ll[Aa]=8;for(var Aa=144;Aa<256;++Aa)ll[Aa]=9;for(var Aa=256;Aa<280;++Aa)ll[Aa]=7;for(var Aa=280;Aa<288;++Aa)ll[Aa]=8;var Yf=new Wn(32);for(var Aa=0;Aa<32;++Aa)Yf[Aa]=5;var HP=go(ll,9,0),GP=go(ll,9,1),zP=go(Yf,5,0),VP=go(Yf,5,1),$g=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Ls=function(e,t,r){var a=t/8|0;return(e[a]|e[a+1]<<8)>>(t&7)&r},Yg=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},Ny=function(e){return(e+7)/8|0},PC=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Wn(e.subarray(t,r))},$P=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Qs=function(e,t,r){var a=new Error(t||$P[e]);if(a.code=e,Error.captureStackTrace&&Error.captureStackTrace(a,Qs),!r)throw a;return a},YP=function(e,t,r,a){var n=e.length,s=0;if(!n||t.f&&!t.l)return r||new Wn(0);var o=!r,A=o||t.i!=2,l=t.i;o&&(r=new Wn(n*3));var c=function(ve){var se=r.length;if(ve>se){var Ke=new Wn(Math.max(se*2,ve));Ke.set(r),r=Ke}},d=t.f||0,f=t.p||0,p=t.b||0,u=t.l,g=t.d,h=t.m,y=t.n,x=n*8;do{if(!u){d=Ls(e,f,1);var v=Ls(e,f+1,3);if(f+=3,v)if(v==1)u=GP,g=VP,h=9,y=5;else if(v==2){var T=Ls(e,f,31)+257,_=Ls(e,f+10,15)+4,S=T+Ls(e,f+5,31)+1;f+=14;for(var O=new Wn(S),M=new Wn(19),I=0;I<_;++I)M[Fx[I]]=Ls(e,f+I*3,7);f+=_*3;for(var D=$g(M),L=(1<<D)-1,N=go(M,D,1),I=0;I<S;){var P=N[Ls(e,f,L)];f+=P&15;var E=P>>4;if(E<16)O[I++]=E;else{var Q=0,J=0;for(E==16?(J=3+Ls(e,f,3),f+=2,Q=O[I-1]):E==17?(J=3+Ls(e,f,7),f+=3):E==18&&(J=11+Ls(e,f,127),f+=7);J--;)O[I++]=Q}}var te=O.subarray(0,T),V=O.subarray(T);h=$g(te),y=$g(V),u=go(te,h,1),g=go(V,y,1)}else Qs(1);else{var E=Ny(f)+4,R=e[E-4]|e[E-3]<<8,b=E+R;if(b>n){l&&Qs(0);break}A&&c(p+R),r.set(e.subarray(E,b),p),t.b=p+=R,t.p=f=b*8,t.f=d;continue}if(f>x){l&&Qs(0);break}}A&&c(p+131072);for(var G=(1<<h)-1,z=(1<<y)-1,C=f;;C=f){var Q=u[Yg(e,f)&G],k=Q>>4;if(f+=Q&15,f>x){l&&Qs(0);break}if(Q||Qs(2),k<256)r[p++]=k;else if(k==256){C=f,u=null;break}else{var j=k-254;if(k>264){var I=k-257,H=Tm[I];j=Ls(e,f,(1<<H)-1)+UC[I],f+=H}var Y=g[Yg(e,f)&z],de=Y>>4;Y||Qs(3),f+=Y&15;var V=KP[de];if(de>3){var H=Om[de];V+=Yg(e,f)&(1<<H)-1,f+=H}if(f>x){l&&Qs(0);break}A&&c(p+131072);var ue=p+j;if(p<V){var he=s-V,xe=Math.min(V,ue);for(he+p<0&&Qs(3);p<xe;++p)r[p]=a[he+p]}for(;p<ue;++p)r[p]=r[p-V]}}t.l=u,t.p=C,t.b=p,t.f=d,u&&(d=1,t.m=h,t.d=g,t.n=y)}while(!d);return p!=r.length&&o?PC(r,0,p):r.subarray(0,p)},Uo=function(e,t,r){r<<=t&7;var a=t/8|0;e[a]|=r,e[a+1]|=r>>8},Ou=function(e,t,r){r<<=t&7;var a=t/8|0;e[a]|=r,e[a+1]|=r>>8,e[a+2]|=r>>16},Wg=function(e,t){for(var r=[],a=0;a<e.length;++a)e[a]&&r.push({s:a,f:e[a]});var n=r.length,s=r.slice();if(!n)return{t:qC,l:0};if(n==1){var o=new Wn(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(b,T){return b.f-T.f}),r.push({s:-1,f:25001});var A=r[0],l=r[1],c=0,d=1,f=2;for(r[0]={s:-1,f:A.f+l.f,l:A,r:l};d!=n-1;)A=r[r[c].f<r[f].f?c++:f++],l=r[c!=d&&r[c].f<r[f].f?c++:f++],r[d++]={s:-1,f:A.f+l.f,l:A,r:l};for(var p=s[0].s,a=1;a<n;++a)s[a].s>p&&(p=s[a].s);var u=new Ji(p+1),g=Dx(r[d-1],u,0);if(g>t){var a=0,h=0,y=g-t,x=1<<y;for(s.sort(function(T,_){return u[_.s]-u[T.s]||T.f-_.f});a<n;++a){var v=s[a].s;if(u[v]>t)h+=x-(1<<g-u[v]),u[v]=t;else break}for(h>>=y;h>0;){var E=s[a].s;u[E]<t?h-=1<<t-u[E]++-1:++a}for(;a>=0&&h;--a){var R=s[a].s;u[R]==t&&(--u[R],++h)}g=t}return{t:new Wn(u),l:g}},Dx=function(e,t,r){return e.s==-1?Math.max(Dx(e.l,t,r+1),Dx(e.r,t,r+1)):t[e.s]=r},dw=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Ji(++t),a=0,n=e[0],s=1,o=function(l){r[a++]=l},A=1;A<=t;++A)if(e[A]==n&&A!=t)++s;else{if(!n&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(n),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(n);s=1,n=e[A]}return{c:r.subarray(0,a),n:t}},Iu=function(e,t){for(var r=0,a=0;a<t.length;++a)r+=e[a]*t[a];return r},QC=function(e,t,r){var a=r.length,n=Ny(t+2);e[n]=a&255,e[n+1]=a>>8,e[n+2]=e[n]^255,e[n+3]=e[n+1]^255;for(var s=0;s<a;++s)e[n+s+4]=r[s];return(n+4+a)*8},uw=function(e,t,r,a,n,s,o,A,l,c,d){Uo(t,d++,r),++n[256];for(var f=Wg(n,15),p=f.t,u=f.l,g=Wg(s,15),h=g.t,y=g.l,x=dw(p),v=x.c,E=x.n,R=dw(h),b=R.c,T=R.n,_=new Ji(19),S=0;S<v.length;++S)++_[v[S]&31];for(var S=0;S<b.length;++S)++_[b[S]&31];for(var O=Wg(_,7),M=O.t,I=O.l,D=19;D>4&&!M[Fx[D-1]];--D);var L=c+5<<3,N=Iu(n,ll)+Iu(s,Yf)+o,P=Iu(n,p)+Iu(s,h)+o+14+3*D+Iu(_,M)+2*_[16]+3*_[17]+7*_[18];if(l>=0&&L<=N&&L<=P)return QC(t,d,e.subarray(l,l+c));var Q,J,te,V;if(Uo(t,d,1+(P<N)),d+=2,P<N){Q=go(p,u,0),J=p,te=go(h,y,0),V=h;var G=go(M,I,0);Uo(t,d,E-257),Uo(t,d+5,T-1),Uo(t,d+10,D-4),d+=14;for(var S=0;S<D;++S)Uo(t,d+3*S,M[Fx[S]]);d+=3*D;for(var z=[v,b],C=0;C<2;++C)for(var k=z[C],S=0;S<k.length;++S){var j=k[S]&31;Uo(t,d,G[j]),d+=M[j],j>15&&(Uo(t,d,k[S]>>5&127),d+=k[S]>>12)}}else Q=HP,J=ll,te=zP,V=Yf;for(var S=0;S<A;++S){var H=a[S];if(H>255){var j=H>>18&31;Ou(t,d,Q[j+257]),d+=J[j+257],j>7&&(Uo(t,d,H>>23&31),d+=Tm[j]);var Y=H&31;Ou(t,d,te[Y]),d+=V[Y],Y>3&&(Ou(t,d,H>>5&8191),d+=Om[Y])}else Ou(t,d,Q[H]),d+=J[H]}return Ou(t,d,Q[256]),d+J[256]},WP=new Iy([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),qC=new Wn(0),XP=function(e,t,r,a,n,s){var o=s.z||e.length,A=new Wn(a+o+5*(1+Math.ceil(o/7e3))+n),l=A.subarray(a,A.length-n),c=s.l,d=(s.r||0)&7;if(t){d&&(l[0]=s.r>>3);for(var f=WP[t-1],p=f>>13,u=f&8191,g=(1<<r)-1,h=s.p||new Ji(32768),y=s.h||new Ji(g+1),x=Math.ceil(r/3),v=2*x,E=function(Ee){return(e[Ee]^e[Ee+1]<<x^e[Ee+2]<<v)&g},R=new Iy(25e3),b=new Ji(288),T=new Ji(32),_=0,S=0,O=s.i||0,M=0,I=s.w||0,D=0;O+2<o;++O){var L=E(O),N=O&32767,P=y[L];if(h[N]=P,y[L]=N,I<=O){var Q=o-O;if((_>7e3||M>24576)&&(Q>423||!c)){d=uw(e,l,0,R,b,T,S,M,D,O-D,d),M=_=S=0,D=O;for(var J=0;J<286;++J)b[J]=0;for(var J=0;J<30;++J)T[J]=0}var te=2,V=0,G=u,z=N-P&32767;if(Q>2&&L==E(O-z))for(var C=Math.min(p,Q)-1,k=Math.min(32767,O),j=Math.min(258,Q);z<=k&&--G&&N!=P;){if(e[O+te]==e[O+te-z]){for(var H=0;H<j&&e[O+H]==e[O+H-z];++H);if(H>te){if(te=H,V=z,H>C)break;for(var Y=Math.min(z,H-2),de=0,J=0;J<Y;++J){var ue=O-z+J&32767,he=h[ue],xe=ue-he&32767;xe>de&&(de=xe,P=ue)}}}N=P,P=h[N],z+=N-P&32767}if(V){R[M++]=268435456|Rx[te]<<18|cw[V];var ve=Rx[te]&31,se=cw[V]&31;S+=Tm[ve]+Om[se],++b[257+ve],++T[se],I=O+te,++_}else R[M++]=e[O],++b[e[O]]}}for(O=Math.max(O,I);O<o;++O)R[M++]=e[O],++b[e[O]];d=uw(e,l,c,R,b,T,S,M,D,O-D,d),c||(s.r=d&7|l[d/8|0]<<3,d-=7,s.h=y,s.p=h,s.i=O,s.w=I)}else{for(var O=s.w||0;O<o+c;O+=65535){var Ke=O+65535;Ke>=o&&(l[d/8|0]=c,Ke=o),d=QC(l,d+1,e.subarray(O,Ke))}s.i=o}return PC(A,0,a+Ny(d)+n)},KC=function(){var e=1,t=0;return{p:function(r){for(var a=e,n=t,s=r.length|0,o=0;o!=s;){for(var A=Math.min(o+2655,s);o<A;++o)n+=a+=r[o];a=(a&65535)+15*(a>>16),n=(n&65535)+15*(n>>16)}e=a,t=n},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},JP=function(e,t,r,a,n){if(!n&&(n={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new Wn(s.length+e.length);o.set(s),o.set(e,s.length),e=o,n.w=s.length}return XP(e,t.level==null?6:t.level,t.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,a,n)},HC=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},ZP=function(e,t){var r=t.level,a=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=a<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var n=KC();n.p(t.dictionary),HC(e,2,n.d())}},e9=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Qs(6,"invalid zlib data"),(e[1]>>5&1)==1&&Qs(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function jx(e,t){t||(t={});var r=KC();r.p(e);var a=JP(e,t,t.dictionary?6:2,4);return ZP(a,t),HC(a,a.length-4,r.d()),a}function t9(e,t){return YP(e.subarray(e9(e),-4),{i:2},t,t)}var r9=typeof TextDecoder<"u"&&new TextDecoder,a9=0;try{r9.decode(qC,{stream:!0}),a9=1}catch{}var zt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Xg(){zt.console&&typeof zt.console.log=="function"&&zt.console.log.apply(zt.console,arguments)}var Yr={log:Xg,warn:function(e){zt.console&&(typeof zt.console.warn=="function"?zt.console.warn.apply(zt.console,arguments):Xg.call(null,arguments))},error:function(e){zt.console&&(typeof zt.console.error=="function"?zt.console.error.apply(zt.console,arguments):Xg(e))}};function Jg(e,t,r){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){Dl(a.response,t,r)},a.onerror=function(){Yr.error("could not download file")},a.send()}function fw(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function gp(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var xf,Lx,Dl=zt.saveAs||((typeof window>"u"?"undefined":Zr(window))!=="object"||window!==zt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var a=zt.URL||zt.webkitURL,n=document.createElement("a");t=t||e.name||"download",n.download=t,n.rel="noopener",typeof e=="string"?(n.href=e,n.origin!==location.origin?fw(n.href)?Jg(e,t,r):gp(n,n.target="_blank"):gp(n)):(n.href=a.createObjectURL(e),setTimeout(function(){a.revokeObjectURL(n.href)},4e4),setTimeout(function(){gp(n)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(fw(e))Jg(e,t,r);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){gp(a)})}else navigator.msSaveOrOpenBlob(function(n,s){return s===void 0?s={autoBom:!1}:Zr(s)!=="object"&&(Yr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n}(e,r),t)}:function(e,t,r,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof e=="string")return Jg(e,t,r);var n=e.type==="application/octet-stream",s=/constructor/i.test(zt.HTMLElement)||zt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||n&&s)&&(typeof FileReader>"u"?"undefined":Zr(FileReader))==="object"){var A=new FileReader;A.onloadend=function(){var d=A.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=d:location=d,a=null},A.readAsDataURL(e)}else{var l=zt.URL||zt.webkitURL,c=l.createObjectURL(e);a?a.location=c:location.href=c,a=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function GC(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(A){return[parseInt(A[1]),parseInt(A[2]),parseInt(A[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(A){return[parseInt(A[1],16),parseInt(A[2],16),parseInt(A[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(A){return[parseInt(A[1]+A[1],16),parseInt(A[2]+A[2],16),parseInt(A[3]+A[3],16)]}}],a=0;a<r.length;a++){var n=r[a].re,s=r[a].process,o=n.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var A=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return A.length==1&&(A="0"+A),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+A+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Zg(e,t){var r=e[0],a=e[1],n=e[2],s=e[3];r=Un(r,a,n,s,t[0],7,-680876936),s=Un(s,r,a,n,t[1],12,-389564586),n=Un(n,s,r,a,t[2],17,606105819),a=Un(a,n,s,r,t[3],22,-1044525330),r=Un(r,a,n,s,t[4],7,-176418897),s=Un(s,r,a,n,t[5],12,1200080426),n=Un(n,s,r,a,t[6],17,-1473231341),a=Un(a,n,s,r,t[7],22,-45705983),r=Un(r,a,n,s,t[8],7,1770035416),s=Un(s,r,a,n,t[9],12,-1958414417),n=Un(n,s,r,a,t[10],17,-42063),a=Un(a,n,s,r,t[11],22,-1990404162),r=Un(r,a,n,s,t[12],7,1804603682),s=Un(s,r,a,n,t[13],12,-40341101),n=Un(n,s,r,a,t[14],17,-1502002290),r=Mn(r,a=Un(a,n,s,r,t[15],22,1236535329),n,s,t[1],5,-165796510),s=Mn(s,r,a,n,t[6],9,-1069501632),n=Mn(n,s,r,a,t[11],14,643717713),a=Mn(a,n,s,r,t[0],20,-373897302),r=Mn(r,a,n,s,t[5],5,-701558691),s=Mn(s,r,a,n,t[10],9,38016083),n=Mn(n,s,r,a,t[15],14,-660478335),a=Mn(a,n,s,r,t[4],20,-405537848),r=Mn(r,a,n,s,t[9],5,568446438),s=Mn(s,r,a,n,t[14],9,-1019803690),n=Mn(n,s,r,a,t[3],14,-187363961),a=Mn(a,n,s,r,t[8],20,1163531501),r=Mn(r,a,n,s,t[13],5,-1444681467),s=Mn(s,r,a,n,t[2],9,-51403784),n=Mn(n,s,r,a,t[7],14,1735328473),r=Pn(r,a=Mn(a,n,s,r,t[12],20,-1926607734),n,s,t[5],4,-378558),s=Pn(s,r,a,n,t[8],11,-2022574463),n=Pn(n,s,r,a,t[11],16,1839030562),a=Pn(a,n,s,r,t[14],23,-35309556),r=Pn(r,a,n,s,t[1],4,-1530992060),s=Pn(s,r,a,n,t[4],11,1272893353),n=Pn(n,s,r,a,t[7],16,-155497632),a=Pn(a,n,s,r,t[10],23,-1094730640),r=Pn(r,a,n,s,t[13],4,681279174),s=Pn(s,r,a,n,t[0],11,-358537222),n=Pn(n,s,r,a,t[3],16,-722521979),a=Pn(a,n,s,r,t[6],23,76029189),r=Pn(r,a,n,s,t[9],4,-640364487),s=Pn(s,r,a,n,t[12],11,-421815835),n=Pn(n,s,r,a,t[15],16,530742520),r=Qn(r,a=Pn(a,n,s,r,t[2],23,-995338651),n,s,t[0],6,-198630844),s=Qn(s,r,a,n,t[7],10,1126891415),n=Qn(n,s,r,a,t[14],15,-1416354905),a=Qn(a,n,s,r,t[5],21,-57434055),r=Qn(r,a,n,s,t[12],6,1700485571),s=Qn(s,r,a,n,t[3],10,-1894986606),n=Qn(n,s,r,a,t[10],15,-1051523),a=Qn(a,n,s,r,t[1],21,-2054922799),r=Qn(r,a,n,s,t[8],6,1873313359),s=Qn(s,r,a,n,t[15],10,-30611744),n=Qn(n,s,r,a,t[6],15,-1560198380),a=Qn(a,n,s,r,t[13],21,1309151649),r=Qn(r,a,n,s,t[4],6,-145523070),s=Qn(s,r,a,n,t[11],10,-1120210379),n=Qn(n,s,r,a,t[2],15,718787259),a=Qn(a,n,s,r,t[9],21,-343485551),e[0]=HA(r,e[0]),e[1]=HA(a,e[1]),e[2]=HA(n,e[2]),e[3]=HA(s,e[3])}function Im(e,t,r,a,n,s){return t=HA(HA(t,e),HA(a,s)),HA(t<<n|t>>>32-n,r)}function Un(e,t,r,a,n,s,o){return Im(t&r|~t&a,e,t,n,s,o)}function Mn(e,t,r,a,n,s,o){return Im(t&a|r&~a,e,t,n,s,o)}function Pn(e,t,r,a,n,s,o){return Im(t^r^a,e,t,n,s,o)}function Qn(e,t,r,a,n,s,o){return Im(r^(t|~a),e,t,n,s,o)}function zC(e){var t,r=e.length,a=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Zg(a,n9(e.substring(t-64,t)));e=e.substring(t-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(Zg(a,n),t=0;t<16;t++)n[t]=0;return n[14]=8*r,Zg(a,n),a}function n9(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}xf=zt.atob.bind(zt),Lx=zt.btoa.bind(zt);var pw="0123456789abcdef".split("");function i9(e){for(var t="",r=0;r<4;r++)t+=pw[e>>8*r+4&15]+pw[e>>8*r&15];return t}function s9(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Ux(e){return zC(e).map(s9).join("")}var o9=function(e){for(var t=0;t<e.length;t++)e[t]=i9(e[t]);return e.join("")}(zC("hello"))!="5d41402abc4b2a76b9719d911017c592";function HA(e,t){if(o9){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Mx(e,t){var r,a,n,s;if(e!==r){for(var o=(n=e,s=1+(256/e.length>>0),new Array(s+1).join(n)),A=[],l=0;l<256;l++)A[l]=l;var c=0;for(l=0;l<256;l++){var d=A[l];c=(c+d+o.charCodeAt(l))%256,A[l]=A[c],A[c]=d}r=e,a=A}else A=a;var f=t.length,p=0,u=0,g="";for(l=0;l<f;l++)u=(u+(d=A[p=(p+1)%256]))%256,A[p]=A[u],A[u]=d,o=A[(A[p]+A[u])%256],g+=String.fromCharCode(t.charCodeAt(l)^o);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var hw={print:4,modify:8,copy:16,"annot-forms":32};function md(e,t,r,a){this.v=1,this.r=2;var n=192;e.forEach(function(A){if(hw.perm!==void 0)throw new Error("Invalid permission: "+A);n+=hw[A]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^n)),this.encryptionKey=Ux(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=Mx(this.encryptionKey,this.padding)}function gd(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,a=0;a<r;a++){var n=e.charCodeAt(a);n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?t+="#"+("0"+n.toString(16)).slice(-2):t+=e[a]}return t}function mw(e){if(Zr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,a,n){if(n=n||!1,typeof r!="string"||typeof a!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var s=Math.random().toString(35);return t[r][s]=[a,!!n],s},this.unsubscribe=function(r){for(var a in t)if(t[a][r])return delete t[a][r],Object.keys(t[a]).length===0&&delete t[a],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var a=Array.prototype.slice.call(arguments,1),n=[];for(var s in t[r]){var o=t[r][s];try{o[0].apply(e,a)}catch(A){zt.console&&Yr.error("jsPDF PubSub Error",A.message,A)}o[1]&&n.push(s)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function qh(e){if(!(this instanceof qh))return new qh(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function VC(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Ll(e,t,r,a,n){if(!(this instanceof Ll))return new Ll(e,t,r,a,n);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,VC.call(this,a,n)}function bd(e,t,r,a,n){if(!(this instanceof bd))return new bd(e,t,r,a,n);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,VC.call(this,a,n)}function Gt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],n=arguments[2],s=arguments[3],o=[],A=1,l=16,c="S",d=null;Zr(e=e||{})==="object"&&(r=e.orientation,a=e.unit||a,n=e.format||n,s=e.compress||e.compressPdf||s,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),A=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),a=a||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,p={},u={internal:{},__private__:{}};u.__private__.PubSub=mw;var g="1.3",h=u.__private__.getPdfVersion=function(){return g};u.__private__.setPdfVersion=function(B){g=B};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};u.__private__.getPageFormats=function(){return y};var x=u.__private__.getPageFormat=function(B){return y[B]};n=n||"a4";var v={COMPAT:"compat",ADVANCED:"advanced"},E=v.COMPAT;function R(){this.saveGraphicsState(),ce(new Pt(lt,0,0,-lt,0,cA()*lt).toString()+" cm"),this.setFontSize(this.getFontSize()/lt),c="n",E=v.ADVANCED}function b(){this.restoreGraphicsState(),c="S",E=v.COMPAT}var T=u.__private__.combineFontStyleAndFontWeight=function(B,Z){if(B=="bold"&&Z=="normal"||B=="bold"&&Z==400||B=="normal"&&Z=="italic"||B=="bold"&&Z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Z&&(B=Z==400||Z==="normal"?B==="italic"?"italic":"normal":Z!=700&&Z!=="bold"||B!=="normal"?(Z==700?"bold":Z)+""+B:"bold"),B};u.advancedAPI=function(B){var Z=E===v.COMPAT;return Z&&R.call(this),typeof B!="function"||(B(this),Z&&b.call(this)),this},u.compatAPI=function(B){var Z=E===v.ADVANCED;return Z&&b.call(this),typeof B!="function"||(B(this),Z&&R.call(this)),this},u.isAdvancedAPI=function(){return E===v.ADVANCED};var _,S=function(B){if(E!==v.ADVANCED)throw new Error(B+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=u.roundToPrecision=u.__private__.roundToPrecision=function(B,Z){var ge=t||Z;if(isNaN(B)||isNaN(ge))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return B.toFixed(ge).replace(/0+$/,"")};_=u.hpf=u.__private__.hpf=typeof l=="number"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return O(B,l)}:l==="smart"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return O(B,B>-1&&B<1?16:5)}:function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return O(B,16)};var M=u.f2=u.__private__.f2=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f2");return O(B,2)},I=u.__private__.f3=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f3");return O(B,3)},D=u.scale=u.__private__.scale=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.scale");return E===v.COMPAT?B*lt:E===v.ADVANCED?B:void 0},L=function(B){return E===v.COMPAT?cA()-B:E===v.ADVANCED?B:void 0},N=function(B){return D(L(B))};u.__private__.setPrecision=u.setPrecision=function(B){typeof parseInt(B,10)=="number"&&(t=parseInt(B,10))};var P,Q="00000000000000000000000000000000",J=u.__private__.getFileId=function(){return Q},te=u.__private__.setFileId=function(B){return Q=B!==void 0&&/^[a-fA-F0-9]{32}$/.test(B)?B.toUpperCase():Q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Dn=new md(d.userPermissions,d.userPassword,d.ownerPassword,Q)),Q};u.setFileId=function(B){return te(B),this},u.getFileId=function(){return J()};var V=u.__private__.convertDateToPDFDate=function(B){var Z=B.getTimezoneOffset(),ge=Z<0?"+":"-",Be=Math.floor(Math.abs(Z/60)),Pe=Math.abs(Z%60),Xe=[ge,j(Be),"'",j(Pe),"'"].join("");return["D:",B.getFullYear(),j(B.getMonth()+1),j(B.getDate()),j(B.getHours()),j(B.getMinutes()),j(B.getSeconds()),Xe].join("")},G=u.__private__.convertPDFDateToDate=function(B){var Z=parseInt(B.substr(2,4),10),ge=parseInt(B.substr(6,2),10)-1,Be=parseInt(B.substr(8,2),10),Pe=parseInt(B.substr(10,2),10),Xe=parseInt(B.substr(12,2),10),At=parseInt(B.substr(14,2),10);return new Date(Z,ge,Be,Pe,Xe,At,0)},z=u.__private__.setCreationDate=function(B){var Z;if(B===void 0&&(B=new Date),B instanceof Date)Z=V(B);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(B))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Z=B}return P=Z},C=u.__private__.getCreationDate=function(B){var Z=P;return B==="jsDate"&&(Z=G(P)),Z};u.setCreationDate=function(B){return z(B),this},u.getCreationDate=function(B){return C(B)};var k,j=u.__private__.padd2=function(B){return("0"+parseInt(B)).slice(-2)},H=u.__private__.padd2Hex=function(B){return("00"+(B=B.toString())).substr(B.length)},Y=0,de=[],ue=[],he=0,xe=[],ve=[],se=!1,Ke=ue,Ee=function(){Y=0,he=0,ue=[],de=[],xe=[],ee=na(),oe=na()};u.__private__.setCustomOutputDestination=function(B){se=!0,Ke=B};var pe=function(B){se||(Ke=B)};u.__private__.resetCustomOutputDestination=function(){se=!1,Ke=ue};var ce=u.__private__.out=function(B){return B=B.toString(),he+=B.length+1,Ke.push(B),Ke},He=u.__private__.write=function(B){return ce(arguments.length===1?B.toString():Array.prototype.join.call(arguments," "))},Ze=u.__private__.getArrayBuffer=function(B){for(var Z=B.length,ge=new ArrayBuffer(Z),Be=new Uint8Array(ge);Z--;)Be[Z]=B.charCodeAt(Z);return ge},Ye=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];u.__private__.getStandardFonts=function(){return Ye};var tt=e.fontSize||16;u.__private__.setFontSize=u.setFontSize=function(B){return tt=E===v.ADVANCED?B/lt:B,this};var je,_e=u.__private__.getFontSize=u.getFontSize=function(){return E===v.COMPAT?tt:tt*lt},ct=e.R2L||!1;u.__private__.setR2L=u.setR2L=function(B){return ct=B,this},u.__private__.getR2L=u.getR2L=function(){return ct};var _t,St=u.__private__.setZoomMode=function(B){var Z=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(B))je=B;else if(isNaN(B)){if(Z.indexOf(B)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+B+'" is not recognized.');je=B}else je=parseInt(B,10)};u.__private__.getZoomMode=function(){return je};var Et,Ft=u.__private__.setPageMode=function(B){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(B)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+B+'" is not recognized.');_t=B};u.__private__.getPageMode=function(){return _t};var Lt=u.__private__.setLayoutMode=function(B){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(B)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+B+'" is not recognized.');Et=B};u.__private__.getLayoutMode=function(){return Et},u.__private__.setDisplayMode=u.setDisplayMode=function(B,Z,ge){return St(B),Lt(Z),Ft(ge),this};var bt={title:"",subject:"",author:"",keywords:"",creator:""};u.__private__.getDocumentProperty=function(B){if(Object.keys(bt).indexOf(B)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return bt[B]},u.__private__.getDocumentProperties=function(){return bt},u.__private__.setDocumentProperties=u.setProperties=u.setDocumentProperties=function(B){for(var Z in bt)bt.hasOwnProperty(Z)&&B[Z]&&(bt[Z]=B[Z]);return this},u.__private__.setDocumentProperty=function(B,Z){if(Object.keys(bt).indexOf(B)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return bt[B]=Z};var ft,lt,Er,jt,Fr,fr={},yt={},hr=[],Jt={},ln={},jr={},ai={},Di=null,Lr=0,$t=[],yr=new mw(u),Is=e.hotfixes||[],ya={},ni={},Ei=[],Pt=function B(Z,ge,Be,Pe,Xe,At){if(!(this instanceof B))return new B(Z,ge,Be,Pe,Xe,At);isNaN(Z)&&(Z=1),isNaN(ge)&&(ge=0),isNaN(Be)&&(Be=0),isNaN(Pe)&&(Pe=1),isNaN(Xe)&&(Xe=0),isNaN(At)&&(At=0),this._matrix=[Z,ge,Be,Pe,Xe,At]};Object.defineProperty(Pt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(Pt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(Pt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(Pt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(Pt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(Pt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(Pt.prototype,"a",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(Pt.prototype,"b",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(Pt.prototype,"c",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(Pt.prototype,"d",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(Pt.prototype,"e",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(Pt.prototype,"f",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(Pt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Pt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Pt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Pt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Pt.prototype.join=function(B){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(_).join(B)},Pt.prototype.multiply=function(B){var Z=B.sx*this.sx+B.shy*this.shx,ge=B.sx*this.shy+B.shy*this.sy,Be=B.shx*this.sx+B.sy*this.shx,Pe=B.shx*this.shy+B.sy*this.sy,Xe=B.tx*this.sx+B.ty*this.shx+this.tx,At=B.tx*this.shy+B.ty*this.sy+this.ty;return new Pt(Z,ge,Be,Pe,Xe,At)},Pt.prototype.decompose=function(){var B=this.sx,Z=this.shy,ge=this.shx,Be=this.sy,Pe=this.tx,Xe=this.ty,At=Math.sqrt(B*B+Z*Z),Bt=(B/=At)*ge+(Z/=At)*Be;ge-=B*Bt,Be-=Z*Bt;var Mt=Math.sqrt(ge*ge+Be*Be);return Bt/=Mt,B*(Be/=Mt)<Z*(ge/=Mt)&&(B=-B,Z=-Z,Bt=-Bt,At=-At),{scale:new Pt(At,0,0,Mt,0,0),translate:new Pt(1,0,0,1,Pe,Xe),rotate:new Pt(B,Z,-Z,B,0,0),skew:new Pt(1,0,Bt,1,0,0)}},Pt.prototype.toString=function(B){return this.join(" ")},Pt.prototype.inversed=function(){var B=this.sx,Z=this.shy,ge=this.shx,Be=this.sy,Pe=this.tx,Xe=this.ty,At=1/(B*Be-Z*ge),Bt=Be*At,Mt=-Z*At,ar=-ge*At,Zt=B*At;return new Pt(Bt,Mt,ar,Zt,-Bt*Pe-ar*Xe,-Mt*Pe-Zt*Xe)},Pt.prototype.applyToPoint=function(B){var Z=B.x*this.sx+B.y*this.shx+this.tx,ge=B.x*this.shy+B.y*this.sy+this.ty;return new Ic(Z,ge)},Pt.prototype.applyToRectangle=function(B){var Z=this.applyToPoint(B),ge=this.applyToPoint(new Ic(B.x+B.w,B.y+B.h));return new ou(Z.x,Z.y,ge.x-Z.x,ge.y-Z.y)},Pt.prototype.clone=function(){var B=this.sx,Z=this.shy,ge=this.shx,Be=this.sy,Pe=this.tx,Xe=this.ty;return new Pt(B,Z,ge,Be,Pe,Xe)},u.Matrix=Pt;var va=u.matrixMult=function(B,Z){return Z.multiply(B)},kn=new Pt(1,0,0,1,0,0);u.unitMatrix=u.identityMatrix=kn;var Na=function(B,Z){if(!ln[B]){var ge=(Z instanceof Ll?"Sh":"P")+(Object.keys(Jt).length+1).toString(10);Z.id=ge,ln[B]=ge,Jt[ge]=Z,yr.publish("addPattern",Z)}};u.ShadingPattern=Ll,u.TilingPattern=bd,u.addShadingPattern=function(B,Z){return S("addShadingPattern()"),Na(B,Z),this},u.beginTilingPattern=function(B){S("beginTilingPattern()"),S0(B.boundingBox[0],B.boundingBox[1],B.boundingBox[2]-B.boundingBox[0],B.boundingBox[3]-B.boundingBox[1],B.matrix)},u.endTilingPattern=function(B,Z){S("endTilingPattern()"),Z.stream=ve[k].join(`
`),Na(B,Z),yr.publish("endTilingPattern",Z),Ei.pop().restore()};var da=u.__private__.newObject=function(){var B=na();return U(B,!0),B},na=u.__private__.newObjectDeferred=function(){return Y++,de[Y]=function(){return he},Y},U=function(B,Z){return Z=typeof Z=="boolean"&&Z,de[B]=he,Z&&ce(B+" 0 obj"),B},W=u.__private__.newAdditionalObject=function(){var B={objId:na(),content:""};return xe.push(B),B},ee=na(),oe=na(),re=u.__private__.decodeColorString=function(B){var Z=B.split(" ");if(Z.length!==2||Z[1]!=="g"&&Z[1]!=="G")Z.length===5&&(Z[4]==="k"||Z[4]==="K")&&(Z=[(1-Z[0])*(1-Z[3]),(1-Z[1])*(1-Z[3]),(1-Z[2])*(1-Z[3]),"r"]);else{var ge=parseFloat(Z[0]);Z=[ge,ge,ge,"r"]}for(var Be="#",Pe=0;Pe<3;Pe++)Be+=("0"+Math.floor(255*parseFloat(Z[Pe])).toString(16)).slice(-2);return Be},le=u.__private__.encodeColorString=function(B){var Z;typeof B=="string"&&(B={ch1:B});var ge=B.ch1,Be=B.ch2,Pe=B.ch3,Xe=B.ch4,At=B.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ge=="string"&&ge.charAt(0)!=="#"){var Bt=new GC(ge);if(Bt.ok)ge=Bt.toHex();else if(!/^\d*\.?\d*$/.test(ge))throw new Error('Invalid color "'+ge+'" passed to jsPDF.encodeColorString.')}if(typeof ge=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ge)&&(ge="#"+ge[1]+ge[1]+ge[2]+ge[2]+ge[3]+ge[3]),typeof ge=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ge)){var Mt=parseInt(ge.substr(1),16);ge=Mt>>16&255,Be=Mt>>8&255,Pe=255&Mt}if(Be===void 0||Xe===void 0&&ge===Be&&Be===Pe)if(typeof ge=="string")Z=ge+" "+At[0];else switch(B.precision){case 2:Z=M(ge/255)+" "+At[0];break;case 3:default:Z=I(ge/255)+" "+At[0]}else if(Xe===void 0||Zr(Xe)==="object"){if(Xe&&!isNaN(Xe.a)&&Xe.a===0)return Z=["1.","1.","1.",At[1]].join(" ");if(typeof ge=="string")Z=[ge,Be,Pe,At[1]].join(" ");else switch(B.precision){case 2:Z=[M(ge/255),M(Be/255),M(Pe/255),At[1]].join(" ");break;default:case 3:Z=[I(ge/255),I(Be/255),I(Pe/255),At[1]].join(" ")}}else if(typeof ge=="string")Z=[ge,Be,Pe,Xe,At[2]].join(" ");else switch(B.precision){case 2:Z=[M(ge),M(Be),M(Pe),M(Xe),At[2]].join(" ");break;case 3:default:Z=[I(ge),I(Be),I(Pe),I(Xe),At[2]].join(" ")}return Z},we=u.__private__.getFilters=function(){return o},Ue=u.__private__.putStream=function(B){var Z=(B=B||{}).data||"",ge=B.filters||we(),Be=B.alreadyAppliedFilters||[],Pe=B.addLength1||!1,Xe=Z.length,At=B.objectId,Bt=function(jn){return jn};if(d!==null&&At===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Bt=Dn.encryptor(At,0));var Mt={};ge===!0&&(ge=["FlateEncode"]);var ar=B.additionalKeyValues||[],Zt=(Mt=Gt.API.processDataByFilters!==void 0?Gt.API.processDataByFilters(Z,ge):{data:Z,reverseChain:[]}).reverseChain+(Array.isArray(Be)?Be.join(" "):Be.toString());if(Mt.data.length!==0&&(ar.push({key:"Length",value:Mt.data.length}),Pe===!0&&ar.push({key:"Length1",value:Xe})),Zt.length!=0)if(Zt.split("/").length-1==1)ar.push({key:"Filter",value:Zt});else{ar.push({key:"Filter",value:"["+Zt+"]"});for(var br=0;br<ar.length;br+=1)if(ar[br].key==="DecodeParms"){for(var ga=[],wa=0;wa<Mt.reverseChain.split("/").length-1;wa+=1)ga.push("null");ga.push(ar[br].value),ar[br].value="["+ga.join(" ")+"]"}}ce("<<");for(var Ha=0;Ha<ar.length;Ha++)ce("/"+ar[Ha].key+" "+ar[Ha].value);ce(">>"),Mt.data.length!==0&&(ce("stream"),ce(Bt(Mt.data)),ce("endstream"))},Ne=u.__private__.putPage=function(B){var Z=B.number,ge=B.data,Be=B.objId,Pe=B.contentsObjId;U(Be,!0),ce("<</Type /Page"),ce("/Parent "+B.rootDictionaryObjId+" 0 R"),ce("/Resources "+B.resourceDictionaryObjId+" 0 R"),ce("/MediaBox ["+parseFloat(_(B.mediaBox.bottomLeftX))+" "+parseFloat(_(B.mediaBox.bottomLeftY))+" "+_(B.mediaBox.topRightX)+" "+_(B.mediaBox.topRightY)+"]"),B.cropBox!==null&&ce("/CropBox ["+_(B.cropBox.bottomLeftX)+" "+_(B.cropBox.bottomLeftY)+" "+_(B.cropBox.topRightX)+" "+_(B.cropBox.topRightY)+"]"),B.bleedBox!==null&&ce("/BleedBox ["+_(B.bleedBox.bottomLeftX)+" "+_(B.bleedBox.bottomLeftY)+" "+_(B.bleedBox.topRightX)+" "+_(B.bleedBox.topRightY)+"]"),B.trimBox!==null&&ce("/TrimBox ["+_(B.trimBox.bottomLeftX)+" "+_(B.trimBox.bottomLeftY)+" "+_(B.trimBox.topRightX)+" "+_(B.trimBox.topRightY)+"]"),B.artBox!==null&&ce("/ArtBox ["+_(B.artBox.bottomLeftX)+" "+_(B.artBox.bottomLeftY)+" "+_(B.artBox.topRightX)+" "+_(B.artBox.topRightY)+"]"),typeof B.userUnit=="number"&&B.userUnit!==1&&ce("/UserUnit "+B.userUnit),yr.publish("putPage",{objId:Be,pageContext:$t[Z],pageNumber:Z,page:ge}),ce("/Contents "+Pe+" 0 R"),ce(">>"),ce("endobj");var Xe=ge.join(`
`);return E===v.ADVANCED&&(Xe+=`
Q`),U(Pe,!0),Ue({data:Xe,filters:we(),objectId:Pe}),ce("endobj"),Be},Se=u.__private__.putPages=function(){var B,Z,ge=[];for(B=1;B<=Lr;B++)$t[B].objId=na(),$t[B].contentsObjId=na();for(B=1;B<=Lr;B++)ge.push(Ne({number:B,data:ve[B],objId:$t[B].objId,contentsObjId:$t[B].contentsObjId,mediaBox:$t[B].mediaBox,cropBox:$t[B].cropBox,bleedBox:$t[B].bleedBox,trimBox:$t[B].trimBox,artBox:$t[B].artBox,userUnit:$t[B].userUnit,rootDictionaryObjId:ee,resourceDictionaryObjId:oe}));U(ee,!0),ce("<</Type /Pages");var Be="/Kids [";for(Z=0;Z<Lr;Z++)Be+=ge[Z]+" 0 R ";ce(Be+"]"),ce("/Count "+Lr),ce(">>"),ce("endobj"),yr.publish("postPutPages")},ke=function(B){yr.publish("putFont",{font:B,out:ce,newObject:da,putStream:Ue}),B.isAlreadyPutted!==!0&&(B.objectNumber=da(),ce("<<"),ce("/Type /Font"),ce("/BaseFont /"+gd(B.postScriptName)),ce("/Subtype /Type1"),typeof B.encoding=="string"&&ce("/Encoding /"+B.encoding),ce("/FirstChar 32"),ce("/LastChar 255"),ce(">>"),ce("endobj"))},$e=function(){for(var B in fr)fr.hasOwnProperty(B)&&(f===!1||f===!0&&p.hasOwnProperty(B))&&ke(fr[B])},ze=function(B){B.objectNumber=da();var Z=[];Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Form"}),Z.push({key:"BBox",value:"["+[_(B.x),_(B.y),_(B.x+B.width),_(B.y+B.height)].join(" ")+"]"}),Z.push({key:"Matrix",value:"["+B.matrix.toString()+"]"});var ge=B.pages[1].join(`
`);Ue({data:ge,additionalKeyValues:Z,objectId:B.objectNumber}),ce("endobj")},mt=function(){for(var B in ya)ya.hasOwnProperty(B)&&ze(ya[B])},it=function(B,Z){var ge,Be=[],Pe=1/(Z-1);for(ge=0;ge<1;ge+=Pe)Be.push(ge);if(Be.push(1),B[0].offset!=0){var Xe={offset:0,color:B[0].color};B.unshift(Xe)}if(B[B.length-1].offset!=1){var At={offset:1,color:B[B.length-1].color};B.push(At)}for(var Bt="",Mt=0,ar=0;ar<Be.length;ar++){for(ge=Be[ar];ge>B[Mt+1].offset;)Mt++;var Zt=B[Mt].offset,br=(ge-Zt)/(B[Mt+1].offset-Zt),ga=B[Mt].color,wa=B[Mt+1].color;Bt+=H(Math.round((1-br)*ga[0]+br*wa[0]).toString(16))+H(Math.round((1-br)*ga[1]+br*wa[1]).toString(16))+H(Math.round((1-br)*ga[2]+br*wa[2]).toString(16))}return Bt.trim()},pt=function(B,Z){Z||(Z=21);var ge=da(),Be=it(B.colors,Z),Pe=[];Pe.push({key:"FunctionType",value:"0"}),Pe.push({key:"Domain",value:"[0.0 1.0]"}),Pe.push({key:"Size",value:"["+Z+"]"}),Pe.push({key:"BitsPerSample",value:"8"}),Pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ue({data:Be,additionalKeyValues:Pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ge}),ce("endobj"),B.objectNumber=da(),ce("<< /ShadingType "+B.type),ce("/ColorSpace /DeviceRGB");var Xe="/Coords ["+_(parseFloat(B.coords[0]))+" "+_(parseFloat(B.coords[1]))+" ";B.type===2?Xe+=_(parseFloat(B.coords[2]))+" "+_(parseFloat(B.coords[3])):Xe+=_(parseFloat(B.coords[2]))+" "+_(parseFloat(B.coords[3]))+" "+_(parseFloat(B.coords[4]))+" "+_(parseFloat(B.coords[5])),ce(Xe+="]"),B.matrix&&ce("/Matrix ["+B.matrix.toString()+"]"),ce("/Function "+ge+" 0 R"),ce("/Extend [true true]"),ce(">>"),ce("endobj")},Rt=function(B,Z){var ge=na(),Be=da();Z.push({resourcesOid:ge,objectOid:Be}),B.objectNumber=Be;var Pe=[];Pe.push({key:"Type",value:"/Pattern"}),Pe.push({key:"PatternType",value:"1"}),Pe.push({key:"PaintType",value:"1"}),Pe.push({key:"TilingType",value:"1"}),Pe.push({key:"BBox",value:"["+B.boundingBox.map(_).join(" ")+"]"}),Pe.push({key:"XStep",value:_(B.xStep)}),Pe.push({key:"YStep",value:_(B.yStep)}),Pe.push({key:"Resources",value:ge+" 0 R"}),B.matrix&&Pe.push({key:"Matrix",value:"["+B.matrix.toString()+"]"}),Ue({data:B.stream,additionalKeyValues:Pe,objectId:B.objectNumber}),ce("endobj")},vr=function(B){var Z;for(Z in Jt)Jt.hasOwnProperty(Z)&&(Jt[Z]instanceof Ll?pt(Jt[Z]):Jt[Z]instanceof bd&&Rt(Jt[Z],B))},Cr=function(B){for(var Z in B.objectNumber=da(),ce("<<"),B)switch(Z){case"opacity":ce("/ca "+M(B[Z]));break;case"stroke-opacity":ce("/CA "+M(B[Z]))}ce(">>"),ce("endobj")},ia=function(){var B;for(B in jr)jr.hasOwnProperty(B)&&Cr(jr[B])},ji=function(){for(var B in ce("/XObject <<"),ya)ya.hasOwnProperty(B)&&ya[B].objectNumber>=0&&ce("/"+B+" "+ya[B].objectNumber+" 0 R");yr.publish("putXobjectDict"),ce(">>")},is=function(){Dn.oid=da(),ce("<<"),ce("/Filter /Standard"),ce("/V "+Dn.v),ce("/R "+Dn.r),ce("/U <"+Dn.toHexString(Dn.U)+">"),ce("/O <"+Dn.toHexString(Dn.O)+">"),ce("/P "+Dn.P),ce(">>"),ce("endobj")},ii=function(){for(var B in ce("/Font <<"),fr)fr.hasOwnProperty(B)&&(f===!1||f===!0&&p.hasOwnProperty(B))&&ce("/"+B+" "+fr[B].objectNumber+" 0 R");ce(">>")},yn=function(){if(Object.keys(Jt).length>0){for(var B in ce("/Shading <<"),Jt)Jt.hasOwnProperty(B)&&Jt[B]instanceof Ll&&Jt[B].objectNumber>=0&&ce("/"+B+" "+Jt[B].objectNumber+" 0 R");yr.publish("putShadingPatternDict"),ce(">>")}},ss=function(B){if(Object.keys(Jt).length>0){for(var Z in ce("/Pattern <<"),Jt)Jt.hasOwnProperty(Z)&&Jt[Z]instanceof u.TilingPattern&&Jt[Z].objectNumber>=0&&Jt[Z].objectNumber<B&&ce("/"+Z+" "+Jt[Z].objectNumber+" 0 R");yr.publish("putTilingPatternDict"),ce(">>")}},si=function(){if(Object.keys(jr).length>0){var B;for(B in ce("/ExtGState <<"),jr)jr.hasOwnProperty(B)&&jr[B].objectNumber>=0&&ce("/"+B+" "+jr[B].objectNumber+" 0 R");yr.publish("putGStateDict"),ce(">>")}},ma=function(B){U(B.resourcesOid,!0),ce("<<"),ce("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ii(),yn(),ss(B.objectOid),si(),ji(),ce(">>"),ce("endobj")},wc=function(){var B=[];$e(),ia(),mt(),vr(B),yr.publish("putResources"),B.forEach(ma),ma({resourcesOid:oe,objectOid:Number.MAX_SAFE_INTEGER}),yr.publish("postPutResources")},Vr=function(){yr.publish("putAdditionalObjects");for(var B=0;B<xe.length;B++){var Z=xe[B];U(Z.objId,!0),ce(Z.content),ce("endobj")}yr.publish("postPutAdditionalObjects")},en=function(B){yt[B.fontName]=yt[B.fontName]||{},yt[B.fontName][B.fontStyle]=B.id},Js=function(B,Z,ge,Be,Pe){var Xe={id:"F"+(Object.keys(fr).length+1).toString(10),postScriptName:B,fontName:Z,fontStyle:ge,encoding:Be,isStandardFont:Pe||!1,metadata:{}};return yr.publish("addFont",{font:Xe,instance:this}),fr[Xe.id]=Xe,en(Xe),Xe.id},Zs=function(B){for(var Z=0,ge=Ye.length;Z<ge;Z++){var Be=Js.call(this,B[Z][0],B[Z][1],B[Z][2],Ye[Z][3],!0);f===!1&&(p[Be]=!0);var Pe=B[Z][0].split("-");en({id:Be,fontName:Pe[0],fontStyle:Pe[1]||""})}yr.publish("addFonts",{fonts:fr,dictionary:yt})},bi=function(B){return B.foo=function(){try{return B.apply(this,arguments)}catch(Be){var Z=Be.stack||"";~Z.indexOf(" at ")&&(Z=Z.split(" at ")[1]);var ge="Error in function "+Z.split(`
`)[0].split("<")[0]+": "+Be.message;if(!zt.console)throw new Error(ge);zt.console.error(ge,Be),zt.alert&&alert(ge)}},B.foo.bar=B,B.foo},Ns=function(B,Z){var ge,Be,Pe,Xe,At,Bt,Mt,ar,Zt;if(Pe=(Z=Z||{}).sourceEncoding||"Unicode",At=Z.outputEncoding,(Z.autoencode||At)&&fr[ft].metadata&&fr[ft].metadata[Pe]&&fr[ft].metadata[Pe].encoding&&(Xe=fr[ft].metadata[Pe].encoding,!At&&fr[ft].encoding&&(At=fr[ft].encoding),!At&&Xe.codePages&&(At=Xe.codePages[0]),typeof At=="string"&&(At=Xe[At]),At)){for(Mt=!1,Bt=[],ge=0,Be=B.length;ge<Be;ge++)(ar=At[B.charCodeAt(ge)])?Bt.push(String.fromCharCode(ar)):Bt.push(B[ge]),Bt[ge].charCodeAt(0)>>8&&(Mt=!0);B=Bt.join("")}for(ge=B.length;Mt===void 0&&ge!==0;)B.charCodeAt(ge-1)>>8&&(Mt=!0),ge--;if(!Mt)return B;for(Bt=Z.noBOM?[]:[254,255],ge=0,Be=B.length;ge<Be;ge++){if((Zt=(ar=B.charCodeAt(ge))>>8)>>8)throw new Error("Character at position "+ge+" of string '"+B+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Bt.push(Zt),Bt.push(ar-(Zt<<8))}return String.fromCharCode.apply(void 0,Bt)},vn=u.__private__.pdfEscape=u.pdfEscape=function(B,Z){return Ns(B,Z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Co=u.__private__.beginPage=function(B){ve[++Lr]=[],$t[Lr]={objId:0,contentsObjId:0,userUnit:Number(A),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(B[0]),topRightY:Number(B[1])}},_c(Lr),pe(ve[k])},Ec=function(B,Z){var ge,Be,Pe;switch(r=Z||r,typeof B=="string"&&(ge=x(B.toLowerCase()),Array.isArray(ge)&&(Be=ge[0],Pe=ge[1])),Array.isArray(B)&&(Be=B[0]*lt,Pe=B[1]*lt),isNaN(Be)&&(Be=n[0],Pe=n[1]),(Be>14400||Pe>14400)&&(Yr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Be=Math.min(14400,Be),Pe=Math.min(14400,Pe)),n=[Be,Pe],r.substr(0,1)){case"l":Pe>Be&&(n=[Pe,Be]);break;case"p":Be>Pe&&(n=[Pe,Be])}Co(n),E0(au),ce(Fs),iu!==0&&ce(iu+" J"),su!==0&&ce(su+" j"),yr.publish("addPage",{pageNumber:Lr})},bc=function(B){B>0&&B<=Lr&&(ve.splice(B,1),$t.splice(B,1),Lr--,k>Lr&&(k=Lr),this.setPage(k))},_c=function(B){B>0&&B<=Lr&&(k=B)},ml=u.__private__.getNumberOfPages=u.getNumberOfPages=function(){return ve.length-1},g0=function(B,Z,ge){var Be,Pe=void 0;return ge=ge||{},B=B!==void 0?B:fr[ft].fontName,Z=Z!==void 0?Z:fr[ft].fontStyle,Be=B.toLowerCase(),yt[Be]!==void 0&&yt[Be][Z]!==void 0?Pe=yt[Be][Z]:yt[B]!==void 0&&yt[B][Z]!==void 0?Pe=yt[B][Z]:ge.disableWarning===!1&&Yr.warn("Unable to look up font label for font '"+B+"', '"+Z+"'. Refer to getFontList() for available fonts."),Pe||ge.noFallback||(Pe=yt.times[Z])==null&&(Pe=yt.times.normal),Pe},qm=u.__private__.putInfo=function(){var B=da(),Z=function(Be){return Be};for(var ge in d!==null&&(Z=Dn.encryptor(B,0)),ce("<<"),ce("/Producer ("+vn(Z("jsPDF "+Gt.version))+")"),bt)bt.hasOwnProperty(ge)&&bt[ge]&&ce("/"+ge.substr(0,1).toUpperCase()+ge.substr(1)+" ("+vn(Z(bt[ge]))+")");ce("/CreationDate ("+vn(Z(P))+")"),ce(">>"),ce("endobj")},eu=u.__private__.putCatalog=function(B){var Z=(B=B||{}).rootDictionaryObjId||ee;switch(da(),ce("<<"),ce("/Type /Catalog"),ce("/Pages "+Z+" 0 R"),je||(je="fullwidth"),je){case"fullwidth":ce("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ce("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ce("/OpenAction [3 0 R /Fit]");break;case"original":ce("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ge=""+je;ge.substr(ge.length-1)==="%"&&(je=parseInt(je)/100),typeof je=="number"&&ce("/OpenAction [3 0 R /XYZ null null "+M(je)+"]")}switch(Et||(Et="continuous"),Et){case"continuous":ce("/PageLayout /OneColumn");break;case"single":ce("/PageLayout /SinglePage");break;case"two":case"twoleft":ce("/PageLayout /TwoColumnLeft");break;case"tworight":ce("/PageLayout /TwoColumnRight")}_t&&ce("/PageMode /"+_t),yr.publish("putCatalog"),ce(">>"),ce("endobj")},Km=u.__private__.putTrailer=function(){ce("trailer"),ce("<<"),ce("/Size "+(Y+1)),ce("/Root "+Y+" 0 R"),ce("/Info "+(Y-1)+" 0 R"),d!==null&&ce("/Encrypt "+Dn.oid+" 0 R"),ce("/ID [ <"+Q+"> <"+Q+"> ]"),ce(">>")},Hm=u.__private__.putHeader=function(){ce("%PDF-"+g),ce("%ºß¬à")},Gm=u.__private__.putXRef=function(){var B="0000000000";ce("xref"),ce("0 "+(Y+1)),ce("0000000000 65535 f ");for(var Z=1;Z<=Y;Z++)typeof de[Z]=="function"?ce((B+de[Z]()).slice(-10)+" 00000 n "):de[Z]!==void 0?ce((B+de[Z]).slice(-10)+" 00000 n "):ce("0000000000 00000 n ")},Bo=u.__private__.buildDocument=function(){Ee(),pe(ue),yr.publish("buildDocument"),Hm(),Se(),Vr(),wc(),d!==null&&is(),qm(),eu();var B=he;return Gm(),Km(),ce("startxref"),ce(""+B),ce("%%EOF"),pe(ve[k]),ue.join(`
`)},Cc=u.__private__.getBlob=function(B){return new Blob([Ze(B)],{type:"application/pdf"})},Bc=u.output=u.__private__.output=bi(function(B,Z){switch(typeof(Z=Z||{})=="string"?Z={filename:Z}:Z.filename=Z.filename||"generated.pdf",B){case void 0:return Bo();case"save":u.save(Z.filename);break;case"arraybuffer":return Ze(Bo());case"blob":return Cc(Bo());case"bloburi":case"bloburl":if(zt.URL!==void 0&&typeof zt.URL.createObjectURL=="function")return zt.URL&&zt.URL.createObjectURL(Cc(Bo()))||void 0;Yr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ge="",Be=Bo();try{ge=Lx(Be)}catch{ge=Lx(unescape(encodeURIComponent(Be)))}return"data:application/pdf;filename="+Z.filename+";base64,"+ge;case"pdfobjectnewwindow":if(Object.prototype.toString.call(zt)==="[object Window]"){var Pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Xe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Z.pdfObjectUrl&&(Pe=Z.pdfObjectUrl,Xe="");var At='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Pe+'"'+Xe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Z)+");<\/script></body></html>",Bt=zt.open();return Bt!==null&&Bt.document.write(At),Bt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(zt)==="[object Window]"){var Mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Z.filename+'" width="500px" height="400px" /></body></html>',ar=zt.open();if(ar!==null){ar.document.write(Mt);var Zt=this;ar.document.documentElement.querySelector("#pdfViewer").onload=function(){ar.document.title=Z.filename,ar.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Zt.output("bloburl"))}}return ar}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(zt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var br='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Z)+'"></iframe></body></html>',ga=zt.open();if(ga!==null&&(ga.document.write(br),ga.document.title=Z.filename),ga||typeof safari>"u")return ga;break;case"datauri":case"dataurl":return zt.document.location.href=this.output("datauristring",Z);default:return null}}),x0=function(B){return Array.isArray(Is)===!0&&Is.indexOf(B)>-1};switch(a){case"pt":lt=1;break;case"mm":lt=72/25.4;break;case"cm":lt=72/2.54;break;case"in":lt=72;break;case"px":lt=x0("px_scaling")==1?.75:96/72;break;case"pc":case"em":lt=12;break;case"ex":lt=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);lt=a}var Dn=null;z(),te();var zm=function(B){return d!==null?Dn.encryptor(B,0):function(Z){return Z}},y0=u.__private__.getPageInfo=u.getPageInfo=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:$t[B].objId,pageNumber:B,pageContext:$t[B]}},Xt=u.__private__.getPageInfoByObjId=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Z in $t)if($t[Z].objId===B)break;return y0(Z)},Vm=u.__private__.getCurrentPageInfo=u.getCurrentPageInfo=function(){return{objId:$t[k].objId,pageNumber:k,pageContext:$t[k]}};u.addPage=function(){return Ec.apply(this,arguments),this},u.setPage=function(){return _c.apply(this,arguments),pe.call(this,ve[k]),this},u.insertPage=function(B){return this.addPage(),this.movePage(k,B),this},u.movePage=function(B,Z){var ge,Be;if(B>Z){ge=ve[B],Be=$t[B];for(var Pe=B;Pe>Z;Pe--)ve[Pe]=ve[Pe-1],$t[Pe]=$t[Pe-1];ve[Z]=ge,$t[Z]=Be,this.setPage(Z)}else if(B<Z){ge=ve[B],Be=$t[B];for(var Xe=B;Xe<Z;Xe++)ve[Xe]=ve[Xe+1],$t[Xe]=$t[Xe+1];ve[Z]=ge,$t[Z]=Be,this.setPage(Z)}return this},u.deletePage=function(){return bc.apply(this,arguments),this},u.__private__.text=u.text=function(B,Z,ge,Be,Pe){var Xe,At,Bt,Mt,ar,Zt,br,ga,wa,Ha=(Be=Be||{}).scope||this;if(typeof B=="number"&&typeof Z=="number"&&(typeof ge=="string"||Array.isArray(ge))){var jn=ge;ge=Z,Z=B,B=jn}if(arguments[3]instanceof Pt?(S("The transform parameter of text() with a Matrix value"),wa=Pe):(Bt=arguments[4],Mt=arguments[5],Zr(br=arguments[3])==="object"&&br!==null||(typeof Bt=="string"&&(Mt=Bt,Bt=null),typeof br=="string"&&(Mt=br,br=null),typeof br=="number"&&(Bt=br,br=null),Be={flags:br,angle:Bt,align:Mt})),isNaN(Z)||isNaN(ge)||B==null)throw new Error("Invalid arguments passed to jsPDF.text");if(B.length===0)return Ha;var cn="",Rs=!1,Li=typeof Be.lineHeightFactor=="number"?Be.lineHeightFactor:xl,ro=Ha.internal.scaleFactor;function T0(ta){return ta=ta.split("	").join(Array(Be.TabLen||9).join(" ")),vn(ta,br)}function du(ta){for(var ra,Ra=ta.concat(),tn=[],No=Ra.length;No--;)typeof(ra=Ra.shift())=="string"?tn.push(ra):Array.isArray(ta)&&(ra.length===1||ra[1]===void 0&&ra[2]===void 0)?tn.push(ra[0]):tn.push([ra[0],ra[1],ra[2]]);return tn}function uu(ta,ra){var Ra;if(typeof ta=="string")Ra=ra(ta)[0];else if(Array.isArray(ta)){for(var tn,No,vu=ta.concat(),Qc=[],R0=vu.length;R0--;)typeof(tn=vu.shift())=="string"?Qc.push(ra(tn)[0]):Array.isArray(tn)&&typeof tn[0]=="string"&&(No=ra(tn[0],tn[1],tn[2]),Qc.push([No[0],No[1],No[2]]));Ra=Qc}return Ra}var Fc=!1,fu=!0;if(typeof B=="string")Fc=!0;else if(Array.isArray(B)){var pu=B.concat();At=[];for(var Rc,wn=pu.length;wn--;)(typeof(Rc=pu.shift())!="string"||Array.isArray(Rc)&&typeof Rc[0]!="string")&&(fu=!1);Fc=fu}if(Fc===!1)throw new Error('Type of text must be string or Array. "'+B+'" is not recognized.');typeof B=="string"&&(B=B.match(/[\r?\n]/)?B.split(/\r\n|\r|\n/g):[B]);var kc=tt/Ha.internal.scaleFactor,Dc=kc*(Li-1);switch(Be.baseline){case"bottom":ge-=Dc;break;case"top":ge+=kc-Dc;break;case"hanging":ge+=kc-2*Dc;break;case"middle":ge+=kc/2-Dc}if((Zt=Be.maxWidth||0)>0&&(typeof B=="string"?B=Ha.splitTextToSize(B,Zt):Object.prototype.toString.call(B)==="[object Array]"&&(B=B.reduce(function(ta,ra){return ta.concat(Ha.splitTextToSize(ra,Zt))},[]))),Xe={text:B,x:Z,y:ge,options:Be,mutex:{pdfEscape:vn,activeFontKey:ft,fonts:fr,activeFontSize:tt}},yr.publish("preProcessText",Xe),B=Xe.text,Bt=(Be=Xe.options).angle,!(wa instanceof Pt)&&Bt&&typeof Bt=="number"){Bt*=Math.PI/180,Be.rotationDirection===0&&(Bt=-Bt),E===v.ADVANCED&&(Bt=-Bt);var jc=Math.cos(Bt),hu=Math.sin(Bt);wa=new Pt(jc,hu,-hu,jc,0,0)}else Bt&&Bt instanceof Pt&&(wa=Bt);E!==v.ADVANCED||wa||(wa=kn),(ar=Be.charSpace||Oc)!==void 0&&(cn+=_(D(ar))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ga=Be.horizontalScale)!==void 0&&(cn+=_(100*ga)+` Tz
`),Be.lang;var _i=-1,ag=Be.renderingMode!==void 0?Be.renderingMode:Be.stroke,mu=Ha.internal.getCurrentPageInfo().pageContext;switch(ag){case 0:case!1:case"fill":_i=0;break;case 1:case!0:case"stroke":_i=1;break;case 2:case"fillThenStroke":_i=2;break;case 3:case"invisible":_i=3;break;case 4:case"fillAndAddForClipping":_i=4;break;case 5:case"strokeAndAddPathForClipping":_i=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":_i=6;break;case 7:case"addToPathForClipping":_i=7}var O0=mu.usedRenderingMode!==void 0?mu.usedRenderingMode:-1;_i!==-1?cn+=_i+` Tr
`:O0!==-1&&(cn+=`0 Tr
`),_i!==-1&&(mu.usedRenderingMode=_i),Mt=Be.align||"left";var os,Lc=tt*Li,I0=Ha.internal.pageSize.getWidth(),N0=fr[ft];ar=Be.charSpace||Oc,Zt=Be.maxWidth||0,br=Object.assign({autoencode:!0,noBOM:!0},Be.flags);var dA=[],wl=function(ta){return Ha.getStringUnitWidth(ta,{font:N0,charSpace:ar,fontSize:tt,doKerning:!1})*tt/ro};if(Object.prototype.toString.call(B)==="[object Array]"){var Ci;At=du(B),Mt!=="left"&&(os=At.map(wl));var oi,uA=0;if(Mt==="right"){Z-=os[0],B=[],wn=At.length;for(var To=0;To<wn;To++)To===0?(oi=to(Z),Ci=So(ge)):(oi=D(uA-os[To]),Ci=-Lc),B.push([At[To],oi,Ci]),uA=os[To]}else if(Mt==="center"){Z-=os[0]/2,B=[],wn=At.length;for(var Oo=0;Oo<wn;Oo++)Oo===0?(oi=to(Z),Ci=So(ge)):(oi=D((uA-os[Oo])/2),Ci=-Lc),B.push([At[Oo],oi,Ci]),uA=os[Oo]}else if(Mt==="left"){B=[],wn=At.length;for(var Uc=0;Uc<wn;Uc++)B.push(At[Uc])}else if(Mt==="justify"&&N0.encoding==="Identity-H"){B=[],wn=At.length,Zt=Zt!==0?Zt:I0;for(var Io=0,Fa=0;Fa<wn;Fa++)if(Ci=Fa===0?So(ge):-Lc,oi=Fa===0?to(Z):Io,Fa<wn-1){var gu=D((Zt-os[Fa])/(At[Fa].split(" ").length-1)),Ai=At[Fa].split(" ");B.push([Ai[0]+" ",oi,Ci]),Io=0;for(var As=1;As<Ai.length;As++){var Mc=(wl(Ai[As-1]+" "+Ai[As])-wl(Ai[As]))*ro+gu;As==Ai.length-1?B.push([Ai[As],Mc,0]):B.push([Ai[As]+" ",Mc,0]),Io-=Mc}}else B.push([At[Fa],oi,Ci]);B.push(["",Io,0])}else{if(Mt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(B=[],wn=At.length,Zt=Zt!==0?Zt:I0,Fa=0;Fa<wn;Fa++)Ci=Fa===0?So(ge):-Lc,oi=Fa===0?to(Z):0,Fa<wn-1?dA.push(_(D((Zt-os[Fa])/(At[Fa].split(" ").length-1)))):dA.push(0),B.push([At[Fa],oi,Ci])}}var F0=typeof Be.R2L=="boolean"?Be.R2L:ct;F0===!0&&(B=uu(B,function(ta,ra,Ra){return[ta.split("").reverse().join(""),ra,Ra]})),Xe={text:B,x:Z,y:ge,options:Be,mutex:{pdfEscape:vn,activeFontKey:ft,fonts:fr,activeFontSize:tt}},yr.publish("postProcessText",Xe),B=Xe.text,Rs=Xe.mutex.isHex||!1;var xu=fr[ft].encoding;xu!=="WinAnsiEncoding"&&xu!=="StandardEncoding"||(B=uu(B,function(ta,ra,Ra){return[T0(ta),ra,Ra]})),At=du(B),B=[];for(var El,bl,fA,_l=0,Pc=1,Cl=Array.isArray(At[0])?Pc:_l,pA="",yu=function(ta,ra,Ra){var tn="";return Ra instanceof Pt?(Ra=typeof Be.angle=="number"?va(Ra,new Pt(1,0,0,1,ta,ra)):va(new Pt(1,0,0,1,ta,ra),Ra),E===v.ADVANCED&&(Ra=va(new Pt(1,0,0,-1,0,0),Ra)),tn=Ra.join(" ")+` Tm
`):tn=_(ta)+" "+_(ra)+` Td
`,tn},ls=0;ls<At.length;ls++){switch(pA="",Cl){case Pc:fA=(Rs?"<":"(")+At[ls][0]+(Rs?">":")"),El=parseFloat(At[ls][1]),bl=parseFloat(At[ls][2]);break;case _l:fA=(Rs?"<":"(")+At[ls]+(Rs?">":")"),El=to(Z),bl=So(ge)}dA!==void 0&&dA[ls]!==void 0&&(pA=dA[ls]+` Tw
`),ls===0?B.push(pA+yu(El,bl,wa)+fA):Cl===_l?B.push(pA+fA):Cl===Pc&&B.push(pA+yu(El,bl,wa)+fA)}B=Cl===_l?B.join(` Tj
T* `):B.join(` Tj
`),B+=` Tj
`;var cs=`BT
/`;return cs+=ft+" "+tt+` Tf
`,cs+=_(tt*Li)+` TL
`,cs+=yl+`
`,cs+=cn,cs+=B,ce(cs+="ET"),p[ft]=!0,Ha};var $m=u.__private__.clip=u.clip=function(B){return ce(B==="evenodd"?"W*":"W"),this};u.clipEvenOdd=function(){return $m("evenodd")},u.__private__.discardPath=u.discardPath=function(){return ce("n"),this};var eo=u.__private__.isValidStyle=function(B){var Z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(B)!==-1&&(Z=!0),Z};u.__private__.setDefaultPathOperation=u.setDefaultPathOperation=function(B){return eo(B)&&(c=B),this};var v0=u.__private__.getStyle=u.getStyle=function(B){var Z=c;switch(B){case"D":case"S":Z="S";break;case"F":Z="f";break;case"FD":case"DF":Z="B";break;case"f":case"f*":case"B":case"B*":Z=B}return Z},w0=u.close=function(){return ce("h"),this};u.stroke=function(){return ce("S"),this},u.fill=function(B){return Sc("f",B),this},u.fillEvenOdd=function(B){return Sc("f*",B),this},u.fillStroke=function(B){return Sc("B",B),this},u.fillStrokeEvenOdd=function(B){return Sc("B*",B),this};var Sc=function(B,Z){Zr(Z)==="object"?Wm(Z,B):ce(B)},tu=function(B){B===null||E===v.ADVANCED&&B===void 0||(B=v0(B),ce(B))};function Ym(B,Z,ge,Be,Pe){var Xe=new bd(Z||this.boundingBox,ge||this.xStep,Be||this.yStep,this.gState,Pe||this.matrix);Xe.stream=this.stream;var At=B+"$$"+this.cloneIndex+++"$$";return Na(At,Xe),Xe}var Wm=function(B,Z){var ge=ln[B.key],Be=Jt[ge];if(Be instanceof Ll)ce("q"),ce(Xm(Z)),Be.gState&&u.setGState(Be.gState),ce(B.matrix.toString()+" cm"),ce("/"+ge+" sh"),ce("Q");else if(Be instanceof bd){var Pe=new Pt(1,0,0,-1,0,cA());B.matrix&&(Pe=Pe.multiply(B.matrix||kn),ge=Ym.call(Be,B.key,B.boundingBox,B.xStep,B.yStep,Pe).id),ce("q"),ce("/Pattern cs"),ce("/"+ge+" scn"),Be.gState&&u.setGState(Be.gState),ce(Z),ce("Q")}},Xm=function(B){switch(B){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ru=u.moveTo=function(B,Z){return ce(_(D(B))+" "+_(N(Z))+" m"),this},gl=u.lineTo=function(B,Z){return ce(_(D(B))+" "+_(N(Z))+" l"),this},AA=u.curveTo=function(B,Z,ge,Be,Pe,Xe){return ce([_(D(B)),_(N(Z)),_(D(ge)),_(N(Be)),_(D(Pe)),_(N(Xe)),"c"].join(" ")),this};u.__private__.line=u.line=function(B,Z,ge,Be,Pe){if(isNaN(B)||isNaN(Z)||isNaN(ge)||isNaN(Be)||!eo(Pe))throw new Error("Invalid arguments passed to jsPDF.line");return E===v.COMPAT?this.lines([[ge-B,Be-Z]],B,Z,[1,1],Pe||"S"):this.lines([[ge-B,Be-Z]],B,Z,[1,1]).stroke()},u.__private__.lines=u.lines=function(B,Z,ge,Be,Pe,Xe){var At,Bt,Mt,ar,Zt,br,ga,wa,Ha,jn,cn,Rs;if(typeof B=="number"&&(Rs=ge,ge=Z,Z=B,B=Rs),Be=Be||[1,1],Xe=Xe||!1,isNaN(Z)||isNaN(ge)||!Array.isArray(B)||!Array.isArray(Be)||!eo(Pe)||typeof Xe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ru(Z,ge),At=Be[0],Bt=Be[1],ar=B.length,jn=Z,cn=ge,Mt=0;Mt<ar;Mt++)(Zt=B[Mt]).length===2?(jn=Zt[0]*At+jn,cn=Zt[1]*Bt+cn,gl(jn,cn)):(br=Zt[0]*At+jn,ga=Zt[1]*Bt+cn,wa=Zt[2]*At+jn,Ha=Zt[3]*Bt+cn,jn=Zt[4]*At+jn,cn=Zt[5]*Bt+cn,AA(br,ga,wa,Ha,jn,cn));return Xe&&w0(),tu(Pe),this},u.path=function(B){for(var Z=0;Z<B.length;Z++){var ge=B[Z],Be=ge.c;switch(ge.op){case"m":ru(Be[0],Be[1]);break;case"l":gl(Be[0],Be[1]);break;case"c":AA.apply(this,Be);break;case"h":w0()}}return this},u.__private__.rect=u.rect=function(B,Z,ge,Be,Pe){if(isNaN(B)||isNaN(Z)||isNaN(ge)||isNaN(Be)||!eo(Pe))throw new Error("Invalid arguments passed to jsPDF.rect");return E===v.COMPAT&&(Be=-Be),ce([_(D(B)),_(N(Z)),_(D(ge)),_(D(Be)),"re"].join(" ")),tu(Pe),this},u.__private__.triangle=u.triangle=function(B,Z,ge,Be,Pe,Xe,At){if(isNaN(B)||isNaN(Z)||isNaN(ge)||isNaN(Be)||isNaN(Pe)||isNaN(Xe)||!eo(At))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ge-B,Be-Z],[Pe-ge,Xe-Be],[B-Pe,Z-Xe]],B,Z,[1,1],At,!0),this},u.__private__.roundedRect=u.roundedRect=function(B,Z,ge,Be,Pe,Xe,At){if(isNaN(B)||isNaN(Z)||isNaN(ge)||isNaN(Be)||isNaN(Pe)||isNaN(Xe)||!eo(At))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Bt=4/3*(Math.SQRT2-1);return Pe=Math.min(Pe,.5*ge),Xe=Math.min(Xe,.5*Be),this.lines([[ge-2*Pe,0],[Pe*Bt,0,Pe,Xe-Xe*Bt,Pe,Xe],[0,Be-2*Xe],[0,Xe*Bt,-Pe*Bt,Xe,-Pe,Xe],[2*Pe-ge,0],[-Pe*Bt,0,-Pe,-Xe*Bt,-Pe,-Xe],[0,2*Xe-Be],[0,-Xe*Bt,Pe*Bt,-Xe,Pe,-Xe]],B+Pe,Z,[1,1],At,!0),this},u.__private__.ellipse=u.ellipse=function(B,Z,ge,Be,Pe){if(isNaN(B)||isNaN(Z)||isNaN(ge)||isNaN(Be)||!eo(Pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Xe=4/3*(Math.SQRT2-1)*ge,At=4/3*(Math.SQRT2-1)*Be;return ru(B+ge,Z),AA(B+ge,Z-At,B+Xe,Z-Be,B,Z-Be),AA(B-Xe,Z-Be,B-ge,Z-At,B-ge,Z),AA(B-ge,Z+At,B-Xe,Z+Be,B,Z+Be),AA(B+Xe,Z+Be,B+ge,Z+At,B+ge,Z),tu(Pe),this},u.__private__.circle=u.circle=function(B,Z,ge,Be){if(isNaN(B)||isNaN(Z)||isNaN(ge)||!eo(Be))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(B,Z,ge,ge,Be)},u.setFont=function(B,Z,ge){return ge&&(Z=T(Z,ge)),ft=g0(B,Z,{disableWarning:!1}),this};var Jm=u.__private__.getFont=u.getFont=function(){return fr[g0.apply(u,arguments)]};u.__private__.getFontList=u.getFontList=function(){var B,Z,ge={};for(B in yt)if(yt.hasOwnProperty(B))for(Z in ge[B]=[],yt[B])yt[B].hasOwnProperty(Z)&&ge[B].push(Z);return ge},u.addFont=function(B,Z,ge,Be,Pe){var Xe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Xe.indexOf(arguments[3])!==-1?Pe=arguments[3]:arguments[3]&&Xe.indexOf(arguments[3])==-1&&(ge=T(ge,Be)),Pe=Pe||"Identity-H",Js.call(this,B,Z,ge,Pe)};var xl,au=e.lineWidth||.200025,Tc=u.__private__.getLineWidth=u.getLineWidth=function(){return au},E0=u.__private__.setLineWidth=u.setLineWidth=function(B){return au=B,ce(_(D(B))+" w"),this};u.__private__.setLineDash=Gt.API.setLineDash=Gt.API.setLineDashPattern=function(B,Z){if(B=B||[],Z=Z||0,isNaN(Z)||!Array.isArray(B))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return B=B.map(function(ge){return _(D(ge))}).join(" "),Z=_(D(Z)),ce("["+B+"] "+Z+" d"),this};var b0=u.__private__.getLineHeight=u.getLineHeight=function(){return tt*xl};u.__private__.getLineHeight=u.getLineHeight=function(){return tt*xl};var _0=u.__private__.setLineHeightFactor=u.setLineHeightFactor=function(B){return typeof(B=B||1.15)=="number"&&(xl=B),this},C0=u.__private__.getLineHeightFactor=u.getLineHeightFactor=function(){return xl};_0(e.lineHeight);var to=u.__private__.getHorizontalCoordinate=function(B){return D(B)},So=u.__private__.getVerticalCoordinate=function(B){return E===v.ADVANCED?B:$t[k].mediaBox.topRightY-$t[k].mediaBox.bottomLeftY-D(B)},Zm=u.__private__.getHorizontalCoordinateString=u.getHorizontalCoordinateString=function(B){return _(to(B))},lA=u.__private__.getVerticalCoordinateString=u.getVerticalCoordinateString=function(B){return _(So(B))},Fs=e.strokeColor||"0 G";u.__private__.getStrokeColor=u.getDrawColor=function(){return re(Fs)},u.__private__.setStrokeColor=u.setDrawColor=function(B,Z,ge,Be){return Fs=le({ch1:B,ch2:Z,ch3:ge,ch4:Be,pdfColorType:"draw",precision:2}),ce(Fs),this};var nu=e.fillColor||"0 g";u.__private__.getFillColor=u.getFillColor=function(){return re(nu)},u.__private__.setFillColor=u.setFillColor=function(B,Z,ge,Be){return nu=le({ch1:B,ch2:Z,ch3:ge,ch4:Be,pdfColorType:"fill",precision:2}),ce(nu),this};var yl=e.textColor||"0 g",eg=u.__private__.getTextColor=u.getTextColor=function(){return re(yl)};u.__private__.setTextColor=u.setTextColor=function(B,Z,ge,Be){return yl=le({ch1:B,ch2:Z,ch3:ge,ch4:Be,pdfColorType:"text",precision:3}),this};var Oc=e.charSpace,tg=u.__private__.getCharSpace=u.getCharSpace=function(){return parseFloat(Oc||0)};u.__private__.setCharSpace=u.setCharSpace=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Oc=B,this};var iu=0;u.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},u.__private__.setLineCap=u.setLineCap=function(B){var Z=u.CapJoinStyles[B];if(Z===void 0)throw new Error("Line cap style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return iu=Z,ce(Z+" J"),this};var su=0;u.__private__.setLineJoin=u.setLineJoin=function(B){var Z=u.CapJoinStyles[B];if(Z===void 0)throw new Error("Line join style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return su=Z,ce(Z+" j"),this},u.__private__.setLineMiterLimit=u.__private__.setMiterLimit=u.setLineMiterLimit=u.setMiterLimit=function(B){if(B=B||0,isNaN(B))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ce(_(D(B))+" M"),this},u.GState=qh,u.setGState=function(B){(B=typeof B=="string"?jr[ai[B]]:B0(null,B)).equals(Di)||(ce("/"+B.id+" gs"),Di=B)};var B0=function(B,Z){if(!B||!ai[B]){var ge=!1;for(var Be in jr)if(jr.hasOwnProperty(Be)&&jr[Be].equals(Z)){ge=!0;break}if(ge)Z=jr[Be];else{var Pe="GS"+(Object.keys(jr).length+1).toString(10);jr[Pe]=Z,Z.id=Pe}return B&&(ai[B]=Z.id),yr.publish("addGState",Z),Z}};u.addGState=function(B,Z){return B0(B,Z),this},u.saveGraphicsState=function(){return ce("q"),hr.push({key:ft,size:tt,color:yl}),this},u.restoreGraphicsState=function(){ce("Q");var B=hr.pop();return ft=B.key,tt=B.size,yl=B.color,Di=null,this},u.setCurrentTransformationMatrix=function(B){return ce(B.toString()+" cm"),this},u.comment=function(B){return ce("#"+B),this};var Ic=function(B,Z){var ge=B||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ge},set:function(Xe){isNaN(Xe)||(ge=parseFloat(Xe))}});var Be=Z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Be},set:function(Xe){isNaN(Xe)||(Be=parseFloat(Xe))}});var Pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Pe},set:function(Xe){Pe=Xe.toString()}}),this},ou=function(B,Z,ge,Be){Ic.call(this,B,Z),this.type="rect";var Pe=ge||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Pe},set:function(At){isNaN(At)||(Pe=parseFloat(At))}});var Xe=Be||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Xe},set:function(At){isNaN(At)||(Xe=parseFloat(At))}}),this},Au=function(){this.page=Lr,this.currentPage=k,this.pages=ve.slice(0),this.pagesContext=$t.slice(0),this.x=Er,this.y=jt,this.matrix=Fr,this.width=vl(k),this.height=cA(k),this.outputDestination=Ke,this.id="",this.objectNumber=-1};Au.prototype.restore=function(){Lr=this.page,k=this.currentPage,$t=this.pagesContext,ve=this.pages,Er=this.x,jt=this.y,Fr=this.matrix,lu(k,this.width),cu(k,this.height),Ke=this.outputDestination};var S0=function(B,Z,ge,Be,Pe){Ei.push(new Au),Lr=k=0,ve=[],Er=B,jt=Z,Fr=Pe,Co([ge,Be])},rg=function(B){if(ni[B])Ei.pop().restore();else{var Z=new Au,ge="Xo"+(Object.keys(ya).length+1).toString(10);Z.id=ge,ni[B]=ge,ya[ge]=Z,yr.publish("addFormObject",Z),Ei.pop().restore()}};for(var Nc in u.beginFormObject=function(B,Z,ge,Be,Pe){return S0(B,Z,ge,Be,Pe),this},u.endFormObject=function(B){return rg(B),this},u.doFormObject=function(B,Z){var ge=ya[ni[B]];return ce("q"),ce(Z.toString()+" cm"),ce("/"+ge.id+" Do"),ce("Q"),this},u.getFormObject=function(B){var Z=ya[ni[B]];return{x:Z.x,y:Z.y,width:Z.width,height:Z.height,matrix:Z.matrix}},u.save=function(B,Z){return B=B||"generated.pdf",(Z=Z||{}).returnPromise=Z.returnPromise||!1,Z.returnPromise===!1?(Dl(Cc(Bo()),B),typeof Dl.unload=="function"&&zt.setTimeout&&setTimeout(Dl.unload,911),this):new Promise(function(ge,Be){try{var Pe=Dl(Cc(Bo()),B);typeof Dl.unload=="function"&&zt.setTimeout&&setTimeout(Dl.unload,911),ge(Pe)}catch(Xe){Be(Xe.message)}})},Gt.API)Gt.API.hasOwnProperty(Nc)&&(Nc==="events"&&Gt.API.events.length?function(B,Z){var ge,Be,Pe;for(Pe=Z.length-1;Pe!==-1;Pe--)ge=Z[Pe][0],Be=Z[Pe][1],B.subscribe.apply(B,[ge].concat(typeof Be=="function"?[Be]:Be))}(yr,Gt.API.events):u[Nc]=Gt.API[Nc]);var vl=u.getPageWidth=function(B){return($t[B=B||k].mediaBox.topRightX-$t[B].mediaBox.bottomLeftX)/lt},lu=u.setPageWidth=function(B,Z){$t[B].mediaBox.topRightX=Z*lt+$t[B].mediaBox.bottomLeftX},cA=u.getPageHeight=function(B){return($t[B=B||k].mediaBox.topRightY-$t[B].mediaBox.bottomLeftY)/lt},cu=u.setPageHeight=function(B,Z){$t[B].mediaBox.topRightY=Z*lt+$t[B].mediaBox.bottomLeftY};return u.internal={pdfEscape:vn,getStyle:v0,getFont:Jm,getFontSize:_e,getCharSpace:tg,getTextColor:eg,getLineHeight:b0,getLineHeightFactor:C0,getLineWidth:Tc,write:He,getHorizontalCoordinate:to,getVerticalCoordinate:So,getCoordinateString:Zm,getVerticalCoordinateString:lA,collections:{},newObject:da,newAdditionalObject:W,newObjectDeferred:na,newObjectDeferredBegin:U,getFilters:we,putStream:Ue,events:yr,scaleFactor:lt,pageSize:{getWidth:function(){return vl(k)},setWidth:function(B){lu(k,B)},getHeight:function(){return cA(k)},setHeight:function(B){cu(k,B)}},encryptionOptions:d,encryption:Dn,getEncryptor:zm,output:Bc,getNumberOfPages:ml,pages:ve,out:ce,f2:M,f3:I,getPageInfo:y0,getPageInfoByObjId:Xt,getCurrentPageInfo:Vm,getPDFVersion:h,Point:Ic,Rectangle:ou,Matrix:Pt,hasHotfix:x0},Object.defineProperty(u.internal.pageSize,"width",{get:function(){return vl(k)},set:function(B){lu(k,B)},enumerable:!0,configurable:!0}),Object.defineProperty(u.internal.pageSize,"height",{get:function(){return cA(k)},set:function(B){cu(k,B)},enumerable:!0,configurable:!0}),Zs.call(u,Ye),ft="F1",Ec(n,r),yr.publish("initialized"),u}md.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},md.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},md.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},md.prototype.processOwnerPassword=function(e,t){return Mx(Ux(t).substr(0,5),e)},md.prototype.encryptor=function(e,t){var r=Ux(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(a){return Mx(r,a)}},qh.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Zr(e)!==Zr(this))return!1;var a=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;a++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&a--;return a===0},Gt.API={events:[]},Gt.version="2.5.2";var Ca=Gt.API,Fy=1,vc=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Xc=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},rr=function(e){return e.toFixed(2)},BA=function(e){return e.toFixed(5)};Ca.__acroform__={};var ki=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},gw=function(e){return e*Fy},lo=function(e){var t=new YC,r=Nt.internal.getHeight(e)||0,a=Nt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(rr(a)),Number(rr(r))],t},A9=Ca.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},l9=Ca.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},c9=Ca.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Ua=Ca.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return c9(e,t-1)},Ma=Ca.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return A9(e,t-1)},Pa=Ca.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return l9(e,t-1)},d9=Ca.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,a=t.internal.getVerticalCoordinate,n=e[0],s=e[1],o=e[2],A=e[3],l={};return l.lowerLeft_X=r(n)||0,l.lowerLeft_Y=a(s+A)||0,l.upperRight_X=r(n+o)||0,l.upperRight_Y=a(s)||0,[Number(rr(l.lowerLeft_X)),Number(rr(l.lowerLeft_Y)),Number(rr(l.upperRight_X)),Number(rr(l.upperRight_Y))]},u9=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,a=Px(e,r),n=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+n+" "+rr(a.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=lo(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},Px=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,a={text:"",fontSize:""},n=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");n=e.multiline?n.map(function(I){return I.split(`
`)}):n.map(function(I){return[I]});var s=r,o=Nt.internal.getHeight(e)||0;o=o<0?-o:o;var A=Nt.internal.getWidth(e)||0;A=A<0?-A:A;var l=function(I,D,L){if(I+1<n.length){var N=D+" "+n[I+1][0];return xp(N,e,L).width<=A-4}return!1};s++;e:for(;s>0;){t="",s--;var c,d,f=xp("3",e,s).height,p=e.multiline?o-s:(o-f)/2,u=p+=2,g=0,h=0,y=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+xp(t,e,s=12).width+", FieldWidth:"+A+`
`;break}for(var x="",v=0,E=0;E<n.length;E++)if(n.hasOwnProperty(E)){var R=!1;if(n[E].length!==1&&y!==n[E].length-1){if((f+2)*(v+2)+2>o)continue e;x+=n[E][y],R=!0,h=E,E--}else{x=(x+=n[E][y]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var b=parseInt(E),T=l(b,x,s),_=E>=n.length-1;if(T&&!_){x+=" ",y=0;continue}if(T||_){if(_)h=b;else if(e.multiline&&(f+2)*(v+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(v+2)+2>o)continue e;h=b}}for(var S="",O=g;O<=h;O++){var M=n[O];if(e.multiline){if(O===h){S+=M[y]+" ",y=(y+1)%M.length;continue}if(O===g){S+=M[M.length-1]+" ";continue}}S+=M[0]+" "}switch(S=S.substr(S.length-1)==" "?S.substr(0,S.length-1):S,d=xp(S,e,s).width,e.textAlign){case"right":c=A-d-2;break;case"center":c=(A-d)/2;break;case"left":default:c=2}t+=rr(c)+" "+rr(u)+` Td
`,t+="("+vc(S)+`) Tj
`,t+=-rr(c)+` 0 Td
`,u=-(s+2),d=0,g=R?h:h+1,v++,x=""}break}return a.text=t,a.fontSize=s,a},xp=function(e,t,r){var a=t.scope.internal.getFont(t.fontName,t.fontStyle),n=t.scope.getStringUnitWidth(e,{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:n}},f9={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},p9=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(a){return a.type===r.type&&a.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},h9=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var a=r,n=e[r];t.internal.newObjectDeferredBegin(n.objId,!0),Zr(n)==="object"&&typeof n.putStream=="function"&&n.putStream(),delete e[a]}},m9=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ys.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(f9)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Fy=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new WC,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in a)if(a.hasOwnProperty(n)){var s=a[n];s.objId=void 0,s.hasAnnotation&&p9(s,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(a,n){var s=!a;for(var o in a||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(o)){var A=a[o],l=[],c=A.Rect;if(A.Rect&&(A.Rect=d9(A.Rect,n)),n.internal.newObjectDeferredBegin(A.objId,!0),A.DA=Nt.createDefaultAppearanceStream(A),Zr(A)==="object"&&typeof A.getKeyValueListForStream=="function"&&(l=A.getKeyValueListForStream()),A.Rect=c,A.hasAppearanceStream&&!A.appearanceStreamContent){var d=u9(A);l.push({key:"AP",value:"<</N "+d+">>"}),n.internal.acroformPlugin.xForms.push(d)}if(A.appearanceStreamContent){var f="";for(var p in A.appearanceStreamContent)if(A.appearanceStreamContent.hasOwnProperty(p)){var u=A.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(u).length>=1||Array.isArray(u)){for(var o in u)if(u.hasOwnProperty(o)){var g=u[o];typeof g=="function"&&(g=g.call(n,A)),f+="/"+o+" "+g+" ",n.internal.acroformPlugin.xForms.indexOf(g)>=0||n.internal.acroformPlugin.xForms.push(g)}}else typeof(g=u)=="function"&&(g=g.call(n,A)),f+="/"+o+" "+g,n.internal.acroformPlugin.xForms.indexOf(g)>=0||n.internal.acroformPlugin.xForms.push(g);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}n.internal.putStream({additionalKeyValues:l,objectId:A.objId}),n.internal.out("endobj")}s&&h9(n.internal.acroformPlugin.xForms,n)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},$C=Ca.__acroform__.arrayToPdfArray=function(e,t,r){var a=function(o){return o};if(Array.isArray(e)){for(var n="[",s=0;s<e.length;s++)switch(s!==0&&(n+=" "),Zr(e[s])){case"boolean":case"number":case"object":n+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&r&&(a=r.internal.getEncryptor(t)),n+="("+vc(a(e[s].toString()))+")"):n+=e[s].toString()}return n+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},e1=function(e,t,r){var a=function(n){return n};return t!==void 0&&r&&(a=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+vc(a(e))+")"},po=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};po.prototype.toString=function(){return this.objId+" 0 R"},po.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},po.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var a=t[r],n=this[a];n&&(Array.isArray(n)?e.push({key:a,value:$C(n,this.objId,this.scope)}):n instanceof po?(n.scope=this.scope,e.push({key:a,value:n.objId+" 0 R"})):typeof n!="function"&&e.push({key:a,value:n}))}return e};var YC=function(){po.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};ki(YC,po);var WC=function(){po.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(a){return a};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+vc(r(e))+")"}},set:function(r){e=r}})};ki(WC,po);var Ys=function e(){po.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ua(t,3)},set:function(x){x?this.F=Ma(t,3):this.F=Pa(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(x){a=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(x){a[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(x){a[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(x){a[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(x){a[3]=x}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Kh)return;s="FieldObject"+e.FieldNum++}var x=function(v){return v};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+vc(x(s))+")"},set:function(x){s=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(x){s=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var A="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return A},set:function(x){A=x}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Fy:c},set:function(x){c=x}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(x){d=x}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Kh||this instanceof Jl))return e1(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=x}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof hn?p:e1(p,this.objId,this.scope)},set:function(x){x=x.toString(),p=this instanceof hn?x:x.substr(0,1)==="("?Xc(x.substr(1,x.length-2)):Xc(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof hn?Xc(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof hn?"/"+x:x}});var u=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(u)return u},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(u)return this instanceof hn?u:e1(u,this.objId,this.scope)},set:function(x){x=x.toString(),u=this instanceof hn?x:x.substr(0,1)==="("?Xc(x.substr(1,x.length-2)):Xc(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof hn?Xc(u.substr(1,u.length-1)):u},set:function(x){x=x.toString(),u=this instanceof hn?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,h=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return h},set:function(x){x=!!x,h=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(x){g=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,1)},set:function(x){x?this.Ff=Ma(this.Ff,1):this.Ff=Pa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,2)},set:function(x){x?this.Ff=Ma(this.Ff,2):this.Ff=Pa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,3)},set:function(x){x?this.Ff=Ma(this.Ff,3):this.Ff=Pa(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');y=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(y){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:y=2;break;case"center":case 1:y=1;break;case"left":case 0:default:y=0}}})};ki(Ys,po);var Fd=function(){Ys.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return $C(t,this.objId,this.scope)},set:function(r){var a,n;n=[],typeof(a=r)=="string"&&(n=function(s,o,A){A||(A=1);for(var l,c=[];l=o.exec(s);)c.push(l[A]);return c}(a,/\((.*?)\)/g)),t=n}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,a){for(a=a||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,18)},set:function(r){r?this.Ff=Ma(this.Ff,18):this.Ff=Pa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Ma(this.Ff,19):this.Ff=Pa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,20)},set:function(r){r?(this.Ff=Ma(this.Ff,20),t.sort()):this.Ff=Pa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,22)},set:function(r){r?this.Ff=Ma(this.Ff,22):this.Ff=Pa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,23)},set:function(r){r?this.Ff=Ma(this.Ff,23):this.Ff=Pa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,27)},set:function(r){r?this.Ff=Ma(this.Ff,27):this.Ff=Pa(this.Ff,27)}}),this.hasAppearanceStream=!1};ki(Fd,Ys);var Rd=function(){Fd.call(this),this.fontName="helvetica",this.combo=!1};ki(Rd,Fd);var kd=function(){Rd.call(this),this.combo=!0};ki(kd,Rd);var ih=function(){kd.call(this),this.edit=!0};ki(ih,kd);var hn=function(){Ys.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,15)},set:function(r){r?this.Ff=Ma(this.Ff,15):this.Ff=Pa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,16)},set:function(r){r?this.Ff=Ma(this.Ff,16):this.Ff=Pa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,17)},set:function(r){r?this.Ff=Ma(this.Ff,17):this.Ff=Pa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,26)},set:function(r){r?this.Ff=Ma(this.Ff,26):this.Ff=Pa(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var a,n=[];for(a in n.push("<<"),t)n.push("/"+a+" ("+vc(r(t[a]))+")");return n.push(">>"),n.join(`
`)}},set:function(r){Zr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};ki(hn,Ys);var sh=function(){hn.call(this),this.pushButton=!0};ki(sh,hn);var Dd=function(){hn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};ki(Dd,hn);var Kh=function(){var e,t;Ys.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(n){t=n}});var r,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(A){return A};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),a)o.push("/"+s+" ("+vc(n(a[s]))+")");return o.push(">>"),o.join(`
`)},set:function(n){Zr(n)==="object"&&(a=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(n){typeof n=="string"&&(a.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(n){r="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Nt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ki(Kh,Ys),Dd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Dd.prototype.createOption=function(e){var t=new Kh;return t.Parent=this,t.optionName=e,this.Kids.push(t),g9.call(this.scope,t),t};var oh=function(){hn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Nt.CheckBox.createAppearanceStream()};ki(oh,hn);var Jl=function(){Ys.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,13)},set:function(t){t?this.Ff=Ma(this.Ff,13):this.Ff=Pa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,21)},set:function(t){t?this.Ff=Ma(this.Ff,21):this.Ff=Pa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,23)},set:function(t){t?this.Ff=Ma(this.Ff,23):this.Ff=Pa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,24)},set:function(t){t?this.Ff=Ma(this.Ff,24):this.Ff=Pa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,25)},set:function(t){t?this.Ff=Ma(this.Ff,25):this.Ff=Pa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,26)},set:function(t){t?this.Ff=Ma(this.Ff,26):this.Ff=Pa(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ki(Jl,Ys);var Ah=function(){Jl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,14)},set:function(e){e?this.Ff=Ma(this.Ff,14):this.Ff=Pa(this.Ff,14)}}),this.password=!0};ki(Ah,Jl);var Nt={CheckBox:{createAppearanceStream:function(){return{N:{On:Nt.CheckBox.YesNormal},D:{On:Nt.CheckBox.YesPushDown,Off:Nt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=lo(e);t.scope=e.scope;var r=[],a=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=Px(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+rr(Nt.internal.getWidth(e))+" "+rr(Nt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+a+" "+rr(s.fontSize)+" Tf "+n),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=lo(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),n=[],s=Nt.internal.getHeight(e),o=Nt.internal.getWidth(e),A=Px(e,e.caption);return n.push("1 g"),n.push("0 0 "+rr(o)+" "+rr(s)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+rr(o-1)+" "+rr(s-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+r+" "+rr(A.fontSize)+" Tf "+a),n.push(A.text),n.push("ET"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=lo(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+rr(Nt.internal.getWidth(e))+" "+rr(Nt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Nt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Nt.RadioButton.Circle.YesNormal,t.D[e]=Nt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=lo(e);t.scope=e.scope;var r=[],a=Nt.internal.getWidth(e)<=Nt.internal.getHeight(e)?Nt.internal.getWidth(e)/4:Nt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var n=Nt.internal.Bezier_C,s=Number((a*n).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+BA(Nt.internal.getWidth(e)/2)+" "+BA(Nt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=lo(e);t.scope=e.scope;var r=[],a=Nt.internal.getWidth(e)<=Nt.internal.getHeight(e)?Nt.internal.getWidth(e)/4:Nt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var n=Number((2*a).toFixed(5)),s=Number((n*Nt.internal.Bezier_C).toFixed(5)),o=Number((a*Nt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+BA(Nt.internal.getWidth(e)/2)+" "+BA(Nt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+BA(Nt.internal.getWidth(e)/2)+" "+BA(Nt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),r.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),r.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),r.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=lo(e);t.scope=e.scope;var r=[],a=Nt.internal.getWidth(e)<=Nt.internal.getHeight(e)?Nt.internal.getWidth(e)/4:Nt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var n=Number((2*a).toFixed(5)),s=Number((n*Nt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+BA(Nt.internal.getWidth(e)/2)+" "+BA(Nt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Nt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Nt.RadioButton.Cross.YesNormal,t.D[e]=Nt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=lo(e);t.scope=e.scope;var r=[],a=Nt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+rr(Nt.internal.getWidth(e)-2)+" "+rr(Nt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(rr(a.x1.x)+" "+rr(a.x1.y)+" m"),r.push(rr(a.x2.x)+" "+rr(a.x2.y)+" l"),r.push(rr(a.x4.x)+" "+rr(a.x4.y)+" m"),r.push(rr(a.x3.x)+" "+rr(a.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=lo(e);t.scope=e.scope;var r=Nt.internal.calculateCross(e),a=[];return a.push("0.749023 g"),a.push("0 0 "+rr(Nt.internal.getWidth(e))+" "+rr(Nt.internal.getHeight(e))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+rr(Nt.internal.getWidth(e)-2)+" "+rr(Nt.internal.getHeight(e)-2)+" re"),a.push("W"),a.push("n"),a.push(rr(r.x1.x)+" "+rr(r.x1.y)+" m"),a.push(rr(r.x2.x)+" "+rr(r.x2.y)+" l"),a.push(rr(r.x4.x)+" "+rr(r.x4.y)+" m"),a.push(rr(r.x3.x)+" "+rr(r.x3.y)+" l"),a.push("s"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=lo(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+rr(Nt.internal.getWidth(e))+" "+rr(Nt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Nt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Nt.internal.getWidth(e),r=Nt.internal.getHeight(e),a=Math.min(t,r);return{x1:{x:(t-a)/2,y:(r-a)/2+a},x2:{x:(t-a)/2+a,y:(r-a)/2},x3:{x:(t-a)/2,y:(r-a)/2},x4:{x:(t-a)/2+a,y:(r-a)/2+a}}}},Nt.internal.getWidth=function(e){var t=0;return Zr(e)==="object"&&(t=gw(e.Rect[2])),t},Nt.internal.getHeight=function(e){var t=0;return Zr(e)==="object"&&(t=gw(e.Rect[3])),t};var g9=Ca.addField=function(e){if(m9(this,e),!(e instanceof Ys))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Ca.AcroFormChoiceField=Fd,Ca.AcroFormListBox=Rd,Ca.AcroFormComboBox=kd,Ca.AcroFormEditBox=ih,Ca.AcroFormButton=hn,Ca.AcroFormPushButton=sh,Ca.AcroFormRadioButton=Dd,Ca.AcroFormCheckBox=oh,Ca.AcroFormTextField=Jl,Ca.AcroFormPasswordField=Ah,Ca.AcroFormAppearance=Nt,Ca.AcroForm={ChoiceField:Fd,ListBox:Rd,ComboBox:kd,EditBox:ih,Button:hn,PushButton:sh,RadioButton:Dd,CheckBox:oh,TextField:Jl,PasswordField:Ah,Appearance:Nt},Gt.AcroForm={ChoiceField:Fd,ListBox:Rd,ComboBox:kd,EditBox:ih,Button:hn,PushButton:sh,RadioButton:Dd,CheckBox:oh,TextField:Jl,PasswordField:Ah,Appearance:Nt};Gt.AcroForm;function XC(e){return e.reduce(function(t,r,a){return t[r]=a,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(I,D){var L,N,P,Q,J,te=t;if((D=D||t)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(T(I))for(J in r)for(P=r[J],L=0;L<P.length;L+=1){for(Q=!0,N=0;N<P[L].length;N+=1)if(P[L][N]!==void 0&&P[L][N]!==I[N]){Q=!1;break}if(Q===!0){te=J;break}}else for(J in r)for(P=r[J],L=0;L<P.length;L+=1){for(Q=!0,N=0;N<P[L].length;N+=1)if(P[L][N]!==void 0&&P[L][N]!==I.charCodeAt(N)){Q=!1;break}if(Q===!0){te=J;break}}return te===t&&D!==t&&(te=D),te},n=function I(D){for(var L=this.internal.write,N=this.internal.putStream,P=(0,this.internal.getFilters)();P.indexOf("FlateEncode")!==-1;)P.splice(P.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:D.width}),Q.push({key:"Height",value:D.height}),D.colorSpace===y.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===y.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)){for(var J="",te=0,V=D.transparency.length;te<V;te++)J+=D.transparency[te]+" "+D.transparency[te]+" ";Q.push({key:"Mask",value:"["+J+"]"})}D.sMask!==void 0&&Q.push({key:"SMask",value:D.objectId+1+" 0 R"});var G=D.filter!==void 0?["/"+D.filter]:void 0;if(N({data:D.data,additionalKeyValues:Q,alreadyAppliedFilters:G,objectId:D.objectId}),L("endobj"),"sMask"in D&&D.sMask!==void 0){var z="/Predictor "+D.predictor+" /Colors 1 /BitsPerComponent "+D.bitsPerComponent+" /Columns "+D.width,C={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:D.bitsPerComponent,decodeParameters:z,data:D.sMask};"filter"in D&&(C.filter=D.filter),I.call(this,C)}if(D.colorSpace===y.INDEXED){var k=this.internal.newObject();N({data:S(new Uint8Array(D.palette)),objectId:k}),L("endobj")}},s=function(){var I=this.internal.collections.addImage_images;for(var D in I)n.call(this,I[D])},o=function(){var I,D=this.internal.collections.addImage_images,L=this.internal.write;for(var N in D)L("/I"+(I=D[N]).index,I.objectId,"0","R")},A=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var I=this.internal.collections.addImage_images;return A.call(this),I},c=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(I){return typeof e["process"+I.toUpperCase()]=="function"},f=function(I){return Zr(I)==="object"&&I.nodeType===1},p=function(I,D){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var L=""+I.getAttribute("src");if(L.indexOf("data:image/")===0)return xf(unescape(L).split("base64,").pop());var N=e.loadFile(L,!0);if(N!==void 0)return N}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var P;switch(D){case"PNG":P="image/png";break;case"WEBP":P="image/webp";break;case"JPEG":case"JPG":default:P="image/jpeg"}return xf(I.toDataURL(P,1).split("base64,").pop())}},u=function(I){var D=this.internal.collections.addImage_images;if(D){for(var L in D)if(I===D[L].alias)return D[L]}},g=function(I,D,L){return I||D||(I=-96,D=-96),I<0&&(I=-1*L.width*72/I/this.internal.scaleFactor),D<0&&(D=-1*L.height*72/D/this.internal.scaleFactor),I===0&&(I=D*L.width/L.height),D===0&&(D=I*L.height/L.width),[I,D]},h=function(I,D,L,N,P,Q){var J=g.call(this,L,N,P),te=this.internal.getCoordinateString,V=this.internal.getVerticalCoordinateString,G=l.call(this);if(L=J[0],N=J[1],G[P.index]=P,Q){Q*=Math.PI/180;var z=Math.cos(Q),C=Math.sin(Q),k=function(H){return H.toFixed(4)},j=[k(z),k(C),k(-1*C),k(z),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,te(I),V(D+N),"cm"].join(" ")),this.internal.write(j.join(" ")),this.internal.write([te(L),"0","0",te(N),"0","0","cm"].join(" "))):this.internal.write([te(L),"0","0",te(N),te(I),V(D+N),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+P.index+" Do"),this.internal.write("Q")},y=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},v=e.__addimage__.sHashCode=function(I){var D,L,N=0;if(typeof I=="string")for(L=I.length,D=0;D<L;D++)N=(N<<5)-N+I.charCodeAt(D),N|=0;else if(T(I))for(L=I.byteLength/2,D=0;D<L;D++)N=(N<<5)-N+I[D],N|=0;return N},E=e.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var D=!0;return I.length===0&&(D=!1),I.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(D=!1),D},R=e.__addimage__.extractImageFromDataUrl=function(I){var D=(I=I||"").split("base64,"),L=null;if(D.length===2){var N=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(D[0]);Array.isArray(N)&&(L={mimeType:N[1],charset:N[2],data:D[1]})}return L},b=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(I){return b()&&I instanceof ArrayBuffer};var T=e.__addimage__.isArrayBufferView=function(I){return b()&&typeof Uint32Array<"u"&&(I instanceof Int8Array||I instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array)},_=e.__addimage__.binaryStringToUint8Array=function(I){for(var D=I.length,L=new Uint8Array(D),N=0;N<D;N++)L[N]=I.charCodeAt(N);return L},S=e.__addimage__.arrayBufferToBinaryString=function(I){for(var D="",L=T(I)?I:new Uint8Array(I),N=0;N<L.length;N+=8192)D+=String.fromCharCode.apply(null,L.subarray(N,N+8192));return D};e.addImage=function(){var I,D,L,N,P,Q,J,te,V;if(typeof arguments[1]=="number"?(D=t,L=arguments[1],N=arguments[2],P=arguments[3],Q=arguments[4],J=arguments[5],te=arguments[6],V=arguments[7]):(D=arguments[1],L=arguments[2],N=arguments[3],P=arguments[4],Q=arguments[5],J=arguments[6],te=arguments[7],V=arguments[8]),Zr(I=arguments[0])==="object"&&!f(I)&&"imageData"in I){var G=I;I=G.imageData,D=G.format||D||t,L=G.x||L||0,N=G.y||N||0,P=G.w||G.width||P,Q=G.h||G.height||Q,J=G.alias||J,te=G.compression||te,V=G.rotation||G.angle||V}var z=this.internal.getFilters();if(te===void 0&&z.indexOf("FlateEncode")!==-1&&(te="SLOW"),isNaN(L)||isNaN(N))throw new Error("Invalid coordinates passed to jsPDF.addImage");A.call(this);var C=O.call(this,I,D,J,te);return h.call(this,L,N,P,Q,C,V),this};var O=function(I,D,L,N){var P,Q,J;if(typeof I=="string"&&a(I)===t){I=unescape(I);var te=M(I,!1);(te!==""||(te=e.loadFile(I,!0))!==void 0)&&(I=te)}if(f(I)&&(I=p(I,D)),D=a(I,D),!d(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((J=L)==null||J.length===0)&&(L=function(V){return typeof V=="string"||T(V)?v(V):T(V.data)?v(V.data):null}(I)),(P=u.call(this,L))||(b()&&(I instanceof Uint8Array||D==="RGBA"||(Q=I,I=_(I))),P=this["process"+D.toUpperCase()](I,c.call(this),L,function(V){return V&&typeof V=="string"&&(V=V.toUpperCase()),V in e.image_compression?V:x.NONE}(N),Q)),!P)throw new Error("An unknown error occurred whilst processing the image.");return P},M=e.__addimage__.convertBase64ToBinaryString=function(I,D){var L;D=typeof D!="boolean"||D;var N,P="";if(typeof I=="string"){N=(L=R(I))!==null?L.data:I;try{P=xf(N)}catch(Q){if(D)throw E(N)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return P};e.getImageProperties=function(I){var D,L,N="";if(f(I)&&(I=p(I)),typeof I=="string"&&a(I)===t&&((N=M(I,!1))===""&&(N=e.loadFile(I)||""),I=N),L=a(I),!d(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(!b()||I instanceof Uint8Array||(I=_(I)),!(D=this["process"+L.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=L,D}})(Gt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Gt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var a,n,s,o=this.internal.getCoordinateString,A=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,d=!1,f=0;f<c.length&&!d;f++)switch((a=c[f]).type){case"link":(t(a.options.url)||t(a.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){a=c[p];var u=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var h=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(h.objId),v=a.title||"Note";s="<</Type /Annot /Subtype /Text "+(n="/Rect ["+o(a.bounds.x)+" "+A(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w)+" "+A(a.bounds.y)+"] ")+"/Contents ("+u(x(a.contents))+")",s+=" /Popup "+y.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+u(x(v))+") >>",h.content=s;var E=h.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+o(a.bounds.x+30)+" "+A(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w+30)+" "+A(a.bounds.y)+"] ")+" /Parent "+E,a.open&&(s+=" /Open true"),s+=" >>",y.content=s,this.internal.write(h.objId,"0 R",y.objId,"0 R");break;case"freetext":n="/Rect ["+o(a.bounds.x)+" "+A(a.bounds.y)+" "+o(a.bounds.x+a.bounds.w)+" "+A(a.bounds.y+a.bounds.h)+"] ";var R=a.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+u(g(a.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(a.options.name){var b=this.annotations._nameMap[a.options.name];a.options.pageNumber=b.page,a.options.top=b.y}else a.options.top||(a.options.top=0);if(n="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",s="",a.options.url)s="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+u(g(a.options.url))+") >>";else if(a.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,s+=" /FitV "+a.options.left+"]";break;case"XYZ":default:var T=A(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),s+=" /XYZ "+a.options.left+" "+T+" "+a.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var a=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":a.pageContext.annotations.push(r)}},e.link=function(r,a,n,s,o){var A=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;A.pageContext.annotations.push({finalBounds:{x:l(r),y:c(a),w:l(r+n),h:c(a+s)},options:o,type:"link"})},e.textWithLink=function(r,a,n,s){var o,A,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){A=s.maxWidth;var d=this.splitTextToSize(r,A).length;o=Math.ceil(c*d)}else A=l,o=c;return this.text(r,a,n,s),n+=.2*c,s.align==="center"&&(a-=l/2),s.align==="right"&&(a-=l),this.link(a,n-c,A,o,s),l},e.getTextWidth=function(r){var a=this.internal.getFontSize();return this.getStringUnitWidth(r)*a/this.internal.scaleFactor}}(Gt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(h){return t[h.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(h){return typeof h=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(h)},A=e.__arabicParser__.isArabicEndLetter=function(h){return o(h)&&s(h)&&t[h.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(h){return o(h)&&n.indexOf(h.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(h){return o(h)&&s(h)&&t[h.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(h){return o(h)&&s(h)&&t[h.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(h){return o(h)&&s(h)&&t[h.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(h){return o(h)&&s(h)&&t[h.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(h){var y=0,x=r,v="",E=0;for(y=0;y<h.length;y+=1)x[h.charCodeAt(y)]!==void 0?(E++,typeof(x=x[h.charCodeAt(y)])=="number"&&(v+=String.fromCharCode(x),x=r,E=0),y===h.length-1&&(x=r,v+=h.charAt(y-(E-1)),y-=E-1,E=0)):(x=r,v+=h.charAt(y-E),y-=E,E=0);return v};e.__arabicParser__.isArabicDiacritic=function(h){return h!==void 0&&a[h.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(h,y,x){return o(h)?s(h)===!1?-1:!c(h)||!o(y)&&!o(x)||!o(x)&&A(y)||A(h)&&!o(y)||A(h)&&l(y)||A(h)&&A(y)?0:d(h)&&o(y)&&!A(y)&&o(x)&&c(x)?3:A(h)||!o(x)?1:2:-1},u=function(h){var y=0,x=0,v=0,E="",R="",b="",T=(h=h||"").split("\\s+"),_=[];for(y=0;y<T.length;y+=1){for(_.push(""),x=0;x<T[y].length;x+=1)E=T[y][x],R=T[y][x-1],b=T[y][x+1],o(E)?(v=p(E,R,b),_[y]+=v!==-1?String.fromCharCode(t[E.charCodeAt(0)][v]):E):_[y]+=E;_[y]=f(_[y])}return _.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var h,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(y)){var v=0;for(x=[],v=0;v<y.length;v+=1)Array.isArray(y[v])?x.push([u(y[v][0]),y[v][1],y[v][2]]):x.push([u(y[v])]);h=x}else h=u(y);return typeof arguments[0]=="string"?h:(arguments[0].text=h,arguments[0])};e.events.push(["preProcessText",g])}(Gt.API),Gt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(A){r=A}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(A){a=isNaN(A)||Number.isInteger(A)===!1||A<0?150:A,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(A){n=isNaN(A)||Number.isInteger(A)===!1||A<0?300:A,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(A){s=A}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(A){o=A}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,a){var n;if((r=r||"2d")!=="2d")return null;for(n in a)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=a[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Gt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(h){l=h}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(h){c=h}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(h){d=h}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(h){f=h}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(h){p=h}});var u=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return u},set:function(h){u=h}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(h){g=h}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return a.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){a.call(this);var d=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,u=0,g=0,h=0,y=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var x=c.maxWidth;x>0?typeof l=="string"?l=this.splitTextToSize(l,x):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(E,R){return E.concat(y.splitTextToSize(R,x))},[])):l=Array.isArray(l)?l:[l];for(var v=0;v<l.length;v++)u<(h=this.getStringUnitWidth(l[v],{font:f})*d)&&(u=h);return u!==0&&(g=l.length),{w:u/=p,h:Math.max((g*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){a.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var c=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,u=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,u&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,d,f,p){if(a.call(this),!d)throw new Error("No data for PDF table.");var u,g,h,y,x=[],v=[],E=[],R={},b={},T=[],_=[],S=(p=p||{}).autoSize||!1,O=p.printHeaders!==!1,M=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,I=p.margins||Object.assign({width:this.getPageWidth()},t),D=typeof p.padding=="number"?p.padding:3,L=p.headerBackgroundColor||"#c8c8c8",N=p.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=N,this.setFontSize(M),f==null)v=x=Object.keys(d[0]),E=x.map(function(){return"left"});else if(Array.isArray(f)&&Zr(f[0])==="object")for(x=f.map(function(G){return G.name}),v=f.map(function(G){return G.prompt||G.name||""}),E=f.map(function(G){return G.align||"left"}),u=0;u<f.length;u+=1)b[f[u].name]=f[u].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(v=x=f,E=x.map(function(){return"left"}));if(S||Array.isArray(f)&&typeof f[0]=="string")for(u=0;u<x.length;u+=1){for(R[y=x[u]]=d.map(function(G){return G[y]}),this.setFont(void 0,"bold"),T.push(this.getTextDimensions(v[u],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=R[y],this.setFont(void 0,"normal"),h=0;h<g.length;h+=1)T.push(this.getTextDimensions(g[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);b[y]=Math.max.apply(null,T)+D+D,T=[]}if(O){var P={};for(u=0;u<x.length;u+=1)P[x[u]]={},P[x[u]].text=v[u],P[x[u]].align=E[u];var Q=A.call(this,P,b);_=x.map(function(G){return new s(l,c,b[G],Q,P[G].text,void 0,P[G].align)}),this.setTableHeaderRow(_),this.printHeaderRow(1,!1)}var J=f.reduce(function(G,z){return G[z.name]=z.align,G},{});for(u=0;u<d.length;u+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:u,data:d[u]},this);var te=A.call(this,d[u],b);for(h=0;h<x.length;h+=1){var V=d[u][x[h]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:u,col:h,data:V},this),o.call(this,new s(l,c,b[x[h]],te,V,u+2,J[x[h]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var A=function(l,c){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(u){var g=l[u];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,c[u]-d-d)},this).map(function(u){return this.getLineHeightFactor()*u.length*f/p+d+d},this).reduce(function(u,g){return Math.max(u,g)},0)};e.setTableHeaderRow=function(l){a.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],u=0;u<this.internal.__cell__.tableHeaderRow.length;u+=1){d=this.internal.__cell__.tableHeaderRow[u].clone(),c&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(g)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(Gt.API);var JC={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ZC=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Qx=XC(ZC),eB=[100,200,300,400,500,600,700,800,900],x9=XC(eB);function qx(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return JC[s=s||"normal"]?s:"normal"}(e.style),a=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),n=function(s){return typeof Qx[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:r,weight:a,stretch:n,src:e.src||[],ref:e.ref||{name:t,style:[n,r,a].join(" ")}}}function xw(e,t,r,a){var n;for(n=r;n>=0&&n<t.length;n+=a)if(e[t[n]])return e[t[n]];for(n=r;n>=0&&n<t.length;n-=a)if(e[t[n]])return e[t[n]]}var y9={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},yw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function vw(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function v9(e,t,r){for(var a=(r=r||{}).defaultFontFamily||"times",n=Object.assign({},y9,r.genericFontFamilies||{}),s=null,o=null,A=0;A<t.length;++A)if(n[(s=qx(t[A])).family]&&(s.family=n[s.family]),e.hasOwnProperty(s.family)){o=e[s.family];break}if(!(o=o||e[a]))throw new Error("Could not find a font-family for the rule '"+vw(s)+"' and default family '"+a+"'.");if(o=function(l,c){if(c[l])return c[l];var d=Qx[l],f=d<=Qx.normal?-1:1,p=xw(c,ZC,d,f);if(!p)throw new Error("Could not find a matching font-stretch value for "+l);return p}(s.stretch,o),o=function(l,c){if(c[l])return c[l];for(var d=JC[l],f=0;f<d.length;++f)if(c[d[f]])return c[d[f]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var d=x9[l],f=xw(c,eB,d,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+vw(s)+"'.");return o}function ww(e){return e.trimLeft()}function w9(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function E9(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var yp,Ew,bw,t1=["times"];(function(e){var t,r,a,n,s,o,A,l,c,d=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new l,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new o,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new o,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,A=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var f=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var k=C;Object.defineProperty(this,"pdf",{get:function(){return k}});var j=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return j},set:function(pe){j=!!pe}});var H=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return H},set:function(pe){H=!!pe}});var Y=0;Object.defineProperty(this,"posX",{get:function(){return Y},set:function(pe){isNaN(pe)||(Y=pe)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(pe){isNaN(pe)||(de=pe)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(pe){var ce;typeof pe=="number"?ce=[pe,pe,pe,pe]:((ce=new Array(4))[0]=pe[0],ce[1]=pe.length>=2?pe[1]:ce[0],ce[2]=pe.length>=3?pe[2]:ce[0],ce[3]=pe.length>=4?pe[3]:ce[1]),c.margin=ce}});var ue=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ue},set:function(pe){ue=pe}});var he=0;Object.defineProperty(this,"lastBreak",{get:function(){return he},set:function(pe){he=pe}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(pe){xe=pe}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(pe){pe instanceof d&&(c=pe)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(pe){c.path=pe}});var ve=[];Object.defineProperty(this,"ctxStack",{get:function(){return ve},set:function(pe){ve=pe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(pe){var ce;ce=p(pe),this.ctx.fillStyle=ce.style,this.ctx.isFillTransparent=ce.a===0,this.ctx.fillOpacity=ce.a,this.pdf.setFillColor(ce.r,ce.g,ce.b,{a:ce.a}),this.pdf.setTextColor(ce.r,ce.g,ce.b,{a:ce.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(pe){var ce=p(pe);this.ctx.strokeStyle=ce.style,this.ctx.isStrokeTransparent=ce.a===0,this.ctx.strokeOpacity=ce.a,ce.a===0?this.pdf.setDrawColor(255,255,255):(ce.a,this.pdf.setDrawColor(ce.r,ce.g,ce.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(pe){["butt","round","square"].indexOf(pe)!==-1&&(this.ctx.lineCap=pe,this.pdf.setLineCap(pe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(pe){isNaN(pe)||(this.ctx.lineWidth=pe,this.pdf.setLineWidth(pe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(pe){["bevel","round","miter"].indexOf(pe)!==-1&&(this.ctx.lineJoin=pe,this.pdf.setLineJoin(pe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(pe){isNaN(pe)||(this.ctx.miterLimit=pe,this.pdf.setMiterLimit(pe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(pe){this.ctx.textBaseline=pe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(pe){["right","end","center","left","start"].indexOf(pe)!==-1&&(this.ctx.textAlign=pe)}});var se=null;function Ke(pe,ce){if(se===null){var He=function(Ze){var Ye=[];return Object.keys(Ze).forEach(function(tt){Ze[tt].forEach(function(je){var _e=null;switch(je){case"bold":_e={family:tt,weight:"bold"};break;case"italic":_e={family:tt,style:"italic"};break;case"bolditalic":_e={family:tt,weight:"bold",style:"italic"};break;case"":case"normal":_e={family:tt}}_e!==null&&(_e.ref={name:tt,style:je},Ye.push(_e))})}),Ye}(pe.getFontList());se=function(Ze){for(var Ye={},tt=0;tt<Ze.length;++tt){var je=qx(Ze[tt]),_e=je.family,ct=je.stretch,_t=je.style,St=je.weight;Ye[_e]=Ye[_e]||{},Ye[_e][ct]=Ye[_e][ct]||{},Ye[_e][ct][_t]=Ye[_e][ct][_t]||{},Ye[_e][ct][_t][St]=je}return Ye}(He.concat(ce))}return se}var Ee=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ee},set:function(pe){se=null,Ee=pe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(pe){var ce;if(this.ctx.font=pe,(ce=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(pe))!==null){var He=ce[1],Ze=(ce[2],ce[3]),Ye=ce[4],tt=(ce[5],ce[6]),je=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ye)[2];Ye=Math.floor(je==="px"?parseFloat(Ye)*this.pdf.internal.scaleFactor:je==="em"?parseFloat(Ye)*this.pdf.getFontSize():parseFloat(Ye)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ye);var _e=function(bt){var ft,lt,Er=[],jt=bt.trim();if(jt==="")return t1;if(jt in yw)return[yw[jt]];for(;jt!=="";){switch(lt=null,ft=(jt=ww(jt)).charAt(0)){case'"':case"'":lt=w9(jt.substring(1),ft);break;default:lt=E9(jt)}if(lt===null||(Er.push(lt[0]),(jt=ww(lt[1]))!==""&&jt.charAt(0)!==","))return t1;jt=jt.replace(/^,/,"")}return Er}(tt);if(this.fontFaces){var ct=v9(Ke(this.pdf,this.fontFaces),_e.map(function(bt){return{family:bt,stretch:"normal",weight:Ze,style:He}}));this.pdf.setFont(ct.ref.name,ct.ref.style)}else{var _t="";(Ze==="bold"||parseInt(Ze,10)>=700||He==="bold")&&(_t="bold"),He==="italic"&&(_t+="italic"),_t.length===0&&(_t="normal");for(var St="",Et={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ft=0;Ft<_e.length;Ft++){if(this.pdf.internal.getFont(_e[Ft],_t,{noFallback:!0,disableWarning:!0})!==void 0){St=_e[Ft];break}if(_t==="bolditalic"&&this.pdf.internal.getFont(_e[Ft],"bold",{noFallback:!0,disableWarning:!0})!==void 0)St=_e[Ft],_t="bold";else if(this.pdf.internal.getFont(_e[Ft],"normal",{noFallback:!0,disableWarning:!0})!==void 0){St=_e[Ft],_t="normal";break}}if(St===""){for(var Lt=0;Lt<_e.length;Lt++)if(Et[_e[Lt]]){St=Et[_e[Lt]];break}}St=St===""?"Times":St,this.pdf.setFont(St,_t)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(pe){this.ctx.globalCompositeOperation=pe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(pe){this.ctx.globalAlpha=pe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(pe){this.ctx.lineDashOffset=pe,z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(pe){this.ctx.lineDash=pe,z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(pe){this.ctx.ignoreClearRect=!!pe}})};f.prototype.setLineDash=function(C){this.lineDash=C},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){R.call(this,"fill",!1)},f.prototype.stroke=function(){R.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(C,k){if(isNaN(C)||isNaN(k))throw Yr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var j=this.ctx.transform.applyToPoint(new o(C,k));this.path.push({type:"mt",x:j.x,y:j.y}),this.ctx.lastPoint=new o(C,k)},f.prototype.closePath=function(){var C=new o(0,0),k=0;for(k=this.path.length-1;k!==-1;k--)if(this.path[k].type==="begin"&&Zr(this.path[k+1])==="object"&&typeof this.path[k+1].x=="number"){C=new o(this.path[k+1].x,this.path[k+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(C.x,C.y)},f.prototype.lineTo=function(C,k){if(isNaN(C)||isNaN(k))throw Yr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var j=this.ctx.transform.applyToPoint(new o(C,k));this.path.push({type:"lt",x:j.x,y:j.y}),this.ctx.lastPoint=new o(j.x,j.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},f.prototype.quadraticCurveTo=function(C,k,j,H){if(isNaN(j)||isNaN(H)||isNaN(C)||isNaN(k))throw Yr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Y=this.ctx.transform.applyToPoint(new o(j,H)),de=this.ctx.transform.applyToPoint(new o(C,k));this.path.push({type:"qct",x1:de.x,y1:de.y,x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(Y.x,Y.y)},f.prototype.bezierCurveTo=function(C,k,j,H,Y,de){if(isNaN(Y)||isNaN(de)||isNaN(C)||isNaN(k)||isNaN(j)||isNaN(H))throw Yr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ue=this.ctx.transform.applyToPoint(new o(Y,de)),he=this.ctx.transform.applyToPoint(new o(C,k)),xe=this.ctx.transform.applyToPoint(new o(j,H));this.path.push({type:"bct",x1:he.x,y1:he.y,x2:xe.x,y2:xe.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new o(ue.x,ue.y)},f.prototype.arc=function(C,k,j,H,Y,de){if(isNaN(C)||isNaN(k)||isNaN(j)||isNaN(H)||isNaN(Y))throw Yr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var ue=this.ctx.transform.applyToPoint(new o(C,k));C=ue.x,k=ue.y;var he=this.ctx.transform.applyToPoint(new o(0,j)),xe=this.ctx.transform.applyToPoint(new o(0,0));j=Math.sqrt(Math.pow(he.x-xe.x,2)+Math.pow(he.y-xe.y,2))}Math.abs(Y-H)>=2*Math.PI&&(H=0,Y=2*Math.PI),this.path.push({type:"arc",x:C,y:k,radius:j,startAngle:H,endAngle:Y,counterclockwise:de})},f.prototype.arcTo=function(C,k,j,H,Y){throw new Error("arcTo not implemented.")},f.prototype.rect=function(C,k,j,H){if(isNaN(C)||isNaN(k)||isNaN(j)||isNaN(H))throw Yr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,k),this.lineTo(C+j,k),this.lineTo(C+j,k+H),this.lineTo(C,k+H),this.lineTo(C,k),this.lineTo(C+j,k),this.lineTo(C,k)},f.prototype.fillRect=function(C,k,j,H){if(isNaN(C)||isNaN(k)||isNaN(j)||isNaN(H))throw Yr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!u.call(this)){var Y={};this.lineCap!=="butt"&&(Y.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Y.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,k,j,H),this.fill(),Y.hasOwnProperty("lineCap")&&(this.lineCap=Y.lineCap),Y.hasOwnProperty("lineJoin")&&(this.lineJoin=Y.lineJoin)}},f.prototype.strokeRect=function(C,k,j,H){if(isNaN(C)||isNaN(k)||isNaN(j)||isNaN(H))throw Yr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(C,k,j,H),this.stroke())},f.prototype.clearRect=function(C,k,j,H){if(isNaN(C)||isNaN(k)||isNaN(j)||isNaN(H))throw Yr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,k,j,H))},f.prototype.save=function(C){C=typeof C!="boolean"||C;for(var k=this.pdf.internal.getCurrentPageInfo().pageNumber,j=0;j<this.pdf.internal.getNumberOfPages();j++)this.pdf.setPage(j+1),this.pdf.internal.out("q");if(this.pdf.setPage(k),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var H=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=H}},f.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var k=this.pdf.internal.getCurrentPageInfo().pageNumber,j=0;j<this.pdf.internal.getNumberOfPages();j++)this.pdf.setPage(j+1),this.pdf.internal.out("Q");this.pdf.setPage(k),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(C){var k,j,H,Y;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))k=0,j=0,H=0,Y=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(de!==null)k=parseInt(de[1]),j=parseInt(de[2]),H=parseInt(de[3]),Y=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)k=parseInt(de[1]),j=parseInt(de[2]),H=parseInt(de[3]),Y=parseFloat(de[4]);else{if(Y=1,typeof C=="string"&&C.charAt(0)!=="#"){var ue=new GC(C);C=ue.ok?ue.toHex():"#000000"}C.length===4?(k=C.substring(1,2),k+=k,j=C.substring(2,3),j+=j,H=C.substring(3,4),H+=H):(k=C.substring(1,3),j=C.substring(3,5),H=C.substring(5,7)),k=parseInt(k,16),j=parseInt(j,16),H=parseInt(H,16)}}return{r:k,g:j,b:H,a:Y,style:C}},u=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(C,k,j,H){if(isNaN(k)||isNaN(j)||typeof C!="string")throw Yr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(H=isNaN(H)?void 0:H,!u.call(this)){var Y=te(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;D.call(this,{text:C,x:k,y:j,scale:de,angle:Y,align:this.textAlign,maxWidth:H})}},f.prototype.strokeText=function(C,k,j,H){if(isNaN(k)||isNaN(j)||typeof C!="string")throw Yr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){H=isNaN(H)?void 0:H;var Y=te(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;D.call(this,{text:C,x:k,y:j,scale:de,renderingMode:"stroke",angle:Y,align:this.textAlign,maxWidth:H})}},f.prototype.measureText=function(C){if(typeof C!="string")throw Yr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var k=this.pdf,j=this.pdf.internal.scaleFactor,H=k.internal.getFontSize(),Y=k.getStringUnitWidth(C)*H/k.internal.scaleFactor,de=function(ue){var he=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return he}}),this};return new de({width:Y*=Math.round(96*j/72*1e4)/1e4})},f.prototype.scale=function(C,k){if(isNaN(C)||isNaN(k))throw Yr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var j=new l(C,0,0,k,0,0);this.ctx.transform=this.ctx.transform.multiply(j)},f.prototype.rotate=function(C){if(isNaN(C))throw Yr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var k=new l(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(k)},f.prototype.translate=function(C,k){if(isNaN(C)||isNaN(k))throw Yr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var j=new l(1,0,0,1,C,k);this.ctx.transform=this.ctx.transform.multiply(j)},f.prototype.transform=function(C,k,j,H,Y,de){if(isNaN(C)||isNaN(k)||isNaN(j)||isNaN(H)||isNaN(Y)||isNaN(de))throw Yr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ue=new l(C,k,j,H,Y,de);this.ctx.transform=this.ctx.transform.multiply(ue)},f.prototype.setTransform=function(C,k,j,H,Y,de){C=isNaN(C)?1:C,k=isNaN(k)?0:k,j=isNaN(j)?0:j,H=isNaN(H)?1:H,Y=isNaN(Y)?0:Y,de=isNaN(de)?0:de,this.ctx.transform=new l(C,k,j,H,Y,de)};var h=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(C,k,j,H,Y,de,ue,he,xe){var ve=this.pdf.getImageProperties(C),se=1,Ke=1,Ee=1,pe=1;H!==void 0&&he!==void 0&&(Ee=he/H,pe=xe/Y,se=ve.width/H*he/H,Ke=ve.height/Y*xe/Y),de===void 0&&(de=k,ue=j,k=0,j=0),H!==void 0&&he===void 0&&(he=H,xe=Y),H===void 0&&he===void 0&&(he=ve.width,xe=ve.height);for(var ce,He=this.ctx.transform.decompose(),Ze=te(He.rotate.shx),Ye=new l,tt=(Ye=(Ye=(Ye=Ye.multiply(He.translate)).multiply(He.skew)).multiply(He.scale)).applyToRectangle(new A(de-k*Ee,ue-j*pe,H*se,Y*Ke)),je=y.call(this,tt),_e=[],ct=0;ct<je.length;ct+=1)_e.indexOf(je[ct])===-1&&_e.push(je[ct]);if(E(_e),this.autoPaging)for(var _t=_e[0],St=_e[_e.length-1],Et=_t;Et<St+1;Et++){this.pdf.setPage(Et);var Ft=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Lt=Et===1?this.posY+this.margin[0]:this.margin[0],bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],lt=Et===1?0:bt+(Et-2)*ft;if(this.ctx.clip_path.length!==0){var Er=this.path;ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(ce,this.posX+this.margin[3],-lt+Lt+this.ctx.prevPageLastElemOffset),b.call(this,"fill",!0),this.path=Er}var jt=JSON.parse(JSON.stringify(tt));jt=v([jt],this.posX+this.margin[3],-lt+Lt+this.ctx.prevPageLastElemOffset)[0];var Fr=(Et>_t||Et<St)&&h.call(this);Fr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ft,ft,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",jt.x,jt.y,jt.w,jt.h,null,null,Ze),Fr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(C,"JPEG",tt.x,tt.y,tt.w,tt.h,null,null,Ze)};var y=function(C,k,j){var H=[];k=k||this.pdf.internal.pageSize.width,j=j||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Y=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":H.push(Math.floor((C.y+Y)/j)+1);break;case"arc":H.push(Math.floor((C.y+Y-C.radius)/j)+1),H.push(Math.floor((C.y+Y+C.radius)/j)+1);break;case"qct":var de=V(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);H.push(Math.floor((de.y+Y)/j)+1),H.push(Math.floor((de.y+de.h+Y)/j)+1);break;case"bct":var ue=G(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);H.push(Math.floor((ue.y+Y)/j)+1),H.push(Math.floor((ue.y+ue.h+Y)/j)+1);break;case"rect":H.push(Math.floor((C.y+Y)/j)+1),H.push(Math.floor((C.y+C.h+Y)/j)+1)}for(var he=0;he<H.length;he+=1)for(;this.pdf.internal.getNumberOfPages()<H[he];)x.call(this);return H},x=function(){var C=this.fillStyle,k=this.strokeStyle,j=this.font,H=this.lineCap,Y=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=k,this.font=j,this.lineCap=H,this.lineWidth=Y,this.lineJoin=de},v=function(C,k,j){for(var H=0;H<C.length;H++)switch(C[H].type){case"bct":C[H].x2+=k,C[H].y2+=j;case"qct":C[H].x1+=k,C[H].y1+=j;case"mt":case"lt":case"arc":default:C[H].x+=k,C[H].y+=j}return C},E=function(C){return C.sort(function(k,j){return k-j})},R=function(C,k){for(var j,H,Y=this.fillStyle,de=this.strokeStyle,ue=this.lineCap,he=this.lineWidth,xe=Math.abs(he*this.ctx.transform.scaleX),ve=this.lineJoin,se=JSON.parse(JSON.stringify(this.path)),Ke=JSON.parse(JSON.stringify(this.path)),Ee=[],pe=0;pe<Ke.length;pe++)if(Ke[pe].x!==void 0)for(var ce=y.call(this,Ke[pe]),He=0;He<ce.length;He+=1)Ee.indexOf(ce[He])===-1&&Ee.push(ce[He]);for(var Ze=0;Ze<Ee.length;Ze++)for(;this.pdf.internal.getNumberOfPages()<Ee[Ze];)x.call(this);if(E(Ee),this.autoPaging)for(var Ye=Ee[0],tt=Ee[Ee.length-1],je=Ye;je<tt+1;je++){this.pdf.setPage(je),this.fillStyle=Y,this.strokeStyle=de,this.lineCap=ue,this.lineWidth=xe,this.lineJoin=ve;var _e=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ct=je===1?this.posY+this.margin[0]:this.margin[0],_t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],St=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Et=je===1?0:_t+(je-2)*St;if(this.ctx.clip_path.length!==0){var Ft=this.path;j=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(j,this.posX+this.margin[3],-Et+ct+this.ctx.prevPageLastElemOffset),b.call(this,C,!0),this.path=Ft}if(H=JSON.parse(JSON.stringify(se)),this.path=v(H,this.posX+this.margin[3],-Et+ct+this.ctx.prevPageLastElemOffset),k===!1||je===0){var Lt=(je>Ye||je<tt)&&h.call(this);Lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_e,St,null).clip().discardPath()),b.call(this,C,k),Lt&&this.pdf.restoreGraphicsState()}this.lineWidth=he}else this.lineWidth=xe,b.call(this,C,k),this.lineWidth=he;this.path=se},b=function(C,k){if((C!=="stroke"||k||!g.call(this))&&(C==="stroke"||k||!u.call(this))){for(var j,H,Y=[],de=this.path,ue=0;ue<de.length;ue++){var he=de[ue];switch(he.type){case"begin":Y.push({begin:!0});break;case"close":Y.push({close:!0});break;case"mt":Y.push({start:he,deltas:[],abs:[]});break;case"lt":var xe=Y.length;if(de[ue-1]&&!isNaN(de[ue-1].x)&&(j=[he.x-de[ue-1].x,he.y-de[ue-1].y],xe>0)){for(;xe>=0;xe--)if(Y[xe-1].close!==!0&&Y[xe-1].begin!==!0){Y[xe-1].deltas.push(j),Y[xe-1].abs.push(he);break}}break;case"bct":j=[he.x1-de[ue-1].x,he.y1-de[ue-1].y,he.x2-de[ue-1].x,he.y2-de[ue-1].y,he.x-de[ue-1].x,he.y-de[ue-1].y],Y[Y.length-1].deltas.push(j);break;case"qct":var ve=de[ue-1].x+2/3*(he.x1-de[ue-1].x),se=de[ue-1].y+2/3*(he.y1-de[ue-1].y),Ke=he.x+2/3*(he.x1-he.x),Ee=he.y+2/3*(he.y1-he.y),pe=he.x,ce=he.y;j=[ve-de[ue-1].x,se-de[ue-1].y,Ke-de[ue-1].x,Ee-de[ue-1].y,pe-de[ue-1].x,ce-de[ue-1].y],Y[Y.length-1].deltas.push(j);break;case"arc":Y.push({deltas:[],abs:[],arc:!0}),Array.isArray(Y[Y.length-1].abs)&&Y[Y.length-1].abs.push(he)}}H=k?null:C==="stroke"?"stroke":"fill";for(var He=!1,Ze=0;Ze<Y.length;Ze++)if(Y[Ze].arc)for(var Ye=Y[Ze].abs,tt=0;tt<Ye.length;tt++){var je=Ye[tt];je.type==="arc"?S.call(this,je.x,je.y,je.radius,je.startAngle,je.endAngle,je.counterclockwise,void 0,k,!He):L.call(this,je.x,je.y),He=!0}else if(Y[Ze].close===!0)this.pdf.internal.out("h"),He=!1;else if(Y[Ze].begin!==!0){var _e=Y[Ze].start.x,ct=Y[Ze].start.y;N.call(this,Y[Ze].deltas,_e,ct),He=!0}H&&O.call(this,H),k&&M.call(this)}},T=function(C){var k=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,j=k*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-j;case"top":return C+k-j;case"hanging":return C+k-2*j;case"middle":return C+k/2-j;case"ideographic":return C;case"alphabetic":default:return C}},_=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(k,j){this.colorStops.push([k,j])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(C,k,j,H,Y,de,ue,he,xe){for(var ve=Q.call(this,j,H,Y,de),se=0;se<ve.length;se++){var Ke=ve[se];se===0&&(xe?I.call(this,Ke.x1+C,Ke.y1+k):L.call(this,Ke.x1+C,Ke.y1+k)),P.call(this,C,k,Ke.x2,Ke.y2,Ke.x3,Ke.y3,Ke.x4,Ke.y4)}he?M.call(this):O.call(this,ue)},O=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(C,k){this.pdf.internal.out(r(C)+" "+a(k)+" m")},D=function(C){var k;switch(C.align){case"right":case"end":k="right";break;case"center":k="center";break;case"left":case"start":default:k="left"}var j=this.pdf.getTextDimensions(C.text),H=T.call(this,C.y),Y=_.call(this,H)-j.h,de=this.ctx.transform.applyToPoint(new o(C.x,H)),ue=this.ctx.transform.decompose(),he=new l;he=(he=(he=he.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale);for(var xe,ve,se,Ke=this.ctx.transform.applyToRectangle(new A(C.x,H,j.w,j.h)),Ee=he.applyToRectangle(new A(C.x,Y,j.w,j.h)),pe=y.call(this,Ee),ce=[],He=0;He<pe.length;He+=1)ce.indexOf(pe[He])===-1&&ce.push(pe[He]);if(E(ce),this.autoPaging)for(var Ze=ce[0],Ye=ce[ce.length-1],tt=Ze;tt<Ye+1;tt++){this.pdf.setPage(tt);var je=tt===1?this.posY+this.margin[0]:this.margin[0],_e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ct=this.pdf.internal.pageSize.height-this.margin[2],_t=ct-this.margin[0],St=this.pdf.internal.pageSize.width-this.margin[1],Et=St-this.margin[3],Ft=tt===1?0:_e+(tt-2)*_t;if(this.ctx.clip_path.length!==0){var Lt=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(xe,this.posX+this.margin[3],-1*Ft+je),b.call(this,"fill",!0),this.path=Lt}var bt=v([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-Ft+je+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ve*C.scale),se=this.lineWidth,this.lineWidth=se*C.scale);var ft=this.autoPaging!=="text";if(ft||bt.y+bt.h<=ct){if(ft||bt.y>=je&&bt.x<=St){var lt=ft?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||St-bt.x)[0],Er=v([JSON.parse(JSON.stringify(Ke))],this.posX+this.margin[3],-Ft+je+this.ctx.prevPageLastElemOffset)[0],jt=ft&&(tt>Ze||tt<Ye)&&h.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Et,_t,null).clip().discardPath()),this.pdf.text(lt,Er.x,Er.y,{angle:C.angle,align:k,renderingMode:C.renderingMode}),jt&&this.pdf.restoreGraphicsState()}}else bt.y<ct&&(this.ctx.prevPageLastElemOffset+=ct-bt.y);C.scale>=.01&&(this.pdf.setFontSize(ve),this.lineWidth=se)}else C.scale>=.01&&(ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ve*C.scale),se=this.lineWidth,this.lineWidth=se*C.scale),this.pdf.text(C.text,de.x+this.posX,de.y+this.posY,{angle:C.angle,align:k,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(ve),this.lineWidth=se)},L=function(C,k,j,H){j=j||0,H=H||0,this.pdf.internal.out(r(C+j)+" "+a(k+H)+" l")},N=function(C,k,j){return this.pdf.lines(C,k,j,null,null)},P=function(C,k,j,H,Y,de,ue,he){this.pdf.internal.out([t(n(j+C)),t(s(H+k)),t(n(Y+C)),t(s(de+k)),t(n(ue+C)),t(s(he+k)),"c"].join(" "))},Q=function(C,k,j,H){for(var Y=2*Math.PI,de=Math.PI/2;k>j;)k-=Y;var ue=Math.abs(j-k);ue<Y&&H&&(ue=Y-ue);for(var he=[],xe=H?-1:1,ve=k;ue>1e-5;){var se=ve+xe*Math.min(ue,de);he.push(J.call(this,C,ve,se)),ue-=Math.abs(se-ve),ve=se}return he},J=function(C,k,j){var H=(j-k)/2,Y=C*Math.cos(H),de=C*Math.sin(H),ue=Y,he=-de,xe=ue*ue+he*he,ve=xe+ue*Y+he*de,se=4/3*(Math.sqrt(2*xe*ve)-ve)/(ue*de-he*Y),Ke=ue-se*he,Ee=he+se*ue,pe=Ke,ce=-Ee,He=H+k,Ze=Math.cos(He),Ye=Math.sin(He);return{x1:C*Math.cos(k),y1:C*Math.sin(k),x2:Ke*Ze-Ee*Ye,y2:Ke*Ye+Ee*Ze,x3:pe*Ze-ce*Ye,y3:pe*Ye+ce*Ze,x4:C*Math.cos(j),y4:C*Math.sin(j)}},te=function(C){return 180*C/Math.PI},V=function(C,k,j,H,Y,de){var ue=C+.5*(j-C),he=k+.5*(H-k),xe=Y+.5*(j-Y),ve=de+.5*(H-de),se=Math.min(C,Y,ue,xe),Ke=Math.max(C,Y,ue,xe),Ee=Math.min(k,de,he,ve),pe=Math.max(k,de,he,ve);return new A(se,Ee,Ke-se,pe-Ee)},G=function(C,k,j,H,Y,de,ue,he){var xe,ve,se,Ke,Ee,pe,ce,He,Ze,Ye,tt,je,_e,ct,_t=j-C,St=H-k,Et=Y-j,Ft=de-H,Lt=ue-Y,bt=he-de;for(ve=0;ve<41;ve++)Ze=(ce=(se=C+(xe=ve/40)*_t)+xe*((Ee=j+xe*Et)-se))+xe*(Ee+xe*(Y+xe*Lt-Ee)-ce),Ye=(He=(Ke=k+xe*St)+xe*((pe=H+xe*Ft)-Ke))+xe*(pe+xe*(de+xe*bt-pe)-He),ve==0?(tt=Ze,je=Ye,_e=Ze,ct=Ye):(tt=Math.min(tt,Ze),je=Math.min(je,Ye),_e=Math.max(_e,Ze),ct=Math.max(ct,Ye));return new A(Math.round(tt),Math.round(je),Math.round(_e-tt),Math.round(ct-je))},z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,k,j=(C=this.ctx.lineDash,k=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:k}));this.prevLineDash!==j&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=j)}}})(Gt.API),function(e){var t=function(s){var o,A,l,c,d,f,p,u,g,h;for(A=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(d=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(f=(d=((d=((d=((d=(d-(h=d%85))/85)-(g=d%85))/85)-(u=d%85))/85)-(p=d%85))/85)%85,A.push(f+33,p+33,u+33,g+33,h+33)):A.push(122);return function(y,x){for(var v=x;v>0;v--)y.pop()}(A,o.length),String.fromCharCode.apply(String,A)+"~>"},r=function(s){var o,A,l,c,d,f=String,p="length",u=255,g="charCodeAt",h="slice",y="replace";for(s[h](-2),s=s[h](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),l=[],c=0,d=(s+=o="uuuuu"[h](s[p]%5||5))[p];d>c;c+=5)A=52200625*(s[g](c)-33)+614125*(s[g](c+1)-33)+7225*(s[g](c+2)-33)+85*(s[g](c+3)-33)+(s[g](c+4)-33),l.push(u&A>>24,u&A>>16,u&A>>8,u&A);return function(x,v){for(var E=v;E>0;E--)x.pop()}(l,o[p]),f.fromCharCode.apply(f,l)},a=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var A="",l=0;l<s.length;l+=2)A+=String.fromCharCode("0x"+(s[l]+s[l+1]));return A},n=function(s){for(var o=new Uint8Array(s.length),A=s.length;A--;)o[A]=s.charCodeAt(A);return s=(o=jx(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};e.processDataByFilters=function(s,o){var A=0,l=s||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),A=0;A<o.length;A+=1)switch(o[A]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=a(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=n(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[A]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Gt.API),function(e){e.loadFile=function(t,r,a){return function(n,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var A=void 0;try{A=function(l,c,d){var f=new XMLHttpRequest,p=0,u=function(g){var h=g.length,y=[],x=String.fromCharCode;for(p=0;p<h;p+=1)y.push(x(255&g.charCodeAt(p)));return y.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?d(u(this.responseText)):d(void 0)}),f.send(null),c&&f.status===200)return u(f.responseText)}(n,s,o)}catch{}return A}(t,r,a)},e.loadImageFile=e.loadFile}(Gt.API),function(e){function t(){return(zt.html2canvas?Promise.resolve(zt.html2canvas):mi(()=>Promise.resolve().then(()=>cz),void 0,import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(zt.DOMPurify?Promise.resolve(zt.DOMPurify):mi(()=>import("./purify.es-C_uT9hQ1.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var a=function(o){var A=Zr(o);return A==="undefined"?"undefined":A==="string"||o instanceof String?"string":A==="number"||o instanceof Number?"number":A==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":A==="object"?"object":"unknown"},n=function(o,A){var l=document.createElement(o);for(var c in A.className&&(l.className=A.className),A.innerHTML&&A.dompurify&&(l.innerHTML=A.dompurify.sanitize(A.innerHTML)),A.style)l.style[c]=A.style[c];return l},s=function o(A){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(A)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,A){return o.__proto__=A||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,A){return this.then(function(){switch(A=A||function(l){switch(a(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(l){return this.set({src:n("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},A=function l(c,d){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)d!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||f.appendChild(l(p,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);A.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(A),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(A){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,A(this.prop.container,l)}).then(function(A){(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(A){var l=this.opt.jsPDF,c=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var p=0;p<c.length;++p){var u=c[p],g=u.src.find(function(h){return h.format==="truetype"});g&&l.addFont(g.url,u.ref.name,u.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),A(this.prop.container,f)}).then(function(A){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,A,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,A):this.outputPdf(o,A)},s.prototype.outputPdf=function(o,A){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,A)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(a(o)!=="object")return this;var A=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(A)})},s.prototype.get=function(o,A){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return A?A(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(a(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function A(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||Gt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:A(o.inner.width,o.k),height:A(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,A,l,c){return o!=null&&(this.progress.val=o),A!=null&&(this.progress.state=A),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,A,l,c){return this.setProgress(o?this.progress.val+o:null,A||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,A){var l=this;return this.thenCore(o,A,function(c,d){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,d).then(function(f){return l.updateProgress(1),f})})},s.prototype.thenCore=function(o,A,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),A&&(A=A.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),d=l.call(c,o,A);return s.convert(d,this.__proto__)},s.prototype.thenExternal=function(o,A){return Promise.prototype.then.call(this,o,A)},s.prototype.thenList=function(o){var A=this;return o.forEach(function(l){A=A.thenCore(l)}),A},s.prototype.catch=function(o){o&&(o=o.bind(this));var A=Promise.prototype.catch.call(this,o);return s.convert(A,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Gt.getPageSize=function(o,A,l){if(Zr(o)==="object"){var c=o;o=c.orientation,A=c.unit||A,l=c.format||l}A=A||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var d,f=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(A){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+A}var u,g=0,h=0;if(p.hasOwnProperty(f))g=p[f][1]/d,h=p[f][0]/d;else try{g=l[1],h=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",h>g&&(u=h,h=g,g=u);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",g>h&&(u=h,h=g,g=u)}return{width:h,height:g,unit:A,k:d,orientation:o}},e.html=function(o,A){(A=A||{}).callback=A.callback||function(){},A.html2canvas=A.html2canvas||{},A.html2canvas.canvas=A.html2canvas.canvas||this.canvas,A.jsPDF=A.jsPDF||this,A.fontFaces=A.fontFaces?A.fontFaces.map(qx):null;var l=new s(A);return A.worker?l:l.from(o).doCallback()}}(Gt.API),Gt.API.addJS=function(e){return bw=e,this.internal.events.subscribe("postPutResources",function(){yp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(yp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Ew=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+bw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){yp!==void 0&&Ew!==void 0&&this.internal.out("/Names <</JavaScript "+yp+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=r.outline.render().split(/\r\n/),s=0;s<n.length;s++){var o=n[s],A=a.exec(o);if(A!=null){var l=A[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,d=[];for(s=0;s<c;s++){var f=r.internal.newObject();d.push(f);var p=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var u=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<d.length;s++)r.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+u+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(a,n,s){var o={title:n,options:s,children:[]};return a==null&&(a=this.root),a.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(a){a.id=r.internal.newObjectDeferred();for(var n=0;n<a.children.length;n++)this.genIds_r(a.children[n])},r.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},r.outline.renderItems=function(a){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<a.children.length;s++){var o=a.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(a)),s>0&&this.line("/Prev "+this.makeRef(a.children[s-1])),s<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var A=this.count=this.count_r({count:0},o);if(A>0&&this.line("/Count "+A),o.options&&o.options.pageNumber){var l=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var c=0;c<a.children.length;c++)this.renderItems(a.children[c])},r.outline.line=function(a){this.ctx.val+=a+`\r
`},r.outline.makeRef=function(a){return a.id+" 0 R"},r.outline.makeString=function(a){return"("+r.internal.pdfEscape(a)+")"},r.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(a,n){for(var s=0;s<n.children.length;s++)a.count++,this.count_r(a,n.children[s]);return a.count}}])}(Gt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,a,n,s,o,A){var l,c=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(f){for(var p,u=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,h={width:0,height:0,numcomponents:1},y=4;y<g;y+=2){if(y+=u,t.indexOf(f.charCodeAt(y+1))!==-1){p=256*f.charCodeAt(y+5)+f.charCodeAt(y+6),h={width:256*f.charCodeAt(y+7)+f.charCodeAt(y+8),height:p,numcomponents:f.charCodeAt(y+9)};break}u=256*f.charCodeAt(y+2)+f.charCodeAt(y+3)}return h}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:A=this.color_spaces.DEVICE_GRAY;break;case 4:A=this.color_spaces.DEVICE_CMYK;break;case 3:A=this.color_spaces.DEVICE_RGB}d={data:r,width:l.width,height:l.height,colorSpace:A,bitsPerComponent:8,filter:c,index:a,alias:n}}return d}}(Gt.API);var Jc,vp,_w,Cw,Bw,b9=function(){var e,t,r;function a(s){var o,A,l,c,d,f,p,u,g,h,y,x,v,E;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),g=(function(){var R,b;for(b=[],R=0;R<4;++R)b.push(String.fromCharCode(this.data[this.pos++]));return b}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*d/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,o-=4),s=(f!=null?f.data:void 0)||this.imgData,x=0;0<=o?x<o:x>o;0<=o?++x:--x)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((h=l-this.transparency.indexed.length)>0)for(v=0;0<=h?v<h:v>h;0<=h?++v:--v)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":p=(y=this.read(o)).indexOf(0),u=String.fromCharCode.apply(String,y.slice(0,p)),this.text[u]=String.fromCharCode.apply(String,y.slice(p+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(E=this.colorType)===4||E===6,A=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*A,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}a.prototype.read=function(s){var o,A;for(A=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)A.push(this.data[this.pos++]);return A},a.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},a.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},a.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,A=new Uint8Array(this.width*this.height*o),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function d(f,p,u,g){var h,y,x,v,E,R,b,T,_,S,O,M,I,D,L,N,P,Q,J,te,V,G=Math.ceil((c.width-f)/u),z=Math.ceil((c.height-p)/g),C=c.width==G&&c.height==z;for(D=o*G,M=C?A:new Uint8Array(D*z),R=s.length,I=0,y=0;I<z&&l<R;){switch(s[l++]){case 0:for(v=P=0;P<D;v=P+=1)M[y++]=s[l++];break;case 1:for(v=Q=0;Q<D;v=Q+=1)h=s[l++],E=v<o?0:M[y-o],M[y++]=(h+E)%256;break;case 2:for(v=J=0;J<D;v=J+=1)h=s[l++],x=(v-v%o)/o,L=I&&M[(I-1)*D+x*o+v%o],M[y++]=(L+h)%256;break;case 3:for(v=te=0;te<D;v=te+=1)h=s[l++],x=(v-v%o)/o,E=v<o?0:M[y-o],L=I&&M[(I-1)*D+x*o+v%o],M[y++]=(h+Math.floor((E+L)/2))%256;break;case 4:for(v=V=0;V<D;v=V+=1)h=s[l++],x=(v-v%o)/o,E=v<o?0:M[y-o],I===0?L=N=0:(L=M[(I-1)*D+x*o+v%o],N=x&&M[(I-1)*D+(x-1)*o+v%o]),b=E+L-N,T=Math.abs(b-E),S=Math.abs(b-L),O=Math.abs(b-N),_=T<=S&&T<=O?E:S<=O?L:N,M[y++]=(h+_)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!C){var k=((p+I*g)*c.width+f)*o,j=I*D;for(v=0;v<G;v+=1){for(var H=0;H<o;H+=1)A[k++]=M[j++];k+=(u-1)*o}}I++}}return s=t9(s),c.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),A},a.prototype.decodePalette=function(){var s,o,A,l,c,d,f,p,u;for(A=this.palette,d=this.transparency.indexed||[],c=new Uint8Array((d.length||0)+A.length),l=0,s=0,o=f=0,p=A.length;f<p;o=f+=3)c[l++]=A[o],c[l++]=A[o+1],c[l++]=A[o+2],c[l++]=(u=d[s++])!=null?u:255;return c},a.prototype.copyToImageData=function(s,o){var A,l,c,d,f,p,u,g,h,y,x;if(l=this.colors,h=null,A=this.hasAlphaChannel,this.palette.length&&(h=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),l=4,A=!0),g=(c=s.data||s).length,f=h||o,d=p=0,l===1)for(;d<g;)u=h?4*o[d/4]:p,y=f[u++],c[d++]=y,c[d++]=y,c[d++]=y,c[d++]=A?f[u++]:255,p=u;else for(;d<g;)u=h?4*o[d/4]:p,c[d++]=f[u++],c[d++]=f[u++],c[d++]=f[u++],c[d++]=A?f[u++]:255,p=u},a.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var n=function(){if(Object.prototype.toString.call(zt)==="[object Window]"){try{t=zt.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return n(),e=function(s){var o;if(n()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},a.prototype.decodeFrames=function(s){var o,A,l,c,d,f,p,u;if(this.animation){for(u=[],A=d=0,f=(p=this.animation.frames).length;d<f;A=++d)o=p[A],l=s.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,u.push(o.image=e(l));return u}},a.prototype.renderFrame=function(s,o){var A,l,c;return A=(l=this.animation.frames)[o],c=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),A.blendOp===0&&s.clearRect(A.xOffset,A.yOffset,A.width,A.height),s.drawImage(A.image,A.xOffset,A.yOffset)},a.prototype.animate=function(s){var o,A,l,c,d,f,p=this;return A=0,f=this.animation,c=f.numFrames,l=f.frames,d=f.numPlays,(o=function(){var u,g;if(u=A++%c,g=l[u],p.renderFrame(s,u),c>1&&A/c<d)return p.animation._timeout=setTimeout(o,g.delay)})()},a.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},a.prototype.render=function(s){var o,A;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(A=o.createImageData(this.width,this.height),this.copyToImageData(A,this.decodePixels()),o.putImageData(A,0,0))},a}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function _9(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,a=e[t++]|e[t++]<<8,n=e[t++],s=n>>7,o=1<<(7&n)+1;e[t++],e[t++];var A=null,l=null;s&&(A=t,l=o,t+=3*o);var c=!0,d=[],f=0,p=null,u=0,g=null;for(this.width=r,this.height=a;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var h=e[t++];f=e[t++]|e[t++]<<8,p=e[t++],!(1&h)&&(p=null),u=h>>2&7,t++;break;case 254:for(;;){if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var y=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,E=e[t++]|e[t++]<<8,R=e[t++],b=R>>6&1,T=1<<(7&R)+1,_=A,S=l,O=!1;R>>7&&(O=!0,_=t,S=T,t+=3*T);var M=t;for(t++;;){var I;if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}d.push({x:y,y:x,width:v,height:E,has_local_palette:O,palette_offset:_,palette_size:S,data_offset:M,data_length:t-M,transparent_index:p,interlaced:!!b,delay:f,disposal:u});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return g},this.frameInfo=function(D){if(D<0||D>=d.length)throw new Error("Frame index out of range.");return d[D]},this.decodeAndBlitFrameBGRA=function(D,L){var N=this.frameInfo(D),P=N.width*N.height,Q=new Uint8Array(P);Sw(e,N.data_offset,Q,P);var J=N.palette_offset,te=N.transparent_index;te===null&&(te=256);var V=N.width,G=r-V,z=V,C=4*(N.y*r+N.x),k=4*((N.y+N.height)*r+N.x),j=C,H=4*G;N.interlaced===!0&&(H+=4*r*7);for(var Y=8,de=0,ue=Q.length;de<ue;++de){var he=Q[de];if(z===0&&(z=V,(j+=H)>=k&&(H=4*G+4*r*(Y-1),j=C+(V+G)*(Y<<1),Y>>=1)),he===te)j+=4;else{var xe=e[J+3*he],ve=e[J+3*he+1],se=e[J+3*he+2];L[j++]=se,L[j++]=ve,L[j++]=xe,L[j++]=255}--z}},this.decodeAndBlitFrameRGBA=function(D,L){var N=this.frameInfo(D),P=N.width*N.height,Q=new Uint8Array(P);Sw(e,N.data_offset,Q,P);var J=N.palette_offset,te=N.transparent_index;te===null&&(te=256);var V=N.width,G=r-V,z=V,C=4*(N.y*r+N.x),k=4*((N.y+N.height)*r+N.x),j=C,H=4*G;N.interlaced===!0&&(H+=4*r*7);for(var Y=8,de=0,ue=Q.length;de<ue;++de){var he=Q[de];if(z===0&&(z=V,(j+=H)>=k&&(H=4*G+4*r*(Y-1),j=C+(V+G)*(Y<<1),Y>>=1)),he===te)j+=4;else{var xe=e[J+3*he],ve=e[J+3*he+1],se=e[J+3*he+2];L[j++]=xe,L[j++]=ve,L[j++]=se,L[j++]=255}--z}}}function Sw(e,t,r,a){for(var n=e[t++],s=1<<n,o=s+1,A=o+1,l=n+1,c=(1<<l)-1,d=0,f=0,p=0,u=e[t++],g=new Int32Array(4096),h=null;;){for(;d<16&&u!==0;)f|=e[t++]<<d,d+=8,u===1?u=e[t++]:--u;if(d<l)break;var y=f&c;if(f>>=l,d-=l,y!==s){if(y===o)break;for(var x=y<A?y:h,v=0,E=x;E>s;)E=g[E]>>8,++v;var R=E;if(p+v+(x!==y?1:0)>a)return void Yr.log("Warning, gif stream longer than expected.");r[p++]=R;var b=p+=v;for(x!==y&&(r[p++]=R),E=x;v--;)E=g[E],r[--b]=255&E,E>>=8;h!==null&&A<4096&&(g[A++]=h<<8|R,A>=c+1&&l<12&&(++l,c=c<<1|1)),h=y}else A=o+1,c=(1<<(l=n+1))-1,h=null}return p!==a&&Yr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function r1(e){var t,r,a,n,s,o=Math.floor,A=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),f=new Array(65535),p=new Array(65535),u=new Array(64),g=new Array(64),h=[],y=0,x=7,v=new Array(64),E=new Array(64),R=new Array(64),b=new Array(256),T=new Array(2048),_=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],N=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],P=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(C,k){for(var j=0,H=0,Y=new Array,de=1;de<=16;de++){for(var ue=1;ue<=C[de];ue++)Y[k[H]]=[],Y[k[H]][0]=j,Y[k[H]][1]=de,H++,j++;j*=2}return Y}function J(C){for(var k=C[0],j=C[1]-1;j>=0;)k&1<<j&&(y|=1<<x),j--,--x<0&&(y==255?(te(255),te(0)):te(y),x=7,y=0)}function te(C){h.push(C)}function V(C){te(C>>8&255),te(255&C)}function G(C,k,j,H,Y){for(var de,ue=Y[0],he=Y[240],xe=function(Ye,tt){var je,_e,ct,_t,St,Et,Ft,Lt,bt,ft,lt=0;for(bt=0;bt<8;++bt){je=Ye[lt],_e=Ye[lt+1],ct=Ye[lt+2],_t=Ye[lt+3],St=Ye[lt+4],Et=Ye[lt+5],Ft=Ye[lt+6];var Er=je+(Lt=Ye[lt+7]),jt=je-Lt,Fr=_e+Ft,fr=_e-Ft,yt=ct+Et,hr=ct-Et,Jt=_t+St,ln=_t-St,jr=Er+Jt,ai=Er-Jt,Di=Fr+yt,Lr=Fr-yt;Ye[lt]=jr+Di,Ye[lt+4]=jr-Di;var $t=.707106781*(Lr+ai);Ye[lt+2]=ai+$t,Ye[lt+6]=ai-$t;var yr=.382683433*((jr=ln+hr)-(Lr=fr+jt)),Is=.5411961*jr+yr,ya=1.306562965*Lr+yr,ni=.707106781*(Di=hr+fr),Ei=jt+ni,Pt=jt-ni;Ye[lt+5]=Pt+Is,Ye[lt+3]=Pt-Is,Ye[lt+1]=Ei+ya,Ye[lt+7]=Ei-ya,lt+=8}for(lt=0,bt=0;bt<8;++bt){je=Ye[lt],_e=Ye[lt+8],ct=Ye[lt+16],_t=Ye[lt+24],St=Ye[lt+32],Et=Ye[lt+40],Ft=Ye[lt+48];var va=je+(Lt=Ye[lt+56]),kn=je-Lt,Na=_e+Ft,da=_e-Ft,na=ct+Et,U=ct-Et,W=_t+St,ee=_t-St,oe=va+W,re=va-W,le=Na+na,we=Na-na;Ye[lt]=oe+le,Ye[lt+32]=oe-le;var Ue=.707106781*(we+re);Ye[lt+16]=re+Ue,Ye[lt+48]=re-Ue;var Ne=.382683433*((oe=ee+U)-(we=da+kn)),Se=.5411961*oe+Ne,ke=1.306562965*we+Ne,$e=.707106781*(le=U+da),ze=kn+$e,mt=kn-$e;Ye[lt+40]=mt+Se,Ye[lt+24]=mt-Se,Ye[lt+8]=ze+ke,Ye[lt+56]=ze-ke,lt++}for(bt=0;bt<64;++bt)ft=Ye[bt]*tt[bt],u[bt]=ft>0?ft+.5|0:ft-.5|0;return u}(C,k),ve=0;ve<64;++ve)g[_[ve]]=xe[ve];var se=g[0]-j;j=g[0],se==0?J(H[0]):(J(H[p[de=32767+se]]),J(f[de]));for(var Ke=63;Ke>0&&g[Ke]==0;)Ke--;if(Ke==0)return J(ue),j;for(var Ee,pe=1;pe<=Ke;){for(var ce=pe;g[pe]==0&&pe<=Ke;)++pe;var He=pe-ce;if(He>=16){Ee=He>>4;for(var Ze=1;Ze<=Ee;++Ze)J(he);He&=15}de=32767+g[pe],J(Y[(He<<4)+p[de]]),J(f[de]),pe++}return Ke!=63&&J(ue),j}function z(C){C=Math.min(Math.max(C,1),100),s!=C&&(function(k){for(var j=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],H=0;H<64;H++){var Y=o((j[H]*k+50)/100);Y=Math.min(Math.max(Y,1),255),A[_[H]]=Y}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ue=0;ue<64;ue++){var he=o((de[ue]*k+50)/100);he=Math.min(Math.max(he,1),255),l[_[ue]]=he}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ve=0,se=0;se<8;se++)for(var Ke=0;Ke<8;Ke++)c[ve]=1/(A[_[ve]]*xe[se]*xe[Ke]*8),d[ve]=1/(l[_[ve]]*xe[se]*xe[Ke]*8),ve++}(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),s=C)}this.encode=function(C,k){k&&z(k),h=new Array,y=0,x=7,V(65496),V(65504),V(16),te(74),te(70),te(73),te(70),te(0),te(1),te(1),te(0),V(1),V(1),te(0),te(0),function(){V(65499),V(132),te(0);for(var _e=0;_e<64;_e++)te(A[_e]);te(1);for(var ct=0;ct<64;ct++)te(l[ct])}(),function(_e,ct){V(65472),V(17),te(8),V(ct),V(_e),te(3),te(1),te(17),te(0),te(2),te(17),te(1),te(3),te(17),te(1)}(C.width,C.height),function(){V(65476),V(418),te(0);for(var _e=0;_e<16;_e++)te(S[_e+1]);for(var ct=0;ct<=11;ct++)te(O[ct]);te(16);for(var _t=0;_t<16;_t++)te(M[_t+1]);for(var St=0;St<=161;St++)te(I[St]);te(1);for(var Et=0;Et<16;Et++)te(D[Et+1]);for(var Ft=0;Ft<=11;Ft++)te(L[Ft]);te(17);for(var Lt=0;Lt<16;Lt++)te(N[Lt+1]);for(var bt=0;bt<=161;bt++)te(P[bt])}(),V(65498),V(12),te(3),te(1),te(0),te(2),te(17),te(3),te(17),te(0),te(63),te(0);var j=0,H=0,Y=0;y=0,x=7,this.encode.displayName="_encode_";for(var de,ue,he,xe,ve,se,Ke,Ee,pe,ce=C.data,He=C.width,Ze=C.height,Ye=4*He,tt=0;tt<Ze;){for(de=0;de<Ye;){for(ve=Ye*tt+de,Ke=-1,Ee=0,pe=0;pe<64;pe++)se=ve+(Ee=pe>>3)*Ye+(Ke=4*(7&pe)),tt+Ee>=Ze&&(se-=Ye*(tt+1+Ee-Ze)),de+Ke>=Ye&&(se-=de+Ke-Ye+4),ue=ce[se++],he=ce[se++],xe=ce[se++],v[pe]=(T[ue]+T[he+256>>0]+T[xe+512>>0]>>16)-128,E[pe]=(T[ue+768>>0]+T[he+1024>>0]+T[xe+1280>>0]>>16)-128,R[pe]=(T[ue+1280>>0]+T[he+1536>>0]+T[xe+1792>>0]>>16)-128;j=G(v,c,j,t,a),H=G(E,d,H,r,n),Y=G(R,d,Y,r,n),de+=32}tt+=8}if(x>=0){var je=[];je[1]=x+1,je[0]=(1<<x+1)-1,J(je)}return V(65497),new Uint8Array(h)},e=e||50,function(){for(var C=String.fromCharCode,k=0;k<256;k++)b[k]=C(k)}(),t=Q(S,O),r=Q(D,L),a=Q(M,I),n=Q(N,P),function(){for(var C=1,k=2,j=1;j<=15;j++){for(var H=C;H<k;H++)p[32767+H]=j,f[32767+H]=[],f[32767+H][1]=j,f[32767+H][0]=H;for(var Y=-(k-1);Y<=-C;Y++)p[32767+Y]=j,f[32767+Y]=[],f[32767+Y][1]=j,f[32767+Y][0]=k-1+Y;C<<=1,k<<=1}}(),function(){for(var C=0;C<256;C++)T[C]=19595*C,T[C+256>>0]=38470*C,T[C+512>>0]=7471*C+32768,T[C+768>>0]=-11059*C,T[C+1024>>0]=-21709*C,T[C+1280>>0]=32768*C+8421375,T[C+1536>>0]=-27439*C,T[C+1792>>0]=-5329*C}(),z(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Us(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Tw(e){function t(S){if(!S)throw Error("assert :P")}function r(S,O,M){for(var I=0;4>I;I++)if(S[O+I]!=M.charCodeAt(I))return!0;return!1}function a(S,O,M,I,D){for(var L=0;L<D;L++)S[O+L]=M[I+L]}function n(S,O,M,I){for(var D=0;D<I;D++)S[O+D]=M}function s(S){return new Int32Array(S)}function o(S,O){for(var M=[],I=0;I<S;I++)M.push(new O);return M}function A(S,O){var M=[];return function I(D,L,N){for(var P=N[L],Q=0;Q<P&&(D.push(N.length>L+1?[]:new O),!(N.length<L+1));Q++)I(D[Q],L+1,N)}(M,0,S),M}var l=function(){var S=this;function O(m,w){for(var F=1<<w-1>>>0;m&F;)F>>>=1;return F?(m&F-1)+F:m}function M(m,w,F,q,X){t(!(q%F));do m[w+(q-=F)]=X;while(0<q)}function I(m,w,F,q,X){if(t(2328>=X),512>=X)var ae=s(512);else if((ae=s(X))==null)return 0;return function(ie,Ae,fe,me,Ie,Qe){var qe,Le,nt=Ae,Ge=1<<fe,Fe=s(16),De=s(16);for(t(Ie!=0),t(me!=null),t(ie!=null),t(0<fe),Le=0;Le<Ie;++Le){if(15<me[Le])return 0;++Fe[me[Le]]}if(Fe[0]==Ie)return 0;for(De[1]=0,qe=1;15>qe;++qe){if(Fe[qe]>1<<qe)return 0;De[qe+1]=De[qe]+Fe[qe]}for(Le=0;Le<Ie;++Le)qe=me[Le],0<me[Le]&&(Qe[De[qe]++]=Le);if(De[15]==1)return(me=new D).g=0,me.value=Qe[0],M(ie,nt,1,Ge,me),Ge;var rt,ot=-1,at=Ge-1,Tt=0,vt=1,qt=1,wt=1<<fe;for(Le=0,qe=1,Ie=2;qe<=fe;++qe,Ie<<=1){if(vt+=qt<<=1,0>(qt-=Fe[qe]))return 0;for(;0<Fe[qe];--Fe[qe])(me=new D).g=qe,me.value=Qe[Le++],M(ie,nt+Tt,Ie,wt,me),Tt=O(Tt,qe)}for(qe=fe+1,Ie=2;15>=qe;++qe,Ie<<=1){if(vt+=qt<<=1,0>(qt-=Fe[qe]))return 0;for(;0<Fe[qe];--Fe[qe]){if(me=new D,(Tt&at)!=ot){for(nt+=wt,rt=1<<(ot=qe)-fe;15>ot&&!(0>=(rt-=Fe[ot]));)++ot,rt<<=1;Ge+=wt=1<<(rt=ot-fe),ie[Ae+(ot=Tt&at)].g=rt+fe,ie[Ae+ot].value=nt-Ae-ot}me.g=qe-fe,me.value=Qe[Le++],M(ie,nt+(Tt>>fe),Ie,wt,me),Tt=O(Tt,qe)}}return vt!=2*De[15]-1?0:Ge}(m,w,F,q,X,ae)}function D(){this.value=this.g=0}function L(){this.value=this.g=0}function N(){this.G=o(5,D),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(wn,L)}function P(m,w,F,q){t(m!=null),t(w!=null),t(2147483648>q),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=w,m.pa=F,m.Jd=w,m.Yc=F+q,m.Zc=4<=q?F+q-4+1:F,de(m)}function Q(m,w){for(var F=0;0<w--;)F|=he(m,128)<<w;return F}function J(m,w){var F=Q(m,w);return ue(m)?-F:F}function te(m,w,F,q){var X,ae=0;for(t(m!=null),t(w!=null),t(4294967288>q),m.Sb=q,m.Ra=0,m.u=0,m.h=0,4<q&&(q=4),X=0;X<q;++X)ae+=w[F+X]<<8*X;m.Ra=ae,m.bb=q,m.oa=w,m.pa=F}function V(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<jc-8>>>0,++m.bb,m.u-=8;j(m)&&(m.h=1,m.u=0)}function G(m,w){if(t(0<=w),!m.h&&w<=Dc){var F=k(m)&kc[w];return m.u+=w,V(m),F}return m.h=1,m.u=0}function z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function C(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function k(m){return m.Ra>>>(m.u&jc-1)>>>0}function j(m){return t(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>jc}function H(m,w){m.u=w,m.h=j(m)}function Y(m){m.u>=hu&&(t(m.u>=hu),V(m))}function de(m){t(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(t(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function ue(m){return Q(m,1)}function he(m,w){var F=m.Ca;0>m.b&&de(m);var q=m.b,X=F*w>>>8,ae=(m.I>>>q>X)+0;for(ae?(F-=X,m.I-=X+1<<q>>>0):F=X+1,q=F,X=0;256<=q;)X+=8,q>>=8;return q=7^X+_i[q],m.b-=q,m.Ca=(F<<q)-1,ae}function xe(m,w,F){m[w+0]=F>>24&255,m[w+1]=F>>16&255,m[w+2]=F>>8&255,m[w+3]=F>>0&255}function ve(m,w){return m[w+0]<<0|m[w+1]<<8}function se(m,w){return ve(m,w)|m[w+2]<<16}function Ke(m,w){return ve(m,w)|ve(m,w+2)<<16}function Ee(m,w){var F=1<<w;return t(m!=null),t(0<w),m.X=s(F),m.X==null?0:(m.Mb=32-w,m.Xa=w,1)}function pe(m,w){t(m!=null),t(w!=null),t(m.Xa==w.Xa),a(w.X,0,m.X,0,1<<w.Xa)}function ce(){this.X=[],this.Xa=this.Mb=0}function He(m,w,F,q){t(F!=null),t(q!=null);var X=F[0],ae=q[0];return X==0&&(X=(m*ae+w/2)/w),ae==0&&(ae=(w*X+m/2)/m),0>=X||0>=ae?0:(F[0]=X,q[0]=ae,1)}function Ze(m,w){return m+(1<<w)-1>>>w}function Ye(m,w){return((4278255360&m)+(4278255360&w)>>>0&4278255360)+((16711935&m)+(16711935&w)>>>0&16711935)>>>0}function tt(m,w){S[w]=function(F,q,X,ae,ie,Ae,fe){var me;for(me=0;me<ie;++me){var Ie=S[m](Ae[fe+me-1],X,ae+me);Ae[fe+me]=Ye(F[q+me],Ie)}}}function je(){this.ud=this.hd=this.jd=0}function _e(m,w){return((4278124286&(m^w))>>>1)+(m&w)>>>0}function ct(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function _t(m,w){return ct(m+(m-w+.5>>1))}function St(m,w,F){return Math.abs(w-F)-Math.abs(m-F)}function Et(m,w,F,q,X,ae,ie){for(q=ae[ie-1],F=0;F<X;++F)ae[ie+F]=q=Ye(m[w+F],q)}function Ft(m,w,F,q,X){var ae;for(ae=0;ae<F;++ae){var ie=m[w+ae],Ae=ie>>8&255,fe=16711935&(fe=(fe=16711935&ie)+((Ae<<16)+Ae));q[X+ae]=(4278255360&ie)+fe>>>0}}function Lt(m,w){w.jd=m>>0&255,w.hd=m>>8&255,w.ud=m>>16&255}function bt(m,w,F,q,X,ae){var ie;for(ie=0;ie<q;++ie){var Ae=w[F+ie],fe=Ae>>>8,me=Ae,Ie=255&(Ie=(Ie=Ae>>>16)+((m.jd<<24>>24)*(fe<<24>>24)>>>5));me=255&(me=(me=me+((m.hd<<24>>24)*(fe<<24>>24)>>>5))+((m.ud<<24>>24)*(Ie<<24>>24)>>>5)),X[ae+ie]=(4278255360&Ae)+(Ie<<16)+me}}function ft(m,w,F,q,X){S[w]=function(ae,ie,Ae,fe,me,Ie,Qe,qe,Le){for(fe=Qe;fe<qe;++fe)for(Qe=0;Qe<Le;++Qe)me[Ie++]=X(Ae[q(ae[ie++])])},S[m]=function(ae,ie,Ae,fe,me,Ie,Qe){var qe=8>>ae.b,Le=ae.Ea,nt=ae.K[0],Ge=ae.w;if(8>qe)for(ae=(1<<ae.b)-1,Ge=(1<<qe)-1;ie<Ae;++ie){var Fe,De=0;for(Fe=0;Fe<Le;++Fe)Fe&ae||(De=q(fe[me++])),Ie[Qe++]=X(nt[De&Ge]),De>>=qe}else S["VP8LMapColor"+F](fe,me,nt,Ge,Ie,Qe,ie,Ae,Le)}}function lt(m,w,F,q,X){for(F=w+F;w<F;){var ae=m[w++];q[X++]=ae>>16&255,q[X++]=ae>>8&255,q[X++]=ae>>0&255}}function Er(m,w,F,q,X){for(F=w+F;w<F;){var ae=m[w++];q[X++]=ae>>16&255,q[X++]=ae>>8&255,q[X++]=ae>>0&255,q[X++]=ae>>24&255}}function jt(m,w,F,q,X){for(F=w+F;w<F;){var ae=(ie=m[w++])>>16&240|ie>>12&15,ie=ie>>0&240|ie>>28&15;q[X++]=ae,q[X++]=ie}}function Fr(m,w,F,q,X){for(F=w+F;w<F;){var ae=(ie=m[w++])>>16&248|ie>>13&7,ie=ie>>5&224|ie>>3&31;q[X++]=ae,q[X++]=ie}}function fr(m,w,F,q,X){for(F=w+F;w<F;){var ae=m[w++];q[X++]=ae>>0&255,q[X++]=ae>>8&255,q[X++]=ae>>16&255}}function yt(m,w,F,q,X,ae){if(ae==0)for(F=w+F;w<F;)xe(q,((ae=m[w++])[0]>>24|ae[1]>>8&65280|ae[2]<<8&16711680|ae[3]<<24)>>>0),X+=32;else a(q,X,m,w,F)}function hr(m,w){S[w][0]=S[m+"0"],S[w][1]=S[m+"1"],S[w][2]=S[m+"2"],S[w][3]=S[m+"3"],S[w][4]=S[m+"4"],S[w][5]=S[m+"5"],S[w][6]=S[m+"6"],S[w][7]=S[m+"7"],S[w][8]=S[m+"8"],S[w][9]=S[m+"9"],S[w][10]=S[m+"10"],S[w][11]=S[m+"11"],S[w][12]=S[m+"12"],S[w][13]=S[m+"13"],S[w][14]=S[m+"0"],S[w][15]=S[m+"0"]}function Jt(m){return m==sg||m==og||m==M0||m==Ag}function ln(){this.eb=[],this.size=this.A=this.fb=0}function jr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ai(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ln,this.f.kb=new jr,this.sd=null}function Di(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Lr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function $t(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function yr(m,w){var F=m.T,q=w.ba.f.RGBA,X=q.eb,ae=q.fb+m.ka*q.A,ie=us[w.ba.S],Ae=m.y,fe=m.O,me=m.f,Ie=m.N,Qe=m.ea,qe=m.W,Le=w.cc,nt=w.dc,Ge=w.Mc,Fe=w.Nc,De=m.ka,rt=m.ka+m.T,ot=m.U,at=ot+1>>1;for(De==0?ie(Ae,fe,null,null,me,Ie,Qe,qe,me,Ie,Qe,qe,X,ae,null,null,ot):(ie(w.ec,w.fc,Ae,fe,Le,nt,Ge,Fe,me,Ie,Qe,qe,X,ae-q.A,X,ae,ot),++F);De+2<rt;De+=2)Le=me,nt=Ie,Ge=Qe,Fe=qe,Ie+=m.Rc,qe+=m.Rc,ae+=2*q.A,ie(Ae,(fe+=2*m.fa)-m.fa,Ae,fe,Le,nt,Ge,Fe,me,Ie,Qe,qe,X,ae-q.A,X,ae,ot);return fe+=m.fa,m.j+rt<m.o?(a(w.ec,w.fc,Ae,fe,ot),a(w.cc,w.dc,me,Ie,at),a(w.Mc,w.Nc,Qe,qe,at),F--):1&rt||ie(Ae,fe,null,null,me,Ie,Qe,qe,me,Ie,Qe,qe,X,ae+q.A,null,null,ot),F}function Is(m,w,F){var q=m.F,X=[m.J];if(q!=null){var ae=m.U,ie=w.ba.S,Ae=ie==U0||ie==M0;w=w.ba.f.RGBA;var fe=[0],me=m.ka;fe[0]=m.T,m.Kb&&(me==0?--fe[0]:(--me,X[0]-=m.width),m.j+m.ka+m.T==m.o&&(fe[0]=m.o-m.j-me));var Ie=w.eb;me=w.fb+me*w.A,m=ra(q,X[0],m.width,ae,fe,Ie,me+(Ae?0:3),w.A),t(F==fe),m&&Jt(ie)&&cs(Ie,me,Ae,ae,fe,w.A)}return 0}function ya(m){var w=m.ma,F=w.ba.S,q=11>F,X=F==j0||F==L0||F==U0||F==ig||F==12||Jt(F);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!fu(w.Oa,m,X?11:12))return 0;if(X&&Jt(F)&&At(),m.da)alert("todo:use_scaling");else{if(q){if(w.Ib=$t,m.Kb){if(F=m.U+1>>1,w.memory=s(m.U+2*F),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+m.U,w.Mc=w.cc,w.Nc=w.dc+F,w.Ib=yr,At()}}else alert("todo:EmitYUV");X&&(w.Jb=Is,q&&Pe())}if(q&&!nv){for(m=0;256>m;++m)VS[m]=89858*(m-128)+Q0>>P0,WS[m]=-22014*(m-128)+Q0,YS[m]=-45773*(m-128),$S[m]=113618*(m-128)+Q0>>P0;for(m=Eu;m<dg;++m)w=76283*(m-16)+Q0>>P0,XS[m-Eu]=Li(w,255),JS[m-Eu]=Li(w+8>>4,15);nv=1}return 1}function ni(m){var w=m.ma,F=m.U,q=m.T;return t(!(1&m.ka)),0>=F||0>=q?0:(F=w.Ib(m,w),w.Jb!=null&&w.Jb(m,w,F),w.Dc+=F,1)}function Ei(m){m.ma.memory=null}function Pt(m,w,F,q){return G(m,8)!=47?0:(w[0]=G(m,14)+1,F[0]=G(m,14)+1,q[0]=G(m,1),G(m,3)!=0?0:!m.h)}function va(m,w){if(4>m)return m+1;var F=m-2>>1;return(2+(1&m)<<F)+G(w,F)+1}function kn(m,w){return 120<w?w-120:1<=(F=((F=RS[w-1])>>4)*m+(8-(15&F)))?F:1;var F}function Na(m,w,F){var q=k(F),X=m[w+=255&q].g-8;return 0<X&&(H(F,F.u+8),q=k(F),w+=m[w].value,w+=q&(1<<X)-1),H(F,F.u+m[w].g),m[w].value}function da(m,w,F){return F.g+=m.g,F.value+=m.value<<w>>>0,t(8>=F.g),m.g}function na(m,w,F){var q=m.xc;return t((w=q==0?0:m.vc[m.md*(F>>q)+(w>>q)])<m.Wb),m.Ya[w]}function U(m,w,F,q){var X=m.ab,ae=m.c*w,ie=m.C;w=ie+w;var Ae=F,fe=q;for(q=m.Ta,F=m.Ua;0<X--;){var me=m.gc[X],Ie=ie,Qe=w,qe=Ae,Le=fe,nt=(fe=q,Ae=F,me.Ea);switch(t(Ie<Qe),t(Qe<=me.nc),me.hc){case 2:O0(qe,Le,(Qe-Ie)*nt,fe,Ae);break;case 0:var Ge=Ie,Fe=Qe,De=fe,rt=Ae,ot=(wt=me).Ea;Ge==0&&(ag(qe,Le,null,null,1,De,rt),Et(qe,Le+1,0,0,ot-1,De,rt+1),Le+=ot,rt+=ot,++Ge);for(var at=1<<wt.b,Tt=at-1,vt=Ze(ot,wt.b),qt=wt.K,wt=wt.w+(Ge>>wt.b)*vt;Ge<Fe;){var Nr=qt,Ur=wt,Br=1;for(mu(qe,Le,De,rt-ot,1,De,rt);Br<ot;){var mr=(Br&~Tt)+at;mr>ot&&(mr=ot),(0,dA[Nr[Ur++]>>8&15])(qe,Le+ +Br,De,rt+Br-ot,mr-Br,De,rt+Br),Br=mr}Le+=ot,rt+=ot,++Ge&Tt||(wt+=vt)}Qe!=me.nc&&a(fe,Ae-nt,fe,Ae+(Qe-Ie-1)*nt,nt);break;case 1:for(nt=qe,Fe=Le,ot=(qe=me.Ea)-(rt=qe&~(De=(Le=1<<me.b)-1)),Ge=Ze(qe,me.b),at=me.K,me=me.w+(Ie>>me.b)*Ge;Ie<Qe;){for(Tt=at,vt=me,qt=new je,wt=Fe+rt,Nr=Fe+qe;Fe<wt;)Lt(Tt[vt++],qt),wl(qt,nt,Fe,Le,fe,Ae),Fe+=Le,Ae+=Le;Fe<Nr&&(Lt(Tt[vt++],qt),wl(qt,nt,Fe,ot,fe,Ae),Fe+=ot,Ae+=ot),++Ie&De||(me+=Ge)}break;case 3:if(qe==fe&&Le==Ae&&0<me.b){for(Fe=fe,qe=nt=Ae+(Qe-Ie)*nt-(rt=(Qe-Ie)*Ze(me.Ea,me.b)),Le=fe,De=Ae,Ge=[],rt=(ot=rt)-1;0<=rt;--rt)Ge[rt]=Le[De+rt];for(rt=ot-1;0<=rt;--rt)Fe[qe+rt]=Ge[rt];os(me,Ie,Qe,fe,nt,fe,Ae)}else os(me,Ie,Qe,qe,Le,fe,Ae)}Ae=q,fe=F}fe!=F&&a(q,F,Ae,fe,ae)}function W(m,w){var F=m.V,q=m.Ba+m.c*m.C,X=w-m.C;if(t(w<=m.l.o),t(16>=X),0<X){var ae=m.l,ie=m.Ta,Ae=m.Ua,fe=ae.width;if(U(m,X,F,q),X=Ae=[Ae],t((F=m.C)<(q=w)),t(ae.v<ae.va),q>ae.o&&(q=ae.o),F<ae.j){var me=ae.j-F;F=ae.j,X[0]+=me*fe}if(F>=q?F=0:(X[0]+=4*ae.v,ae.ka=F-ae.j,ae.U=ae.va-ae.v,ae.T=q-F,F=1),F){if(Ae=Ae[0],11>(F=m.ca).S){var Ie=F.f.RGBA,Qe=(q=F.S,X=ae.U,ae=ae.T,me=Ie.eb,Ie.A),qe=ae;for(Ie=Ie.fb+m.Ma*Ie.A;0<qe--;){var Le=ie,nt=Ae,Ge=X,Fe=me,De=Ie;switch(q){case D0:Ci(Le,nt,Ge,Fe,De);break;case j0:oi(Le,nt,Ge,Fe,De);break;case sg:oi(Le,nt,Ge,Fe,De),cs(Fe,De,0,Ge,1,0);break;case Yy:Oo(Le,nt,Ge,Fe,De);break;case L0:yt(Le,nt,Ge,Fe,De,1);break;case og:yt(Le,nt,Ge,Fe,De,1),cs(Fe,De,0,Ge,1,0);break;case U0:yt(Le,nt,Ge,Fe,De,0);break;case M0:yt(Le,nt,Ge,Fe,De,0),cs(Fe,De,1,Ge,1,0);break;case ig:uA(Le,nt,Ge,Fe,De);break;case Ag:uA(Le,nt,Ge,Fe,De),ta(Fe,De,Ge,1,0);break;case Wy:To(Le,nt,Ge,Fe,De);break;default:t(0)}Ae+=fe,Ie+=Qe}m.Ma+=ae}else alert("todo:EmitRescaledRowsYUVA");t(m.Ma<=F.height)}}m.C=w,t(m.C<=m.i)}function ee(m){var w;if(0<m.ua)return 0;for(w=0;w<m.Wb;++w){var F=m.Ya[w].G,q=m.Ya[w].H;if(0<F[1][q[1]+0].g||0<F[2][q[2]+0].g||0<F[3][q[3]+0].g)return 0}return 1}function oe(m,w,F,q,X,ae){if(m.Z!=0){var ie=m.qd,Ae=m.rd;for(t(mA[m.Z]!=null);w<F;++w)mA[m.Z](ie,Ae,q,X,q,X,ae),ie=q,Ae=X,X+=ae;m.qd=ie,m.rd=Ae}}function re(m,w){var F=m.l.ma,q=F.Z==0||F.Z==1?m.l.j:m.C;if(q=m.C<q?q:m.C,t(w<=m.l.o),w>q){var X=m.l.width,ae=F.ca,ie=F.tb+X*q,Ae=m.V,fe=m.Ba+m.c*q,me=m.gc;t(m.ab==1),t(me[0].hc==3),I0(me[0],q,w,Ae,fe,ae,ie),oe(F,q,w,ae,ie,X)}m.C=m.Ma=w}function le(m,w,F,q,X,ae,ie){var Ae=m.$/q,fe=m.$%q,me=m.m,Ie=m.s,Qe=F+m.$,qe=Qe;X=F+q*X;var Le=F+q*ae,nt=280+Ie.ua,Ge=m.Pb?Ae:16777216,Fe=0<Ie.ua?Ie.Wa:null,De=Ie.wc,rt=Qe<Le?na(Ie,fe,Ae):null;t(m.C<ae),t(Le<=X);var ot=!1;e:for(;;){for(;ot||Qe<Le;){var at=0;if(Ae>=Ge){var Tt=Qe-F;t((Ge=m).Pb),Ge.wd=Ge.m,Ge.xd=Tt,0<Ge.s.ua&&pe(Ge.s.Wa,Ge.s.vb),Ge=Ae+DS}if(fe&De||(rt=na(Ie,fe,Ae)),t(rt!=null),rt.Qb&&(w[Qe]=rt.qb,ot=!0),!ot)if(Y(me),rt.jc){at=me,Tt=w;var vt=Qe,qt=rt.pd[k(at)&wn-1];t(rt.jc),256>qt.g?(H(at,at.u+qt.g),Tt[vt]=qt.value,at=0):(H(at,at.u+qt.g-256),t(256<=qt.value),at=qt.value),at==0&&(ot=!0)}else at=Na(rt.G[0],rt.H[0],me);if(me.h)break;if(ot||256>at){if(!ot)if(rt.nd)w[Qe]=(rt.qb|at<<8)>>>0;else{if(Y(me),ot=Na(rt.G[1],rt.H[1],me),Y(me),Tt=Na(rt.G[2],rt.H[2],me),vt=Na(rt.G[3],rt.H[3],me),me.h)break;w[Qe]=(vt<<24|ot<<16|at<<8|Tt)>>>0}if(ot=!1,++Qe,++fe>=q&&(fe=0,++Ae,ie!=null&&Ae<=ae&&!(Ae%16)&&ie(m,Ae),Fe!=null))for(;qe<Qe;)at=w[qe++],Fe.X[(506832829*at&4294967295)>>>Fe.Mb]=at}else if(280>at){if(at=va(at-256,me),Tt=Na(rt.G[4],rt.H[4],me),Y(me),Tt=kn(q,Tt=va(Tt,me)),me.h)break;if(Qe-F<Tt||X-Qe<at)break e;for(vt=0;vt<at;++vt)w[Qe+vt]=w[Qe+vt-Tt];for(Qe+=at,fe+=at;fe>=q;)fe-=q,++Ae,ie!=null&&Ae<=ae&&!(Ae%16)&&ie(m,Ae);if(t(Qe<=X),fe&De&&(rt=na(Ie,fe,Ae)),Fe!=null)for(;qe<Qe;)at=w[qe++],Fe.X[(506832829*at&4294967295)>>>Fe.Mb]=at}else{if(!(at<nt))break e;for(ot=at-280,t(Fe!=null);qe<Qe;)at=w[qe++],Fe.X[(506832829*at&4294967295)>>>Fe.Mb]=at;at=Qe,t(!(ot>>>(Tt=Fe).Xa)),w[at]=Tt.X[ot],ot=!0}ot||t(me.h==j(me))}if(m.Pb&&me.h&&Qe<X)t(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&pe(m.s.vb,m.s.Wa);else{if(me.h)break e;ie!=null&&ie(m,Ae>ae?ae:Ae),m.a=0,m.$=Qe-F}return 1}return m.a=3,0}function we(m){t(m!=null),m.vc=null,m.yc=null,m.Ya=null;var w=m.Wa;w!=null&&(w.X=null),m.vb=null,t(m!=null)}function Ue(){var m=new rg;return m==null?null:(m.a=0,m.xb=Zy,hr("Predictor","VP8LPredictors"),hr("Predictor","VP8LPredictors_C"),hr("PredictorAdd","VP8LPredictorsAdd"),hr("PredictorAdd","VP8LPredictorsAdd_C"),O0=Ft,wl=bt,Ci=lt,oi=Er,uA=jt,To=Fr,Oo=fr,S.VP8LMapColor32b=Lc,S.VP8LMapColor8b=N0,m)}function Ne(m,w,F,q,X){var ae=1,ie=[m],Ae=[w],fe=q.m,me=q.s,Ie=null,Qe=0;e:for(;;){if(F)for(;ae&&G(fe,1);){var qe=ie,Le=Ae,nt=q,Ge=1,Fe=nt.m,De=nt.gc[nt.ab],rt=G(Fe,2);if(nt.Oc&1<<rt)ae=0;else{switch(nt.Oc|=1<<rt,De.hc=rt,De.Ea=qe[0],De.nc=Le[0],De.K=[null],++nt.ab,t(4>=nt.ab),rt){case 0:case 1:De.b=G(Fe,3)+2,Ge=Ne(Ze(De.Ea,De.b),Ze(De.nc,De.b),0,nt,De.K),De.K=De.K[0];break;case 3:var ot,at=G(Fe,8)+1,Tt=16<at?0:4<at?1:2<at?2:3;if(qe[0]=Ze(De.Ea,Tt),De.b=Tt,ot=Ge=Ne(at,1,0,nt,De.K)){var vt,qt=at,wt=De,Nr=1<<(8>>wt.b),Ur=s(Nr);if(Ur==null)ot=0;else{var Br=wt.K[0],mr=wt.w;for(Ur[0]=wt.K[0][0],vt=1;vt<1*qt;++vt)Ur[vt]=Ye(Br[mr+vt],Ur[vt-1]);for(;vt<4*Nr;++vt)Ur[vt]=0;wt.K[0]=null,wt.K[0]=Ur,ot=1}}Ge=ot;break;case 2:break;default:t(0)}ae=Ge}}if(ie=ie[0],Ae=Ae[0],ae&&G(fe,1)&&!(ae=1<=(Qe=G(fe,4))&&11>=Qe)){q.a=3;break e}var $r;if($r=ae)t:{var Hr,ir,Ga,Bi=q,za=ie,Si=Ae,Mr=Qe,Mi=F,Pi=Bi.m,dn=Bi.s,En=[null],li=1,fs=0,ao=kS[Mr];r:for(;;){if(Mi&&G(Pi,1)){var un=G(Pi,3)+2,Ro=Ze(za,un),Bl=Ze(Si,un),qc=Ro*Bl;if(!Ne(Ro,Bl,0,Bi,En))break r;for(En=En[0],dn.xc=un,Hr=0;Hr<qc;++Hr){var gA=En[Hr]>>8&65535;En[Hr]=gA,gA>=li&&(li=gA+1)}}if(Pi.h)break r;for(ir=0;5>ir;++ir){var Ea=Xy[ir];!ir&&0<Mr&&(Ea+=1<<Mr),fs<Ea&&(fs=Ea)}var ug=o(li*ao,D),ov=li,Av=o(ov,N);if(Av==null)var K0=null;else t(65536>=ov),K0=Av;var bu=s(fs);if(K0==null||bu==null||ug==null){Bi.a=1;break r}var H0=ug;for(Hr=Ga=0;Hr<li;++Hr){var Ds=K0[Hr],Kc=Ds.G,Hc=Ds.H,lv=0,G0=1,cv=0;for(ir=0;5>ir;++ir){Ea=Xy[ir],Kc[ir]=H0,Hc[ir]=Ga,!ir&&0<Mr&&(Ea+=1<<Mr);n:{var z0,fg=Ea,V0=Bi,_u=bu,tT=H0,rT=Ga,pg=0,xA=V0.m,aT=G(xA,1);if(n(_u,0,0,fg),aT){var nT=G(xA,1)+1,iT=G(xA,1),dv=G(xA,iT==0?1:8);_u[dv]=1,nT==2&&(_u[dv=G(xA,8)]=1);var $0=1}else{var uv=s(19),fv=G(xA,4)+4;if(19<fv){V0.a=3;var Y0=0;break n}for(z0=0;z0<fv;++z0)uv[FS[z0]]=G(xA,3);var hg=void 0,Cu=void 0,pv=V0,sT=uv,W0=fg,hv=_u,mg=0,yA=pv.m,mv=8,gv=o(128,D);a:for(;I(gv,0,7,sT,19);){if(G(yA,1)){var oT=2+2*G(yA,3);if((hg=2+G(yA,oT))>W0)break a}else hg=W0;for(Cu=0;Cu<W0&&hg--;){Y(yA);var xv=gv[0+(127&k(yA))];H(yA,yA.u+xv.g);var Gc=xv.value;if(16>Gc)hv[Cu++]=Gc,Gc!=0&&(mv=Gc);else{var AT=Gc==16,yv=Gc-16,lT=IS[yv],vv=G(yA,OS[yv])+lT;if(Cu+vv>W0)break a;for(var cT=AT?mv:0;0<vv--;)hv[Cu++]=cT}}mg=1;break a}mg||(pv.a=3),$0=mg}($0=$0&&!xA.h)&&(pg=I(tT,rT,8,_u,fg)),$0&&pg!=0?Y0=pg:(V0.a=3,Y0=0)}if(Y0==0)break r;if(G0&&NS[ir]==1&&(G0=H0[Ga].g==0),lv+=H0[Ga].g,Ga+=Y0,3>=ir){var Bu,gg=bu[0];for(Bu=1;Bu<Ea;++Bu)bu[Bu]>gg&&(gg=bu[Bu]);cv+=gg}}if(Ds.nd=G0,Ds.Qb=0,G0&&(Ds.qb=(Kc[3][Hc[3]+0].value<<24|Kc[1][Hc[1]+0].value<<16|Kc[2][Hc[2]+0].value)>>>0,lv==0&&256>Kc[0][Hc[0]+0].value&&(Ds.Qb=1,Ds.qb+=Kc[0][Hc[0]+0].value<<8)),Ds.jc=!Ds.Qb&&6>cv,Ds.jc){var X0,ko=Ds;for(X0=0;X0<wn;++X0){var vA=X0,wA=ko.pd[vA],J0=ko.G[0][ko.H[0]+vA];256<=J0.value?(wA.g=J0.g+256,wA.value=J0.value):(wA.g=0,wA.value=0,vA>>=da(J0,8,wA),vA>>=da(ko.G[1][ko.H[1]+vA],16,wA),vA>>=da(ko.G[2][ko.H[2]+vA],0,wA),da(ko.G[3][ko.H[3]+vA],24,wA))}}}dn.vc=En,dn.Wb=li,dn.Ya=K0,dn.yc=ug,$r=1;break t}$r=0}if(!(ae=$r)){q.a=3;break e}if(0<Qe){if(me.ua=1<<Qe,!Ee(me.Wa,Qe)){q.a=1,ae=0;break e}}else me.ua=0;var xg=q,wv=ie,dT=Ae,yg=xg.s,vg=yg.xc;if(xg.c=wv,xg.i=dT,yg.md=Ze(wv,vg),yg.wc=vg==0?-1:(1<<vg)-1,F){q.xb=qS;break e}if((Ie=s(ie*Ae))==null){q.a=1,ae=0;break e}ae=(ae=le(q,Ie,0,ie,Ae,Ae,null))&&!fe.h;break e}return ae?(X!=null?X[0]=Ie:(t(Ie==null),t(F)),q.$=0,F||we(me)):we(me),ae}function Se(m,w){var F=m.c*m.i,q=F+w+16*w;return t(m.c<=w),m.V=s(q),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+F+w,1)}function ke(m,w){var F=m.C,q=w-F,X=m.V,ae=m.Ba+m.c*F;for(t(w<=m.l.o);0<q;){var ie=16<q?16:q,Ae=m.l.ma,fe=m.l.width,me=fe*ie,Ie=Ae.ca,Qe=Ae.tb+fe*F,qe=m.Ta,Le=m.Ua;U(m,ie,X,ae),Ra(qe,Le,Ie,Qe,me),oe(Ae,F,F+ie,Ie,Qe,fe),q-=ie,X+=ie*m.c,F+=ie}t(F==w),m.C=m.Ma=w}function $e(){this.ub=this.yd=this.td=this.Rb=0}function ze(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function mt(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function it(){this.Yb=function(){var m=[];return function w(F,q,X){for(var ae=X[q],ie=0;ie<ae&&(F.push(X.length>q+1?[]:0),!(X.length<q+1));ie++)w(F[ie],q+1,X)}(m,0,[3,11]),m}()}function pt(){this.jb=s(3),this.Wc=A([4,8],it),this.Xc=A([4,17],it)}function Rt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function vr(){this.ld=this.La=this.dd=this.tc=0}function Cr(){this.Na=this.la=0}function ia(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ji(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function is(){this.uc=this.M=this.Nb=0,this.wa=Array(new vr),this.Y=0,this.ya=Array(new ji),this.aa=0,this.l=new ss}function ii(){this.y=s(16),this.f=s(8),this.ea=s(8)}function yn(){this.cb=this.a=0,this.sc="",this.m=new z,this.Od=new $e,this.Kc=new ze,this.ed=new Rt,this.Qa=new mt,this.Ic=this.$c=this.Aa=0,this.D=new is,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,z),this.ia=0,this.pb=o(4,ia),this.Pa=new pt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ii),this.Hd=0,this.rb=Array(new Cr),this.sb=0,this.wa=Array(new vr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ji),this.L=this.aa=0,this.gd=A([4,2],vr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ss(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function si(){var m=new yn;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,wu||(wu=en)),m}function ma(m,w,F){return m.a==0&&(m.a=w,m.sc=F,m.cb=0),0}function wc(m,w,F){return 3<=F&&m[w+0]==157&&m[w+1]==1&&m[w+2]==42}function Vr(m,w){if(m==null)return 0;if(m.a=0,m.sc="OK",w==null)return ma(m,2,"null VP8Io passed to VP8GetHeaders()");var F=w.data,q=w.w,X=w.ha;if(4>X)return ma(m,7,"Truncated header.");var ae=F[q+0]|F[q+1]<<8|F[q+2]<<16,ie=m.Od;if(ie.Rb=!(1&ae),ie.td=ae>>1&7,ie.yd=ae>>4&1,ie.ub=ae>>5,3<ie.td)return ma(m,3,"Incorrect keyframe parameters.");if(!ie.yd)return ma(m,4,"Frame not displayable.");q+=3,X-=3;var Ae=m.Kc;if(ie.Rb){if(7>X)return ma(m,7,"cannot parse picture header");if(!wc(F,q,X))return ma(m,3,"Bad code word");Ae.c=16383&(F[q+4]<<8|F[q+3]),Ae.Td=F[q+4]>>6,Ae.i=16383&(F[q+6]<<8|F[q+5]),Ae.Ud=F[q+6]>>6,q+=7,X-=7,m.za=Ae.c+15>>4,m.Ub=Ae.i+15>>4,w.width=Ae.c,w.height=Ae.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,n((ae=m.Pa).jb,0,255,ae.jb.length),t((ae=m.Qa)!=null),ae.Cb=0,ae.Bb=0,ae.Fb=1,n(ae.Zb,0,0,ae.Zb.length),n(ae.Lb,0,0,ae.Lb)}if(ie.ub>X)return ma(m,7,"bad partition length");P(ae=m.m,F,q,ie.ub),q+=ie.ub,X-=ie.ub,ie.Rb&&(Ae.Ld=ue(ae),Ae.Kd=ue(ae)),Ae=m.Qa;var fe,me=m.Pa;if(t(ae!=null),t(Ae!=null),Ae.Cb=ue(ae),Ae.Cb){if(Ae.Bb=ue(ae),ue(ae)){for(Ae.Fb=ue(ae),fe=0;4>fe;++fe)Ae.Zb[fe]=ue(ae)?J(ae,7):0;for(fe=0;4>fe;++fe)Ae.Lb[fe]=ue(ae)?J(ae,6):0}if(Ae.Bb)for(fe=0;3>fe;++fe)me.jb[fe]=ue(ae)?Q(ae,8):255}else Ae.Bb=0;if(ae.Ka)return ma(m,3,"cannot parse segment header");if((Ae=m.ed).zd=ue(ae),Ae.Tb=Q(ae,6),Ae.wb=Q(ae,3),Ae.Pc=ue(ae),Ae.Pc&&ue(ae)){for(me=0;4>me;++me)ue(ae)&&(Ae.vd[me]=J(ae,6));for(me=0;4>me;++me)ue(ae)&&(Ae.od[me]=J(ae,6))}if(m.L=Ae.Tb==0?0:Ae.zd?1:2,ae.Ka)return ma(m,3,"cannot parse filter header");var Ie=X;if(X=fe=q,q=fe+Ie,Ae=Ie,m.Xb=(1<<Q(m.m,2))-1,Ie<3*(me=m.Xb))F=7;else{for(fe+=3*me,Ae-=3*me,Ie=0;Ie<me;++Ie){var Qe=F[X+0]|F[X+1]<<8|F[X+2]<<16;Qe>Ae&&(Qe=Ae),P(m.Jc[+Ie],F,fe,Qe),fe+=Qe,Ae-=Qe,X+=3}P(m.Jc[+me],F,fe,Ae),F=fe<q?0:5}if(F!=0)return ma(m,F,"cannot parse partitions");for(F=Q(fe=m.m,7),X=ue(fe)?J(fe,4):0,q=ue(fe)?J(fe,4):0,Ae=ue(fe)?J(fe,4):0,me=ue(fe)?J(fe,4):0,fe=ue(fe)?J(fe,4):0,Ie=m.Qa,Qe=0;4>Qe;++Qe){if(Ie.Cb){var qe=Ie.Zb[Qe];Ie.Fb||(qe+=F)}else{if(0<Qe){m.pb[Qe]=m.pb[0];continue}qe=F}var Le=m.pb[Qe];Le.Sc[0]=lg[Li(qe+X,127)],Le.Sc[1]=cg[Li(qe+0,127)],Le.Eb[0]=2*lg[Li(qe+q,127)],Le.Eb[1]=101581*cg[Li(qe+Ae,127)]>>16,8>Le.Eb[1]&&(Le.Eb[1]=8),Le.Qc[0]=lg[Li(qe+me,117)],Le.Qc[1]=cg[Li(qe+fe,127)],Le.lc=qe+fe}if(!ie.Rb)return ma(m,4,"Not a key frame.");for(ue(ae),ie=m.Pa,F=0;4>F;++F){for(X=0;8>X;++X)for(q=0;3>q;++q)for(Ae=0;11>Ae;++Ae)me=he(ae,PS[F][X][q][Ae])?Q(ae,8):US[F][X][q][Ae],ie.Wc[F][X].Yb[q][Ae]=me;for(X=0;17>X;++X)ie.Xc[F][X]=ie.Wc[F][QS[X]]}return m.kc=ue(ae),m.kc&&(m.Bd=Q(ae,8)),m.cb=1}function en(m,w,F,q,X,ae,ie){var Ae=w[X].Yb[F];for(F=0;16>X;++X){if(!he(m,Ae[F+0]))return X;for(;!he(m,Ae[F+1]);)if(Ae=w[++X].Yb[0],F=0,X==16)return 16;var fe=w[X+1].Yb;if(he(m,Ae[F+2])){var me=m,Ie=0;if(he(me,(qe=Ae)[(Qe=F)+3]))if(he(me,qe[Qe+6])){for(Ae=0,Qe=2*(Ie=he(me,qe[Qe+8]))+(qe=he(me,qe[Qe+9+Ie])),Ie=0,qe=jS[Qe];qe[Ae];++Ae)Ie+=Ie+he(me,qe[Ae]);Ie+=3+(8<<Qe)}else he(me,qe[Qe+7])?(Ie=7+2*he(me,165),Ie+=he(me,145)):Ie=5+he(me,159);else Ie=he(me,qe[Qe+4])?3+he(me,qe[Qe+5]):2;Ae=fe[2]}else Ie=1,Ae=fe[1];fe=ie+LS[X],0>(me=m).b&&de(me);var Qe,qe=me.b,Le=(Qe=me.Ca>>1)-(me.I>>qe)>>31;--me.b,me.Ca+=Le,me.Ca|=1,me.I-=(Qe+1&Le)<<qe,ae[fe]=((Ie^Le)-Le)*q[(0<X)+0]}return 16}function Js(m){var w=m.rb[m.sb-1];w.la=0,w.Na=0,n(m.zc,0,0,m.zc.length),m.ja=0}function Zs(m,w){if(m==null)return 0;if(w==null)return ma(m,2,"NULL VP8Io parameter in VP8Decode().");if(!m.cb&&!Vr(m,w))return 0;if(t(m.cb),w.ac==null||w.ac(w)){w.ob&&(m.L=0);var F=q0[m.L];if(m.L==2?(m.yb=0,m.zb=0):(m.yb=w.v-F>>4,m.zb=w.j-F>>4,0>m.yb&&(m.yb=0),0>m.zb&&(m.zb=0)),m.Va=w.o+15+F>>4,m.Hb=w.va+15+F>>4,m.Hb>m.za&&(m.Hb=m.za),m.Va>m.Ub&&(m.Va=m.Ub),0<m.L){var q=m.ed;for(F=0;4>F;++F){var X;if(m.Qa.Cb){var ae=m.Qa.Lb[F];m.Qa.Fb||(ae+=q.Tb)}else ae=q.Tb;for(X=0;1>=X;++X){var ie=m.gd[F][X],Ae=ae;if(q.Pc&&(Ae+=q.vd[0],X&&(Ae+=q.od[0])),0<(Ae=0>Ae?0:63<Ae?63:Ae)){var fe=Ae;0<q.wb&&(fe=4<q.wb?fe>>2:fe>>1)>9-q.wb&&(fe=9-q.wb),1>fe&&(fe=1),ie.dd=fe,ie.tc=2*Ae+fe,ie.ld=40<=Ae?2:15<=Ae?1:0}else ie.tc=0;ie.La=X}}}F=0}else ma(m,6,"Frame setup failed"),F=m.a;if(F=F==0){if(F){m.$c=0,0<m.Aa||(m.Ic=eT);e:{F=m.Ic,q=4*(fe=m.za);var me=32*fe,Ie=fe+1,Qe=0<m.L?fe*(0<m.Aa?2:1):0,qe=(m.Aa==2?2:1)*fe;if((ie=q+832+(X=3*(16*F+q0[m.L])/2*me)+(ae=m.Fa!=null&&0<m.Fa.length?m.Kc.c*m.Kc.i:0))!=ie)F=0;else{if(ie>m.Vb){if(m.Vb=0,m.Ec=s(ie),m.Fc=0,m.Ec==null){F=ma(m,1,"no memory during frame initialization.");break e}m.Vb=ie}ie=m.Ec,Ae=m.Fc,m.Ac=ie,m.Bc=Ae,Ae+=q,m.Gd=o(me,ii),m.Hd=0,m.rb=o(Ie+1,Cr),m.sb=1,m.wa=Qe?o(Qe,vr):null,m.Y=0,m.D.Nb=0,m.D.wa=m.wa,m.D.Y=m.Y,0<m.Aa&&(m.D.Y+=fe),t(!0),m.oc=ie,m.pc=Ae,Ae+=832,m.ya=o(qe,ji),m.aa=0,m.D.ya=m.ya,m.D.aa=m.aa,m.Aa==2&&(m.D.aa+=fe),m.R=16*fe,m.B=8*fe,fe=(me=q0[m.L])*m.R,me=me/2*m.B,m.sa=ie,m.ta=Ae+fe,m.qa=m.sa,m.ra=m.ta+16*F*m.R+me,m.Ha=m.qa,m.Ia=m.ra+8*F*m.B+me,m.$c=0,Ae+=X,m.mb=ae?ie:null,m.nb=ae?Ae:null,t(Ae+ae<=m.Fc+m.Vb),Js(m),n(m.Ac,m.Bc,0,q),F=1}}if(F){if(w.ka=0,w.y=m.sa,w.O=m.ta,w.f=m.qa,w.N=m.ra,w.ea=m.Ha,w.Vd=m.Ia,w.fa=m.R,w.Rc=m.B,w.F=null,w.J=0,!R0){for(F=-255;255>=F;++F)tn[255+F]=0>F?-F:F;for(F=-1020;1020>=F;++F)No[1020+F]=-128>F?-128:127<F?127:F;for(F=-112;112>=F;++F)vu[112+F]=-16>F?-16:15<F?15:F;for(F=-255;510>=F;++F)Qc[255+F]=0>F?0:255<F?255:F;R0=1}Uc=qm,Io=bc,gu=_c,Ai=ml,As=g0,Fa=Ec,Mc=nu,F0=yl,xu=tg,El=iu,bl=eg,fA=Oc,_l=su,Pc=B0,Cl=C0,pA=to,yu=So,ls=Zm,ks[0]=eo,ks[1]=Km,ks[2]=Vm,ks[3]=$m,ks[4]=v0,ks[5]=Sc,ks[6]=w0,ks[7]=tu,ks[8]=Wm,ks[9]=Ym,hA[0]=x0,hA[1]=Gm,hA[2]=Bo,hA[3]=Cc,hA[4]=Dn,hA[5]=zm,hA[6]=y0,Fo[0]=AA,Fo[1]=Hm,Fo[2]=Xm,Fo[3]=ru,Fo[4]=xl,Fo[5]=Jm,Fo[6]=au,F=1}else F=0}F&&(F=function(Le,nt){for(Le.M=0;Le.M<Le.Va;++Le.M){var Ge,Fe=Le.Jc[Le.M&Le.Xb],De=Le.m,rt=Le;for(Ge=0;Ge<rt.za;++Ge){var ot=De,at=rt,Tt=at.Ac,vt=at.Bc+4*Ge,qt=at.zc,wt=at.ya[at.aa+Ge];if(at.Qa.Bb?wt.$b=he(ot,at.Pa.jb[0])?2+he(ot,at.Pa.jb[2]):he(ot,at.Pa.jb[1]):wt.$b=0,at.kc&&(wt.Ad=he(ot,at.Bd)),wt.Za=!he(ot,145)+0,wt.Za){var Nr=wt.Ob,Ur=0;for(at=0;4>at;++at){var Br,mr=qt[0+at];for(Br=0;4>Br;++Br){mr=MS[Tt[vt+Br]][mr];for(var $r=Jy[he(ot,mr[0])];0<$r;)$r=Jy[2*$r+he(ot,mr[$r])];mr=-$r,Tt[vt+Br]=mr}a(Nr,Ur,Tt,vt,4),Ur+=4,qt[0+at]=mr}}else mr=he(ot,156)?he(ot,128)?1:3:he(ot,163)?2:0,wt.Ob[0]=mr,n(Tt,vt,mr,4),n(qt,0,mr,4);wt.Dd=he(ot,142)?he(ot,114)?he(ot,183)?1:3:2:0}if(rt.m.Ka)return ma(Le,7,"Premature end-of-partition0 encountered.");for(;Le.ja<Le.za;++Le.ja){if(rt=Fe,ot=(De=Le).rb[De.sb-1],Tt=De.rb[De.sb+De.ja],Ge=De.ya[De.aa+De.ja],vt=De.kc?Ge.Ad:0)ot.la=Tt.la=0,Ge.Za||(ot.Na=Tt.Na=0),Ge.Hc=0,Ge.Gc=0,Ge.ia=0;else{var Hr,ir;if(ot=Tt,Tt=rt,vt=De.Pa.Xc,qt=De.ya[De.aa+De.ja],wt=De.pb[qt.$b],at=qt.ad,Nr=0,Ur=De.rb[De.sb-1],mr=Br=0,n(at,Nr,0,384),qt.Za)var Ga=0,Bi=vt[3];else{$r=s(16);var za=ot.Na+Ur.Na;if(za=wu(Tt,vt[1],za,wt.Eb,0,$r,0),ot.Na=Ur.Na=(0<za)+0,1<za)Uc($r,0,at,Nr);else{var Si=$r[0]+3>>3;for($r=0;256>$r;$r+=16)at[Nr+$r]=Si}Ga=1,Bi=vt[0]}var Mr=15&ot.la,Mi=15&Ur.la;for($r=0;4>$r;++$r){var Pi=1&Mi;for(Si=ir=0;4>Si;++Si)Mr=Mr>>1|(Pi=(za=wu(Tt,Bi,za=Pi+(1&Mr),wt.Sc,Ga,at,Nr))>Ga)<<7,ir=ir<<2|(3<za?3:1<za?2:at[Nr+0]!=0),Nr+=16;Mr>>=4,Mi=Mi>>1|Pi<<7,Br=(Br<<8|ir)>>>0}for(Bi=Mr,Ga=Mi>>4,Hr=0;4>Hr;Hr+=2){for(ir=0,Mr=ot.la>>4+Hr,Mi=Ur.la>>4+Hr,$r=0;2>$r;++$r){for(Pi=1&Mi,Si=0;2>Si;++Si)za=Pi+(1&Mr),Mr=Mr>>1|(Pi=0<(za=wu(Tt,vt[2],za,wt.Qc,0,at,Nr)))<<3,ir=ir<<2|(3<za?3:1<za?2:at[Nr+0]!=0),Nr+=16;Mr>>=2,Mi=Mi>>1|Pi<<5}mr|=ir<<4*Hr,Bi|=Mr<<4<<Hr,Ga|=(240&Mi)<<Hr}ot.la=Bi,Ur.la=Ga,qt.Hc=Br,qt.Gc=mr,qt.ia=43690&mr?0:wt.ia,vt=!(Br|mr)}if(0<De.L&&(De.wa[De.Y+De.ja]=De.gd[Ge.$b][Ge.Za],De.wa[De.Y+De.ja].La|=!vt),rt.Ka)return ma(Le,7,"Premature end-of-file encountered.")}if(Js(Le),De=nt,rt=1,Ge=(Fe=Le).D,ot=0<Fe.L&&Fe.M>=Fe.zb&&Fe.M<=Fe.Va,Fe.Aa==0)e:{if(Ge.M=Fe.M,Ge.uc=ot,uu(Fe,Ge),rt=1,Ge=(ir=Fe.D).Nb,ot=(mr=q0[Fe.L])*Fe.R,Tt=mr/2*Fe.B,$r=16*Ge*Fe.R,Si=8*Ge*Fe.B,vt=Fe.sa,qt=Fe.ta-ot+$r,wt=Fe.qa,at=Fe.ra-Tt+Si,Nr=Fe.Ha,Ur=Fe.Ia-Tt+Si,Mi=(Mr=ir.M)==0,Br=Mr>=Fe.Va-1,Fe.Aa==2&&uu(Fe,ir),ir.uc)for(Pi=(za=Fe).D.M,t(za.D.uc),ir=za.yb;ir<za.Hb;++ir){Ga=ir,Bi=Pi;var dn=(En=(Ea=za).D).Nb;Hr=Ea.R;var En=En.wa[En.Y+Ga],li=Ea.sa,fs=Ea.ta+16*dn*Hr+16*Ga,ao=En.dd,un=En.tc;if(un!=0)if(t(3<=un),Ea.L==1)0<Ga&&pA(li,fs,Hr,un+4),En.La&&ls(li,fs,Hr,un),0<Bi&&Cl(li,fs,Hr,un+4),En.La&&yu(li,fs,Hr,un);else{var Ro=Ea.B,Bl=Ea.qa,qc=Ea.ra+8*dn*Ro+8*Ga,gA=Ea.Ha,Ea=Ea.Ia+8*dn*Ro+8*Ga;dn=En.ld,0<Ga&&(F0(li,fs,Hr,un+4,ao,dn),El(Bl,qc,gA,Ea,Ro,un+4,ao,dn)),En.La&&(fA(li,fs,Hr,un,ao,dn),Pc(Bl,qc,gA,Ea,Ro,un,ao,dn)),0<Bi&&(Mc(li,fs,Hr,un+4,ao,dn),xu(Bl,qc,gA,Ea,Ro,un+4,ao,dn)),En.La&&(bl(li,fs,Hr,un,ao,dn),_l(Bl,qc,gA,Ea,Ro,un,ao,dn))}}if(Fe.ia&&alert("todo:DitherRow"),De.put!=null){if(ir=16*Mr,Mr=16*(Mr+1),Mi?(De.y=Fe.sa,De.O=Fe.ta+$r,De.f=Fe.qa,De.N=Fe.ra+Si,De.ea=Fe.Ha,De.W=Fe.Ia+Si):(ir-=mr,De.y=vt,De.O=qt,De.f=wt,De.N=at,De.ea=Nr,De.W=Ur),Br||(Mr-=mr),Mr>De.o&&(Mr=De.o),De.F=null,De.J=null,Fe.Fa!=null&&0<Fe.Fa.length&&ir<Mr&&(De.J=cu(Fe,De,ir,Mr-ir),De.F=Fe.mb,De.F==null&&De.F.length==0)){rt=ma(Fe,3,"Could not decode alpha data.");break e}ir<De.j&&(mr=De.j-ir,ir=De.j,t(!(1&mr)),De.O+=Fe.R*mr,De.N+=Fe.B*(mr>>1),De.W+=Fe.B*(mr>>1),De.F!=null&&(De.J+=De.width*mr)),ir<Mr&&(De.O+=De.v,De.N+=De.v>>1,De.W+=De.v>>1,De.F!=null&&(De.J+=De.v),De.ka=ir-De.j,De.U=De.va-De.v,De.T=Mr-ir,rt=De.put(De))}Ge+1!=Fe.Ic||Br||(a(Fe.sa,Fe.ta-ot,vt,qt+16*Fe.R,ot),a(Fe.qa,Fe.ra-Tt,wt,at+8*Fe.B,Tt),a(Fe.Ha,Fe.Ia-Tt,Nr,Ur+8*Fe.B,Tt))}if(!rt)return ma(Le,6,"Output aborted.")}return 1}(m,w)),w.bc!=null&&w.bc(w),F&=1}return F?(m.cb=0,F):0}function bi(m,w,F,q,X){X=m[w+F+32*q]+(X>>3),m[w+F+32*q]=-256&X?0>X?0:255:X}function Ns(m,w,F,q,X,ae){bi(m,w,0,F,q+X),bi(m,w,1,F,q+ae),bi(m,w,2,F,q-ae),bi(m,w,3,F,q-X)}function vn(m){return(20091*m>>16)+m}function Co(m,w,F,q){var X,ae=0,ie=s(16);for(X=0;4>X;++X){var Ae=m[w+0]+m[w+8],fe=m[w+0]-m[w+8],me=(35468*m[w+4]>>16)-vn(m[w+12]),Ie=vn(m[w+4])+(35468*m[w+12]>>16);ie[ae+0]=Ae+Ie,ie[ae+1]=fe+me,ie[ae+2]=fe-me,ie[ae+3]=Ae-Ie,ae+=4,w++}for(X=ae=0;4>X;++X)Ae=(m=ie[ae+0]+4)+ie[ae+8],fe=m-ie[ae+8],me=(35468*ie[ae+4]>>16)-vn(ie[ae+12]),bi(F,q,0,0,Ae+(Ie=vn(ie[ae+4])+(35468*ie[ae+12]>>16))),bi(F,q,1,0,fe+me),bi(F,q,2,0,fe-me),bi(F,q,3,0,Ae-Ie),ae++,q+=32}function Ec(m,w,F,q){var X=m[w+0]+4,ae=35468*m[w+4]>>16,ie=vn(m[w+4]),Ae=35468*m[w+1]>>16;Ns(F,q,0,X+ie,m=vn(m[w+1]),Ae),Ns(F,q,1,X+ae,m,Ae),Ns(F,q,2,X-ae,m,Ae),Ns(F,q,3,X-ie,m,Ae)}function bc(m,w,F,q,X){Co(m,w,F,q),X&&Co(m,w+16,F,q+4)}function _c(m,w,F,q){Io(m,w+0,F,q,1),Io(m,w+32,F,q+128,1)}function ml(m,w,F,q){var X;for(m=m[w+0]+4,X=0;4>X;++X)for(w=0;4>w;++w)bi(F,q,w,X,m)}function g0(m,w,F,q){m[w+0]&&Ai(m,w+0,F,q),m[w+16]&&Ai(m,w+16,F,q+4),m[w+32]&&Ai(m,w+32,F,q+128),m[w+48]&&Ai(m,w+48,F,q+128+4)}function qm(m,w,F,q){var X,ae=s(16);for(X=0;4>X;++X){var ie=m[w+0+X]+m[w+12+X],Ae=m[w+4+X]+m[w+8+X],fe=m[w+4+X]-m[w+8+X],me=m[w+0+X]-m[w+12+X];ae[0+X]=ie+Ae,ae[8+X]=ie-Ae,ae[4+X]=me+fe,ae[12+X]=me-fe}for(X=0;4>X;++X)ie=(m=ae[0+4*X]+3)+ae[3+4*X],Ae=ae[1+4*X]+ae[2+4*X],fe=ae[1+4*X]-ae[2+4*X],me=m-ae[3+4*X],F[q+0]=ie+Ae>>3,F[q+16]=me+fe>>3,F[q+32]=ie-Ae>>3,F[q+48]=me-fe>>3,q+=64}function eu(m,w,F){var q,X=w-32,ae=Ui,ie=255-m[X-1];for(q=0;q<F;++q){var Ae,fe=ae,me=ie+m[w-1];for(Ae=0;Ae<F;++Ae)m[w+Ae]=fe[me+m[X+Ae]];w+=32}}function Km(m,w){eu(m,w,4)}function Hm(m,w){eu(m,w,8)}function Gm(m,w){eu(m,w,16)}function Bo(m,w){var F;for(F=0;16>F;++F)a(m,w+32*F,m,w-32,16)}function Cc(m,w){var F;for(F=16;0<F;--F)n(m,w,m[w-1],16),w+=32}function Bc(m,w,F){var q;for(q=0;16>q;++q)n(w,F+32*q,m,16)}function x0(m,w){var F,q=16;for(F=0;16>F;++F)q+=m[w-1+32*F]+m[w+F-32];Bc(q>>5,m,w)}function Dn(m,w){var F,q=8;for(F=0;16>F;++F)q+=m[w-1+32*F];Bc(q>>4,m,w)}function zm(m,w){var F,q=8;for(F=0;16>F;++F)q+=m[w+F-32];Bc(q>>4,m,w)}function y0(m,w){Bc(128,m,w)}function Xt(m,w,F){return m+2*w+F+2>>2}function Vm(m,w){var F,q=w-32;for(q=new Uint8Array([Xt(m[q-1],m[q+0],m[q+1]),Xt(m[q+0],m[q+1],m[q+2]),Xt(m[q+1],m[q+2],m[q+3]),Xt(m[q+2],m[q+3],m[q+4])]),F=0;4>F;++F)a(m,w+32*F,q,0,q.length)}function $m(m,w){var F=m[w-1],q=m[w-1+32],X=m[w-1+64],ae=m[w-1+96];xe(m,w+0,16843009*Xt(m[w-1-32],F,q)),xe(m,w+32,16843009*Xt(F,q,X)),xe(m,w+64,16843009*Xt(q,X,ae)),xe(m,w+96,16843009*Xt(X,ae,ae))}function eo(m,w){var F,q=4;for(F=0;4>F;++F)q+=m[w+F-32]+m[w-1+32*F];for(q>>=3,F=0;4>F;++F)n(m,w+32*F,q,4)}function v0(m,w){var F=m[w-1+0],q=m[w-1+32],X=m[w-1+64],ae=m[w-1-32],ie=m[w+0-32],Ae=m[w+1-32],fe=m[w+2-32],me=m[w+3-32];m[w+0+96]=Xt(q,X,m[w-1+96]),m[w+1+96]=m[w+0+64]=Xt(F,q,X),m[w+2+96]=m[w+1+64]=m[w+0+32]=Xt(ae,F,q),m[w+3+96]=m[w+2+64]=m[w+1+32]=m[w+0+0]=Xt(ie,ae,F),m[w+3+64]=m[w+2+32]=m[w+1+0]=Xt(Ae,ie,ae),m[w+3+32]=m[w+2+0]=Xt(fe,Ae,ie),m[w+3+0]=Xt(me,fe,Ae)}function w0(m,w){var F=m[w+1-32],q=m[w+2-32],X=m[w+3-32],ae=m[w+4-32],ie=m[w+5-32],Ae=m[w+6-32],fe=m[w+7-32];m[w+0+0]=Xt(m[w+0-32],F,q),m[w+1+0]=m[w+0+32]=Xt(F,q,X),m[w+2+0]=m[w+1+32]=m[w+0+64]=Xt(q,X,ae),m[w+3+0]=m[w+2+32]=m[w+1+64]=m[w+0+96]=Xt(X,ae,ie),m[w+3+32]=m[w+2+64]=m[w+1+96]=Xt(ae,ie,Ae),m[w+3+64]=m[w+2+96]=Xt(ie,Ae,fe),m[w+3+96]=Xt(Ae,fe,fe)}function Sc(m,w){var F=m[w-1+0],q=m[w-1+32],X=m[w-1+64],ae=m[w-1-32],ie=m[w+0-32],Ae=m[w+1-32],fe=m[w+2-32],me=m[w+3-32];m[w+0+0]=m[w+1+64]=ae+ie+1>>1,m[w+1+0]=m[w+2+64]=ie+Ae+1>>1,m[w+2+0]=m[w+3+64]=Ae+fe+1>>1,m[w+3+0]=fe+me+1>>1,m[w+0+96]=Xt(X,q,F),m[w+0+64]=Xt(q,F,ae),m[w+0+32]=m[w+1+96]=Xt(F,ae,ie),m[w+1+32]=m[w+2+96]=Xt(ae,ie,Ae),m[w+2+32]=m[w+3+96]=Xt(ie,Ae,fe),m[w+3+32]=Xt(Ae,fe,me)}function tu(m,w){var F=m[w+0-32],q=m[w+1-32],X=m[w+2-32],ae=m[w+3-32],ie=m[w+4-32],Ae=m[w+5-32],fe=m[w+6-32],me=m[w+7-32];m[w+0+0]=F+q+1>>1,m[w+1+0]=m[w+0+64]=q+X+1>>1,m[w+2+0]=m[w+1+64]=X+ae+1>>1,m[w+3+0]=m[w+2+64]=ae+ie+1>>1,m[w+0+32]=Xt(F,q,X),m[w+1+32]=m[w+0+96]=Xt(q,X,ae),m[w+2+32]=m[w+1+96]=Xt(X,ae,ie),m[w+3+32]=m[w+2+96]=Xt(ae,ie,Ae),m[w+3+64]=Xt(ie,Ae,fe),m[w+3+96]=Xt(Ae,fe,me)}function Ym(m,w){var F=m[w-1+0],q=m[w-1+32],X=m[w-1+64],ae=m[w-1+96];m[w+0+0]=F+q+1>>1,m[w+2+0]=m[w+0+32]=q+X+1>>1,m[w+2+32]=m[w+0+64]=X+ae+1>>1,m[w+1+0]=Xt(F,q,X),m[w+3+0]=m[w+1+32]=Xt(q,X,ae),m[w+3+32]=m[w+1+64]=Xt(X,ae,ae),m[w+3+64]=m[w+2+64]=m[w+0+96]=m[w+1+96]=m[w+2+96]=m[w+3+96]=ae}function Wm(m,w){var F=m[w-1+0],q=m[w-1+32],X=m[w-1+64],ae=m[w-1+96],ie=m[w-1-32],Ae=m[w+0-32],fe=m[w+1-32],me=m[w+2-32];m[w+0+0]=m[w+2+32]=F+ie+1>>1,m[w+0+32]=m[w+2+64]=q+F+1>>1,m[w+0+64]=m[w+2+96]=X+q+1>>1,m[w+0+96]=ae+X+1>>1,m[w+3+0]=Xt(Ae,fe,me),m[w+2+0]=Xt(ie,Ae,fe),m[w+1+0]=m[w+3+32]=Xt(F,ie,Ae),m[w+1+32]=m[w+3+64]=Xt(q,F,ie),m[w+1+64]=m[w+3+96]=Xt(X,q,F),m[w+1+96]=Xt(ae,X,q)}function Xm(m,w){var F;for(F=0;8>F;++F)a(m,w+32*F,m,w-32,8)}function ru(m,w){var F;for(F=0;8>F;++F)n(m,w,m[w-1],8),w+=32}function gl(m,w,F){var q;for(q=0;8>q;++q)n(w,F+32*q,m,8)}function AA(m,w){var F,q=8;for(F=0;8>F;++F)q+=m[w+F-32]+m[w-1+32*F];gl(q>>4,m,w)}function Jm(m,w){var F,q=4;for(F=0;8>F;++F)q+=m[w+F-32];gl(q>>3,m,w)}function xl(m,w){var F,q=4;for(F=0;8>F;++F)q+=m[w-1+32*F];gl(q>>3,m,w)}function au(m,w){gl(128,m,w)}function Tc(m,w,F){var q=m[w-F],X=m[w+0],ae=3*(X-q)+ng[1020+m[w-2*F]-m[w+F]],ie=k0[112+(ae+4>>3)];m[w-F]=Ui[255+q+k0[112+(ae+3>>3)]],m[w+0]=Ui[255+X-ie]}function E0(m,w,F,q){var X=m[w+0],ae=m[w+F];return ds[255+m[w-2*F]-m[w-F]]>q||ds[255+ae-X]>q}function b0(m,w,F,q){return 4*ds[255+m[w-F]-m[w+0]]+ds[255+m[w-2*F]-m[w+F]]<=q}function _0(m,w,F,q,X){var ae=m[w-3*F],ie=m[w-2*F],Ae=m[w-F],fe=m[w+0],me=m[w+F],Ie=m[w+2*F],Qe=m[w+3*F];return 4*ds[255+Ae-fe]+ds[255+ie-me]>q?0:ds[255+m[w-4*F]-ae]<=X&&ds[255+ae-ie]<=X&&ds[255+ie-Ae]<=X&&ds[255+Qe-Ie]<=X&&ds[255+Ie-me]<=X&&ds[255+me-fe]<=X}function C0(m,w,F,q){var X=2*q+1;for(q=0;16>q;++q)b0(m,w+q,F,X)&&Tc(m,w+q,F)}function to(m,w,F,q){var X=2*q+1;for(q=0;16>q;++q)b0(m,w+q*F,1,X)&&Tc(m,w+q*F,1)}function So(m,w,F,q){var X;for(X=3;0<X;--X)C0(m,w+=4*F,F,q)}function Zm(m,w,F,q){var X;for(X=3;0<X;--X)to(m,w+=4,F,q)}function lA(m,w,F,q,X,ae,ie,Ae){for(ae=2*ae+1;0<X--;){if(_0(m,w,F,ae,ie))if(E0(m,w,F,Ae))Tc(m,w,F);else{var fe=m,me=w,Ie=F,Qe=fe[me-2*Ie],qe=fe[me-Ie],Le=fe[me+0],nt=fe[me+Ie],Ge=fe[me+2*Ie],Fe=27*(rt=ng[1020+3*(Le-qe)+ng[1020+Qe-nt]])+63>>7,De=18*rt+63>>7,rt=9*rt+63>>7;fe[me-3*Ie]=Ui[255+fe[me-3*Ie]+rt],fe[me-2*Ie]=Ui[255+Qe+De],fe[me-Ie]=Ui[255+qe+Fe],fe[me+0]=Ui[255+Le-Fe],fe[me+Ie]=Ui[255+nt-De],fe[me+2*Ie]=Ui[255+Ge-rt]}w+=q}}function Fs(m,w,F,q,X,ae,ie,Ae){for(ae=2*ae+1;0<X--;){if(_0(m,w,F,ae,ie))if(E0(m,w,F,Ae))Tc(m,w,F);else{var fe=m,me=w,Ie=F,Qe=fe[me-Ie],qe=fe[me+0],Le=fe[me+Ie],nt=k0[112+((Ge=3*(qe-Qe))+4>>3)],Ge=k0[112+(Ge+3>>3)],Fe=nt+1>>1;fe[me-2*Ie]=Ui[255+fe[me-2*Ie]+Fe],fe[me-Ie]=Ui[255+Qe+Ge],fe[me+0]=Ui[255+qe-nt],fe[me+Ie]=Ui[255+Le-Fe]}w+=q}}function nu(m,w,F,q,X,ae){lA(m,w,F,1,16,q,X,ae)}function yl(m,w,F,q,X,ae){lA(m,w,1,F,16,q,X,ae)}function eg(m,w,F,q,X,ae){var ie;for(ie=3;0<ie;--ie)Fs(m,w+=4*F,F,1,16,q,X,ae)}function Oc(m,w,F,q,X,ae){var ie;for(ie=3;0<ie;--ie)Fs(m,w+=4,1,F,16,q,X,ae)}function tg(m,w,F,q,X,ae,ie,Ae){lA(m,w,X,1,8,ae,ie,Ae),lA(F,q,X,1,8,ae,ie,Ae)}function iu(m,w,F,q,X,ae,ie,Ae){lA(m,w,1,X,8,ae,ie,Ae),lA(F,q,1,X,8,ae,ie,Ae)}function su(m,w,F,q,X,ae,ie,Ae){Fs(m,w+4*X,X,1,8,ae,ie,Ae),Fs(F,q+4*X,X,1,8,ae,ie,Ae)}function B0(m,w,F,q,X,ae,ie,Ae){Fs(m,w+4,1,X,8,ae,ie,Ae),Fs(F,q+4,1,X,8,ae,ie,Ae)}function Ic(){this.ba=new ai,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Lr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ou(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Au(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function S0(){this.ua=0,this.Wa=new ce,this.vb=new ce,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new N,this.yc=new D}function rg(){this.xb=this.a=0,this.l=new ss,this.ca=new ai,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new C,this.Pb=0,this.wd=new C,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new S0,this.ab=0,this.gc=o(4,Au),this.Oc=0}function Nc(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ss,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function vl(m,w,F,q,X,ae,ie){for(m=m==null?0:m[w+0],w=0;w<ie;++w)X[ae+w]=m+F[q+w]&255,m=X[ae+w]}function lu(m,w,F,q,X,ae,ie){var Ae;if(m==null)vl(null,null,F,q,X,ae,ie);else for(Ae=0;Ae<ie;++Ae)X[ae+Ae]=m[w+Ae]+F[q+Ae]&255}function cA(m,w,F,q,X,ae,ie){if(m==null)vl(null,null,F,q,X,ae,ie);else{var Ae,fe=m[w+0],me=fe,Ie=fe;for(Ae=0;Ae<ie;++Ae)me=Ie+(fe=m[w+Ae])-me,Ie=F[q+Ae]+(-256&me?0>me?0:255:me)&255,me=fe,X[ae+Ae]=Ie}}function cu(m,w,F,q){var X=w.width,ae=w.o;if(t(m!=null&&w!=null),0>F||0>=q||F+q>ae)return null;if(!m.Cc){if(m.ga==null){var ie;if(m.ga=new Nc,(ie=m.ga==null)||(ie=w.width*w.o,t(m.Gb.length==0),m.Gb=s(ie),m.Uc=0,m.Gb==null?ie=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,ie=1),ie=!ie),!ie){ie=m.ga;var Ae=m.Fa,fe=m.P,me=m.qc,Ie=m.mb,Qe=m.nb,qe=fe+1,Le=me-1,nt=ie.l;if(t(Ae!=null&&Ie!=null&&w!=null),mA[0]=null,mA[1]=vl,mA[2]=lu,mA[3]=cA,ie.ca=Ie,ie.tb=Qe,ie.c=w.width,ie.i=w.height,t(0<ie.c&&0<ie.i),1>=me)w=0;else if(ie.$a=Ae[fe+0]>>0&3,ie.Z=Ae[fe+0]>>2&3,ie.Lc=Ae[fe+0]>>4&3,fe=Ae[fe+0]>>6&3,0>ie.$a||1<ie.$a||4<=ie.Z||1<ie.Lc||fe)w=0;else if(nt.put=ni,nt.ac=ya,nt.bc=Ei,nt.ma=ie,nt.width=w.width,nt.height=w.height,nt.Da=w.Da,nt.v=w.v,nt.va=w.va,nt.j=w.j,nt.o=w.o,ie.$a)e:{t(ie.$a==1),w=Ue();t:for(;;){if(w==null){w=0;break e}if(t(ie!=null),ie.mc=w,w.c=ie.c,w.i=ie.i,w.l=ie.l,w.l.ma=ie,w.l.width=ie.c,w.l.height=ie.i,w.a=0,te(w.m,Ae,qe,Le),!Ne(ie.c,ie.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&ee(w.s)?(ie.ic=1,Ae=w.c*w.i,w.Ta=null,w.Ua=0,w.V=s(Ae),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(ie.ic=0,w=Se(w,ie.c)),!w))break t;w=1;break e}ie.mc=null,w=0}else w=Le>=ie.c*ie.i;ie=!w}if(ie)return null;m.ga.Lc!=1?m.Ga=0:q=ae-F}t(m.ga!=null),t(F+q<=ae);e:{if(w=(Ae=m.ga).c,ae=Ae.l.o,Ae.$a==0){if(qe=m.rc,Le=m.Vc,nt=m.Fa,fe=m.P+1+F*w,me=m.mb,Ie=m.nb+F*w,t(fe<=m.P+m.qc),Ae.Z!=0)for(t(mA[Ae.Z]!=null),ie=0;ie<q;++ie)mA[Ae.Z](qe,Le,nt,fe,me,Ie,w),qe=me,Le=Ie,Ie+=w,fe+=w;else for(ie=0;ie<q;++ie)a(me,Ie,nt,fe,w),qe=me,Le=Ie,Ie+=w,fe+=w;m.rc=qe,m.Vc=Le}else{if(t(Ae.mc!=null),w=F+q,t((ie=Ae.mc)!=null),t(w<=ie.i),ie.C>=w)w=1;else if(Ae.ic||Pe(),Ae.ic){Ae=ie.V,qe=ie.Ba,Le=ie.c;var Ge=ie.i,Fe=(nt=1,fe=ie.$/Le,me=ie.$%Le,Ie=ie.m,Qe=ie.s,ie.$),De=Le*Ge,rt=Le*w,ot=Qe.wc,at=Fe<rt?na(Qe,me,fe):null;t(Fe<=De),t(w<=Ge),t(ee(Qe));t:for(;;){for(;!Ie.h&&Fe<rt;){if(me&ot||(at=na(Qe,me,fe)),t(at!=null),Y(Ie),256>(Ge=Na(at.G[0],at.H[0],Ie)))Ae[qe+Fe]=Ge,++Fe,++me>=Le&&(me=0,++fe<=w&&!(fe%16)&&re(ie,fe));else{if(!(280>Ge)){nt=0;break t}Ge=va(Ge-256,Ie);var Tt,vt=Na(at.G[4],at.H[4],Ie);if(Y(Ie),!(Fe>=(vt=kn(Le,vt=va(vt,Ie)))&&De-Fe>=Ge)){nt=0;break t}for(Tt=0;Tt<Ge;++Tt)Ae[qe+Fe+Tt]=Ae[qe+Fe+Tt-vt];for(Fe+=Ge,me+=Ge;me>=Le;)me-=Le,++fe<=w&&!(fe%16)&&re(ie,fe);Fe<rt&&me&ot&&(at=na(Qe,me,fe))}t(Ie.h==j(Ie))}re(ie,fe>w?w:fe);break t}!nt||Ie.h&&Fe<De?(nt=0,ie.a=Ie.h?5:3):ie.$=Fe,w=nt}else w=le(ie,ie.V,ie.Ba,ie.c,ie.i,w,ke);if(!w){q=0;break e}}F+q>=ae&&(m.Cc=1),q=1}if(!q)return null;if(m.Cc&&((q=m.ga)!=null&&(q.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+F*X}function B(m,w,F,q,X,ae){for(;0<X--;){var ie,Ae=m,fe=w+(F?1:0),me=m,Ie=w+(F?0:3);for(ie=0;ie<q;++ie){var Qe=me[Ie+4*ie];Qe!=255&&(Qe*=32897,Ae[fe+4*ie+0]=Ae[fe+4*ie+0]*Qe>>23,Ae[fe+4*ie+1]=Ae[fe+4*ie+1]*Qe>>23,Ae[fe+4*ie+2]=Ae[fe+4*ie+2]*Qe>>23)}w+=ae}}function Z(m,w,F,q,X){for(;0<q--;){var ae;for(ae=0;ae<F;++ae){var ie=m[w+2*ae+0],Ae=15&(me=m[w+2*ae+1]),fe=4369*Ae,me=(240&me|me>>4)*fe>>16;m[w+2*ae+0]=(240&ie|ie>>4)*fe>>16&240|(15&ie|ie<<4)*fe>>16>>4&15,m[w+2*ae+1]=240&me|Ae}w+=X}}function ge(m,w,F,q,X,ae,ie,Ae){var fe,me,Ie=255;for(me=0;me<X;++me){for(fe=0;fe<q;++fe){var Qe=m[w+fe];ae[ie+4*fe]=Qe,Ie&=Qe}w+=F,ie+=Ae}return Ie!=255}function Be(m,w,F,q,X){var ae;for(ae=0;ae<X;++ae)F[q+ae]=m[w+ae]>>8}function Pe(){cs=B,ta=Z,ra=ge,Ra=Be}function Xe(m,w,F){S[m]=function(q,X,ae,ie,Ae,fe,me,Ie,Qe,qe,Le,nt,Ge,Fe,De,rt,ot){var at,Tt=ot-1>>1,vt=Ae[fe+0]|me[Ie+0]<<16,qt=Qe[qe+0]|Le[nt+0]<<16;t(q!=null);var wt=3*vt+qt+131074>>2;for(w(q[X+0],255&wt,wt>>16,Ge,Fe),ae!=null&&(wt=3*qt+vt+131074>>2,w(ae[ie+0],255&wt,wt>>16,De,rt)),at=1;at<=Tt;++at){var Nr=Ae[fe+at]|me[Ie+at]<<16,Ur=Qe[qe+at]|Le[nt+at]<<16,Br=vt+Nr+qt+Ur+524296,mr=Br+2*(Nr+qt)>>3;wt=mr+vt>>1,vt=(Br=Br+2*(vt+Ur)>>3)+Nr>>1,w(q[X+2*at-1],255&wt,wt>>16,Ge,Fe+(2*at-1)*F),w(q[X+2*at-0],255&vt,vt>>16,Ge,Fe+(2*at-0)*F),ae!=null&&(wt=Br+qt>>1,vt=mr+Ur>>1,w(ae[ie+2*at-1],255&wt,wt>>16,De,rt+(2*at-1)*F),w(ae[ie+2*at+0],255&vt,vt>>16,De,rt+(2*at+0)*F)),vt=Nr,qt=Ur}1&ot||(wt=3*vt+qt+131074>>2,w(q[X+ot-1],255&wt,wt>>16,Ge,Fe+(ot-1)*F),ae!=null&&(wt=3*qt+vt+131074>>2,w(ae[ie+ot-1],255&wt,wt>>16,De,rt+(ot-1)*F)))}}function At(){us[D0]=KS,us[j0]=ev,us[Yy]=HS,us[L0]=tv,us[U0]=rv,us[ig]=av,us[Wy]=GS,us[sg]=ev,us[og]=tv,us[M0]=rv,us[Ag]=av}function Bt(m){return m&-16384?0>m?0:255:m>>zS}function Mt(m,w){return Bt((19077*m>>8)+(26149*w>>8)-14234)}function ar(m,w,F){return Bt((19077*m>>8)-(6419*w>>8)-(13320*F>>8)+8708)}function Zt(m,w){return Bt((19077*m>>8)+(33050*w>>8)-17685)}function br(m,w,F,q,X){q[X+0]=Mt(m,F),q[X+1]=ar(m,w,F),q[X+2]=Zt(m,w)}function ga(m,w,F,q,X){q[X+0]=Zt(m,w),q[X+1]=ar(m,w,F),q[X+2]=Mt(m,F)}function wa(m,w,F,q,X){var ae=ar(m,w,F);w=ae<<3&224|Zt(m,w)>>3,q[X+0]=248&Mt(m,F)|ae>>5,q[X+1]=w}function Ha(m,w,F,q,X){var ae=240&Zt(m,w)|15;q[X+0]=240&Mt(m,F)|ar(m,w,F)>>4,q[X+1]=ae}function jn(m,w,F,q,X){q[X+0]=255,br(m,w,F,q,X+1)}function cn(m,w,F,q,X){ga(m,w,F,q,X),q[X+3]=255}function Rs(m,w,F,q,X){br(m,w,F,q,X),q[X+3]=255}function Li(m,w){return 0>m?0:m>w?w:m}function ro(m,w,F){S[m]=function(q,X,ae,ie,Ae,fe,me,Ie,Qe){for(var qe=Ie+(-2&Qe)*F;Ie!=qe;)w(q[X+0],ae[ie+0],Ae[fe+0],me,Ie),w(q[X+1],ae[ie+0],Ae[fe+0],me,Ie+F),X+=2,++ie,++fe,Ie+=2*F;1&Qe&&w(q[X+0],ae[ie+0],Ae[fe+0],me,Ie)}}function T0(m,w,F){return F==0?m==0?w==0?6:5:w==0?4:0:F}function du(m,w,F,q,X){switch(m>>>30){case 3:Io(w,F,q,X,0);break;case 2:Fa(w,F,q,X);break;case 1:Ai(w,F,q,X)}}function uu(m,w){var F,q,X=w.M,ae=w.Nb,ie=m.oc,Ae=m.pc+40,fe=m.oc,me=m.pc+584,Ie=m.oc,Qe=m.pc+600;for(F=0;16>F;++F)ie[Ae+32*F-1]=129;for(F=0;8>F;++F)fe[me+32*F-1]=129,Ie[Qe+32*F-1]=129;for(0<X?ie[Ae-1-32]=fe[me-1-32]=Ie[Qe-1-32]=129:(n(ie,Ae-32-1,127,21),n(fe,me-32-1,127,9),n(Ie,Qe-32-1,127,9)),q=0;q<m.za;++q){var qe=w.ya[w.aa+q];if(0<q){for(F=-1;16>F;++F)a(ie,Ae+32*F-4,ie,Ae+32*F+12,4);for(F=-1;8>F;++F)a(fe,me+32*F-4,fe,me+32*F+4,4),a(Ie,Qe+32*F-4,Ie,Qe+32*F+4,4)}var Le=m.Gd,nt=m.Hd+q,Ge=qe.ad,Fe=qe.Hc;if(0<X&&(a(ie,Ae-32,Le[nt].y,0,16),a(fe,me-32,Le[nt].f,0,8),a(Ie,Qe-32,Le[nt].ea,0,8)),qe.Za){var De=ie,rt=Ae-32+16;for(0<X&&(q>=m.za-1?n(De,rt,Le[nt].y[15],4):a(De,rt,Le[nt+1].y,0,4)),F=0;4>F;F++)De[rt+128+F]=De[rt+256+F]=De[rt+384+F]=De[rt+0+F];for(F=0;16>F;++F,Fe<<=2)De=ie,rt=Ae+iv[F],ks[qe.Ob[F]](De,rt),du(Fe,Ge,16*+F,De,rt)}else if(De=T0(q,X,qe.Ob[0]),hA[De](ie,Ae),Fe!=0)for(F=0;16>F;++F,Fe<<=2)du(Fe,Ge,16*+F,ie,Ae+iv[F]);for(F=qe.Gc,De=T0(q,X,qe.Dd),Fo[De](fe,me),Fo[De](Ie,Qe),Fe=Ge,De=fe,rt=me,255&(qe=F>>0)&&(170&qe?gu(Fe,256,De,rt):As(Fe,256,De,rt)),qe=Ie,Fe=Qe,255&(F>>=8)&&(170&F?gu(Ge,320,qe,Fe):As(Ge,320,qe,Fe)),X<m.Ub-1&&(a(Le[nt].y,0,ie,Ae+480,16),a(Le[nt].f,0,fe,me+224,8),a(Le[nt].ea,0,Ie,Qe+224,8)),F=8*ae*m.B,Le=m.sa,nt=m.ta+16*q+16*ae*m.R,Ge=m.qa,qe=m.ra+8*q+F,Fe=m.Ha,De=m.Ia+8*q+F,F=0;16>F;++F)a(Le,nt+F*m.R,ie,Ae+32*F,16);for(F=0;8>F;++F)a(Ge,qe+F*m.B,fe,me+32*F,8),a(Fe,De+F*m.B,Ie,Qe+32*F,8)}}function Fc(m,w,F,q,X,ae,ie,Ae,fe){var me=[0],Ie=[0],Qe=0,qe=fe!=null?fe.kd:0,Le=fe??new ou;if(m==null||12>F)return 7;Le.data=m,Le.w=w,Le.ha=F,w=[w],F=[F],Le.gb=[Le.gb];e:{var nt=w,Ge=F,Fe=Le.gb;if(t(m!=null),t(Ge!=null),t(Fe!=null),Fe[0]=0,12<=Ge[0]&&!r(m,nt[0],"RIFF")){if(r(m,nt[0]+8,"WEBP")){Fe=3;break e}var De=Ke(m,nt[0]+4);if(12>De||4294967286<De){Fe=3;break e}if(qe&&De>Ge[0]-8){Fe=7;break e}Fe[0]=De,nt[0]+=12,Ge[0]-=12}Fe=0}if(Fe!=0)return Fe;for(De=0<Le.gb[0],F=F[0];;){e:{var rt=m;Ge=w,Fe=F;var ot=me,at=Ie,Tt=nt=[0];if((wt=Qe=[Qe])[0]=0,8>Fe[0])Fe=7;else{if(!r(rt,Ge[0],"VP8X")){if(Ke(rt,Ge[0]+4)!=10){Fe=3;break e}if(18>Fe[0]){Fe=7;break e}var vt=Ke(rt,Ge[0]+8),qt=1+se(rt,Ge[0]+12);if(2147483648<=qt*(rt=1+se(rt,Ge[0]+15))){Fe=3;break e}Tt!=null&&(Tt[0]=vt),ot!=null&&(ot[0]=qt),at!=null&&(at[0]=rt),Ge[0]+=18,Fe[0]-=18,wt[0]=1}Fe=0}}if(Qe=Qe[0],nt=nt[0],Fe!=0)return Fe;if(Ge=!!(2&nt),!De&&Qe)return 3;if(ae!=null&&(ae[0]=!!(16&nt)),ie!=null&&(ie[0]=Ge),Ae!=null&&(Ae[0]=0),ie=me[0],nt=Ie[0],Qe&&Ge&&fe==null){Fe=0;break}if(4>F){Fe=7;break}if(De&&Qe||!De&&!Qe&&!r(m,w[0],"ALPH")){F=[F],Le.na=[Le.na],Le.P=[Le.P],Le.Sa=[Le.Sa];e:{vt=m,Fe=w,De=F;var wt=Le.gb;ot=Le.na,at=Le.P,Tt=Le.Sa,qt=22,t(vt!=null),t(De!=null),rt=Fe[0];var Nr=De[0];for(t(ot!=null),t(Tt!=null),ot[0]=null,at[0]=null,Tt[0]=0;;){if(Fe[0]=rt,De[0]=Nr,8>Nr){Fe=7;break e}var Ur=Ke(vt,rt+4);if(4294967286<Ur){Fe=3;break e}var Br=8+Ur+1&-2;if(qt+=Br,0<wt&&qt>wt){Fe=3;break e}if(!r(vt,rt,"VP8 ")||!r(vt,rt,"VP8L")){Fe=0;break e}if(Nr[0]<Br){Fe=7;break e}r(vt,rt,"ALPH")||(ot[0]=vt,at[0]=rt+8,Tt[0]=Ur),rt+=Br,Nr-=Br}}if(F=F[0],Le.na=Le.na[0],Le.P=Le.P[0],Le.Sa=Le.Sa[0],Fe!=0)break}F=[F],Le.Ja=[Le.Ja],Le.xa=[Le.xa];e:if(wt=m,Fe=w,De=F,ot=Le.gb[0],at=Le.Ja,Tt=Le.xa,vt=Fe[0],rt=!r(wt,vt,"VP8 "),qt=!r(wt,vt,"VP8L"),t(wt!=null),t(De!=null),t(at!=null),t(Tt!=null),8>De[0])Fe=7;else{if(rt||qt){if(wt=Ke(wt,vt+4),12<=ot&&wt>ot-12){Fe=3;break e}if(qe&&wt>De[0]-8){Fe=7;break e}at[0]=wt,Fe[0]+=8,De[0]-=8,Tt[0]=qt}else Tt[0]=5<=De[0]&&wt[vt+0]==47&&!(wt[vt+4]>>5),at[0]=De[0];Fe=0}if(F=F[0],Le.Ja=Le.Ja[0],Le.xa=Le.xa[0],w=w[0],Fe!=0)break;if(4294967286<Le.Ja)return 3;if(Ae==null||Ge||(Ae[0]=Le.xa?2:1),ie=[ie],nt=[nt],Le.xa){if(5>F){Fe=7;break}Ae=ie,qe=nt,Ge=ae,m==null||5>F?m=0:5<=F&&m[w+0]==47&&!(m[w+4]>>5)?(De=[0],wt=[0],ot=[0],te(at=new C,m,w,F),Pt(at,De,wt,ot)?(Ae!=null&&(Ae[0]=De[0]),qe!=null&&(qe[0]=wt[0]),Ge!=null&&(Ge[0]=ot[0]),m=1):m=0):m=0}else{if(10>F){Fe=7;break}Ae=nt,m==null||10>F||!wc(m,w+3,F-3)?m=0:(qe=m[w+0]|m[w+1]<<8|m[w+2]<<16,Ge=16383&(m[w+7]<<8|m[w+6]),m=16383&(m[w+9]<<8|m[w+8]),1&qe||3<(qe>>1&7)||!(qe>>4&1)||qe>>5>=Le.Ja||!Ge||!m?m=0:(ie&&(ie[0]=Ge),Ae&&(Ae[0]=m),m=1))}if(!m||(ie=ie[0],nt=nt[0],Qe&&(me[0]!=ie||Ie[0]!=nt)))return 3;fe!=null&&(fe[0]=Le,fe.offset=w-fe.w,t(4294967286>w-fe.w),t(fe.offset==fe.ha-F));break}return Fe==0||Fe==7&&Qe&&fe==null?(ae!=null&&(ae[0]|=Le.na!=null&&0<Le.na.length),q!=null&&(q[0]=ie),X!=null&&(X[0]=nt),0):Fe}function fu(m,w,F){var q=w.width,X=w.height,ae=0,ie=0,Ae=q,fe=X;if(w.Da=m!=null&&0<m.Da,w.Da&&(Ae=m.cd,fe=m.bd,ae=m.v,ie=m.j,11>F||(ae&=-2,ie&=-2),0>ae||0>ie||0>=Ae||0>=fe||ae+Ae>q||ie+fe>X))return 0;if(w.v=ae,w.j=ie,w.va=ae+Ae,w.o=ie+fe,w.U=Ae,w.T=fe,w.da=m!=null&&0<m.da,w.da){if(!He(Ae,fe,F=[m.ib],ae=[m.hb]))return 0;w.ib=F[0],w.hb=ae[0]}return w.ob=m!=null&&m.ob,w.Kb=m==null||!m.Sd,w.da&&(w.ob=w.ib<3*q/4&&w.hb<3*X/4,w.Kb=0),1}function pu(m){if(m==null)return 2;if(11>m.S){var w=m.f.RGBA;w.fb+=(m.height-1)*w.A,w.A=-w.A}else w=m.f.kb,m=m.height,w.O+=(m-1)*w.fa,w.fa=-w.fa,w.N+=(m-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(m-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(m-1)*w.lb,w.lb=-w.lb);return 0}function Rc(m,w,F,q){if(q==null||0>=m||0>=w)return 2;if(F!=null){if(F.Da){var X=F.cd,ae=F.bd,ie=-2&F.v,Ae=-2&F.j;if(0>ie||0>Ae||0>=X||0>=ae||ie+X>m||Ae+ae>w)return 2;m=X,w=ae}if(F.da){if(!He(m,w,X=[F.ib],ae=[F.hb]))return 2;m=X[0],w=ae[0]}}q.width=m,q.height=w;e:{var fe=q.width,me=q.height;if(m=q.S,0>=fe||0>=me||!(m>=D0&&13>m))m=2;else{if(0>=q.Rd&&q.sd==null){ie=ae=X=w=0;var Ie=(Ae=fe*sv[m])*me;if(11>m||(ae=(me+1)/2*(w=(fe+1)/2),m==12&&(ie=(X=fe)*me)),(me=s(Ie+2*ae+ie))==null){m=1;break e}q.sd=me,11>m?((fe=q.f.RGBA).eb=me,fe.fb=0,fe.A=Ae,fe.size=Ie):((fe=q.f.kb).y=me,fe.O=0,fe.fa=Ae,fe.Fd=Ie,fe.f=me,fe.N=0+Ie,fe.Ab=w,fe.Cd=ae,fe.ea=me,fe.W=0+Ie+ae,fe.Db=w,fe.Ed=ae,m==12&&(fe.F=me,fe.J=0+Ie+2*ae),fe.Tc=ie,fe.lb=X)}if(w=1,X=q.S,ae=q.width,ie=q.height,X>=D0&&13>X)if(11>X)m=q.f.RGBA,w&=(Ae=Math.abs(m.A))*(ie-1)+ae<=m.size,w&=Ae>=ae*sv[X],w&=m.eb!=null;else{m=q.f.kb,Ae=(ae+1)/2,Ie=(ie+1)/2,fe=Math.abs(m.fa),me=Math.abs(m.Ab);var Qe=Math.abs(m.Db),qe=Math.abs(m.lb),Le=qe*(ie-1)+ae;w&=fe*(ie-1)+ae<=m.Fd,w&=me*(Ie-1)+Ae<=m.Cd,w=(w&=Qe*(Ie-1)+Ae<=m.Ed)&fe>=ae&me>=Ae&Qe>=Ae,w&=m.y!=null,w&=m.f!=null,w&=m.ea!=null,X==12&&(w&=qe>=ae,w&=Le<=m.Tc,w&=m.F!=null)}else w=0;m=w?0:2}}return m!=0||F!=null&&F.fd&&(m=pu(q)),m}var wn=64,kc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Dc=24,jc=32,hu=8,_i=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];tt("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(m){return m},S.Predictor2=function(m,w,F){return w[F+0]},S.Predictor3=function(m,w,F){return w[F+1]},S.Predictor4=function(m,w,F){return w[F-1]},S.Predictor5=function(m,w,F){return _e(_e(m,w[F+1]),w[F+0])},S.Predictor6=function(m,w,F){return _e(m,w[F-1])},S.Predictor7=function(m,w,F){return _e(m,w[F+0])},S.Predictor8=function(m,w,F){return _e(w[F-1],w[F+0])},S.Predictor9=function(m,w,F){return _e(w[F+0],w[F+1])},S.Predictor10=function(m,w,F){return _e(_e(m,w[F-1]),_e(w[F+0],w[F+1]))},S.Predictor11=function(m,w,F){var q=w[F+0];return 0>=St(q>>24&255,m>>24&255,(w=w[F-1])>>24&255)+St(q>>16&255,m>>16&255,w>>16&255)+St(q>>8&255,m>>8&255,w>>8&255)+St(255&q,255&m,255&w)?q:m},S.Predictor12=function(m,w,F){var q=w[F+0];return(ct((m>>24&255)+(q>>24&255)-((w=w[F-1])>>24&255))<<24|ct((m>>16&255)+(q>>16&255)-(w>>16&255))<<16|ct((m>>8&255)+(q>>8&255)-(w>>8&255))<<8|ct((255&m)+(255&q)-(255&w)))>>>0},S.Predictor13=function(m,w,F){var q=w[F-1];return(_t((m=_e(m,w[F+0]))>>24&255,q>>24&255)<<24|_t(m>>16&255,q>>16&255)<<16|_t(m>>8&255,q>>8&255)<<8|_t(m>>0&255,q>>0&255))>>>0};var ag=S.PredictorAdd0;S.PredictorAdd1=Et,tt("Predictor2","PredictorAdd2"),tt("Predictor3","PredictorAdd3"),tt("Predictor4","PredictorAdd4"),tt("Predictor5","PredictorAdd5"),tt("Predictor6","PredictorAdd6"),tt("Predictor7","PredictorAdd7"),tt("Predictor8","PredictorAdd8"),tt("Predictor9","PredictorAdd9"),tt("Predictor10","PredictorAdd10"),tt("Predictor11","PredictorAdd11"),tt("Predictor12","PredictorAdd12"),tt("Predictor13","PredictorAdd13");var mu=S.PredictorAdd2;ft("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),ft("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var O0,os=S.ColorIndexInverseTransform,Lc=S.MapARGB,I0=S.VP8LColorIndexInverseTransformAlpha,N0=S.MapAlpha,dA=S.VP8LPredictorsAdd=[];dA.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var wl,Ci,oi,uA,To,Oo,Uc,Io,Fa,gu,Ai,As,Mc,F0,xu,El,bl,fA,_l,Pc,Cl,pA,yu,ls,cs,ta,ra,Ra,tn=s(511),No=s(2041),vu=s(225),Qc=s(767),R0=0,ng=No,k0=vu,Ui=Qc,ds=tn,D0=0,j0=1,Yy=2,L0=3,U0=4,ig=5,Wy=6,sg=7,og=8,M0=9,Ag=10,OS=[2,3,7],IS=[3,3,11],Xy=[280,256,256,256,40],NS=[0,1,1,1,0],FS=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],RS=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],kS=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],DS=8,lg=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],cg=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],wu=null,jS=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],LS=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Jy=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],US=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],MS=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],PS=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],QS=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],hA=[],ks=[],Fo=[],qS=1,Zy=2,mA=[],us=[];Xe("UpsampleRgbLinePair",br,3),Xe("UpsampleBgrLinePair",ga,3),Xe("UpsampleRgbaLinePair",Rs,4),Xe("UpsampleBgraLinePair",cn,4),Xe("UpsampleArgbLinePair",jn,4),Xe("UpsampleRgba4444LinePair",Ha,2),Xe("UpsampleRgb565LinePair",wa,2);var KS=S.UpsampleRgbLinePair,HS=S.UpsampleBgrLinePair,ev=S.UpsampleRgbaLinePair,tv=S.UpsampleBgraLinePair,rv=S.UpsampleArgbLinePair,av=S.UpsampleRgba4444LinePair,GS=S.UpsampleRgb565LinePair,P0=16,Q0=1<<P0-1,Eu=-227,dg=482,zS=6,nv=0,VS=s(256),$S=s(256),YS=s(256),WS=s(256),XS=s(dg-Eu),JS=s(dg-Eu);ro("YuvToRgbRow",br,3),ro("YuvToBgrRow",ga,3),ro("YuvToRgbaRow",Rs,4),ro("YuvToBgraRow",cn,4),ro("YuvToArgbRow",jn,4),ro("YuvToRgba4444Row",Ha,2),ro("YuvToRgb565Row",wa,2);var iv=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],q0=[0,2,8],ZS=[8,7,6,4,4,2,2,2,1,1,1,1],eT=1;this.WebPDecodeRGBA=function(m,w,F,q,X){var ae=j0,ie=new Ic,Ae=new ai;ie.ba=Ae,Ae.S=ae,Ae.width=[Ae.width],Ae.height=[Ae.height];var fe=Ae.width,me=Ae.height,Ie=new Di;if(Ie==null||m==null)var Qe=2;else t(Ie!=null),Qe=Fc(m,w,F,Ie.width,Ie.height,Ie.Pd,Ie.Qd,Ie.format,null);if(Qe!=0?fe=0:(fe!=null&&(fe[0]=Ie.width[0]),me!=null&&(me[0]=Ie.height[0]),fe=1),fe){Ae.width=Ae.width[0],Ae.height=Ae.height[0],q!=null&&(q[0]=Ae.width),X!=null&&(X[0]=Ae.height);e:{if(q=new ss,(X=new ou).data=m,X.w=w,X.ha=F,X.kd=1,w=[0],t(X!=null),((m=Fc(X.data,X.w,X.ha,null,null,null,w,null,X))==0||m==7)&&w[0]&&(m=4),(w=m)==0){if(t(ie!=null),q.data=X.data,q.w=X.w+X.offset,q.ha=X.ha-X.offset,q.put=ni,q.ac=ya,q.bc=Ei,q.ma=ie,X.xa){if((m=Ue())==null){ie=1;break e}if(function(qe,Le){var nt=[0],Ge=[0],Fe=[0];t:for(;;){if(qe==null)return 0;if(Le==null)return qe.a=2,0;if(qe.l=Le,qe.a=0,te(qe.m,Le.data,Le.w,Le.ha),!Pt(qe.m,nt,Ge,Fe)){qe.a=3;break t}if(qe.xb=Zy,Le.width=nt[0],Le.height=Ge[0],!Ne(nt[0],Ge[0],1,qe,null))break t;return 1}return t(qe.a!=0),0}(m,q)){if(q=(w=Rc(q.width,q.height,ie.Oa,ie.ba))==0){t:{q=m;r:for(;;){if(q==null){q=0;break t}if(t(q.s.yc!=null),t(q.s.Ya!=null),t(0<q.s.Wb),t((F=q.l)!=null),t((X=F.ma)!=null),q.xb!=0){if(q.ca=X.ba,q.tb=X.tb,t(q.ca!=null),!fu(X.Oa,F,L0)){q.a=2;break r}if(!Se(q,F.width)||F.da)break r;if((F.da||Jt(q.ca.S))&&Pe(),11>q.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),q.ca.f.kb.F!=null&&Pe()),q.Pb&&0<q.s.ua&&q.s.vb.X==null&&!Ee(q.s.vb,q.s.Wa.Xa)){q.a=1;break r}q.xb=0}if(!le(q,q.V,q.Ba,q.c,q.i,F.o,W))break r;X.Dc=q.Ma,q=1;break t}t(q.a!=0),q=0}q=!q}q&&(w=m.a)}else w=m.a}else{if((m=new si)==null){ie=1;break e}if(m.Fa=X.na,m.P=X.P,m.qc=X.Sa,Vr(m,q)){if((w=Rc(q.width,q.height,ie.Oa,ie.ba))==0){if(m.Aa=0,F=ie.Oa,t((X=m)!=null),F!=null){if(0<(fe=0>(fe=F.Md)?0:100<fe?255:255*fe/100)){for(me=Ie=0;4>me;++me)12>(Qe=X.pb[me]).lc&&(Qe.ia=fe*ZS[0>Qe.lc?0:Qe.lc]>>3),Ie|=Qe.ia;Ie&&(alert("todo:VP8InitRandom"),X.ia=1)}X.Ga=F.Id,100<X.Ga?X.Ga=100:0>X.Ga&&(X.Ga=0)}Zs(m,q)||(w=m.a)}}else w=m.a}w==0&&ie.Oa!=null&&ie.Oa.fd&&(w=pu(ie.ba))}ie=w}ae=ie!=0?null:11>ae?Ae.f.RGBA.eb:Ae.f.kb.y}else ae=null;return ae};var sv=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(S,O){for(var M="",I=0;I<4;I++)M+=String.fromCharCode(S[O++]);return M}function d(S,O){return(S[O+0]<<0|S[O+1]<<8|S[O+2]<<16)>>>0}function f(S,O){return(S[O+0]<<0|S[O+1]<<8|S[O+2]<<16|S[O+3]<<24)>>>0}new l;var p=[0],u=[0],g=[],h=new l,y=e,x=function(S,O){var M={},I=0,D=!1,L=0,N=0;if(M.frames=[],!function(k,j,H,Y){for(var de=0;de<Y;de++)if(k[j+de]!=H.charCodeAt(de))return!0;return!1}(S,O,"RIFF",4)){var P,Q;for(f(S,O+=4),O+=8;O<S.length;){var J=c(S,O),te=f(S,O+=4);O+=4;var V=te+(1&te);switch(J){case"VP8 ":case"VP8L":M.frames[I]===void 0&&(M.frames[I]={}),(C=M.frames[I]).src_off=D?N:O-8,C.src_size=L+te+8,I++,D&&(D=!1,L=0,N=0);break;case"VP8X":(C=M.header={}).feature_flags=S[O];var G=O+4;C.canvas_width=1+d(S,G),G+=3,C.canvas_height=1+d(S,G),G+=3;break;case"ALPH":D=!0,L=V+8,N=O-8;break;case"ANIM":(C=M.header).bgcolor=f(S,O),G=O+4,C.loop_count=(P=S)[(Q=G)+0]<<0|P[Q+1]<<8,G+=2;break;case"ANMF":var z,C;(C=M.frames[I]={}).offset_x=2*d(S,O),O+=3,C.offset_y=2*d(S,O),O+=3,C.width=1+d(S,O),O+=3,C.height=1+d(S,O),O+=3,C.duration=d(S,O),O+=3,z=S[O++],C.dispose=1&z,C.blend=z>>1&1}J!="ANMF"&&(O+=V)}return M}}(y,0);x.response=y,x.rgbaoutput=!0,x.dataurl=!1;var v=x.header?x.header:null,E=x.frames?x.frames:null;if(v){v.loop_counter=v.loop_count,p=[v.canvas_height],u=[v.canvas_width];for(var R=0;R<E.length&&E[R].blend!=0;R++);}var b=E[0],T=h.WebPDecodeRGBA(y,b.src_off,b.src_size,u,p);b.rgba=T,b.imgwidth=u[0],b.imgheight=p[0];for(var _=0;_<u[0]*p[0]*4;_++)g[_]=T[_];return this.width=u,this.height=p,this.data=g,this}(function(e){var t=function(){return typeof jx=="function"},r=function(p,u,g,h){var y=4,x=o;switch(h){case e.image_compression.FAST:y=1,x=s;break;case e.image_compression.MEDIUM:y=6,x=A;break;case e.image_compression.SLOW:y=9,x=l}p=a(p,u,g,x);var v=jx(p,{level:y});return e.__addimage__.arrayBufferToBinaryString(v)},a=function(p,u,g,h){for(var y,x,v,E=p.length/u,R=new Uint8Array(p.length+E),b=d(),T=0;T<E;T+=1){if(v=T*u,y=p.subarray(v,v+u),h)R.set(h(y,g,x),v+T);else{for(var _,S=b.length,O=[];_<S;_+=1)O[_]=b[_](y,g,x);var M=f(O.concat());R.set(O[M],v+T)}x=y}return R},n=function(p){var u=Array.apply([],p);return u.unshift(0),u},s=function(p,u){var g,h=[],y=p.length;h[0]=1;for(var x=0;x<y;x+=1)g=p[x-u]||0,h[x+1]=p[x]-g+256&255;return h},o=function(p,u,g){var h,y=[],x=p.length;y[0]=2;for(var v=0;v<x;v+=1)h=g&&g[v]||0,y[v+1]=p[v]-h+256&255;return y},A=function(p,u,g){var h,y,x=[],v=p.length;x[0]=3;for(var E=0;E<v;E+=1)h=p[E-u]||0,y=g&&g[E]||0,x[E+1]=p[E]+256-(h+y>>>1)&255;return x},l=function(p,u,g){var h,y,x,v,E=[],R=p.length;E[0]=4;for(var b=0;b<R;b+=1)h=p[b-u]||0,y=g&&g[b]||0,x=g&&g[b-u]||0,v=c(h,y,x),E[b+1]=p[b]-v+256&255;return E},c=function(p,u,g){if(p===u&&u===g)return p;var h=Math.abs(u-g),y=Math.abs(p-g),x=Math.abs(p+u-g-g);return h<=y&&h<=x?p:y<=x?u:g},d=function(){return[n,s,o,A,l]},f=function(p){var u=p.map(function(g){return g.reduce(function(h,y){return h+Math.abs(y)},0)});return u.indexOf(Math.min.apply(null,u))};e.processPNG=function(p,u,g,h){var y,x,v,E,R,b,T,_,S,O,M,I,D,L,N,P=this.decode.FLATE_DECODE,Q="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(v=new b9(p)).imgData,x=v.bits,y=v.colorSpace,R=v.colors,[4,6].indexOf(v.colorType)!==-1){if(v.bits===8){S=(_=v.pixelBitlength==32?new Uint32Array(v.decodePixels().buffer):v.pixelBitlength==16?new Uint16Array(v.decodePixels().buffer):new Uint8Array(v.decodePixels().buffer)).length,M=new Uint8Array(S*v.colors),O=new Uint8Array(S);var J,te=v.pixelBitlength-v.bits;for(L=0,N=0;L<S;L++){for(D=_[L],J=0;J<te;)M[N++]=D>>>J&255,J+=v.bits;O[L]=D>>>J&255}}if(v.bits===16){S=(_=new Uint32Array(v.decodePixels().buffer)).length,M=new Uint8Array(S*(32/v.pixelBitlength)*v.colors),O=new Uint8Array(S*(32/v.pixelBitlength)),I=v.colors>1,L=0,N=0;for(var V=0;L<S;)D=_[L++],M[N++]=D>>>0&255,I&&(M[N++]=D>>>16&255,D=_[L++],M[N++]=D>>>0&255),O[V++]=D>>>16&255;x=8}h!==e.image_compression.NONE&&t()?(p=r(M,v.width*v.colors,v.colors,h),T=r(O,v.width,1,h)):(p=M,T=O,P=void 0)}if(v.colorType===3&&(y=this.color_spaces.INDEXED,b=v.palette,v.transparency.indexed)){var G=v.transparency.indexed,z=0;for(L=0,S=G.length;L<S;++L)z+=G[L];if((z/=255)===S-1&&G.indexOf(0)!==-1)E=[G.indexOf(0)];else if(z!==S){for(_=v.decodePixels(),O=new Uint8Array(_.length),L=0,S=_.length;L<S;L++)O[L]=G[_[L]];T=r(O,v.width,1)}}var C=function(k){var j;switch(k){case e.image_compression.FAST:j=11;break;case e.image_compression.MEDIUM:j=13;break;case e.image_compression.SLOW:j=14;break;default:j=12}return j}(h);return P===this.decode.FLATE_DECODE&&(Q="/Predictor "+C+" "),Q+="/Colors "+R+" /BitsPerComponent "+x+" /Columns "+v.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(T&&this.__addimage__.isArrayBuffer(T)||this.__addimage__.isArrayBufferView(T))&&(T=this.__addimage__.arrayBufferToBinaryString(T)),{alias:g,data:p,index:u,filter:P,decodeParameters:Q,transparency:E,palette:b,sMask:T,predictor:C,width:v.width,height:v.height,bitsPerComponent:x,colorSpace:y}}}})(Gt.API),function(e){e.processGIF89A=function(t,r,a,n){var s=new _9(t),o=s.width,A=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:A},d=new r1(100).encode(c,100);return e.processJPEG.call(this,d,r,a,n)},e.processGIF87A=e.processGIF89A}(Gt.API),Us.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:n,green:a,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Us.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Yr.log("bit decode error:"+r)}},Us.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var a=this.bottom_up?e:this.height-1-e,n=0;n<t;n++)for(var s=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+8*n*4,A=0;A<8&&8*n+A<this.width;A++){var l=this.palette[s>>7-A&1];this.data[o+4*A]=l.blue,this.data[o+4*A+1]=l.green,this.data[o+4*A+2]=l.red,this.data[o+4*A+3]=255}r!==0&&(this.pos+=4-r)}},Us.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,n=0;n<e;n++){var s=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+2*n*4,A=s>>4,l=15&s,c=this.palette[A];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*n+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Us.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var n=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*a;if(n<this.palette.length){var o=this.palette[n];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},Us.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,A=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,c=s>>15?255:0,d=a*this.width*4+4*n;this.data[d]=l,this.data[d+1]=A,this.data[d+2]=o,this.data[d+3]=c}this.pos+=e}},Us.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var n=this.bottom_up?a:this.height-1-a,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var A=(o&t)/t*255|0,l=(o>>5&r)/r*255|0,c=(o>>11)/t*255|0,d=n*this.width*4+4*s;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=A,this.data[d+3]=255}this.pos+=e}},Us.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=s,this.data[o+1]=n,this.data[o+2]=a,this.data[o+3]=255}this.pos+=this.width%4}},Us.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),A=t*this.width*4+4*r;this.data[A]=s,this.data[A+1]=n,this.data[A+2]=a,this.data[A+3]=o}},Us.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,a,n){var s=new Us(t,!1),o=s.width,A=s.height,l={data:s.getData(),width:o,height:A},c=new r1(100).encode(l,100);return e.processJPEG.call(this,c,r,a,n)}}(Gt.API),Tw.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,a,n){var s=new Tw(t),o=s.width,A=s.height,l={data:s.getData(),width:o,height:A},c=new r1(100).encode(l,100);return e.processJPEG.call(this,c,r,a,n)}}(Gt.API),Gt.API.processRGBA=function(e,t,r){for(var a=e.data,n=a.length,s=new Uint8Array(n/4*3),o=new Uint8Array(n/4),A=0,l=0,c=0;c<n;c+=4){var d=a[c],f=a[c+1],p=a[c+2],u=a[c+3];s[A++]=d,s[A++]=f,s[A++]=p,o[l++]=u}var g=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Gt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Jc=Gt.API,vp=Jc.getCharWidthsArray=function(e,t){var r,a,n=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),A=t.widths?t.widths:n.metadata.Unicode.widths,l=A.fof?A.fof:1,c=t.kerning?t.kerning:n.metadata.Unicode.kerning,d=c.fof?c.fof:1,f=t.doKerning!==!1,p=0,u=e.length,g=0,h=A[0]||l,y=[];for(r=0;r<u;r++)a=e.charCodeAt(r),typeof n.metadata.widthOfString=="function"?y.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(a))+o*(1e3/s)||0)/1e3):(p=f&&Zr(c[a])==="object"&&!isNaN(parseInt(c[a][g],10))?c[a][g]/d:0,y.push((A[a]||h)/l+p)),g=a;return y},_w=Jc.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),a=t.font||this.internal.getFont(),n=t.charSpace||this.internal.getCharSpace();return Jc.processArabic&&(e=Jc.processArabic(e)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(e,r,n)/r:vp.apply(this,arguments).reduce(function(s,o){return s+o},0)},Cw=function(e,t,r,a){for(var n=[],s=0,o=e.length,A=0;s!==o&&A+t[s]<r;)A+=t[s],s++;n.push(e.slice(0,s));var l=s;for(A=0;s!==o;)A+t[s]>a&&(n.push(e.slice(l,s)),A=0,l=s),A+=t[s],s++;return l!==s&&n.push(e.slice(l,s)),n},Bw=function(e,t,r){r||(r={});var a,n,s,o,A,l,c,d=[],f=[d],p=r.textIndent||0,u=0,g=0,h=e.split(" "),y=vp.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?h[0].length+2:r.lineIndent||0){var x=Array(l).join(" "),v=[];h.map(function(R){(R=R.split(/\s*\n/)).length>1?v=v.concat(R.map(function(b,T){return(T&&b.length?`
`:"")+b})):v.push(R[0])}),h=v,l=_w.apply(this,[x,r])}for(s=0,o=h.length;s<o;s++){var E=0;if(a=h[s],l&&a[0]==`
`&&(a=a.substr(1),E=1),p+u+(g=(n=vp.apply(this,[a,r])).reduce(function(R,b){return R+b},0))>t||E){if(g>t){for(A=Cw.apply(this,[a,n,t-(p+u),t]),d.push(A.shift()),d=[A.pop()];A.length;)f.push([A.shift()]);g=n.slice(a.length-(d[0]?d[0].length:0)).reduce(function(R,b){return R+b},0)}else d=[a];f.push(d),p=g+l,u=y}else d.push(a),p+=u+g,u=y}return c=l?function(R,b){return(b?x:"")+R.join(" ")}:function(R){return R.join(" ")},f.map(c)},Jc.splitTextToSize=function(e,t,r){var a,n=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);a=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/n;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/n:0,s.lineIndent=r.lineIndent;var A,l,c=[];for(A=0,l=a.length;A<l;A++)c=c.concat(Bw.apply(this,[a[A],o,s]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},a={},n=0;n<t.length;n++)r[t[n]]="0123456789abcdef"[n],a["0123456789abcdef"[n]]=t[n];var s=function(f){return"0x"+parseInt(f,10).toString(16)},o=e.__fontmetrics__.compress=function(f){var p,u,g,h,y=["{"];for(var x in f){if(p=f[x],isNaN(parseInt(x,10))?u="'"+x+"'":(x=parseInt(x,10),u=(u=s(x).slice(2)).slice(0,-1)+a[u.slice(-1)]),typeof p=="number")p<0?(g=s(p).slice(3),h="-"):(g=s(p).slice(2),h=""),g=h+g.slice(0,-1)+a[g.slice(-1)];else{if(Zr(p)!=="object")throw new Error("Don't know what to do with value type "+Zr(p)+".");g=o(p)}y.push(u+g)}return y.push("}"),y.join("")},A=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,u,g,h,y={},x=1,v=y,E=[],R="",b="",T=f.length-1,_=1;_<T;_+=1)(h=f[_])=="'"?p?(g=p.join(""),p=void 0):p=[]:p?p.push(h):h=="{"?(E.push([v,g]),v={},g=void 0):h=="}"?((u=E.pop())[0][u[1]]=v,g=void 0,v=u[0]):h=="-"?x=-1:g===void 0?r.hasOwnProperty(h)?(R+=r[h],g=parseInt(R,16)*x,x=1,R=""):R+=h:r.hasOwnProperty(h)?(b+=r[h],v[g]=parseInt(b,16)*x,x=1,g=void 0,b=""):b+=h;return y},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:A("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":A("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":A("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:A("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:A("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":A("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":A("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var p=f.font,u=d.Unicode[p.postScriptName];u&&(p.metadata.Unicode={},p.metadata.Unicode.widths=u.widths,p.metadata.Unicode.kerning=u.kerning);var g=c.Unicode[p.postScriptName];g&&(p.metadata.Unicode.encoding=g,p.encoding=g.codePages[0])}])}(Gt.API),function(e){var t=function(r){for(var a=r.length,n=new Uint8Array(a),s=0;s<a;s++)n[s]=r.charCodeAt(s);return n};e.API.events.push(["addFont",function(r){var a=void 0,n=r.font,s=r.instance;if(!n.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(a=s.existsFileInVFS(n.postScriptName)===!1?s.loadFile(n.postScriptName):s.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(o,A){A=/^\x00\x01\x00\x00/.test(A)?t(A):t(xf(A)),o.metadata=e.API.TTFFont.open(A),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(n,a)}}])}(Gt),function(e){function t(){return(zt.canvg?Promise.resolve(zt.canvg):mi(()=>import("./index.es-t25gBPOQ.js"),__vite__mapDeps([2,1,3]),import.meta.url)).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Gt.API.addSvgAsImage=function(r,a,n,s,o,A,l,c){if(isNaN(a)||isNaN(n))throw Yr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Yr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=s,d.height=o;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},u=this;return t().then(function(g){return g.fromString(f,r,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(p)}).then(function(){u.addImage(d.toDataURL("image/jpeg",1),a,n,s,o,l,c)})}}(),Gt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var n=0;n<this.internal.pages[a].length;n++)this.internal.pages[a][n]=this.internal.pages[a][n].replace(t,r);return this},Gt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var a,n,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},A=Object.keys(o),l=[],c=0,d=0,f=0;function p(g,h){var y,x=!1;for(y=0;y<g.length;y+=1)g[y]===h&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var u=A.length;for(f=0;f<u;f+=1)r[A[f]].value=r[A[f]].defaultValue,r[A[f]].explicitSet=!1}if(Zr(e)==="object"){for(n in e)if(s=e[n],p(A,n)&&s!==void 0){if(r[n].type==="boolean"&&typeof s=="boolean")r[n].value=s;else if(r[n].type==="name"&&p(r[n].valueSet,s))r[n].value=s;else if(r[n].type==="integer"&&Number.isInteger(s))r[n].value=s;else if(r[n].type==="array"){for(c=0;c<s.length;c+=1)if(a=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(d=0;d<s[c].length;d+=1)typeof s[c][d]!="number"&&(a=!1);a===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}r[n].value="["+l.join(" ")+"]"}else r[n].value=r[n].defaultValue;r[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,h=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?h.push("/"+g+" /"+r[g].value):h.push("/"+g+" "+r[g].value));h.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+h.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(a)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),A=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+A.length+n.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(n+s+o+A+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(a,n){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Gt.API),function(e){var t=e.API,r=t.pdfEscape16=function(s,o){for(var A,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],d=[""],f=0,p=s.length;f<p;++f){if(A=o.metadata.characterToGlyph(s.charCodeAt(f)),o.metadata.glyIdsUsed.push(A),o.metadata.toUnicode[A]=s.charCodeAt(f),l.indexOf(A)==-1&&(l.push(A),l.push([parseInt(o.metadata.widthOfGlyph(A),10)])),A=="0")return d.join("");A=A.toString(16),d.push(c[4-A.length],A)}return d.join("")},a=function(s){var o,A,l,c,d,f,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,p=(A=Object.keys(s).sort(function(u,g){return u-g})).length;f<p;f++)o=A[f],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var A=o.font,l=o.out,c=o.newObject,d=o.putStream;if(A.metadata instanceof e.API.TTFFont&&A.encoding==="Identity-H"){for(var f=A.metadata.Unicode.widths,p=A.metadata.subset.encode(A.metadata.glyIdsUsed,1),u="",g=0;g<p.length;g++)u+=String.fromCharCode(p[g]);var h=c();d({data:u,addLength1:!0,objectId:h}),l("endobj");var y=c();d({data:a(A.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var x=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+gd(A.fontName)),l("/FontFile2 "+h+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(A.metadata.bbox)),l("/Flags "+A.metadata.flags),l("/StemV "+A.metadata.stemV),l("/ItalicAngle "+A.metadata.italicAngle),l("/Ascent "+A.metadata.ascender),l("/Descent "+A.metadata.decender),l("/CapHeight "+A.metadata.capHeight),l(">>"),l("endobj");var v=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+gd(A.fontName)),l("/FontDescriptor "+x+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+A.encoding+")"),l(">>"),l(">>"),l("endobj"),A.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+y+" 0 R"),l("/BaseFont /"+gd(A.fontName)),l("/Encoding /"+A.encoding),l("/DescendantFonts ["+v+" 0 R]"),l(">>"),l("endobj"),A.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var A=o.font,l=o.out,c=o.newObject,d=o.putStream;if(A.metadata instanceof e.API.TTFFont&&A.encoding==="WinAnsiEncoding"){for(var f=A.metadata.rawData,p="",u=0;u<f.length;u++)p+=String.fromCharCode(f[u]);var g=c();d({data:p,addLength1:!0,objectId:g}),l("endobj");var h=c();d({data:a(A.metadata.toUnicode),addLength1:!0,objectId:h}),l("endobj");var y=c();l("<<"),l("/Descent "+A.metadata.decender),l("/CapHeight "+A.metadata.capHeight),l("/StemV "+A.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(A.metadata.bbox)),l("/FontName /"+gd(A.fontName)),l("/ItalicAngle "+A.metadata.italicAngle),l("/Ascent "+A.metadata.ascender),l(">>"),l("endobj"),A.objectNumber=c();for(var x=0;x<A.metadata.hmtx.widths.length;x++)A.metadata.hmtx.widths[x]=parseInt(A.metadata.hmtx.widths[x]*(1e3/A.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+h+" 0 R/BaseFont/"+gd(A.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+A.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(A.metadata.hmtx.widths)+">>"),l("endobj"),A.isAlreadyPutted=!0}})(s)}]);var n=function(s){var o,A=s.text||"",l=s.x,c=s.y,d=s.options||{},f=s.mutex||{},p=f.pdfEscape,u=f.activeFontKey,g=f.fonts,h=u,y="",x=0,v="",E=g[h].encoding;if(g[h].encoding!=="Identity-H")return{text:A,x:l,y:c,options:d,mutex:f};for(v=A,h=u,Array.isArray(A)&&(v=A[0]),x=0;x<v.length;x+=1)g[h].metadata.hasOwnProperty("cmap")&&(o=g[h].metadata.cmap.unicode.codeMap[v[x].charCodeAt(0)]),o||v[x].charCodeAt(0)<256&&g[h].metadata.hasOwnProperty("Unicode")?y+=v[x]:y+="";var R="";return parseInt(h.slice(1))<14||E==="WinAnsiEncoding"?R=p(y,h).split("").map(function(b){return b.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(R=r(y,g[h])),f.isHex=!0,{text:R,x:l,y:c,options:d,mutex:f}};t.events.push(["postProcessText",function(s){var o=s.text||"",A=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?A.push([n(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):A.push(n(Object.assign({},l,{text:o[c]})).text);s.text=A}else s.text=n(Object.assign({},l,{text:o})).text}])}(Gt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,a){return t.call(this),this.internal.vFS[r]=a,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Gt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(a){var n,s,o,A,l,c,d,f=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},h={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,E=0;this.__bidiEngine__={};var R=function(I){var D=I.charCodeAt(),L=D>>8,N=h[L];return N!==void 0?f[256*N+(255&D)]:L===252||L===253?"AL":x.test(L)?"L":L===8?"R":"N"},b=function(I){for(var D,L=0;L<I.length;L++){if((D=R(I.charAt(L)))==="L")return!1;if(D==="R")return!0}return!1},T=function(I,D,L,N){var P,Q,J,te,V=D[N];switch(V){case"L":case"R":v=!1;break;case"N":case"AN":break;case"EN":v&&(V="AN");break;case"AL":v=!0,V="R";break;case"WS":V="N";break;case"CS":N<1||N+1>=D.length||(P=L[N-1])!=="EN"&&P!=="AN"||(Q=D[N+1])!=="EN"&&Q!=="AN"?V="N":v&&(Q="AN"),V=Q===P?Q:"N";break;case"ES":V=(P=N>0?L[N-1]:"B")==="EN"&&N+1<D.length&&D[N+1]==="EN"?"EN":"N";break;case"ET":if(N>0&&L[N-1]==="EN"){V="EN";break}if(v){V="N";break}for(J=N+1,te=D.length;J<te&&D[J]==="ET";)J++;V=J<te&&D[J]==="EN"?"EN":"N";break;case"NSM":if(o&&!A){for(te=D.length,J=N+1;J<te&&D[J]==="NSM";)J++;if(J<te){var G=I[N],z=G>=1425&&G<=2303||G===64286;if(P=D[J],z&&(P==="R"||P==="AL")){V="R";break}}}V=N<1||(P=D[N-1])==="B"?"N":L[N-1];break;case"B":v=!1,n=!0,V=E;break;case"S":s=!0,V="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"BN":V="N"}return V},_=function(I,D,L){var N=I.split("");return L&&S(N,L,{hiLevel:E}),N.reverse(),D&&D.reverse(),N.join("")},S=function(I,D,L){var N,P,Q,J,te,V=-1,G=I.length,z=0,C=[],k=E?u:p,j=[];for(v=!1,n=!1,s=!1,P=0;P<G;P++)j[P]=R(I[P]);for(Q=0;Q<G;Q++){if(te=z,C[Q]=T(I,j,C,Q),N=240&(z=k[te][g[C[Q]]]),z&=15,D[Q]=J=k[z][5],N>0)if(N===16){for(P=V;P<Q;P++)D[P]=1;V=-1}else V=-1;if(k[z][6])V===-1&&(V=Q);else if(V>-1){for(P=V;P<Q;P++)D[P]=J;V=-1}j[Q]==="B"&&(D[Q]=0),L.hiLevel|=J}s&&function(H,Y,de){for(var ue=0;ue<de;ue++)if(H[ue]==="S"){Y[ue]=E;for(var he=ue-1;he>=0&&H[he]==="WS";he--)Y[he]=E}}(j,D,G)},O=function(I,D,L,N,P){if(!(P.hiLevel<I)){if(I===1&&E===1&&!n)return D.reverse(),void(L&&L.reverse());for(var Q,J,te,V,G=D.length,z=0;z<G;){if(N[z]>=I){for(te=z+1;te<G&&N[te]>=I;)te++;for(V=z,J=te-1;V<J;V++,J--)Q=D[V],D[V]=D[J],D[J]=Q,L&&(Q=L[V],L[V]=L[J],L[J]=Q);z=te}z++}}},M=function(I,D,L){var N=I.split(""),P={hiLevel:E};return L||(L=[]),S(N,L,P),function(Q,J,te){if(te.hiLevel!==0&&d)for(var V,G=0;G<Q.length;G++)J[G]===1&&(V=y.indexOf(Q[G]))>=0&&(Q[G]=y[V+1])}(N,L,P),O(2,N,D,L,P),O(1,N,D,L,P),N.join("")};return this.__bidiEngine__.doBidiReorder=function(I,D,L){if(function(P,Q){if(Q)for(var J=0;J<P.length;J++)Q[J]=J;A===void 0&&(A=b(P)),c===void 0&&(c=b(P))}(I,D),o||!l||c)if(o&&l&&A^c)E=A?1:0,I=_(I,D,L);else if(!o&&l&&c)E=A?1:0,I=M(I,D,L),I=_(I,D);else if(!o||A||l||c){if(o&&!l&&A^c)I=_(I,D),A?(E=0,I=M(I,D,L)):(E=1,I=M(I,D,L),I=_(I,D));else if(o&&A&&!l&&c)E=1,I=M(I,D,L),I=_(I,D);else if(!o&&!l&&A^c){var N=d;A?(E=1,I=M(I,D,L),E=0,d=!1,I=M(I,D,L),d=N):(E=0,I=M(I,D,L),I=_(I,D),E=1,d=!1,I=M(I,D,L),d=N,I=_(I,D))}}else E=0,I=M(I,D,L);else E=A?1:0,I=M(I,D,L);return I},this.__bidiEngine__.setOptions=function(I){I&&(o=I.isInputVisual,l=I.isOutputVisual,A=I.isInputRtl,c=I.isOutputRtl,d=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(a){var n=a.text,s=(a.x,a.y,a.options||{}),o=(a.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(n)==="[object Array]"){var A=0;for(o=[],A=0;A<n.length;A+=1)Object.prototype.toString.call(n[A])==="[object Array]"?o.push([r.doBidiReorder(n[A][0]),n[A][1],n[A][2]]):o.push([r.doBidiReorder(n[A])]);a.text=o}else a.text=r.doBidiReorder(n);r.setOptions({isInputVisual:!0})}])}(Gt),Gt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new cl(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new M9(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new C9(this.contents),this.head=new S9(this),this.name=new F9(this),this.cmap=new tB(this),this.toUnicode={},this.hhea=new T9(this),this.maxp=new R9(this),this.hmtx=new k9(this),this.post=new I9(this),this.os2=new O9(this),this.loca=new U9(this),this.glyf=new D9(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,a,n,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,A,l,c;for(c=[],o=0,A=(l=this.bbox).length;o<A;o++)t=l[o],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(a=255&(n=this.post.italic_angle),32768&(r=n>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,a){var n,s,o,A;for(o=0,s=0,A=(t=""+t).length;0<=A?s<A:s>A;s=0<=A?++s:--s)n=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(n))+a*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var a;return r==null&&(r=!1),a=r?this.lineGap:0,(this.ascender+a-this.decender)/1e3*t},e}();var Ws,cl=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,a;for(a=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)a[r]=String.fromCharCode(this.readByte());return a.join("")},e.prototype.writeString=function(t){var r,a,n;for(n=[],r=0,a=t.length;0<=a?r<a:r>a;r=0<=a?++r:--r)n.push(this.writeByte(t.charCodeAt(r)));return n},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,a,n,s,o,A,l;return t=this.readByte(),r=this.readByte(),a=this.readByte(),n=this.readByte(),s=this.readByte(),o=this.readByte(),A=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^a)+4294967296*(255^n)+16777216*(255^s)+65536*(255^o)+256*(255^A)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*a+4294967296*n+16777216*s+65536*o+256*A+l},e.prototype.writeLongLong=function(t){var r,a;return r=Math.floor(t/4294967296),a=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,a;for(r=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)r.push(this.readByte());return r},e.prototype.write=function(t){var r,a,n,s;for(s=[],a=0,n=t.length;a<n;a++)r=t[a],s.push(this.writeByte(r));return s},e}(),C9=function(){var e;function t(r){var a,n,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},n=0,s=this.tableCount;0<=s?n<s:n>s;n=0<=s?++n:--n)a={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[a.tag]=a}return t.prototype.encode=function(r){var a,n,s,o,A,l,c,d,f,p,u,g,h;for(h in u=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(u)/l),o=Math.floor(f/l),d=16*u-f,(n=new cl).writeInt(this.scalarType),n.writeShort(u),n.writeShort(f),n.writeShort(o),n.writeShort(d),s=16*u,c=n.pos+s,A=null,g=[],r)for(p=r[h],n.writeString(h),n.writeInt(e(p)),n.writeInt(c),n.writeInt(p.length),g=g.concat(p),h==="head"&&(A=c),c+=p.length;c%4;)g.push(0),c++;return n.write(g),a=2981146554-e(n.data),n.pos=A+8,n.writeUInt32(a),n.data},e=function(r){var a,n,s,o;for(r=rB.call(r);r.length%4;)r.push(0);for(s=new cl(r),n=0,a=0,o=r.length;a<o;a=a+=4)n+=s.readUInt32();return 4294967295&n},t}(),B9={}.hasOwnProperty,Eo=function(e,t){for(var r in t)B9.call(t,r)&&(e[r]=t[r]);function a(){this.constructor=e}return a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype,e};Ws=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var S9=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Eo(t,Ws),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var a;return(a=new cl).writeInt(this.version),a.writeInt(this.revision),a.writeInt(this.checkSumAdjustment),a.writeInt(this.magicNumber),a.writeShort(this.flags),a.writeShort(this.unitsPerEm),a.writeLongLong(this.created),a.writeLongLong(this.modified),a.writeShort(this.xMin),a.writeShort(this.yMin),a.writeShort(this.xMax),a.writeShort(this.yMax),a.writeShort(this.macStyle),a.writeShort(this.lowestRecPPEM),a.writeShort(this.fontDirectionHint),a.writeShort(r),a.writeShort(this.glyphDataFormat),a.data},t}(),Ow=function(){function e(t,r){var a,n,s,o,A,l,c,d,f,p,u,g,h,y,x,v,E;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(u=t.readUInt16(),p=u/2,t.pos+=6,s=function(){var R,b;for(b=[],l=R=0;0<=p?R<p:R>p;l=0<=p?++R:--R)b.push(t.readUInt16());return b}(),t.pos+=2,h=function(){var R,b;for(b=[],l=R=0;0<=p?R<p:R>p;l=0<=p?++R:--R)b.push(t.readUInt16());return b}(),c=function(){var R,b;for(b=[],l=R=0;0<=p?R<p:R>p;l=0<=p?++R:--R)b.push(t.readUInt16());return b}(),d=function(){var R,b;for(b=[],l=R=0;0<=p?R<p:R>p;l=0<=p?++R:--R)b.push(t.readUInt16());return b}(),n=(this.length-t.pos+this.offset)/2,A=function(){var R,b;for(b=[],l=R=0;0<=n?R<n:R>n;l=0<=n?++R:--R)b.push(t.readUInt16());return b}(),l=x=0,E=s.length;x<E;l=++x)for(y=s[l],a=v=g=h[l];g<=y?v<=y:v>=y;a=g<=y?++v:--v)d[l]===0?o=a+c[l]:(o=A[d[l]/2+(a-g)-(p-l)]||0)!==0&&(o+=c[l]),this.codeMap[a]=65535&o}t.pos=f}return e.encode=function(t,r){var a,n,s,o,A,l,c,d,f,p,u,g,h,y,x,v,E,R,b,T,_,S,O,M,I,D,L,N,P,Q,J,te,V,G,z,C,k,j,H,Y,de,ue,he,xe,ve,se;switch(N=new cl,o=Object.keys(t).sort(function(Ke,Ee){return Ke-Ee}),r){case"macroman":for(h=0,y=function(){var Ke=[];for(g=0;g<256;++g)Ke.push(0);return Ke}(),v={0:0},s={},P=0,V=o.length;P<V;P++)v[he=t[n=o[P]]]==null&&(v[he]=++h),s[n]={old:t[n],new:v[t[n]]},y[n]=v[t[n]];return N.writeUInt16(1),N.writeUInt16(0),N.writeUInt32(12),N.writeUInt16(0),N.writeUInt16(262),N.writeUInt16(0),N.write(y),{charMap:s,subtable:N.data,maxGlyphID:h+1};case"unicode":for(D=[],f=[],E=0,v={},a={},x=c=null,Q=0,G=o.length;Q<G;Q++)v[b=t[n=o[Q]]]==null&&(v[b]=++E),a[n]={old:b,new:v[b]},A=v[b]-n,x!=null&&A===c||(x&&f.push(x),D.push(n),c=A),x=n;for(x&&f.push(x),f.push(65535),D.push(65535),M=2*(O=D.length),S=2*Math.pow(Math.log(O)/Math.LN2,2),p=Math.log(S/2)/Math.LN2,_=2*O-S,l=[],T=[],u=[],g=J=0,z=D.length;J<z;g=++J){if(I=D[g],d=f[g],I===65535){l.push(0),T.push(0);break}if(I-(L=a[I].new)>=32768)for(l.push(0),T.push(2*(u.length+O-g)),n=te=I;I<=d?te<=d:te>=d;n=I<=d?++te:--te)u.push(a[n].new);else l.push(L-I),T.push(0)}for(N.writeUInt16(3),N.writeUInt16(1),N.writeUInt32(12),N.writeUInt16(4),N.writeUInt16(16+8*O+2*u.length),N.writeUInt16(0),N.writeUInt16(M),N.writeUInt16(S),N.writeUInt16(p),N.writeUInt16(_),de=0,C=f.length;de<C;de++)n=f[de],N.writeUInt16(n);for(N.writeUInt16(0),ue=0,k=D.length;ue<k;ue++)n=D[ue],N.writeUInt16(n);for(xe=0,j=l.length;xe<j;xe++)A=l[xe],N.writeUInt16(A);for(ve=0,H=T.length;ve<H;ve++)R=T[ve],N.writeUInt16(R);for(se=0,Y=u.length;se<Y;se++)h=u[se],N.writeUInt16(h);return{charMap:a,subtable:N.data,maxGlyphID:E+1}}},e}(),tB=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Eo(t,Ws),t.prototype.tag="cmap",t.prototype.parse=function(r){var a,n,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)a=new Ow(r,this.offset),this.tables.push(a),a.isUnicode&&this.unicode==null&&(this.unicode=a);return!0},t.encode=function(r,a){var n,s;return a==null&&(a="macroman"),n=Ow.encode(r,a),(s=new cl).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},t}(),T9=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Eo(t,Ws),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),O9=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Eo(t,Ws),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var a,n;for(n=[],a=0;a<10;++a)n.push(r.readByte());return n}(),this.charRange=function(){var a,n;for(n=[],a=0;a<4;++a)n.push(r.readInt());return n}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var a,n;for(n=[],a=0;a<2;a=++a)n.push(r.readInt());return n}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),I9=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Eo(t,Ws),t.prototype.tag="post",t.prototype.parse=function(r){var a,n,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(n=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)a=r.readByte(),s.push(this.names.push(r.readString(a)));return s;case 151552:return n=r.readUInt16(),this.offsets=r.read(n);case 196608:break;case 262144:return this.map=(function(){var A,l,c;for(c=[],o=A=0,l=this.file.maxp.numGlyphs;0<=l?A<l:A>l;o=0<=l?++A:--A)c.push(r.readUInt32());return c}).call(this)}},t}(),N9=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},F9=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Eo(t,Ws),t.prototype.tag="name",t.prototype.parse=function(r){var a,n,s,o,A,l,c,d,f,p,u;for(r.pos=this.offset,r.readShort(),a=r.readShort(),l=r.readShort(),n=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)n.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},o=f=0,p=n.length;f<p;o=++f)s=n[o],r.pos=s.offset,d=r.readString(s.length),A=new N9(d,s),c[u=s.nameID]==null&&(c[u]=[]),c[s.nameID].push(A);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),R9=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Eo(t,Ws),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),k9=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Eo(t,Ws),t.prototype.tag="hmtx",t.prototype.parse=function(r){var a,n,s,o,A,l,c;for(r.pos=this.offset,this.metrics=[],a=0,l=this.file.hhea.numberOfMetrics;0<=l?a<l:a>l;a=0<=l?++a:--a)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],a=d=0;0<=s?d<s:d>s;a=0<=s?++d:--d)f.push(r.readInt16());return f}(),this.widths=(function(){var d,f,p,u;for(u=[],d=0,f=(p=this.metrics).length;d<f;d++)o=p[d],u.push(o.advance);return u}).call(this),n=this.widths[this.widths.length-1],c=[],a=A=0;0<=s?A<s:A>s;a=0<=s?++A:--A)c.push(this.widths.push(n));return c},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),rB=[].slice,D9=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Eo(t,Ws),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var a,n,s,o,A,l,c,d,f,p;return r in this.cache?this.cache[r]:(o=this.file.loca,a=this.file.contents,n=o.indexOf(r),(s=o.lengthOf(r))===0?this.cache[r]=null:(a.pos=this.offset+n,A=(l=new cl(a.read(s))).readShort(),d=l.readShort(),p=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[r]=A===-1?new L9(l,d,p,c,f):new j9(l,A,d,p,c,f),this.cache[r]))},t.prototype.encode=function(r,a,n){var s,o,A,l,c;for(A=[],o=[],l=0,c=a.length;l<c;l++)s=r[a[l]],o.push(A.length),s&&(A=A.concat(s.encode(n)));return o.push(A.length),{table:A,offsets:o}},t}(),j9=function(){function e(t,r,a,n,s,o){this.raw=t,this.numberOfContours=r,this.xMin=a,this.yMin=n,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),L9=function(){function e(t,r,a,n,s){var o,A;for(this.raw=t,this.xMin=r,this.yMin=a,this.xMax=n,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;A=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&A;)o.pos+=1&A?4:2,128&A?o.pos+=8:64&A?o.pos+=4:8&A&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,a;for(r=new cl(rB.call(this.raw.data)),t=0,a=this.glyphIDs.length;t<a;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),U9=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Eo(t,Ws),t.prototype.tag="loca",t.prototype.parse=function(r){var a,n;return r.pos=this.offset,a=this.file.head.indexToLocFormat,this.offsets=a===0?(function(){var s,o;for(o=[],n=0,s=this.length;n<s;n+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],n=0,s=this.length;n<s;n+=4)o.push(r.readUInt32());return o}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,a){for(var n=new Uint32Array(this.offsets.length),s=0,o=0,A=0;A<n.length;++A)if(n[A]=s,o<a.length&&a[o]==A){++o,n[A]=s;var l=this.offsets[A],c=this.offsets[A+1]-l;c>0&&(s+=c)}for(var d=new Array(4*n.length),f=0;f<n.length;++f)d[4*f+3]=255&n[f],d[4*f+2]=(65280&n[f])>>8,d[4*f+1]=(16711680&n[f])>>16,d[4*f]=(4278190080&n[f])>>24;return d},t}(),M9=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,a,n,s;for(r in n=this.font.cmap.tables[0].codeMap,t={},s=this.subset)a=s[r],t[r]=n[a];return t},e.prototype.glyphsFor=function(t){var r,a,n,s,o,A,l;for(n={},o=0,A=t.length;o<A;o++)n[s=t[o]]=this.font.glyf.glyphFor(s);for(s in r=[],n)(a=n[s])!=null&&a.compound&&r.push.apply(r,a.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))a=l[s],n[s]=a;return n},e.prototype.encode=function(t,r){var a,n,s,o,A,l,c,d,f,p,u,g,h,y,x;for(n in a=tB.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),u={0:0},x=a.charMap)u[(l=x[n]).old]=l.new;for(g in p=a.maxGlyphID,o)g in u||(u[g]=p++);return d=function(v){var E,R;for(E in R={},v)R[v[E]]=E;return R}(u),f=Object.keys(d).sort(function(v,E){return v-E}),h=function(){var v,E,R;for(R=[],v=0,E=f.length;v<E;v++)A=f[v],R.push(d[A]);return R}(),s=this.font.glyf.encode(o,h,u),c=this.font.loca.encode(s.offsets,h),y={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},e}();Gt.API.PDFObject=function(){var e;function t(){}return e=function(r,a){return(Array(a+1).join("0")+r).slice(-a)},t.convert=function(r){var a,n,s,o;if(Array.isArray(r))return"["+function(){var A,l,c;for(c=[],A=0,l=r.length;A<l;A++)a=r[A],c.push(t.convert(a));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(n in s=["<<"],r)o=r[n],s.push("/"+n+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+r},t}();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Kx=function(e,t){return Kx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(r[n]=a[n])},Kx(e,t)};function Xs(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Kx(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Hx=function(){return Hx=Object.assign||function(t){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Hx.apply(this,arguments)};function di(e,t,r,a){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function A(d){try{c(a.next(d))}catch(f){o(f)}}function l(d){try{c(a.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):n(d.value).then(A,l)}c((a=a.apply(e,[])).next())})}function qn(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},a,n,s,o;return o={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function A(c){return function(d){return l([c,d])}}function l(c){if(a)throw new TypeError("Generator is already executing.");for(;r;)try{if(a=1,n&&(s=c[0]&2?n.return:c[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,c[1])).done)return s;switch(n=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,n=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(d){c=[6,d],n=0}finally{a=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function wp(e,t,r){if(arguments.length===2)for(var a=0,n=t.length,s;a<n;a++)(s||!(a in t))&&(s||(s=Array.prototype.slice.call(t,0,a)),s[a]=t[a]);return e.concat(s||t)}var aA=function(){function e(t,r,a,n){this.left=t,this.top=r,this.width=a,this.height=n}return e.prototype.add=function(t,r,a,n){return new e(this.left+t,this.top+r,this.width+a,this.height+n)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var a=Array.from(r).find(function(n){return n.width!==0});return a?new e(a.left+t.windowBounds.left,a.top+t.windowBounds.top,a.width,a.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),Nm=function(e,t){return aA.fromClientRect(e,t.getBoundingClientRect())},P9=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var a=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),n=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new aA(0,0,a,n)},Fm=function(e){for(var t=[],r=0,a=e.length;r<a;){var n=e.charCodeAt(r++);if(n>=55296&&n<=56319&&r<a){var s=e.charCodeAt(r++);(s&64512)===56320?t.push(((n&1023)<<10)+(s&1023)+65536):(t.push(n),r--)}else t.push(n)}return t},ja=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var a=[],n=-1,s="";++n<r;){var o=e[n];o<=65535?a.push(o):(o-=65536,a.push((o>>10)+55296,o%1024+56320)),(n+1===r||a.length>16384)&&(s+=String.fromCharCode.apply(String,a),a.length=0)}return s},Iw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Q9=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ep=0;Ep<Iw.length;Ep++)Q9[Iw.charCodeAt(Ep)]=Ep;var Nw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$u=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var bp=0;bp<Nw.length;bp++)$u[Nw.charCodeAt(bp)]=bp;var q9=function(e){var t=e.length*.75,r=e.length,a,n=0,s,o,A,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),d=Array.isArray(c)?c:new Uint8Array(c);for(a=0;a<r;a+=4)s=$u[e.charCodeAt(a)],o=$u[e.charCodeAt(a+1)],A=$u[e.charCodeAt(a+2)],l=$u[e.charCodeAt(a+3)],d[n++]=s<<2|o>>4,d[n++]=(o&15)<<4|A>>2,d[n++]=(A&3)<<6|l&63;return c},K9=function(e){for(var t=e.length,r=[],a=0;a<t;a+=2)r.push(e[a+1]<<8|e[a]);return r},H9=function(e){for(var t=e.length,r=[],a=0;a<t;a+=4)r.push(e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a]);return r},Zl=5,Ry=11,a1=2,G9=Ry-Zl,aB=65536>>Zl,z9=1<<Zl,n1=z9-1,V9=1024>>Zl,$9=aB+V9,Y9=$9,W9=32,X9=Y9+W9,J9=65536>>Ry,Z9=1<<G9,eQ=Z9-1,Fw=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},tQ=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},rQ=function(e,t){var r=q9(e),a=Array.isArray(r)?H9(r):new Uint32Array(r),n=Array.isArray(r)?K9(r):new Uint16Array(r),s=24,o=Fw(n,s/2,a[4]/2),A=a[5]===2?Fw(n,(s+a[4])/2):tQ(a,Math.ceil((s+a[4])/4));return new aQ(a[0],a[1],a[2],a[3],o,A)},aQ=function(){function e(t,r,a,n,s,o){this.initialValue=t,this.errorValue=r,this.highStart=a,this.highValueIndex=n,this.index=s,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>Zl],r=(r<<a1)+(t&n1),this.data[r];if(t<=65535)return r=this.index[aB+(t-55296>>Zl)],r=(r<<a1)+(t&n1),this.data[r];if(t<this.highStart)return r=X9-J9+(t>>Ry),r=this.index[r],r+=t>>Zl&eQ,r=this.index[r],r=(r<<a1)+(t&n1),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Rw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",nQ=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var _p=0;_p<Rw.length;_p++)nQ[Rw.charCodeAt(_p)]=_p;var iQ="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",kw=50,sQ=1,nB=2,iB=3,oQ=4,AQ=5,Dw=7,sB=8,jw=9,GA=10,Gx=11,Lw=12,zx=13,lQ=14,Yu=15,Vx=16,Cp=17,Nu=18,cQ=19,Uw=20,$x=21,Fu=22,i1=23,Zc=24,Gi=25,Wu=26,Xu=27,ed=28,dQ=29,Ul=30,uQ=31,Bp=32,Sp=33,Yx=34,Wx=35,Xx=36,Wf=37,Jx=38,lh=39,ch=40,s1=41,oB=42,fQ=43,pQ=[9001,65288],AB="!",gr="×",Tp="÷",Zx=rQ(iQ),Mo=[Ul,Xx],e2=[sQ,nB,iB,AQ],lB=[GA,sB],Mw=[Xu,Wu],hQ=e2.concat(lB),Pw=[Jx,lh,ch,Yx,Wx],mQ=[Yu,zx],gQ=function(e,t){t===void 0&&(t="strict");var r=[],a=[],n=[];return e.forEach(function(s,o){var A=Zx.get(s);if(A>kw?(n.push(!0),A-=kw):n.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return a.push(o),r.push(Vx);if(A===oQ||A===Gx){if(o===0)return a.push(o),r.push(Ul);var l=r[o-1];return hQ.indexOf(l)===-1?(a.push(a[o-1]),r.push(l)):(a.push(o),r.push(Ul))}if(a.push(o),A===uQ)return r.push(t==="strict"?$x:Wf);if(A===oB||A===dQ)return r.push(Ul);if(A===fQ)return s>=131072&&s<=196605||s>=196608&&s<=262141?r.push(Wf):r.push(Ul);r.push(A)}),[a,r,n]},o1=function(e,t,r,a){var n=a[r];if(Array.isArray(e)?e.indexOf(n)!==-1:e===n)for(var s=r;s<=a.length;){s++;var o=a[s];if(o===t)return!0;if(o!==GA)break}if(n===GA)for(var s=r;s>0;){s--;var A=a[s];if(Array.isArray(e)?e.indexOf(A)!==-1:e===A)for(var l=r;l<=a.length;){l++;var o=a[l];if(o===t)return!0;if(o!==GA)break}if(A!==GA)break}return!1},Qw=function(e,t){for(var r=e;r>=0;){var a=t[r];if(a===GA)r--;else return a}return 0},xQ=function(e,t,r,a,n){if(r[a]===0)return gr;var s=a-1;if(Array.isArray(n)&&n[s]===!0)return gr;var o=s-1,A=s+1,l=t[s],c=o>=0?t[o]:0,d=t[A];if(l===nB&&d===iB)return gr;if(e2.indexOf(l)!==-1)return AB;if(e2.indexOf(d)!==-1||lB.indexOf(d)!==-1)return gr;if(Qw(s,t)===sB)return Tp;if(Zx.get(e[s])===Gx||(l===Bp||l===Sp)&&Zx.get(e[A])===Gx||l===Dw||d===Dw||l===jw||[GA,zx,Yu].indexOf(l)===-1&&d===jw||[Cp,Nu,cQ,Zc,ed].indexOf(d)!==-1||Qw(s,t)===Fu||o1(i1,Fu,s,t)||o1([Cp,Nu],$x,s,t)||o1(Lw,Lw,s,t))return gr;if(l===GA)return Tp;if(l===i1||d===i1)return gr;if(d===Vx||l===Vx)return Tp;if([zx,Yu,$x].indexOf(d)!==-1||l===lQ||c===Xx&&mQ.indexOf(l)!==-1||l===ed&&d===Xx||d===Uw||Mo.indexOf(d)!==-1&&l===Gi||Mo.indexOf(l)!==-1&&d===Gi||l===Xu&&[Wf,Bp,Sp].indexOf(d)!==-1||[Wf,Bp,Sp].indexOf(l)!==-1&&d===Wu||Mo.indexOf(l)!==-1&&Mw.indexOf(d)!==-1||Mw.indexOf(l)!==-1&&Mo.indexOf(d)!==-1||[Xu,Wu].indexOf(l)!==-1&&(d===Gi||[Fu,Yu].indexOf(d)!==-1&&t[A+1]===Gi)||[Fu,Yu].indexOf(l)!==-1&&d===Gi||l===Gi&&[Gi,ed,Zc].indexOf(d)!==-1)return gr;if([Gi,ed,Zc,Cp,Nu].indexOf(d)!==-1)for(var f=s;f>=0;){var p=t[f];if(p===Gi)return gr;if([ed,Zc].indexOf(p)!==-1)f--;else break}if([Xu,Wu].indexOf(d)!==-1)for(var f=[Cp,Nu].indexOf(l)!==-1?o:s;f>=0;){var p=t[f];if(p===Gi)return gr;if([ed,Zc].indexOf(p)!==-1)f--;else break}if(Jx===l&&[Jx,lh,Yx,Wx].indexOf(d)!==-1||[lh,Yx].indexOf(l)!==-1&&[lh,ch].indexOf(d)!==-1||[ch,Wx].indexOf(l)!==-1&&d===ch||Pw.indexOf(l)!==-1&&[Uw,Wu].indexOf(d)!==-1||Pw.indexOf(d)!==-1&&l===Xu||Mo.indexOf(l)!==-1&&Mo.indexOf(d)!==-1||l===Zc&&Mo.indexOf(d)!==-1||Mo.concat(Gi).indexOf(l)!==-1&&d===Fu&&pQ.indexOf(e[A])===-1||Mo.concat(Gi).indexOf(d)!==-1&&l===Nu)return gr;if(l===s1&&d===s1){for(var u=r[s],g=1;u>0&&(u--,t[u]===s1);)g++;if(g%2!==0)return gr}return l===Bp&&d===Sp?gr:Tp},yQ=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=gQ(e,t.lineBreak),a=r[0],n=r[1],s=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(n=n.map(function(A){return[Gi,Ul,oB].indexOf(A)!==-1?Wf:A}));var o=t.wordBreak==="keep-all"?s.map(function(A,l){return A&&e[l]>=19968&&e[l]<=40959}):void 0;return[a,n,o]},vQ=function(){function e(t,r,a,n){this.codePoints=t,this.required=r===AB,this.start=a,this.end=n}return e.prototype.slice=function(){return ja.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),wQ=function(e,t){var r=Fm(e),a=yQ(r,t),n=a[0],s=a[1],o=a[2],A=r.length,l=0,c=0;return{next:function(){if(c>=A)return{done:!0,value:null};for(var d=gr;c<A&&(d=xQ(r,s,n,++c,o))===gr;);if(d!==gr||c===A){var f=new vQ(r,d,l,c);return l=c,{value:f,done:!1}}return{done:!0,value:null}}}},EQ=1,bQ=2,p0=4,qw=8,Hh=10,Kw=47,yf=92,_Q=9,CQ=32,Op=34,Ru=61,BQ=35,SQ=36,TQ=37,Ip=39,Np=40,ku=41,OQ=95,Ii=45,IQ=33,NQ=60,FQ=62,RQ=64,kQ=91,DQ=93,jQ=61,LQ=123,Fp=63,UQ=125,Hw=124,MQ=126,PQ=128,Gw=65533,A1=42,Pl=43,QQ=44,qQ=58,KQ=59,Xf=46,HQ=0,GQ=8,zQ=11,VQ=14,$Q=31,YQ=127,io=-1,cB=48,dB=97,uB=101,WQ=102,XQ=117,JQ=122,fB=65,pB=69,hB=70,ZQ=85,eq=90,Gn=function(e){return e>=cB&&e<=57},tq=function(e){return e>=55296&&e<=57343},td=function(e){return Gn(e)||e>=fB&&e<=hB||e>=dB&&e<=WQ},rq=function(e){return e>=dB&&e<=JQ},aq=function(e){return e>=fB&&e<=eq},nq=function(e){return rq(e)||aq(e)},iq=function(e){return e>=PQ},Rp=function(e){return e===Hh||e===_Q||e===CQ},Gh=function(e){return nq(e)||iq(e)||e===OQ},zw=function(e){return Gh(e)||Gn(e)||e===Ii},sq=function(e){return e>=HQ&&e<=GQ||e===zQ||e>=VQ&&e<=$Q||e===YQ},DA=function(e,t){return e!==yf?!1:t!==Hh},kp=function(e,t,r){return e===Ii?Gh(t)||DA(t,r):Gh(e)?!0:!!(e===yf&&DA(e,t))},l1=function(e,t,r){return e===Pl||e===Ii?Gn(t)?!0:t===Xf&&Gn(r):Gn(e===Xf?t:e)},oq=function(e){var t=0,r=1;(e[t]===Pl||e[t]===Ii)&&(e[t]===Ii&&(r=-1),t++);for(var a=[];Gn(e[t]);)a.push(e[t++]);var n=a.length?parseInt(ja.apply(void 0,a),10):0;e[t]===Xf&&t++;for(var s=[];Gn(e[t]);)s.push(e[t++]);var o=s.length,A=o?parseInt(ja.apply(void 0,s),10):0;(e[t]===pB||e[t]===uB)&&t++;var l=1;(e[t]===Pl||e[t]===Ii)&&(e[t]===Ii&&(l=-1),t++);for(var c=[];Gn(e[t]);)c.push(e[t++]);var d=c.length?parseInt(ja.apply(void 0,c),10):0;return r*(n+A*Math.pow(10,-o))*Math.pow(10,l*d)},Aq={type:2},lq={type:3},cq={type:4},dq={type:13},uq={type:8},fq={type:21},pq={type:9},hq={type:10},mq={type:11},gq={type:12},xq={type:14},Dp={type:23},yq={type:1},vq={type:25},wq={type:24},Eq={type:26},bq={type:27},_q={type:28},Cq={type:29},Bq={type:31},t2={type:32},mB=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(Fm(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==t2;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case Op:return this.consumeStringToken(Op);case BQ:var r=this.peekCodePoint(0),a=this.peekCodePoint(1),n=this.peekCodePoint(2);if(zw(r)||DA(a,n)){var s=kp(r,a,n)?bQ:EQ,o=this.consumeName();return{type:5,value:o,flags:s}}break;case SQ:if(this.peekCodePoint(0)===Ru)return this.consumeCodePoint(),dq;break;case Ip:return this.consumeStringToken(Ip);case Np:return Aq;case ku:return lq;case A1:if(this.peekCodePoint(0)===Ru)return this.consumeCodePoint(),xq;break;case Pl:if(l1(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case QQ:return cq;case Ii:var A=t,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(l1(A,l,c))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(kp(A,l,c))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(l===Ii&&c===FQ)return this.consumeCodePoint(),this.consumeCodePoint(),wq;break;case Xf:if(l1(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case Kw:if(this.peekCodePoint(0)===A1)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===A1&&(d=this.consumeCodePoint(),d===Kw))return this.consumeToken();if(d===io)return this.consumeToken()}break;case qQ:return Eq;case KQ:return bq;case NQ:if(this.peekCodePoint(0)===IQ&&this.peekCodePoint(1)===Ii&&this.peekCodePoint(2)===Ii)return this.consumeCodePoint(),this.consumeCodePoint(),vq;break;case RQ:var f=this.peekCodePoint(0),p=this.peekCodePoint(1),u=this.peekCodePoint(2);if(kp(f,p,u)){var o=this.consumeName();return{type:7,value:o}}break;case kQ:return _q;case yf:if(DA(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case DQ:return Cq;case jQ:if(this.peekCodePoint(0)===Ru)return this.consumeCodePoint(),uq;break;case LQ:return mq;case UQ:return gq;case XQ:case ZQ:var g=this.peekCodePoint(0),h=this.peekCodePoint(1);return g===Pl&&(td(h)||h===Fp)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case Hw:if(this.peekCodePoint(0)===Ru)return this.consumeCodePoint(),pq;if(this.peekCodePoint(0)===Hw)return this.consumeCodePoint(),fq;break;case MQ:if(this.peekCodePoint(0)===Ru)return this.consumeCodePoint(),hq;break;case io:return t2}return Rp(t)?(this.consumeWhiteSpace(),Bq):Gn(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):Gh(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:ja(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();td(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var a=!1;r===Fp&&t.length<6;)t.push(r),r=this.consumeCodePoint(),a=!0;if(a){var n=parseInt(ja.apply(void 0,t.map(function(l){return l===Fp?cB:l})),16),s=parseInt(ja.apply(void 0,t.map(function(l){return l===Fp?hB:l})),16);return{type:30,start:n,end:s}}var o=parseInt(ja.apply(void 0,t),16);if(this.peekCodePoint(0)===Ii&&td(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var A=[];td(r)&&A.length<6;)A.push(r),r=this.consumeCodePoint();var s=parseInt(ja.apply(void 0,A),16);return{type:30,start:o,end:s}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===Np?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Np?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===io)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===Ip||r===Op){var a=this.consumeStringToken(this.consumeCodePoint());return a.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===io||this.peekCodePoint(0)===ku)?(this.consumeCodePoint(),{type:22,value:a.value}):(this.consumeBadUrlRemnants(),Dp)}for(;;){var n=this.consumeCodePoint();if(n===io||n===ku)return{type:22,value:ja.apply(void 0,t)};if(Rp(n))return this.consumeWhiteSpace(),this.peekCodePoint(0)===io||this.peekCodePoint(0)===ku?(this.consumeCodePoint(),{type:22,value:ja.apply(void 0,t)}):(this.consumeBadUrlRemnants(),Dp);if(n===Op||n===Ip||n===Np||sq(n))return this.consumeBadUrlRemnants(),Dp;if(n===yf)if(DA(n,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Dp;else t.push(n)}},e.prototype.consumeWhiteSpace=function(){for(;Rp(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===ku||t===io)return;DA(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,a="";t>0;){var n=Math.min(r,t);a+=ja.apply(void 0,this._value.splice(0,n)),t-=n}return this._value.shift(),a},e.prototype.consumeStringToken=function(t){var r="",a=0;do{var n=this._value[a];if(n===io||n===void 0||n===t)return r+=this.consumeStringSlice(a),{type:0,value:r};if(n===Hh)return this._value.splice(0,a),yq;if(n===yf){var s=this._value[a+1];s!==io&&s!==void 0&&(s===Hh?(r+=this.consumeStringSlice(a),a=-1,this._value.shift()):DA(n,s)&&(r+=this.consumeStringSlice(a),r+=ja(this.consumeEscapedCodePoint()),a=-1))}a++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=p0,a=this.peekCodePoint(0);for((a===Pl||a===Ii)&&t.push(this.consumeCodePoint());Gn(this.peekCodePoint(0));)t.push(this.consumeCodePoint());a=this.peekCodePoint(0);var n=this.peekCodePoint(1);if(a===Xf&&Gn(n))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=qw;Gn(this.peekCodePoint(0));)t.push(this.consumeCodePoint());a=this.peekCodePoint(0),n=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((a===pB||a===uB)&&((n===Pl||n===Ii)&&Gn(s)||Gn(n)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=qw;Gn(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[oq(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],a=t[1],n=this.peekCodePoint(0),s=this.peekCodePoint(1),o=this.peekCodePoint(2);if(kp(n,s,o)){var A=this.consumeName();return{type:15,number:r,flags:a,unit:A}}return n===TQ?(this.consumeCodePoint(),{type:16,number:r,flags:a}):{type:17,number:r,flags:a}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(td(t)){for(var r=ja(t);td(this.peekCodePoint(0))&&r.length<6;)r+=ja(this.consumeCodePoint());Rp(this.peekCodePoint(0))&&this.consumeCodePoint();var a=parseInt(r,16);return a===0||tq(a)||a>1114111?Gw:a}return t===io?Gw:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(zw(r))t+=ja(r);else if(DA(r,this.peekCodePoint(0)))t+=ja(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e}(),gB=function(){function e(t){this._tokens=t}return e.create=function(t){var r=new mB;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},a=this.consumeToken();;){if(a.type===32||Tq(a,t))return r;this.reconsumeToken(a),r.values.push(this.consumeComponentValue()),a=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var a=this.consumeToken();if(a.type===32||a.type===3)return r;this.reconsumeToken(a),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?t2:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),h0=function(e){return e.type===15},Zd=function(e){return e.type===17},Gr=function(e){return e.type===20},Sq=function(e){return e.type===0},r2=function(e,t){return Gr(e)&&e.value===t},xB=function(e){return e.type!==31},Gd=function(e){return e.type!==31&&e.type!==4},bo=function(e){var t=[],r=[];return e.forEach(function(a){if(a.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}a.type!==31&&r.push(a)}),r.length&&t.push(r),t},Tq=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},dl=function(e){return e.type===17||e.type===15},Ja=function(e){return e.type===16||dl(e)},yB=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Rn={type:17,number:0,flags:p0},ky={type:16,number:50,flags:p0},zA={type:16,number:100,flags:p0},Ju=function(e,t,r){var a=e[0],n=e[1];return[aa(a,t),aa(typeof n<"u"?n:a,r)]},aa=function(e,t){if(e.type===16)return e.number/100*t;if(h0(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},vB="deg",wB="grad",EB="rad",bB="turn",Rm={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case vB:return Math.PI*t.number/180;case wB:return Math.PI/200*t.number;case EB:return t.number;case bB:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},_B=function(e){return e.type===15&&(e.unit===vB||e.unit===wB||e.unit===EB||e.unit===bB)},CB=function(e){var t=e.filter(Gr).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Rn,Rn];case"to top":case"bottom":return _s(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Rn,zA];case"to right":case"left":return _s(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[zA,zA];case"to bottom":case"top":return _s(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[zA,Rn];case"to left":case"right":return _s(270)}return 0},_s=function(e){return Math.PI*e/180},YA={name:"color",parse:function(e,t){if(t.type===18){var r=Oq[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var a=t.value.substring(0,1),n=t.value.substring(1,2),s=t.value.substring(2,3);return VA(parseInt(a+a,16),parseInt(n+n,16),parseInt(s+s,16),1)}if(t.value.length===4){var a=t.value.substring(0,1),n=t.value.substring(1,2),s=t.value.substring(2,3),o=t.value.substring(3,4);return VA(parseInt(a+a,16),parseInt(n+n,16),parseInt(s+s,16),parseInt(o+o,16)/255)}if(t.value.length===6){var a=t.value.substring(0,2),n=t.value.substring(2,4),s=t.value.substring(4,6);return VA(parseInt(a,16),parseInt(n,16),parseInt(s,16),1)}if(t.value.length===8){var a=t.value.substring(0,2),n=t.value.substring(2,4),s=t.value.substring(4,6),o=t.value.substring(6,8);return VA(parseInt(a,16),parseInt(n,16),parseInt(s,16),parseInt(o,16)/255)}}if(t.type===20){var A=Jo[t.value.toUpperCase()];if(typeof A<"u")return A}return Jo.TRANSPARENT}},WA=function(e){return(255&e)===0},fn=function(e){var t=255&e,r=255&e>>8,a=255&e>>16,n=255&e>>24;return t<255?"rgba("+n+","+a+","+r+","+t/255+")":"rgb("+n+","+a+","+r+")"},VA=function(e,t,r,a){return(e<<24|t<<16|r<<8|Math.round(a*255)<<0)>>>0},Vw=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},$w=function(e,t){var r=t.filter(Gd);if(r.length===3){var a=r.map(Vw),n=a[0],s=a[1],o=a[2];return VA(n,s,o,1)}if(r.length===4){var A=r.map(Vw),n=A[0],s=A[1],o=A[2],l=A[3];return VA(n,s,o,l)}return 0};function c1(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var Yw=function(e,t){var r=t.filter(Gd),a=r[0],n=r[1],s=r[2],o=r[3],A=(a.type===17?_s(a.number):Rm.parse(e,a))/(Math.PI*2),l=Ja(n)?n.number/100:0,c=Ja(s)?s.number/100:0,d=typeof o<"u"&&Ja(o)?aa(o,1):1;if(l===0)return VA(c*255,c*255,c*255,1);var f=c<=.5?c*(l+1):c+l-c*l,p=c*2-f,u=c1(p,f,A+1/3),g=c1(p,f,A),h=c1(p,f,A-1/3);return VA(u*255,g*255,h*255,d)},Oq={hsl:Yw,hsla:Yw,rgb:$w,rgba:$w},vf=function(e,t){return YA.parse(e,gB.create(t).parseComponentValue())},Jo={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Iq={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Gr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Nq={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},km=function(e,t){var r=YA.parse(e,t[0]),a=t[1];return a&&Ja(a)?{color:r,stop:a}:{color:r,stop:null}},Ww=function(e,t){var r=e[0],a=e[e.length-1];r.stop===null&&(r.stop=Rn),a.stop===null&&(a.stop=zA);for(var n=[],s=0,o=0;o<e.length;o++){var A=e[o].stop;if(A!==null){var l=aa(A,t);l>s?n.push(l):n.push(s),s=l}else n.push(null)}for(var c=null,o=0;o<n.length;o++){var d=n[o];if(d===null)c===null&&(c=o);else if(c!==null){for(var f=o-c,p=n[c-1],u=(d-p)/(f+1),g=1;g<=f;g++)n[c+g-1]=u*g;c=null}}return e.map(function(h,y){var x=h.color;return{color:x,stop:Math.max(Math.min(1,n[y]/t),0)}})},Fq=function(e,t,r){var a=t/2,n=r/2,s=aa(e[0],t)-a,o=n-aa(e[1],r);return(Math.atan2(o,s)+Math.PI*2)%(Math.PI*2)},Rq=function(e,t,r){var a=typeof e=="number"?e:Fq(e,t,r),n=Math.abs(t*Math.sin(a))+Math.abs(r*Math.cos(a)),s=t/2,o=r/2,A=n/2,l=Math.sin(a-Math.PI/2)*A,c=Math.cos(a-Math.PI/2)*A;return[n,s-c,s+c,o-l,o+l]},Ps=function(e,t){return Math.sqrt(e*e+t*t)},Xw=function(e,t,r,a,n){var s=[[0,0],[0,t],[e,0],[e,t]];return s.reduce(function(o,A){var l=A[0],c=A[1],d=Ps(r-l,a-c);return(n?d<o.optimumDistance:d>o.optimumDistance)?{optimumCorner:A,optimumDistance:d}:o},{optimumDistance:n?1/0:-1/0,optimumCorner:null}).optimumCorner},kq=function(e,t,r,a,n){var s=0,o=0;switch(e.size){case 0:e.shape===0?s=o=Math.min(Math.abs(t),Math.abs(t-a),Math.abs(r),Math.abs(r-n)):e.shape===1&&(s=Math.min(Math.abs(t),Math.abs(t-a)),o=Math.min(Math.abs(r),Math.abs(r-n)));break;case 2:if(e.shape===0)s=o=Math.min(Ps(t,r),Ps(t,r-n),Ps(t-a,r),Ps(t-a,r-n));else if(e.shape===1){var A=Math.min(Math.abs(r),Math.abs(r-n))/Math.min(Math.abs(t),Math.abs(t-a)),l=Xw(a,n,t,r,!0),c=l[0],d=l[1];s=Ps(c-t,(d-r)/A),o=A*s}break;case 1:e.shape===0?s=o=Math.max(Math.abs(t),Math.abs(t-a),Math.abs(r),Math.abs(r-n)):e.shape===1&&(s=Math.max(Math.abs(t),Math.abs(t-a)),o=Math.max(Math.abs(r),Math.abs(r-n)));break;case 3:if(e.shape===0)s=o=Math.max(Ps(t,r),Ps(t,r-n),Ps(t-a,r),Ps(t-a,r-n));else if(e.shape===1){var A=Math.max(Math.abs(r),Math.abs(r-n))/Math.max(Math.abs(t),Math.abs(t-a)),f=Xw(a,n,t,r,!1),c=f[0],d=f[1];s=Ps(c-t,(d-r)/A),o=A*s}break}return Array.isArray(e.size)&&(s=aa(e.size[0],a),o=e.size.length===2?aa(e.size[1],n):s),[s,o]},Dq=function(e,t){var r=_s(180),a=[];return bo(t).forEach(function(n,s){if(s===0){var o=n[0];if(o.type===20&&o.value==="to"){r=CB(n);return}else if(_B(o)){r=Rm.parse(e,o);return}}var A=km(e,n);a.push(A)}),{angle:r,stops:a,type:1}},jp=function(e,t){var r=_s(180),a=[];return bo(t).forEach(function(n,s){if(s===0){var o=n[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=CB(n);return}else if(_B(o)){r=(Rm.parse(e,o)+_s(270))%_s(360);return}}var A=km(e,n);a.push(A)}),{angle:r,stops:a,type:1}},jq=function(e,t){var r=_s(180),a=[],n=1,s=0,o=3,A=[];return bo(t).forEach(function(l,c){var d=l[0];if(c===0){if(Gr(d)&&d.value==="linear"){n=1;return}else if(Gr(d)&&d.value==="radial"){n=2;return}}if(d.type===18){if(d.name==="from"){var f=YA.parse(e,d.values[0]);a.push({stop:Rn,color:f})}else if(d.name==="to"){var f=YA.parse(e,d.values[0]);a.push({stop:zA,color:f})}else if(d.name==="color-stop"){var p=d.values.filter(Gd);if(p.length===2){var f=YA.parse(e,p[1]),u=p[0];Zd(u)&&a.push({stop:{type:16,number:u.number*100,flags:u.flags},color:f})}}}}),n===1?{angle:(r+_s(180))%_s(360),stops:a,type:n}:{size:o,shape:s,stops:a,position:A,type:n}},BB="closest-side",SB="farthest-side",TB="closest-corner",OB="farthest-corner",IB="circle",NB="ellipse",FB="cover",RB="contain",Lq=function(e,t){var r=0,a=3,n=[],s=[];return bo(t).forEach(function(o,A){var l=!0;if(A===0){var c=!1;l=o.reduce(function(f,p){if(c)if(Gr(p))switch(p.value){case"center":return s.push(ky),f;case"top":case"left":return s.push(Rn),f;case"right":case"bottom":return s.push(zA),f}else(Ja(p)||dl(p))&&s.push(p);else if(Gr(p))switch(p.value){case IB:return r=0,!1;case NB:return r=1,!1;case"at":return c=!0,!1;case BB:return a=0,!1;case FB:case SB:return a=1,!1;case RB:case TB:return a=2,!1;case OB:return a=3,!1}else if(dl(p)||Ja(p))return Array.isArray(a)||(a=[]),a.push(p),!1;return f},l)}if(l){var d=km(e,o);n.push(d)}}),{size:a,shape:r,stops:n,position:s,type:2}},Lp=function(e,t){var r=0,a=3,n=[],s=[];return bo(t).forEach(function(o,A){var l=!0;if(A===0?l=o.reduce(function(d,f){if(Gr(f))switch(f.value){case"center":return s.push(ky),!1;case"top":case"left":return s.push(Rn),!1;case"right":case"bottom":return s.push(zA),!1}else if(Ja(f)||dl(f))return s.push(f),!1;return d},l):A===1&&(l=o.reduce(function(d,f){if(Gr(f))switch(f.value){case IB:return r=0,!1;case NB:return r=1,!1;case RB:case BB:return a=0,!1;case SB:return a=1,!1;case TB:return a=2,!1;case FB:case OB:return a=3,!1}else if(dl(f)||Ja(f))return Array.isArray(a)||(a=[]),a.push(f),!1;return d},l)),l){var c=km(e,o);n.push(c)}}),{size:a,shape:r,stops:n,position:s,type:2}},Uq=function(e){return e.type===1},Mq=function(e){return e.type===2},Dy={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var a=kB[t.name];if(typeof a>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return a(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Pq(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!kB[e.name])}var kB={"linear-gradient":Dq,"-moz-linear-gradient":jp,"-ms-linear-gradient":jp,"-o-linear-gradient":jp,"-webkit-linear-gradient":jp,"radial-gradient":Lq,"-moz-radial-gradient":Lp,"-ms-radial-gradient":Lp,"-o-radial-gradient":Lp,"-webkit-radial-gradient":Lp,"-webkit-gradient":jq},Qq={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(a){return Gd(a)&&Pq(a)}).map(function(a){return Dy.parse(e,a)})}},qq={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Gr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Kq={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return bo(t).map(function(r){return r.filter(Ja)}).map(yB)}},Hq={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return bo(t).map(function(r){return r.filter(Gr).map(function(a){return a.value}).join(" ")}).map(Gq)}},Gq=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},jd;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(jd||(jd={}));var zq={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return bo(t).map(function(r){return r.filter(Vq)})}},Vq=function(e){return Gr(e)||Ja(e)},Dm=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},$q=Dm("top"),Yq=Dm("right"),Wq=Dm("bottom"),Xq=Dm("left"),jm=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return yB(r.filter(Ja))}}},Jq=jm("top-left"),Zq=jm("top-right"),eK=jm("bottom-right"),tK=jm("bottom-left"),Lm=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},rK=Lm("top"),aK=Lm("right"),nK=Lm("bottom"),iK=Lm("left"),Um=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return h0(r)?r.number:0}}},sK=Um("top"),oK=Um("right"),AK=Um("bottom"),lK=Um("left"),cK={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},dK={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},uK={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Gr).reduce(function(r,a){return r|fK(a.value)},0)}},fK=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},pK={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},hK={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},zh;(function(e){e.NORMAL="normal",e.STRICT="strict"})(zh||(zh={}));var mK={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return zh.STRICT;case"normal":default:return zh.NORMAL}}},gK={name:"line-height",initialValue:"normal",prefix:!1,type:4},Jw=function(e,t){return Gr(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Ja(e)?aa(e,t):t},xK={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:Dy.parse(e,t)}},yK={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},a2={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Mm=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},vK=Mm("top"),wK=Mm("right"),EK=Mm("bottom"),bK=Mm("left"),_K={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Gr).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},CK={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},Pm=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},BK=Pm("top"),SK=Pm("right"),TK=Pm("bottom"),OK=Pm("left"),IK={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},NK={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},FK={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&r2(t[0],"none")?[]:bo(t).map(function(r){for(var a={color:Jo.TRANSPARENT,offsetX:Rn,offsetY:Rn,blur:Rn},n=0,s=0;s<r.length;s++){var o=r[s];dl(o)?(n===0?a.offsetX=o:n===1?a.offsetY=o:a.blur=o,n++):a.color=YA.parse(e,o)}return a})}},RK={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},kK={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=LK[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},DK=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},jK=function(e){var t=e.filter(function(l){return l.type===17}).map(function(l){return l.number}),r=t[0],a=t[1];t[2],t[3];var n=t[4],s=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],A=t[13];return t[14],t[15],t.length===16?[r,a,n,s,o,A]:null},LK={matrix:DK,matrix3d:jK},Zw={type:16,number:50,flags:p0},UK=[Zw,Zw],MK={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(Ja);return r.length!==2?UK:[r[0],r[1]]}},PK={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},wf;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(wf||(wf={}));var QK={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return wf.BREAK_ALL;case"keep-all":return wf.KEEP_ALL;case"normal":default:return wf.NORMAL}}},qK={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(Zd(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},DB={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},KK={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Zd(t)?t.number:1}},HK={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},GK={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Gr).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},zK={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],a=[];return t.forEach(function(n){switch(n.type){case 20:case 0:r.push(n.value);break;case 17:r.push(n.number.toString());break;case 4:a.push(r.join(" ")),r.length=0;break}}),r.length&&a.push(r.join(" ")),a.map(function(n){return n.indexOf(" ")===-1?n:"'"+n+"'"})}},VK={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},$K={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(Zd(t))return t.number;if(Gr(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},YK={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Gr).map(function(r){return r.value})}},WK={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},nn=function(e,t){return(e&t)!==0},XK={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},JK={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var a=[],n=t.filter(xB),s=0;s<n.length;s++){var o=n[s],A=n[s+1];if(o.type===20){var l=A&&Zd(A)?A.number:1;a.push({counter:o.value,increment:l})}}return a}},ZK={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],a=t.filter(xB),n=0;n<a.length;n++){var s=a[n],o=a[n+1];if(Gr(s)&&s.value!=="none"){var A=o&&Zd(o)?o.number:0;r.push({counter:s.value,reset:A})}}return r}},eH={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(h0).map(function(r){return DB.parse(e,r)})}},tH={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var a=[],n=t.filter(Sq);if(n.length%2!==0)return null;for(var s=0;s<n.length;s+=2){var o=n[s].value,A=n[s+1].value;a.push({open:o,close:A})}return a}},eE=function(e,t,r){if(!e)return"";var a=e[Math.min(t,e.length-1)];return a?r?a.open:a.close:""},rH={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&r2(t[0],"none")?[]:bo(t).map(function(r){for(var a={color:255,offsetX:Rn,offsetY:Rn,blur:Rn,spread:Rn,inset:!1},n=0,s=0;s<r.length;s++){var o=r[s];r2(o,"inset")?a.inset=!0:dl(o)?(n===0?a.offsetX=o:n===1?a.offsetY=o:n===2?a.blur=o:a.spread=o,n++):a.color=YA.parse(e,o)}return a})}},aH={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],a=[];return t.filter(Gr).forEach(function(n){switch(n.value){case"stroke":a.push(1);break;case"fill":a.push(0);break;case"markers":a.push(2);break}}),r.forEach(function(n){a.indexOf(n)===-1&&a.push(n)}),a}},nH={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},iH={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return h0(t)?t.number:0}},sH=function(){function e(t,r){var a,n;this.animationDuration=Ot(t,eH,r.animationDuration),this.backgroundClip=Ot(t,Iq,r.backgroundClip),this.backgroundColor=Ot(t,Nq,r.backgroundColor),this.backgroundImage=Ot(t,Qq,r.backgroundImage),this.backgroundOrigin=Ot(t,qq,r.backgroundOrigin),this.backgroundPosition=Ot(t,Kq,r.backgroundPosition),this.backgroundRepeat=Ot(t,Hq,r.backgroundRepeat),this.backgroundSize=Ot(t,zq,r.backgroundSize),this.borderTopColor=Ot(t,$q,r.borderTopColor),this.borderRightColor=Ot(t,Yq,r.borderRightColor),this.borderBottomColor=Ot(t,Wq,r.borderBottomColor),this.borderLeftColor=Ot(t,Xq,r.borderLeftColor),this.borderTopLeftRadius=Ot(t,Jq,r.borderTopLeftRadius),this.borderTopRightRadius=Ot(t,Zq,r.borderTopRightRadius),this.borderBottomRightRadius=Ot(t,eK,r.borderBottomRightRadius),this.borderBottomLeftRadius=Ot(t,tK,r.borderBottomLeftRadius),this.borderTopStyle=Ot(t,rK,r.borderTopStyle),this.borderRightStyle=Ot(t,aK,r.borderRightStyle),this.borderBottomStyle=Ot(t,nK,r.borderBottomStyle),this.borderLeftStyle=Ot(t,iK,r.borderLeftStyle),this.borderTopWidth=Ot(t,sK,r.borderTopWidth),this.borderRightWidth=Ot(t,oK,r.borderRightWidth),this.borderBottomWidth=Ot(t,AK,r.borderBottomWidth),this.borderLeftWidth=Ot(t,lK,r.borderLeftWidth),this.boxShadow=Ot(t,rH,r.boxShadow),this.color=Ot(t,cK,r.color),this.direction=Ot(t,dK,r.direction),this.display=Ot(t,uK,r.display),this.float=Ot(t,pK,r.cssFloat),this.fontFamily=Ot(t,zK,r.fontFamily),this.fontSize=Ot(t,VK,r.fontSize),this.fontStyle=Ot(t,WK,r.fontStyle),this.fontVariant=Ot(t,YK,r.fontVariant),this.fontWeight=Ot(t,$K,r.fontWeight),this.letterSpacing=Ot(t,hK,r.letterSpacing),this.lineBreak=Ot(t,mK,r.lineBreak),this.lineHeight=Ot(t,gK,r.lineHeight),this.listStyleImage=Ot(t,xK,r.listStyleImage),this.listStylePosition=Ot(t,yK,r.listStylePosition),this.listStyleType=Ot(t,a2,r.listStyleType),this.marginTop=Ot(t,vK,r.marginTop),this.marginRight=Ot(t,wK,r.marginRight),this.marginBottom=Ot(t,EK,r.marginBottom),this.marginLeft=Ot(t,bK,r.marginLeft),this.opacity=Ot(t,KK,r.opacity);var s=Ot(t,_K,r.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Ot(t,CK,r.overflowWrap),this.paddingTop=Ot(t,BK,r.paddingTop),this.paddingRight=Ot(t,SK,r.paddingRight),this.paddingBottom=Ot(t,TK,r.paddingBottom),this.paddingLeft=Ot(t,OK,r.paddingLeft),this.paintOrder=Ot(t,aH,r.paintOrder),this.position=Ot(t,NK,r.position),this.textAlign=Ot(t,IK,r.textAlign),this.textDecorationColor=Ot(t,HK,(a=r.textDecorationColor)!==null&&a!==void 0?a:r.color),this.textDecorationLine=Ot(t,GK,(n=r.textDecorationLine)!==null&&n!==void 0?n:r.textDecoration),this.textShadow=Ot(t,FK,r.textShadow),this.textTransform=Ot(t,RK,r.textTransform),this.transform=Ot(t,kK,r.transform),this.transformOrigin=Ot(t,MK,r.transformOrigin),this.visibility=Ot(t,PK,r.visibility),this.webkitTextStrokeColor=Ot(t,nH,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ot(t,iH,r.webkitTextStrokeWidth),this.wordBreak=Ot(t,QK,r.wordBreak),this.zIndex=Ot(t,qK,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return WA(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return nn(this.display,4)||nn(this.display,33554432)||nn(this.display,268435456)||nn(this.display,536870912)||nn(this.display,67108864)||nn(this.display,134217728)},e}(),oH=function(){function e(t,r){this.content=Ot(t,XK,r.content),this.quotes=Ot(t,tH,r.quotes)}return e}(),tE=function(){function e(t,r){this.counterIncrement=Ot(t,JK,r.counterIncrement),this.counterReset=Ot(t,ZK,r.counterReset)}return e}(),Ot=function(e,t,r){var a=new mB,n=r!==null&&typeof r<"u"?r.toString():t.initialValue;a.write(n);var s=new gB(a.read());switch(t.type){case 2:var o=s.parseComponentValue();return t.parse(e,Gr(o)?o.value:t.initialValue);case 0:return t.parse(e,s.parseComponentValue());case 1:return t.parse(e,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(t.format){case"angle":return Rm.parse(e,s.parseComponentValue());case"color":return YA.parse(e,s.parseComponentValue());case"image":return Dy.parse(e,s.parseComponentValue());case"length":var A=s.parseComponentValue();return dl(A)?A:Rn;case"length-percentage":var l=s.parseComponentValue();return Ja(l)?l:Rn;case"time":return DB.parse(e,s.parseComponentValue())}break}},AH="data-html2canvas-debug",lH=function(e){var t=e.getAttribute(AH);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},n2=function(e,t){var r=lH(e);return r===1||t===r},_o=function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,n2(r,3))debugger;this.styles=new sH(t,window.getComputedStyle(r,null)),o2(r)&&(this.styles.animationDuration.some(function(a){return a>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=Nm(this.context,r),n2(r,4)&&(this.flags|=16)}return e}(),cH="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",rE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Up=0;Up<rE.length;Up++)Zu[rE.charCodeAt(Up)]=Up;var dH=function(e){var t=e.length*.75,r=e.length,a,n=0,s,o,A,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),d=Array.isArray(c)?c:new Uint8Array(c);for(a=0;a<r;a+=4)s=Zu[e.charCodeAt(a)],o=Zu[e.charCodeAt(a+1)],A=Zu[e.charCodeAt(a+2)],l=Zu[e.charCodeAt(a+3)],d[n++]=s<<2|o>>4,d[n++]=(o&15)<<4|A>>2,d[n++]=(A&3)<<6|l&63;return c},uH=function(e){for(var t=e.length,r=[],a=0;a<t;a+=2)r.push(e[a+1]<<8|e[a]);return r},fH=function(e){for(var t=e.length,r=[],a=0;a<t;a+=4)r.push(e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a]);return r},ec=5,jy=11,d1=2,pH=jy-ec,jB=65536>>ec,hH=1<<ec,u1=hH-1,mH=1024>>ec,gH=jB+mH,xH=gH,yH=32,vH=xH+yH,wH=65536>>jy,EH=1<<pH,bH=EH-1,aE=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},_H=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},CH=function(e,t){var r=dH(e),a=Array.isArray(r)?fH(r):new Uint32Array(r),n=Array.isArray(r)?uH(r):new Uint16Array(r),s=24,o=aE(n,s/2,a[4]/2),A=a[5]===2?aE(n,(s+a[4])/2):_H(a,Math.ceil((s+a[4])/4));return new BH(a[0],a[1],a[2],a[3],o,A)},BH=function(){function e(t,r,a,n,s,o){this.initialValue=t,this.errorValue=r,this.highStart=a,this.highValueIndex=n,this.index=s,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>ec],r=(r<<d1)+(t&u1),this.data[r];if(t<=65535)return r=this.index[jB+(t-55296>>ec)],r=(r<<d1)+(t&u1),this.data[r];if(t<this.highStart)return r=vH-wH+(t>>jy),r=this.index[r],r+=t>>ec&bH,r=this.index[r],r=(r<<d1)+(t&u1),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),nE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",SH=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Mp=0;Mp<nE.length;Mp++)SH[nE.charCodeAt(Mp)]=Mp;var TH=1,f1=2,p1=3,iE=4,sE=5,OH=7,oE=8,h1=9,m1=10,AE=11,lE=12,cE=13,dE=14,g1=15,IH=function(e){for(var t=[],r=0,a=e.length;r<a;){var n=e.charCodeAt(r++);if(n>=55296&&n<=56319&&r<a){var s=e.charCodeAt(r++);(s&64512)===56320?t.push(((n&1023)<<10)+(s&1023)+65536):(t.push(n),r--)}else t.push(n)}return t},NH=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var a=[],n=-1,s="";++n<r;){var o=e[n];o<=65535?a.push(o):(o-=65536,a.push((o>>10)+55296,o%1024+56320)),(n+1===r||a.length>16384)&&(s+=String.fromCharCode.apply(String,a),a.length=0)}return s},FH=CH(cH),vs="×",x1="÷",RH=function(e){return FH.get(e)},kH=function(e,t,r){var a=r-2,n=t[a],s=t[r-1],o=t[r];if(s===f1&&o===p1)return vs;if(s===f1||s===p1||s===iE||o===f1||o===p1||o===iE)return x1;if(s===oE&&[oE,h1,AE,lE].indexOf(o)!==-1||(s===AE||s===h1)&&(o===h1||o===m1)||(s===lE||s===m1)&&o===m1||o===cE||o===sE||o===OH||s===TH)return vs;if(s===cE&&o===dE){for(;n===sE;)n=t[--a];if(n===dE)return vs}if(s===g1&&o===g1){for(var A=0;n===g1;)A++,n=t[--a];if(A%2===0)return vs}return x1},DH=function(e){var t=IH(e),r=t.length,a=0,n=0,s=t.map(RH);return{next:function(){if(a>=r)return{done:!0,value:null};for(var o=vs;a<r&&(o=kH(t,s,++a))===vs;);if(o!==vs||a===r){var A=NH.apply(null,t.slice(n,a));return n=a,{value:A,done:!1}}return{done:!0,value:null}}}},jH=function(e){for(var t=DH(e),r=[],a;!(a=t.next()).done;)a.value&&r.push(a.value.slice());return r},LH=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var a=e.createElement("boundtest");a.style.height=t+"px",a.style.display="block",e.body.appendChild(a),r.selectNode(a);var n=r.getBoundingClientRect(),s=Math.round(n.height);if(e.body.removeChild(a),s===t)return!0}}return!1},UH=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var a=t.firstChild,n=Fm(a.data).map(function(l){return ja(l)}),s=0,o={},A=n.every(function(l,c){r.setStart(a,s),r.setEnd(a,s+l.length);var d=r.getBoundingClientRect();s+=l.length;var f=d.x>o.x||d.y>o.y;return o=d,c===0?!0:f});return e.body.removeChild(t),A},MH=function(){return typeof new Image().crossOrigin<"u"},PH=function(){return typeof new XMLHttpRequest().responseType=="string"},QH=function(e){var t=new Image,r=e.createElement("canvas"),a=r.getContext("2d");if(!a)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{a.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},uE=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},qH=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var a=t.getContext("2d");if(!a)return Promise.reject(!1);a.fillStyle="rgb(0, 255, 0)",a.fillRect(0,0,r,r);var n=new Image,s=t.toDataURL();n.src=s;var o=i2(r,r,0,0,n);return a.fillStyle="red",a.fillRect(0,0,r,r),fE(o).then(function(A){a.drawImage(A,0,0);var l=a.getImageData(0,0,r,r).data;a.fillStyle="red",a.fillRect(0,0,r,r);var c=e.createElement("div");return c.style.backgroundImage="url("+s+")",c.style.height=r+"px",uE(l)?fE(i2(r,r,0,0,c)):Promise.reject(!1)}).then(function(A){return a.drawImage(A,0,0),uE(a.getImageData(0,0,r,r).data)}).catch(function(){return!1})},i2=function(e,t,r,a,n){var s="http://www.w3.org/2000/svg",o=document.createElementNS(s,"svg"),A=document.createElementNS(s,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),A.setAttributeNS(null,"width","100%"),A.setAttributeNS(null,"height","100%"),A.setAttributeNS(null,"x",r.toString()),A.setAttributeNS(null,"y",a.toString()),A.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(A),A.appendChild(n),o},fE=function(e){return new Promise(function(t,r){var a=new Image;a.onload=function(){return t(a)},a.onerror=r,a.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Sn={get SUPPORT_RANGE_BOUNDS(){var e=LH(document);return Object.defineProperty(Sn,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Sn.SUPPORT_RANGE_BOUNDS&&UH(document);return Object.defineProperty(Sn,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=QH(document);return Object.defineProperty(Sn,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?qH(document):Promise.resolve(!1);return Object.defineProperty(Sn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=MH();return Object.defineProperty(Sn,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=PH();return Object.defineProperty(Sn,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Sn,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Sn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Ef=function(){function e(t,r){this.text=t,this.bounds=r}return e}(),KH=function(e,t,r,a){var n=zH(t,r),s=[],o=0;return n.forEach(function(A){if(r.textDecorationLine.length||A.trim().length>0)if(Sn.SUPPORT_RANGE_BOUNDS){var l=pE(a,o,A.length).getClientRects();if(l.length>1){var c=Ly(A),d=0;c.forEach(function(p){s.push(new Ef(p,aA.fromDOMRectList(e,pE(a,d+o,p.length).getClientRects()))),d+=p.length})}else s.push(new Ef(A,aA.fromDOMRectList(e,l)))}else{var f=a.splitText(A.length);s.push(new Ef(A,HH(e,a))),a=f}else Sn.SUPPORT_RANGE_BOUNDS||(a=a.splitText(A.length));o+=A.length}),s},HH=function(e,t){var r=t.ownerDocument;if(r){var a=r.createElement("html2canvaswrapper");a.appendChild(t.cloneNode(!0));var n=t.parentNode;if(n){n.replaceChild(a,t);var s=Nm(e,a);return a.firstChild&&n.replaceChild(a.firstChild,a),s}}return aA.EMPTY},pE=function(e,t,r){var a=e.ownerDocument;if(!a)throw new Error("Node has no owner document");var n=a.createRange();return n.setStart(e,t),n.setEnd(e,t+r),n},Ly=function(e){if(Sn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return jH(e)},GH=function(e,t){if(Sn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(a){return a.segment})}return $H(e,t)},zH=function(e,t){return t.letterSpacing!==0?Ly(e):GH(e,t)},VH=[32,160,4961,65792,65793,4153,4241],$H=function(e,t){for(var r=wQ(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),a=[],n,s=function(){if(n.value){var o=n.value.slice(),A=Fm(o),l="";A.forEach(function(c){VH.indexOf(c)===-1?l+=ja(c):(l.length&&a.push(l),a.push(ja(c)),l="")}),l.length&&a.push(l)}};!(n=r.next()).done;)s();return a},YH=function(){function e(t,r,a){this.text=WH(r.data,a.textTransform),this.textBounds=KH(t,this.text,a,r)}return e}(),WH=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(XH,JH);case 2:return e.toUpperCase();default:return e}},XH=/(^|\s|:|-|\(|\))([a-z])/g,JH=function(e,t,r){return e.length>0?t+r.toUpperCase():e},LB=function(e){Xs(t,e);function t(r,a){var n=e.call(this,r,a)||this;return n.src=a.currentSrc||a.src,n.intrinsicWidth=a.naturalWidth,n.intrinsicHeight=a.naturalHeight,n.context.cache.addImage(n.src),n}return t}(_o),UB=function(e){Xs(t,e);function t(r,a){var n=e.call(this,r,a)||this;return n.canvas=a,n.intrinsicWidth=a.width,n.intrinsicHeight=a.height,n}return t}(_o),MB=function(e){Xs(t,e);function t(r,a){var n=e.call(this,r,a)||this,s=new XMLSerializer,o=Nm(r,a);return a.setAttribute("width",o.width+"px"),a.setAttribute("height",o.height+"px"),n.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(a)),n.intrinsicWidth=a.width.baseVal.value,n.intrinsicHeight=a.height.baseVal.value,n.context.cache.addImage(n.svg),n}return t}(_o),PB=function(e){Xs(t,e);function t(r,a){var n=e.call(this,r,a)||this;return n.value=a.value,n}return t}(_o),s2=function(e){Xs(t,e);function t(r,a){var n=e.call(this,r,a)||this;return n.start=a.start,n.reversed=typeof a.reversed=="boolean"&&a.reversed===!0,n}return t}(_o),ZH=[{type:15,flags:0,unit:"px",number:3}],eG=[{type:16,flags:0,number:50}],tG=function(e){return e.width>e.height?new aA(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new aA(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},rG=function(e){var t=e.type===aG?new Array(e.value.length+1).join("•"):e.value;return t.length===0?e.placeholder||"":t},Vh="checkbox",$h="radio",aG="password",hE=707406591,Uy=function(e){Xs(t,e);function t(r,a){var n=e.call(this,r,a)||this;switch(n.type=a.type.toLowerCase(),n.checked=a.checked,n.value=rG(a),(n.type===Vh||n.type===$h)&&(n.styles.backgroundColor=3739148031,n.styles.borderTopColor=n.styles.borderRightColor=n.styles.borderBottomColor=n.styles.borderLeftColor=2779096575,n.styles.borderTopWidth=n.styles.borderRightWidth=n.styles.borderBottomWidth=n.styles.borderLeftWidth=1,n.styles.borderTopStyle=n.styles.borderRightStyle=n.styles.borderBottomStyle=n.styles.borderLeftStyle=1,n.styles.backgroundClip=[0],n.styles.backgroundOrigin=[0],n.bounds=tG(n.bounds)),n.type){case Vh:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=ZH;break;case $h:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=eG;break}return n}return t}(_o),QB=function(e){Xs(t,e);function t(r,a){var n=e.call(this,r,a)||this,s=a.options[a.selectedIndex||0];return n.value=s&&s.text||"",n}return t}(_o),qB=function(e){Xs(t,e);function t(r,a){var n=e.call(this,r,a)||this;return n.value=a.value,n}return t}(_o),KB=function(e){Xs(t,e);function t(r,a){var n=e.call(this,r,a)||this;n.src=a.src,n.width=parseInt(a.width,10)||0,n.height=parseInt(a.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(a.contentWindow&&a.contentWindow.document&&a.contentWindow.document.documentElement){n.tree=GB(r,a.contentWindow.document.documentElement);var s=a.contentWindow.document.documentElement?vf(r,getComputedStyle(a.contentWindow.document.documentElement).backgroundColor):Jo.TRANSPARENT,o=a.contentWindow.document.body?vf(r,getComputedStyle(a.contentWindow.document.body).backgroundColor):Jo.TRANSPARENT;n.backgroundColor=WA(s)?WA(o)?n.styles.backgroundColor:o:s}}catch{}return n}return t}(_o),nG=["OL","UL","MENU"],dh=function(e,t,r,a){for(var n=t.firstChild,s=void 0;n;n=s)if(s=n.nextSibling,zB(n)&&n.data.trim().length>0)r.textNodes.push(new YH(e,n,r.styles));else if(_d(n))if(WB(n)&&n.assignedNodes)n.assignedNodes().forEach(function(A){return dh(e,A,r,a)});else{var o=HB(e,n);o.styles.isVisible()&&(iG(n,o,a)?o.flags|=4:sG(o.styles)&&(o.flags|=2),nG.indexOf(n.tagName)!==-1&&(o.flags|=8),r.elements.push(o),n.slot,n.shadowRoot?dh(e,n.shadowRoot,o,a):!Yh(n)&&!VB(n)&&!Wh(n)&&dh(e,n,o,a))}},HB=function(e,t){return A2(t)?new LB(e,t):$B(t)?new UB(e,t):VB(t)?new MB(e,t):oG(t)?new PB(e,t):AG(t)?new s2(e,t):lG(t)?new Uy(e,t):Wh(t)?new QB(e,t):Yh(t)?new qB(e,t):YB(t)?new KB(e,t):new _o(e,t)},GB=function(e,t){var r=HB(e,t);return r.flags|=4,dh(e,t,r,r),r},iG=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||My(e)&&r.styles.isTransparent()},sG=function(e){return e.isPositioned()||e.isFloating()},zB=function(e){return e.nodeType===Node.TEXT_NODE},_d=function(e){return e.nodeType===Node.ELEMENT_NODE},o2=function(e){return _d(e)&&typeof e.style<"u"&&!uh(e)},uh=function(e){return typeof e.className=="object"},oG=function(e){return e.tagName==="LI"},AG=function(e){return e.tagName==="OL"},lG=function(e){return e.tagName==="INPUT"},cG=function(e){return e.tagName==="HTML"},VB=function(e){return e.tagName==="svg"},My=function(e){return e.tagName==="BODY"},$B=function(e){return e.tagName==="CANVAS"},mE=function(e){return e.tagName==="VIDEO"},A2=function(e){return e.tagName==="IMG"},YB=function(e){return e.tagName==="IFRAME"},gE=function(e){return e.tagName==="STYLE"},dG=function(e){return e.tagName==="SCRIPT"},Yh=function(e){return e.tagName==="TEXTAREA"},Wh=function(e){return e.tagName==="SELECT"},WB=function(e){return e.tagName==="SLOT"},xE=function(e){return e.tagName.indexOf("-")>0},uG=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(a){return r.counters[a].pop()})},e.prototype.parse=function(t){var r=this,a=t.counterIncrement,n=t.counterReset,s=!0;a!==null&&a.forEach(function(A){var l=r.counters[A.counter];l&&A.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=A.increment)});var o=[];return s&&n.forEach(function(A){var l=r.counters[A.counter];o.push(A.counter),l||(l=r.counters[A.counter]=[]),l.push(A.reset)}),o},e}(),yE={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},vE={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},fG={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},pG={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},rd=function(e,t,r,a,n,s){return e<t||e>r?Jf(e,n,s.length>0):a.integers.reduce(function(o,A,l){for(;e>=A;)e-=A,o+=a.values[l];return o},"")+s},XB=function(e,t,r,a){var n="";do r||e--,n=a(e)+n,e/=t;while(e*t>=t);return n},ka=function(e,t,r,a,n){var s=r-t+1;return(e<0?"-":"")+(XB(Math.abs(e),s,a,function(o){return ja(Math.floor(o%s)+t)})+n)},Tl=function(e,t,r){r===void 0&&(r=". ");var a=t.length;return XB(Math.abs(e),a,!1,function(n){return t[Math.floor(n%a)]})+r},xd=1,IA=2,NA=4,ef=8,Po=function(e,t,r,a,n,s){if(e<-9999||e>9999)return Jf(e,4,n.length>0);var o=Math.abs(e),A=n;if(o===0)return t[0]+A;for(var l=0;o>0&&l<=4;l++){var c=o%10;c===0&&nn(s,xd)&&A!==""?A=t[c]+A:c>1||c===1&&l===0||c===1&&l===1&&nn(s,IA)||c===1&&l===1&&nn(s,NA)&&e>100||c===1&&l>1&&nn(s,ef)?A=t[c]+(l>0?r[l-1]:"")+A:c===1&&l>0&&(A=r[l-1]+A),o=Math.floor(o/10)}return(e<0?a:"")+A},wE="十百千萬",EE="拾佰仟萬",bE="マイナス",y1="마이너스",Jf=function(e,t,r){var a=r?". ":"",n=r?"、":"",s=r?", ":"",o=r?" ":"";switch(t){case 0:return"•"+o;case 1:return"◦"+o;case 2:return"◾"+o;case 5:var A=ka(e,48,57,!0,a);return A.length<4?"0"+A:A;case 4:return Tl(e,"〇一二三四五六七八九",n);case 6:return rd(e,1,3999,yE,3,a).toLowerCase();case 7:return rd(e,1,3999,yE,3,a);case 8:return ka(e,945,969,!1,a);case 9:return ka(e,97,122,!1,a);case 10:return ka(e,65,90,!1,a);case 11:return ka(e,1632,1641,!0,a);case 12:case 49:return rd(e,1,9999,vE,3,a);case 35:return rd(e,1,9999,vE,3,a).toLowerCase();case 13:return ka(e,2534,2543,!0,a);case 14:case 30:return ka(e,6112,6121,!0,a);case 15:return Tl(e,"子丑寅卯辰巳午未申酉戌亥",n);case 16:return Tl(e,"甲乙丙丁戊己庚辛壬癸",n);case 17:case 48:return Po(e,"零一二三四五六七八九",wE,"負",n,IA|NA|ef);case 47:return Po(e,"零壹貳參肆伍陸柒捌玖",EE,"負",n,xd|IA|NA|ef);case 42:return Po(e,"零一二三四五六七八九",wE,"负",n,IA|NA|ef);case 41:return Po(e,"零壹贰叁肆伍陆柒捌玖",EE,"负",n,xd|IA|NA|ef);case 26:return Po(e,"〇一二三四五六七八九","十百千万",bE,n,0);case 25:return Po(e,"零壱弐参四伍六七八九","拾百千万",bE,n,xd|IA|NA);case 31:return Po(e,"영일이삼사오육칠팔구","십백천만",y1,s,xd|IA|NA);case 33:return Po(e,"零一二三四五六七八九","十百千萬",y1,s,0);case 32:return Po(e,"零壹貳參四五六七八九","拾百千",y1,s,xd|IA|NA);case 18:return ka(e,2406,2415,!0,a);case 20:return rd(e,1,19999,pG,3,a);case 21:return ka(e,2790,2799,!0,a);case 22:return ka(e,2662,2671,!0,a);case 22:return rd(e,1,10999,fG,3,a);case 23:return Tl(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return Tl(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return ka(e,3302,3311,!0,a);case 28:return Tl(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",n);case 29:return Tl(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",n);case 34:return ka(e,3792,3801,!0,a);case 37:return ka(e,6160,6169,!0,a);case 38:return ka(e,4160,4169,!0,a);case 39:return ka(e,2918,2927,!0,a);case 40:return ka(e,1776,1785,!0,a);case 43:return ka(e,3046,3055,!0,a);case 44:return ka(e,3174,3183,!0,a);case 45:return ka(e,3664,3673,!0,a);case 46:return ka(e,3872,3881,!0,a);case 3:default:return ka(e,48,57,!0,a)}},JB="data-html2canvas-ignore",_E=function(){function e(t,r,a){if(this.context=t,this.options=a,this.scrolledElements=[],this.referenceElement=r,this.counters=new uG,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var a=this,n=hG(t,r);if(!n.contentWindow)return Promise.reject("Unable to find iframe window");var s=t.defaultView.pageXOffset,o=t.defaultView.pageYOffset,A=n.contentWindow,l=A.document,c=xG(n).then(function(){return di(a,void 0,void 0,function(){var d,f;return qn(this,function(p){switch(p.label){case 0:return this.scrolledElements.forEach(EG),A&&(A.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(A.scrollY!==r.top||A.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(A.scrollX-r.left,A.scrollY-r.top,0,0))),d=this.options.onclone,f=this.clonedReferenceElement,typeof f>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:p.sent(),p.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,gG(l)]:[3,4];case 3:p.sent(),p.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(l,f)}).then(function(){return n})]:[2,n]}})})});return l.open(),l.write(vG(document.doctype)+"<html></html>"),wG(this.referenceElement.ownerDocument,s,o),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},e.prototype.createElementClone=function(t){if(n2(t,2))debugger;if($B(t))return this.createCanvasClone(t);if(mE(t))return this.createVideoClone(t);if(gE(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return A2(r)&&(A2(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),xE(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return v1(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var a=[].slice.call(r.cssRules,0).reduce(function(s,o){return o&&typeof o.cssText=="string"?s+o.cssText:s},""),n=t.cloneNode(!1);return n.textContent=a,n}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var a=t.ownerDocument.createElement("img");try{return a.src=t.toDataURL(),a}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var n=t.cloneNode(!1);try{n.width=t.width,n.height=t.height;var s=t.getContext("2d"),o=n.getContext("2d");if(o)if(!this.options.allowTaint&&s)o.putImageData(s.getImageData(0,0,t.width,t.height),0,0);else{var A=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(A){var l=A.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return n}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return n},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var a=r.getContext("2d");try{return a&&(a.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||a.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var n=t.ownerDocument.createElement("canvas");return n.width=t.offsetWidth,n.height=t.offsetHeight,n},e.prototype.appendChildNode=function(t,r,a){(!_d(r)||!dG(r)&&!r.hasAttribute(JB)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!_d(r)||!gE(r))&&t.appendChild(this.cloneNode(r,a))},e.prototype.cloneChildNodes=function(t,r,a){for(var n=this,s=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;s;s=s.nextSibling)if(_d(s)&&WB(s)&&typeof s.assignedNodes=="function"){var o=s.assignedNodes();o.length&&o.forEach(function(A){return n.appendChildNode(r,A,a)})}else this.appendChildNode(r,s,a)},e.prototype.cloneNode=function(t,r){if(zB(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var a=t.ownerDocument.defaultView;if(a&&_d(t)&&(o2(t)||uh(t))){var n=this.createElementClone(t);n.style.transitionProperty="none";var s=a.getComputedStyle(t),o=a.getComputedStyle(t,":before"),A=a.getComputedStyle(t,":after");this.referenceElement===t&&o2(n)&&(this.clonedReferenceElement=n),My(n)&&CG(n);var l=this.counters.parse(new tE(this.context,s)),c=this.resolvePseudoContent(t,n,o,bf.BEFORE);xE(t)&&(r=!0),mE(t)||this.cloneChildNodes(t,n,r),c&&n.insertBefore(c,n.firstChild);var d=this.resolvePseudoContent(t,n,A,bf.AFTER);return d&&n.appendChild(d),this.counters.pop(l),(s&&(this.options.copyStyles||uh(t))&&!YB(t)||r)&&v1(s,n),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([n,t.scrollLeft,t.scrollTop]),(Yh(t)||Wh(t))&&(Yh(n)||Wh(n))&&(n.value=t.value),n}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,a,n){var s=this;if(a){var o=a.content,A=r.ownerDocument;if(!(!A||!o||o==="none"||o==="-moz-alt-content"||a.display==="none")){this.counters.parse(new tE(this.context,a));var l=new oH(this.context,a),c=A.createElement("html2canvaspseudoelement");v1(a,c),l.content.forEach(function(f){if(f.type===0)c.appendChild(A.createTextNode(f.value));else if(f.type===22){var p=A.createElement("img");p.src=f.value,p.style.opacity="1",c.appendChild(p)}else if(f.type===18){if(f.name==="attr"){var u=f.values.filter(Gr);u.length&&c.appendChild(A.createTextNode(t.getAttribute(u[0].value)||""))}else if(f.name==="counter"){var g=f.values.filter(Gd),h=g[0],y=g[1];if(h&&Gr(h)){var x=s.counters.getCounterValue(h.value),v=y&&Gr(y)?a2.parse(s.context,y.value):3;c.appendChild(A.createTextNode(Jf(x,v,!1)))}}else if(f.name==="counters"){var E=f.values.filter(Gd),h=E[0],R=E[1],y=E[2];if(h&&Gr(h)){var b=s.counters.getCounterValues(h.value),T=y&&Gr(y)?a2.parse(s.context,y.value):3,_=R&&R.type===0?R.value:"",S=b.map(function(I){return Jf(I,T,!1)}).join(_);c.appendChild(A.createTextNode(S))}}}else if(f.type===20)switch(f.value){case"open-quote":c.appendChild(A.createTextNode(eE(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":c.appendChild(A.createTextNode(eE(l.quotes,--s.quoteDepth,!1)));break;default:c.appendChild(A.createTextNode(f.value))}}),c.className=l2+" "+c2;var d=n===bf.BEFORE?" "+l2:" "+c2;return uh(r)?r.className.baseValue+=d:r.className+=d,c}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),bf;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(bf||(bf={}));var hG=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(JB,"true"),e.body.appendChild(r),r},mG=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},gG=function(e){return Promise.all([].slice.call(e.images,0).map(mG))},xG=function(e){return new Promise(function(t,r){var a=e.contentWindow;if(!a)return r("No window assigned for iframe");var n=a.document;a.onload=e.onload=function(){a.onload=e.onload=null;var s=setInterval(function(){n.body.childNodes.length>0&&n.readyState==="complete"&&(clearInterval(s),t(e))},50)}})},yG=["all","d","content"],v1=function(e,t){for(var r=e.length-1;r>=0;r--){var a=e.item(r);yG.indexOf(a)===-1&&t.style.setProperty(a,e.getPropertyValue(a))}return t},vG=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},wG=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},EG=function(e){var t=e[0],r=e[1],a=e[2];t.scrollLeft=r,t.scrollTop=a},bG=":before",_G=":after",l2="___html2canvas___pseudoelement_before",c2="___html2canvas___pseudoelement_after",CE=`{
    content: "" !important;
    display: none !important;
}`,CG=function(e){BG(e,"."+l2+bG+CE+`
         .`+c2+_G+CE)},BG=function(e,t){var r=e.ownerDocument;if(r){var a=r.createElement("style");a.textContent=t,e.appendChild(a)}},ZB=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),SG=function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(E1(t)||NG(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return di(this,void 0,void 0,function(){var r,a,n,s,o=this;return qn(this,function(A){switch(A.label){case 0:return r=ZB.isSameOrigin(t),a=!w1(t)&&this._options.useCORS===!0&&Sn.SUPPORT_CORS_IMAGES&&!r,n=!w1(t)&&!r&&!E1(t)&&typeof this._options.proxy=="string"&&Sn.SUPPORT_CORS_XHR&&!a,!r&&this._options.allowTaint===!1&&!w1(t)&&!E1(t)&&!n&&!a?[2]:(s=t,n?[4,this.proxy(s)]:[3,2]);case 1:s=A.sent(),A.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(l,c){var d=new Image;d.onload=function(){return l(d)},d.onerror=c,(FG(s)||a)&&(d.crossOrigin="anonymous"),d.src=s,d.complete===!0&&setTimeout(function(){return l(d)},500),o._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,A.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,a=this._options.proxy;if(!a)throw new Error("No proxy defined");var n=t.substring(0,256);return new Promise(function(s,o){var A=Sn.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(A==="text")s(l.response);else{var f=new FileReader;f.addEventListener("load",function(){return s(f.result)},!1),f.addEventListener("error",function(p){return o(p)},!1),f.readAsDataURL(l.response)}else o("Failed to proxy resource "+n+" with status code "+l.status)},l.onerror=o;var c=a.indexOf("?")>-1?"&":"?";if(l.open("GET",""+a+c+"url="+encodeURIComponent(t)+"&responseType="+A),A!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=A),r._options.imageTimeout){var d=r._options.imageTimeout;l.timeout=d,l.ontimeout=function(){return o("Timed out ("+d+"ms) proxying "+n)}}l.send()})},e}(),TG=/^data:image\/svg\+xml/i,OG=/^data:image\/.*;base64,/i,IG=/^data:image\/.*/i,NG=function(e){return Sn.SUPPORT_SVG_DRAWING||!RG(e)},w1=function(e){return IG.test(e)},FG=function(e){return OG.test(e)},E1=function(e){return e.substr(0,4)==="blob"},RG=function(e){return e.substr(-3).toLowerCase()==="svg"||TG.test(e)},Ct=function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),ad=function(e,t,r){return new Ct(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},Pp=function(){function e(t,r,a,n){this.type=1,this.start=t,this.startControl=r,this.endControl=a,this.end=n}return e.prototype.subdivide=function(t,r){var a=ad(this.start,this.startControl,t),n=ad(this.startControl,this.endControl,t),s=ad(this.endControl,this.end,t),o=ad(a,n,t),A=ad(n,s,t),l=ad(o,A,t);return r?new e(this.start,a,o,l):new e(l,A,s,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Es=function(e){return e.type===1},kG=function(){function e(t){var r=t.styles,a=t.bounds,n=Ju(r.borderTopLeftRadius,a.width,a.height),s=n[0],o=n[1],A=Ju(r.borderTopRightRadius,a.width,a.height),l=A[0],c=A[1],d=Ju(r.borderBottomRightRadius,a.width,a.height),f=d[0],p=d[1],u=Ju(r.borderBottomLeftRadius,a.width,a.height),g=u[0],h=u[1],y=[];y.push((s+l)/a.width),y.push((g+f)/a.width),y.push((o+h)/a.height),y.push((c+p)/a.height);var x=Math.max.apply(Math,y);x>1&&(s/=x,o/=x,l/=x,c/=x,f/=x,p/=x,g/=x,h/=x);var v=a.width-l,E=a.height-p,R=a.width-f,b=a.height-h,T=r.borderTopWidth,_=r.borderRightWidth,S=r.borderBottomWidth,O=r.borderLeftWidth,M=aa(r.paddingTop,t.bounds.width),I=aa(r.paddingRight,t.bounds.width),D=aa(r.paddingBottom,t.bounds.width),L=aa(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||o>0?ua(a.left+O/3,a.top+T/3,s-O/3,o-T/3,Rr.TOP_LEFT):new Ct(a.left+O/3,a.top+T/3),this.topRightBorderDoubleOuterBox=s>0||o>0?ua(a.left+v,a.top+T/3,l-_/3,c-T/3,Rr.TOP_RIGHT):new Ct(a.left+a.width-_/3,a.top+T/3),this.bottomRightBorderDoubleOuterBox=f>0||p>0?ua(a.left+R,a.top+E,f-_/3,p-S/3,Rr.BOTTOM_RIGHT):new Ct(a.left+a.width-_/3,a.top+a.height-S/3),this.bottomLeftBorderDoubleOuterBox=g>0||h>0?ua(a.left+O/3,a.top+b,g-O/3,h-S/3,Rr.BOTTOM_LEFT):new Ct(a.left+O/3,a.top+a.height-S/3),this.topLeftBorderDoubleInnerBox=s>0||o>0?ua(a.left+O*2/3,a.top+T*2/3,s-O*2/3,o-T*2/3,Rr.TOP_LEFT):new Ct(a.left+O*2/3,a.top+T*2/3),this.topRightBorderDoubleInnerBox=s>0||o>0?ua(a.left+v,a.top+T*2/3,l-_*2/3,c-T*2/3,Rr.TOP_RIGHT):new Ct(a.left+a.width-_*2/3,a.top+T*2/3),this.bottomRightBorderDoubleInnerBox=f>0||p>0?ua(a.left+R,a.top+E,f-_*2/3,p-S*2/3,Rr.BOTTOM_RIGHT):new Ct(a.left+a.width-_*2/3,a.top+a.height-S*2/3),this.bottomLeftBorderDoubleInnerBox=g>0||h>0?ua(a.left+O*2/3,a.top+b,g-O*2/3,h-S*2/3,Rr.BOTTOM_LEFT):new Ct(a.left+O*2/3,a.top+a.height-S*2/3),this.topLeftBorderStroke=s>0||o>0?ua(a.left+O/2,a.top+T/2,s-O/2,o-T/2,Rr.TOP_LEFT):new Ct(a.left+O/2,a.top+T/2),this.topRightBorderStroke=s>0||o>0?ua(a.left+v,a.top+T/2,l-_/2,c-T/2,Rr.TOP_RIGHT):new Ct(a.left+a.width-_/2,a.top+T/2),this.bottomRightBorderStroke=f>0||p>0?ua(a.left+R,a.top+E,f-_/2,p-S/2,Rr.BOTTOM_RIGHT):new Ct(a.left+a.width-_/2,a.top+a.height-S/2),this.bottomLeftBorderStroke=g>0||h>0?ua(a.left+O/2,a.top+b,g-O/2,h-S/2,Rr.BOTTOM_LEFT):new Ct(a.left+O/2,a.top+a.height-S/2),this.topLeftBorderBox=s>0||o>0?ua(a.left,a.top,s,o,Rr.TOP_LEFT):new Ct(a.left,a.top),this.topRightBorderBox=l>0||c>0?ua(a.left+v,a.top,l,c,Rr.TOP_RIGHT):new Ct(a.left+a.width,a.top),this.bottomRightBorderBox=f>0||p>0?ua(a.left+R,a.top+E,f,p,Rr.BOTTOM_RIGHT):new Ct(a.left+a.width,a.top+a.height),this.bottomLeftBorderBox=g>0||h>0?ua(a.left,a.top+b,g,h,Rr.BOTTOM_LEFT):new Ct(a.left,a.top+a.height),this.topLeftPaddingBox=s>0||o>0?ua(a.left+O,a.top+T,Math.max(0,s-O),Math.max(0,o-T),Rr.TOP_LEFT):new Ct(a.left+O,a.top+T),this.topRightPaddingBox=l>0||c>0?ua(a.left+Math.min(v,a.width-_),a.top+T,v>a.width+_?0:Math.max(0,l-_),Math.max(0,c-T),Rr.TOP_RIGHT):new Ct(a.left+a.width-_,a.top+T),this.bottomRightPaddingBox=f>0||p>0?ua(a.left+Math.min(R,a.width-O),a.top+Math.min(E,a.height-S),Math.max(0,f-_),Math.max(0,p-S),Rr.BOTTOM_RIGHT):new Ct(a.left+a.width-_,a.top+a.height-S),this.bottomLeftPaddingBox=g>0||h>0?ua(a.left+O,a.top+Math.min(b,a.height-S),Math.max(0,g-O),Math.max(0,h-S),Rr.BOTTOM_LEFT):new Ct(a.left+O,a.top+a.height-S),this.topLeftContentBox=s>0||o>0?ua(a.left+O+L,a.top+T+M,Math.max(0,s-(O+L)),Math.max(0,o-(T+M)),Rr.TOP_LEFT):new Ct(a.left+O+L,a.top+T+M),this.topRightContentBox=l>0||c>0?ua(a.left+Math.min(v,a.width+O+L),a.top+T+M,v>a.width+O+L?0:l-O+L,c-(T+M),Rr.TOP_RIGHT):new Ct(a.left+a.width-(_+I),a.top+T+M),this.bottomRightContentBox=f>0||p>0?ua(a.left+Math.min(R,a.width-(O+L)),a.top+Math.min(E,a.height+T+M),Math.max(0,f-(_+I)),p-(S+D),Rr.BOTTOM_RIGHT):new Ct(a.left+a.width-(_+I),a.top+a.height-(S+D)),this.bottomLeftContentBox=g>0||h>0?ua(a.left+O+L,a.top+b,Math.max(0,g-(O+L)),h-(S+D),Rr.BOTTOM_LEFT):new Ct(a.left+O+L,a.top+a.height-(S+D))}return e}(),Rr;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Rr||(Rr={}));var ua=function(e,t,r,a,n){var s=4*((Math.sqrt(2)-1)/3),o=r*s,A=a*s,l=e+r,c=t+a;switch(n){case Rr.TOP_LEFT:return new Pp(new Ct(e,c),new Ct(e,c-A),new Ct(l-o,t),new Ct(l,t));case Rr.TOP_RIGHT:return new Pp(new Ct(e,t),new Ct(e+o,t),new Ct(l,c-A),new Ct(l,c));case Rr.BOTTOM_RIGHT:return new Pp(new Ct(l,t),new Ct(l,t+A),new Ct(e+o,c),new Ct(e,c));case Rr.BOTTOM_LEFT:default:return new Pp(new Ct(l,c),new Ct(l-o,c),new Ct(e,t+A),new Ct(e,t))}},Xh=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},DG=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Jh=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},jG=function(){function e(t,r,a){this.offsetX=t,this.offsetY=r,this.matrix=a,this.type=0,this.target=6}return e}(),Qp=function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e}(),LG=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),UG=function(e){return e.type===0},eS=function(e){return e.type===1},MG=function(e){return e.type===2},BE=function(e,t){return e.length===t.length?e.some(function(r,a){return r===t[a]}):!1},PG=function(e,t,r,a,n){return e.map(function(s,o){switch(o){case 0:return s.add(t,r);case 1:return s.add(t+a,r);case 2:return s.add(t+a,r+n);case 3:return s.add(t,r+n)}return s})},tS=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),rS=function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new kG(this.container),this.container.styles.opacity<1&&this.effects.push(new LG(this.container.styles.opacity)),this.container.styles.transform!==null){var a=this.container.bounds.left+this.container.styles.transformOrigin[0].number,n=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new jG(a,n,s))}if(this.container.styles.overflowX!==0){var o=Xh(this.curves),A=Jh(this.curves);BE(o,A)?this.effects.push(new Qp(o,6)):(this.effects.push(new Qp(o,2)),this.effects.push(new Qp(A,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,a=this.parent,n=this.effects.slice(0);a;){var s=a.effects.filter(function(l){return!eS(l)});if(r||a.container.styles.position!==0||!a.parent){if(n.unshift.apply(n,s),r=[2,3].indexOf(a.container.styles.position)===-1,a.container.styles.overflowX!==0){var o=Xh(a.curves),A=Jh(a.curves);BE(o,A)||n.unshift(new Qp(A,6))}}else n.unshift.apply(n,s);a=a.parent}return n.filter(function(l){return nn(l.target,t)})},e}(),d2=function(e,t,r,a){e.container.elements.forEach(function(n){var s=nn(n.flags,4),o=nn(n.flags,2),A=new rS(n,e);nn(n.styles.display,2048)&&a.push(A);var l=nn(n.flags,8)?[]:a;if(s||o){var c=s||n.styles.isPositioned()?r:t,d=new tS(A);if(n.styles.isPositioned()||n.styles.opacity<1||n.styles.isTransformed()){var f=n.styles.zIndex.order;if(f<0){var p=0;c.negativeZIndex.some(function(g,h){return f>g.element.container.styles.zIndex.order?(p=h,!1):p>0}),c.negativeZIndex.splice(p,0,d)}else if(f>0){var u=0;c.positiveZIndex.some(function(g,h){return f>=g.element.container.styles.zIndex.order?(u=h+1,!1):u>0}),c.positiveZIndex.splice(u,0,d)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else n.styles.isFloating()?c.nonPositionedFloats.push(d):c.nonPositionedInlineLevel.push(d);d2(A,d,s?d:r,l)}else n.styles.isInlineLevel()?t.inlineLevel.push(A):t.nonInlineLevel.push(A),d2(A,t,r,l);nn(n.flags,8)&&aS(n,l)})},aS=function(e,t){for(var r=e instanceof s2?e.start:1,a=e instanceof s2?e.reversed:!1,n=0;n<t.length;n++){var s=t[n];s.container instanceof PB&&typeof s.container.value=="number"&&s.container.value!==0&&(r=s.container.value),s.listValue=Jf(r,s.container.styles.listStyleType,!0),r+=a?-1:1}},QG=function(e){var t=new rS(e,null),r=new tS(t),a=[];return d2(t,r,r,a),aS(t.container,a),r},SE=function(e,t){switch(t){case 0:return Cs(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Cs(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Cs(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return Cs(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},qG=function(e,t){switch(t){case 0:return Cs(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Cs(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Cs(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return Cs(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},KG=function(e,t){switch(t){case 0:return Cs(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Cs(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Cs(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return Cs(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},HG=function(e,t){switch(t){case 0:return qp(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return qp(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return qp(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return qp(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},qp=function(e,t){var r=[];return Es(e)?r.push(e.subdivide(.5,!1)):r.push(e),Es(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},Cs=function(e,t,r,a){var n=[];return Es(e)?n.push(e.subdivide(.5,!1)):n.push(e),Es(r)?n.push(r.subdivide(.5,!0)):n.push(r),Es(a)?n.push(a.subdivide(.5,!0).reverse()):n.push(a),Es(t)?n.push(t.subdivide(.5,!1).reverse()):n.push(t),n},nS=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},Zh=function(e){var t=e.styles,r=e.bounds,a=aa(t.paddingLeft,r.width),n=aa(t.paddingRight,r.width),s=aa(t.paddingTop,r.width),o=aa(t.paddingBottom,r.width);return r.add(a+t.borderLeftWidth,s+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+a+n),-(t.borderTopWidth+t.borderBottomWidth+s+o))},GG=function(e,t){return e===0?t.bounds:e===2?Zh(t):nS(t)},zG=function(e,t){return e===0?t.bounds:e===2?Zh(t):nS(t)},b1=function(e,t,r){var a=GG(yd(e.styles.backgroundOrigin,t),e),n=zG(yd(e.styles.backgroundClip,t),e),s=VG(yd(e.styles.backgroundSize,t),r,a),o=s[0],A=s[1],l=Ju(yd(e.styles.backgroundPosition,t),a.width-o,a.height-A),c=$G(yd(e.styles.backgroundRepeat,t),l,s,a,n),d=Math.round(a.left+l[0]),f=Math.round(a.top+l[1]);return[c,d,f,o,A]},nd=function(e){return Gr(e)&&e.value===jd.AUTO},Kp=function(e){return typeof e=="number"},VG=function(e,t,r){var a=t[0],n=t[1],s=t[2],o=e[0],A=e[1];if(!o)return[0,0];if(Ja(o)&&A&&Ja(A))return[aa(o,r.width),aa(A,r.height)];var l=Kp(s);if(Gr(o)&&(o.value===jd.CONTAIN||o.value===jd.COVER)){if(Kp(s)){var c=r.width/r.height;return c<s!=(o.value===jd.COVER)?[r.width,r.width/s]:[r.height*s,r.height]}return[r.width,r.height]}var d=Kp(a),f=Kp(n),p=d||f;if(nd(o)&&(!A||nd(A))){if(d&&f)return[a,n];if(!l&&!p)return[r.width,r.height];if(p&&l){var u=d?a:n*s,g=f?n:a/s;return[u,g]}var h=d?a:r.width,y=f?n:r.height;return[h,y]}if(l){var x=0,v=0;return Ja(o)?x=aa(o,r.width):Ja(A)&&(v=aa(A,r.height)),nd(o)?x=v*s:(!A||nd(A))&&(v=x/s),[x,v]}var E=null,R=null;if(Ja(o)?E=aa(o,r.width):A&&Ja(A)&&(R=aa(A,r.height)),E!==null&&(!A||nd(A))&&(R=d&&f?E/a*n:r.height),R!==null&&nd(o)&&(E=d&&f?R/n*a:r.width),E!==null&&R!==null)return[E,R];throw new Error("Unable to calculate background-size for element")},yd=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},$G=function(e,t,r,a,n){var s=t[0],o=t[1],A=r[0],l=r[1];switch(e){case 2:return[new Ct(Math.round(a.left),Math.round(a.top+o)),new Ct(Math.round(a.left+a.width),Math.round(a.top+o)),new Ct(Math.round(a.left+a.width),Math.round(l+a.top+o)),new Ct(Math.round(a.left),Math.round(l+a.top+o))];case 3:return[new Ct(Math.round(a.left+s),Math.round(a.top)),new Ct(Math.round(a.left+s+A),Math.round(a.top)),new Ct(Math.round(a.left+s+A),Math.round(a.height+a.top)),new Ct(Math.round(a.left+s),Math.round(a.height+a.top))];case 1:return[new Ct(Math.round(a.left+s),Math.round(a.top+o)),new Ct(Math.round(a.left+s+A),Math.round(a.top+o)),new Ct(Math.round(a.left+s+A),Math.round(a.top+o+l)),new Ct(Math.round(a.left+s),Math.round(a.top+o+l))];default:return[new Ct(Math.round(n.left),Math.round(n.top)),new Ct(Math.round(n.left+n.width),Math.round(n.top)),new Ct(Math.round(n.left+n.width),Math.round(n.height+n.top)),new Ct(Math.round(n.left),Math.round(n.height+n.top))]}},YG="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",TE="Hidden Text",WG=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var a=this._document.createElement("div"),n=this._document.createElement("img"),s=this._document.createElement("span"),o=this._document.body;a.style.visibility="hidden",a.style.fontFamily=t,a.style.fontSize=r,a.style.margin="0",a.style.padding="0",a.style.whiteSpace="nowrap",o.appendChild(a),n.src=YG,n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",s.style.fontFamily=t,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(TE)),a.appendChild(s),a.appendChild(n);var A=n.offsetTop-s.offsetTop+2;a.removeChild(s),a.appendChild(this._document.createTextNode(TE)),a.style.lineHeight="normal",n.style.verticalAlign="super";var l=n.offsetTop-a.offsetTop+2;return o.removeChild(a),{baseline:A,middle:l}},e.prototype.getMetrics=function(t,r){var a=t+" "+r;return typeof this._data[a]>"u"&&(this._data[a]=this.parseMetrics(t,r)),this._data[a]},e}(),iS=function(){function e(t,r){this.context=t,this.options=r}return e}(),XG=1e4,JG=function(e){Xs(t,e);function t(r,a){var n=e.call(this,r,a)||this;return n._activeEffects=[],n.canvas=a.canvas?a.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),a.canvas||(n.canvas.width=Math.floor(a.width*a.scale),n.canvas.height=Math.floor(a.height*a.scale),n.canvas.style.width=a.width+"px",n.canvas.style.height=a.height+"px"),n.fontMetrics=new WG(document),n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-a.x,-a.y),n.ctx.textBaseline="bottom",n._activeEffects=[],n.context.logger.debug("Canvas renderer initialized ("+a.width+"x"+a.height+") with scale "+a.scale),n}return t.prototype.applyEffects=function(r){for(var a=this;this._activeEffects.length;)this.popEffect();r.forEach(function(n){return a.applyEffect(n)})},t.prototype.applyEffect=function(r){this.ctx.save(),MG(r)&&(this.ctx.globalAlpha=r.opacity),UG(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),eS(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return di(this,void 0,void 0,function(){var a;return qn(this,function(n){switch(n.label){case 0:return a=r.element.container.styles,a.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return di(this,void 0,void 0,function(){return qn(this,function(a){switch(a.label){case 0:if(nn(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return a.sent(),[4,this.renderNodeContent(r)];case 2:a.sent(),a.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,a,n){var s=this;if(a===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+n);else{var o=Ly(r.text);o.reduce(function(A,l){return s.ctx.fillText(l,A,r.bounds.top+n),A+s.ctx.measureText(l).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var a=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),n=az(r.fontFamily).join(", "),s=h0(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,a,r.fontWeight,s,n].join(" "),n,s]},t.prototype.renderTextNode=function(r,a){return di(this,void 0,void 0,function(){var n,s,o,A,l,c,d,f,p=this;return qn(this,function(u){return n=this.createFontStyle(a),s=n[0],o=n[1],A=n[2],this.ctx.font=s,this.ctx.direction=a.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(o,A),c=l.baseline,d=l.middle,f=a.paintOrder,r.textBounds.forEach(function(g){f.forEach(function(h){switch(h){case 0:p.ctx.fillStyle=fn(a.color),p.renderTextWithLetterSpacing(g,a.letterSpacing,c);var y=a.textShadow;y.length&&g.text.trim().length&&(y.slice(0).reverse().forEach(function(x){p.ctx.shadowColor=fn(x.color),p.ctx.shadowOffsetX=x.offsetX.number*p.options.scale,p.ctx.shadowOffsetY=x.offsetY.number*p.options.scale,p.ctx.shadowBlur=x.blur.number,p.renderTextWithLetterSpacing(g,a.letterSpacing,c)}),p.ctx.shadowColor="",p.ctx.shadowOffsetX=0,p.ctx.shadowOffsetY=0,p.ctx.shadowBlur=0),a.textDecorationLine.length&&(p.ctx.fillStyle=fn(a.textDecorationColor||a.color),a.textDecorationLine.forEach(function(x){switch(x){case 1:p.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top+c),g.bounds.width,1);break;case 2:p.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top),g.bounds.width,1);break;case 3:p.ctx.fillRect(g.bounds.left,Math.ceil(g.bounds.top+d),g.bounds.width,1);break}}));break;case 1:a.webkitTextStrokeWidth&&g.text.trim().length&&(p.ctx.strokeStyle=fn(a.webkitTextStrokeColor),p.ctx.lineWidth=a.webkitTextStrokeWidth,p.ctx.lineJoin=window.chrome?"miter":"round",p.ctx.strokeText(g.text,g.bounds.left,g.bounds.top+c)),p.ctx.strokeStyle="",p.ctx.lineWidth=0,p.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,a,n){if(n&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var s=Zh(r),o=Jh(a);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,r.intrinsicWidth,r.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return di(this,void 0,void 0,function(){var a,n,s,o,A,l,v,v,c,d,f,p,R,u,g,b,h,y,x,v,E,R,b;return qn(this,function(T){switch(T.label){case 0:this.applyEffects(r.getEffects(4)),a=r.container,n=r.curves,s=a.styles,o=0,A=a.textNodes,T.label=1;case 1:return o<A.length?(l=A[o],[4,this.renderTextNode(l,s)]):[3,4];case 2:T.sent(),T.label=3;case 3:return o++,[3,1];case 4:if(!(a instanceof LB))return[3,8];T.label=5;case 5:return T.trys.push([5,7,,8]),[4,this.context.cache.match(a.src)];case 6:return v=T.sent(),this.renderReplacedElement(a,n,v),[3,8];case 7:return T.sent(),this.context.logger.error("Error loading image "+a.src),[3,8];case 8:if(a instanceof UB&&this.renderReplacedElement(a,n,a.canvas),!(a instanceof MB))return[3,12];T.label=9;case 9:return T.trys.push([9,11,,12]),[4,this.context.cache.match(a.svg)];case 10:return v=T.sent(),this.renderReplacedElement(a,n,v),[3,12];case 11:return T.sent(),this.context.logger.error("Error loading svg "+a.svg.substring(0,255)),[3,12];case 12:return a instanceof KB&&a.tree?(c=new t(this.context,{scale:this.options.scale,backgroundColor:a.backgroundColor,x:0,y:0,width:a.width,height:a.height}),[4,c.render(a.tree)]):[3,14];case 13:d=T.sent(),a.width&&a.height&&this.ctx.drawImage(d,0,0,a.width,a.height,a.bounds.left,a.bounds.top,a.bounds.width,a.bounds.height),T.label=14;case 14:if(a instanceof Uy&&(f=Math.min(a.bounds.width,a.bounds.height),a.type===Vh?a.checked&&(this.ctx.save(),this.path([new Ct(a.bounds.left+f*.39363,a.bounds.top+f*.79),new Ct(a.bounds.left+f*.16,a.bounds.top+f*.5549),new Ct(a.bounds.left+f*.27347,a.bounds.top+f*.44071),new Ct(a.bounds.left+f*.39694,a.bounds.top+f*.5649),new Ct(a.bounds.left+f*.72983,a.bounds.top+f*.23),new Ct(a.bounds.left+f*.84,a.bounds.top+f*.34085),new Ct(a.bounds.left+f*.39363,a.bounds.top+f*.79)]),this.ctx.fillStyle=fn(hE),this.ctx.fill(),this.ctx.restore()):a.type===$h&&a.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(a.bounds.left+f/2,a.bounds.top+f/2,f/4,0,Math.PI*2,!0),this.ctx.fillStyle=fn(hE),this.ctx.fill(),this.ctx.restore())),ZG(a)&&a.value.length){switch(p=this.createFontStyle(s),R=p[0],u=p[1],g=this.fontMetrics.getMetrics(R,u).baseline,this.ctx.font=R,this.ctx.fillStyle=fn(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=tz(a.styles.textAlign),b=Zh(a),h=0,a.styles.textAlign){case 1:h+=b.width/2;break;case 2:h+=b.width;break}y=b.add(h,0,0,-b.height/2+1),this.ctx.save(),this.path([new Ct(b.left,b.top),new Ct(b.left+b.width,b.top),new Ct(b.left+b.width,b.top+b.height),new Ct(b.left,b.top+b.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Ef(a.value,y),s.letterSpacing,g),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!nn(a.styles.display,2048))return[3,20];if(a.styles.listStyleImage===null)return[3,19];if(x=a.styles.listStyleImage,x.type!==0)return[3,18];v=void 0,E=x.url,T.label=15;case 15:return T.trys.push([15,17,,18]),[4,this.context.cache.match(E)];case 16:return v=T.sent(),this.ctx.drawImage(v,a.bounds.left-(v.width+10),a.bounds.top),[3,18];case 17:return T.sent(),this.context.logger.error("Error loading list-style-image "+E),[3,18];case 18:return[3,20];case 19:r.listValue&&a.styles.listStyleType!==-1&&(R=this.createFontStyle(s)[0],this.ctx.font=R,this.ctx.fillStyle=fn(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",b=new aA(a.bounds.left,a.bounds.top+aa(a.styles.paddingTop,a.bounds.width),a.bounds.width,Jw(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Ef(r.listValue,b),s.letterSpacing,Jw(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),T.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return di(this,void 0,void 0,function(){var a,n,x,s,o,x,A,l,x,c,d,x,f,p,x,u,g,x,h,y,x;return qn(this,function(v){switch(v.label){case 0:if(nn(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:v.sent(),a=0,n=r.negativeZIndex,v.label=2;case 2:return a<n.length?(x=n[a],[4,this.renderStack(x)]):[3,5];case 3:v.sent(),v.label=4;case 4:return a++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:v.sent(),s=0,o=r.nonInlineLevel,v.label=7;case 7:return s<o.length?(x=o[s],[4,this.renderNode(x)]):[3,10];case 8:v.sent(),v.label=9;case 9:return s++,[3,7];case 10:A=0,l=r.nonPositionedFloats,v.label=11;case 11:return A<l.length?(x=l[A],[4,this.renderStack(x)]):[3,14];case 12:v.sent(),v.label=13;case 13:return A++,[3,11];case 14:c=0,d=r.nonPositionedInlineLevel,v.label=15;case 15:return c<d.length?(x=d[c],[4,this.renderStack(x)]):[3,18];case 16:v.sent(),v.label=17;case 17:return c++,[3,15];case 18:f=0,p=r.inlineLevel,v.label=19;case 19:return f<p.length?(x=p[f],[4,this.renderNode(x)]):[3,22];case 20:v.sent(),v.label=21;case 21:return f++,[3,19];case 22:u=0,g=r.zeroOrAutoZIndexOrTransformedOrOpacity,v.label=23;case 23:return u<g.length?(x=g[u],[4,this.renderStack(x)]):[3,26];case 24:v.sent(),v.label=25;case 25:return u++,[3,23];case 26:h=0,y=r.positiveZIndex,v.label=27;case 27:return h<y.length?(x=y[h],[4,this.renderStack(x)]):[3,30];case 28:v.sent(),v.label=29;case 29:return h++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var a=this;r.forEach(function(n,s){var o=Es(n)?n.start:n;s===0?a.ctx.moveTo(o.x,o.y):a.ctx.lineTo(o.x,o.y),Es(n)&&a.ctx.bezierCurveTo(n.startControl.x,n.startControl.y,n.endControl.x,n.endControl.y,n.end.x,n.end.y)})},t.prototype.renderRepeat=function(r,a,n,s){this.path(r),this.ctx.fillStyle=a,this.ctx.translate(n,s),this.ctx.fill(),this.ctx.translate(-n,-s)},t.prototype.resizeImage=function(r,a,n){var s;if(r.width===a&&r.height===n)return r;var o=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,A=o.createElement("canvas");A.width=Math.max(1,a),A.height=Math.max(1,n);var l=A.getContext("2d");return l.drawImage(r,0,0,r.width,r.height,0,0,a,n),A},t.prototype.renderBackgroundImage=function(r){return di(this,void 0,void 0,function(){var a,n,s,o,A,l;return qn(this,function(c){switch(c.label){case 0:a=r.styles.backgroundImage.length-1,n=function(d){var f,p,u,M,Q,J,L,N,S,g,M,Q,J,L,N,h,y,x,v,E,R,b,T,_,S,O,M,I,D,L,N,P,Q,J,te,V,G,z,C,k,j,H;return qn(this,function(Y){switch(Y.label){case 0:if(d.type!==0)return[3,5];f=void 0,p=d.url,Y.label=1;case 1:return Y.trys.push([1,3,,4]),[4,s.context.cache.match(p)];case 2:return f=Y.sent(),[3,4];case 3:return Y.sent(),s.context.logger.error("Error loading background-image "+p),[3,4];case 4:return f&&(u=b1(r,a,[f.width,f.height,f.width/f.height]),M=u[0],Q=u[1],J=u[2],L=u[3],N=u[4],S=s.ctx.createPattern(s.resizeImage(f,L,N),"repeat"),s.renderRepeat(M,S,Q,J)),[3,6];case 5:Uq(d)?(g=b1(r,a,[null,null,null]),M=g[0],Q=g[1],J=g[2],L=g[3],N=g[4],h=Rq(d.angle,L,N),y=h[0],x=h[1],v=h[2],E=h[3],R=h[4],b=document.createElement("canvas"),b.width=L,b.height=N,T=b.getContext("2d"),_=T.createLinearGradient(x,E,v,R),Ww(d.stops,y).forEach(function(de){return _.addColorStop(de.stop,fn(de.color))}),T.fillStyle=_,T.fillRect(0,0,L,N),L>0&&N>0&&(S=s.ctx.createPattern(b,"repeat"),s.renderRepeat(M,S,Q,J))):Mq(d)&&(O=b1(r,a,[null,null,null]),M=O[0],I=O[1],D=O[2],L=O[3],N=O[4],P=d.position.length===0?[ky]:d.position,Q=aa(P[0],L),J=aa(P[P.length-1],N),te=kq(d,Q,J,L,N),V=te[0],G=te[1],V>0&&G>0&&(z=s.ctx.createRadialGradient(I+Q,D+J,0,I+Q,D+J,V),Ww(d.stops,V*2).forEach(function(de){return z.addColorStop(de.stop,fn(de.color))}),s.path(M),s.ctx.fillStyle=z,V!==G?(C=r.bounds.left+.5*r.bounds.width,k=r.bounds.top+.5*r.bounds.height,j=G/V,H=1/j,s.ctx.save(),s.ctx.translate(C,k),s.ctx.transform(1,0,0,j,0,0),s.ctx.translate(-C,-k),s.ctx.fillRect(I,H*(D-k)+k,L,N*H),s.ctx.restore()):s.ctx.fill())),Y.label=6;case 6:return a--,[2]}})},s=this,o=0,A=r.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return o<A.length?(l=A[o],[5,n(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,a,n){return di(this,void 0,void 0,function(){return qn(this,function(s){return this.path(SE(n,a)),this.ctx.fillStyle=fn(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,a,n,s){return di(this,void 0,void 0,function(){var o,A;return qn(this,function(l){switch(l.label){case 0:return a<3?[4,this.renderSolidBorder(r,n,s)]:[3,2];case 1:return l.sent(),[2];case 2:return o=qG(s,n),this.path(o),this.ctx.fillStyle=fn(r),this.ctx.fill(),A=KG(s,n),this.path(A),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return di(this,void 0,void 0,function(){var a,n,s,o,A,l,c,d,f=this;return qn(this,function(p){switch(p.label){case 0:return this.applyEffects(r.getEffects(2)),a=r.container.styles,n=!WA(a.backgroundColor)||a.backgroundImage.length,s=[{style:a.borderTopStyle,color:a.borderTopColor,width:a.borderTopWidth},{style:a.borderRightStyle,color:a.borderRightColor,width:a.borderRightWidth},{style:a.borderBottomStyle,color:a.borderBottomColor,width:a.borderBottomWidth},{style:a.borderLeftStyle,color:a.borderLeftColor,width:a.borderLeftWidth}],o=ez(yd(a.backgroundClip,0),r.curves),n||a.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),WA(a.backgroundColor)||(this.ctx.fillStyle=fn(a.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:p.sent(),this.ctx.restore(),a.boxShadow.slice(0).reverse().forEach(function(u){f.ctx.save();var g=Xh(r.curves),h=u.inset?0:XG,y=PG(g,-h+(u.inset?1:-1)*u.spread.number,(u.inset?1:-1)*u.spread.number,u.spread.number*(u.inset?-2:2),u.spread.number*(u.inset?-2:2));u.inset?(f.path(g),f.ctx.clip(),f.mask(y)):(f.mask(g),f.ctx.clip(),f.path(y)),f.ctx.shadowOffsetX=u.offsetX.number+h,f.ctx.shadowOffsetY=u.offsetY.number,f.ctx.shadowColor=fn(u.color),f.ctx.shadowBlur=u.blur.number,f.ctx.fillStyle=u.inset?fn(u.color):"rgba(0,0,0,1)",f.ctx.fill(),f.ctx.restore()}),p.label=2;case 2:A=0,l=0,c=s,p.label=3;case 3:return l<c.length?(d=c[l],d.style!==0&&!WA(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,A,r.curves,2)]:[3,11]):[3,13];case 4:return p.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,A,r.curves,3)];case 6:return p.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,A,r.curves)];case 8:return p.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,A,r.curves)];case 10:p.sent(),p.label=11;case 11:A++,p.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,a,n,s,o){return di(this,void 0,void 0,function(){var A,l,c,d,f,p,u,g,h,y,x,v,E,R,b,T,b,T;return qn(this,function(_){return this.ctx.save(),A=HG(s,n),l=SE(s,n),o===2&&(this.path(l),this.ctx.clip()),Es(l[0])?(c=l[0].start.x,d=l[0].start.y):(c=l[0].x,d=l[0].y),Es(l[1])?(f=l[1].end.x,p=l[1].end.y):(f=l[1].x,p=l[1].y),n===0||n===2?u=Math.abs(c-f):u=Math.abs(d-p),this.ctx.beginPath(),o===3?this.formatPath(A):this.formatPath(l.slice(0,2)),g=a<3?a*3:a*2,h=a<3?a*2:a,o===3&&(g=a,h=a),y=!0,u<=g*2?y=!1:u<=g*2+h?(x=u/(2*g+h),g*=x,h*=x):(v=Math.floor((u+h)/(g+h)),E=(u-v*g)/(v-1),R=(u-(v+1)*g)/v,h=R<=0||Math.abs(h-E)<Math.abs(h-R)?E:R),y&&(o===3?this.ctx.setLineDash([0,g+h]):this.ctx.setLineDash([g,h])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=a):this.ctx.lineWidth=a*2+1.1,this.ctx.strokeStyle=fn(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Es(l[0])&&(b=l[3],T=l[0],this.ctx.beginPath(),this.formatPath([new Ct(b.end.x,b.end.y),new Ct(T.start.x,T.start.y)]),this.ctx.stroke()),Es(l[1])&&(b=l[1],T=l[2],this.ctx.beginPath(),this.formatPath([new Ct(b.end.x,b.end.y),new Ct(T.start.x,T.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return di(this,void 0,void 0,function(){var a;return qn(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=fn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),a=QG(r),[4,this.renderStack(a)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(iS),ZG=function(e){return e instanceof qB||e instanceof QB?!0:e instanceof Uy&&e.type!==$h&&e.type!==Vh},ez=function(e,t){switch(e){case 0:return Xh(t);case 2:return DG(t);case 1:default:return Jh(t)}},tz=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},rz=["-apple-system","system-ui"],az=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return rz.indexOf(t)===-1}):e},nz=function(e){Xs(t,e);function t(r,a){var n=e.call(this,r,a)||this;return n.canvas=a.canvas?a.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),n.options=a,n.canvas.width=Math.floor(a.width*a.scale),n.canvas.height=Math.floor(a.height*a.scale),n.canvas.style.width=a.width+"px",n.canvas.style.height=a.height+"px",n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-a.x,-a.y),n.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+a.width+"x"+a.height+" at "+a.x+","+a.y+") with scale "+a.scale),n}return t.prototype.render=function(r){return di(this,void 0,void 0,function(){var a,n;return qn(this,function(s){switch(s.label){case 0:return a=i2(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,iz(a)];case 1:return n=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=fn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(iS),iz=function(e){return new Promise(function(t,r){var a=new Image;a.onload=function(){t(a)},a.onerror=r,a.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},sz=function(){function e(t){var r=t.id,a=t.enabled;this.id=r,this.enabled=a,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,wp([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,wp([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,wp([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,wp([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),oz=function(){function e(t,r){var a;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new sz({id:this.instanceName,enabled:t.logging}),this.cache=(a=t.cache)!==null&&a!==void 0?a:new SG(this,t)}return e.instanceCount=1,e}(),Py=function(e,t){return t===void 0&&(t={}),Az(e,t)};typeof window<"u"&&ZB.setContext(window);var Az=function(e,t){return di(void 0,void 0,void 0,function(){var r,a,n,s,o,A,l,c,d,f,p,u,g,h,y,x,v,E,R,b,_,T,_,S,O,M,I,D,L,N,P,Q,J,te,V,G,z,C,k,j;return qn(this,function(H){switch(H.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(a=r.defaultView,!a)throw new Error("Document is not attached to a Window");return n={allowTaint:(S=t.allowTaint)!==null&&S!==void 0?S:!1,imageTimeout:(O=t.imageTimeout)!==null&&O!==void 0?O:15e3,proxy:t.proxy,useCORS:(M=t.useCORS)!==null&&M!==void 0?M:!1},s=Hx({logging:(I=t.logging)!==null&&I!==void 0?I:!0,cache:t.cache},n),o={windowWidth:(D=t.windowWidth)!==null&&D!==void 0?D:a.innerWidth,windowHeight:(L=t.windowHeight)!==null&&L!==void 0?L:a.innerHeight,scrollX:(N=t.scrollX)!==null&&N!==void 0?N:a.pageXOffset,scrollY:(P=t.scrollY)!==null&&P!==void 0?P:a.pageYOffset},A=new aA(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),l=new oz(s,A),c=(Q=t.foreignObjectRendering)!==null&&Q!==void 0?Q:!1,d={allowTaint:(J=t.allowTaint)!==null&&J!==void 0?J:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+A.width+"x"+A.height+" scrolled to "+-A.left+","+-A.top),f=new _E(l,e,d),p=f.clonedReferenceElement,p?[4,f.toIFrame(r,A)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return u=H.sent(),g=My(p)||cG(p)?P9(p.ownerDocument):Nm(l,p),h=g.width,y=g.height,x=g.left,v=g.top,E=lz(l,p,t.backgroundColor),R={canvas:t.canvas,backgroundColor:E,scale:(V=(te=t.scale)!==null&&te!==void 0?te:a.devicePixelRatio)!==null&&V!==void 0?V:1,x:((G=t.x)!==null&&G!==void 0?G:0)+x,y:((z=t.y)!==null&&z!==void 0?z:0)+v,width:(C=t.width)!==null&&C!==void 0?C:Math.ceil(h),height:(k=t.height)!==null&&k!==void 0?k:Math.ceil(y)},c?(l.logger.debug("Document cloned, using foreign object rendering"),_=new nz(l,R),[4,_.render(p)]):[3,3];case 2:return b=H.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+x+","+v+" with size "+h+"x"+y+" using computed rendering"),l.logger.debug("Starting DOM parsing"),T=GB(l,p),E===T.styles.backgroundColor&&(T.styles.backgroundColor=Jo.TRANSPARENT),l.logger.debug("Starting renderer for element at "+R.x+","+R.y+" with size "+R.width+"x"+R.height),_=new JG(l,R),[4,_.render(T)];case 4:b=H.sent(),H.label=5;case 5:return(!((j=t.removeContainer)!==null&&j!==void 0)||j)&&(_E.destroy(u)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,b]}})})},lz=function(e,t,r){var a=t.ownerDocument,n=a.documentElement?vf(e,getComputedStyle(a.documentElement).backgroundColor):Jo.TRANSPARENT,s=a.body?vf(e,getComputedStyle(a.body).backgroundColor):Jo.TRANSPARENT,o=typeof r=="string"?vf(e,r):r===null?Jo.TRANSPARENT:4294967295;return t===a.documentElement?WA(n)?WA(s)?o:s:n:o};const cz=Object.freeze(Object.defineProperty({__proto__:null,default:Py},Symbol.toStringTag,{value:"Module"})),dz=({title:e,subtitle:t})=>{const r=$s(),a=ul(),[n,s]=K.useState(!1),o=a.pathname==="/settings"||a.pathname==="#/settings"||a.hash==="#/settings",A=()=>`# ОПИСАНИЕ ФУНКЦИОНАЛА CMS - СИСТЕМА УПРАВЛЕНИЯ ЗАЛОГОВЫМ ИМУЩЕСТВОМ

**Версия:** 2.0.0  
**Дата:** Декабрь 2024  
**Технологии:** React 18, TypeScript, Ant Design 5, Redux Toolkit, IndexedDB

---

## 📋 ОГЛАВЛЕНИЕ

1. Реестр объектов
2. Залоговый портфель
3. Задачи
4. KPI
5. Отчеты
6. Залоговое досье
7. Залоговые заключения
8. Страхование
9. ФНП
10. Аналитика
11. Модуль мониторинга
12. Модуль оценки
13. CMS Check
14. ЕГРН
15. Загрузка
16. Мониторинг
17. Справочная с ИИ
18. Настройки

---

## 1. РЕЕСТР ОБЪЕКТОВ

**Путь:** /registry

### Основной функционал:
- **Управление карточками залогового имущества** - полный CRUD (создание, чтение, обновление, удаление)
- **Расширенная классификация объектов** - 60+ типов объектов с 3-уровневой иерархией
- **Динамические формы** - 150+ полей характеристик, автоматически подстраивающихся под тип объекта
- **Многостраничная форма карточки** (5 вкладок): Основная информация, Адрес, Характеристики, Партнеры, Документы
- **Фильтрация и поиск** - по всем полям карточки
- **Сортировка** - по любому столбцу таблицы
- **Экспорт/импорт** - Excel формат для массовых операций
- **Резервное копирование** - экспорт/импорт всей базы данных

---

## 2. ЗАЛОГОВЫЙ ПОРТФЕЛЬ

**Путь:** /portfolio

### Основной функционал:
- **Агрегированное представление залогового портфеля**
- **Аналитика портфеля** - статистика по категориям, статусам, стоимости
- **Фильтрация и группировка** объектов залога
- **Визуализация данных** - графики и диаграммы портфеля
- **Оценка рисков** портфеля

---

## 3. ЗАДАЧИ

**Путь:** /tasks

### Основной функционал:
- **Управление задачами** (Zadachnik) - система задач для сотрудников
- **Создание задач** - назначение задач сотрудникам с приоритетами и сроками
- **Статусы задач** - планируется, в работе, выполнено, отменено
- **Приоритеты** - низкий, средний, высокий, критический
- **Назначение исполнителей** - привязка задач к сотрудникам
- **Фильтрация задач** - по статусу, приоритету, исполнителю, региону
- **Автогенерация задач** - автоматическое создание задач для активных сотрудников

---

## 4. KPI

**Путь:** /kpi

### Основной функционал:
- **KPI и аналитика** - ключевые показатели эффективности
- **Метрики производительности** - отслеживание показателей работы
- **Дашборд KPI** - визуализация ключевых метрик
- **Сравнительная аналитика** - сравнение показателей по периодам

---

## 5. ОТЧЕТЫ

**Путь:** /reports

### Основной функционал:
- **Агрегирование отчетности** - формирование различных отчетов
- **Типы отчетов**: Отчеты по реестру объектов, портфелю, задачам, оценкам
- **Экспорт отчетов** - в Excel, PDF форматы
- **Настраиваемые параметры** - выбор периодов, фильтров, группировок

---

## 6. ЗАЛОГОВОЕ ДОСЬЕ

**Путь:** /collateral-dossier

### Основной функционал:
- **Формирование залогового досье** - комплексная информация об объекте залога
- **Сбор документов** - все документы по объекту в одном месте
- **История изменений** - отслеживание всех изменений карточки
- **Связанные объекты** - связи между объектами залога
- **Экспорт досье** - формирование PDF досье для печати

---

## 7. ЗАЛОГОВЫЕ ЗАКЛЮЧЕНИЯ

**Путь:** /collateral-conclusions

### Основной функционал:
- **Создание залоговых заключений** - формирование экспертных заключений
- **Шаблоны заключений** - использование готовых шаблонов
- **Редактирование заключений** - создание и редактирование текста заключений
- **Привязка к объектам** - связь заключений с карточками залога
- **Экспорт заключений** - сохранение в PDF, Word форматах

---

## 8. СТРАХОВАНИЕ

**Путь:** /insurance

### Основной функционал:
- **Управление страховыми полисами** - учет страховых полисов по объектам залога
- **Сроки действия полисов** - отслеживание сроков страхования
- **Уведомления о продлении** - напоминания о необходимости продления
- **Страховые компании** - справочник страховщиков
- **Суммы страхования** - учет страховых сумм и премий

---

## 9. ФНП

**Путь:** /fnp

### Основной функционал:
- **Регистрация залога движимого имущества ФНП** - работа с Федеральной нотариальной палатой
- **Подача заявлений** - формирование заявлений на регистрацию залога
- **Отслеживание статусов** - мониторинг статусов регистрации
- **Документооборот** - управление документами для ФНП

---

## 10. АНАЛИТИКА

**Путь:** /analytics

### Основной функционал:
- **Расширенная аналитика** - углубленный анализ данных
- **Визуализация данных** - графики, диаграммы, дашборды
- **Анализ трендов** - выявление тенденций в портфеле
- **Прогнозирование** - прогнозные модели на основе исторических данных
- **Сравнительный анализ** - сравнение показателей по различным параметрам

---

## 11. МОДУЛЬ МОНИТОРИНГА

**Путь:** /credit-risk

### Основной функционал:
- **Мониторинг кредитных рисков** - отслеживание рисков по залоговому имуществу
- **Оценка рисков** - автоматическая и ручная оценка рисков
- **Алерты и уведомления** - оповещения о критических ситуациях
- **Рейтинг рисков** - классификация объектов по уровню риска
- **Отчеты по рискам** - формирование отчетов о рисках портфеля

---

## 12. МОДУЛЬ ОЦЕНКИ

**Путь:** /appraisal

### Основной функционал:
- **Автоматическая оценка объектов залога** - расчет стоимости объектов
- **Методы оценки**: Доходный подход (DCF, прямая капитализация, множитель валового дохода), Сравнительный подход (сравнение продаж, извлечение из рынка), Затратный подход (стоимость замещения, воспроизводства, износ)
- **Расчет LTV** - соотношение суммы займа к стоимости залога
- **Залоговая стоимость** - расчет залоговой стоимости с учетом дисконтов
- **История оценок** - сохранение истории всех оценок объекта
- **Экспорт отчетов об оценке** - формирование PDF отчетов

---

## 13. CMS CHECK

**Путь:** /cms-check

### Основной функционал:
- **Система дистанционных осмотров** - проведение осмотров объектов залога
- **Мобильный интерфейс** - доступ к осмотрам через мобильные устройства
- **Фотофиксация** - загрузка фотографий объекта
- **Чек-листы осмотра** - структурированные формы для осмотра
- **Геолокация** - привязка осмотра к координатам
- **Подпись инспектора** - электронная подпись результатов осмотра
- **Отчеты об осмотре** - автоматическое формирование отчетов

---

## 14. ЕГРН

**Путь:** /egrn

### Основной функционал:
- **Регистрация ипотеки** - работа с Единым государственным реестром недвижимости
- **Снятие обременений** - оформление снятия обременений с недвижимости
- **Выписки ЕГРН** - запрос и получение выписок из ЕГРН
- **Отслеживание статусов** - мониторинг статусов регистрационных действий
- **Документооборот** - управление документами для регистрации

---

## 15. ЗАГРУЗКА

**Путь:** /upload

### Основной функционал:
- **Миграция данных** - перенос данных из других систем
- **Экспорт данных** - выгрузка данных в Excel для миграции
- **Импорт данных** - загрузка данных из Excel файлов
- **Массовые изменения** - массовое редактирование записей через Excel
- **Валидация данных** - проверка корректности импортируемых данных
- **Отчеты об импорте** - статистика по результатам импорта

---

## 16. МОНИТОРИНГ

**Путь:** /monitoring

### Основной функционал:
- **Мониторинг системы** - отслеживание состояния системы
- **Мониторинг объектов** - контроль состояния объектов залога
- **Настройки мониторинга** - конфигурация параметров мониторинга
- **Уведомления** - система оповещений о событиях
- **Логирование** - журнал событий и действий в системе

---

## 17. СПРАВОЧНАЯ С ИИ

**Путь:** /reference

### Основной функционал:
- **AI-помощник** - интеллектуальный помощник на базе DeepSeek AI
- **База знаний** - справочная литература по банковским залогам ("Залоговik")
- **Поиск по базе знаний** - семантический поиск по документам
- **Чат с ИИ** - диалоговый интерфейс для получения консультаций
- **Режим оценки** - AI-оценка объектов залога с использованием профессиональных методов
- **Эквалайзер скилов** - настройка приоритетов методов оценки
- **Режим экспертизы** - настройка уровня экспертизы, анализа, краткости ответов
- **Самообучение ИИ** - система обратной связи (лайк/дизлайк) для улучшения ответов
- **Режим обучения** - интенсивное самообучение системы на базе документов
- **Эволюция ИИ** - система уровней и опыта ИИ-помощника
- **Экспорт PDF отчетов** - генерация подробных отчетов об оценке с расчетами
- **История чатов** - сохранение истории диалогов с ИИ

---

## 18. НАСТРОЙКИ

**Путь:** /settings

### Подразделы:

#### 18.1. Сотрудники
- **Управление сотрудниками** - добавление, редактирование, деактивация сотрудников
- **Роли и права доступа** - назначение ролей и прав сотрудникам
- **Синхронизация с задачами** - автоматическая синхронизация с системой задач

#### 18.2. Справочные данные
- **Управление справочниками** - редактирование классификаторов и справочников
- **Категории объектов** - управление категориями залогового имущества
- **Типы объектов** - настройка типов объектов и их характеристик

#### 18.3. Норма-часы
- **Нормативы времени** - установка нормативов времени на выполнение задач
- **Расчет трудозатрат** - автоматический расчет трудозатрат на основе нормативов

#### 18.4. Метрики
- **Настройка метрик** - конфигурация метрик для KPI и аналитики
- **Пороговые значения** - установка пороговых значений для метрик

---

## 🔧 ТЕХНИЧЕСКИЕ ОСОБЕННОСТИ

### Хранение данных:
- **IndexedDB** - основное хранилище данных в браузере
- **LocalStorage** - хранение настроек и кэша
- **Автоматическое резервное копирование** - экспорт/импорт базы данных

### Производительность:
- **Оптимизация рендеринга** - мемоизация компонентов, виртуализация списков
- **Ленивая загрузка** - загрузка данных по требованию
- **Кэширование** - кэширование результатов поиска и запросов

### Безопасность:
- **Валидация данных** - проверка всех входящих данных
- **Обработка ошибок** - graceful error handling
- **Логирование** - журналирование критических операций

### Интерфейс:
- **Адаптивный дизайн** - поддержка различных размеров экранов
- **Темная/светлая тема** - переключение тем оформления
- **Локализация** - русский язык интерфейса

---

## 📊 СТАТИСТИКА СИСТЕМЫ

- **Модулей:** 18 основных разделов
- **Типов объектов:** 60+
- **Полей характеристик:** 150+
- **Уровней классификации:** 3
- **Методов оценки:** 8 (доходный, сравнительный, затратный подходы)
- **Форматов экспорта:** Excel, PDF, JSON

---

**Дата создания документа:** Декабрь 2024  
**Версия CMS:** 2.0.0`,l=async()=>{try{s(!0),Te.info("Генерация PDF описания системы...");let d="";try{const I=await fetch("/INSTRUCTION/CMS_FUNCTIONALITY.md");if(I.ok)d=await I.text();else throw new Error("Файл не найден, используем встроенное содержимое")}catch{d=A()}const f=c(d),p=document.createElement("div");p.style.position="fixed",p.style.left="-10000px",p.style.top="0",p.style.width="800px",p.style.minHeight="100px",p.style.padding="20px",p.style.backgroundColor="#ffffff",p.style.color="#000000",p.style.fontFamily='system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif',p.style.fontSize="12px",p.style.lineHeight="1.6",p.style.boxSizing="border-box",p.style.visibility="visible",p.style.opacity="1",p.style.pointerEvents="none",p.style.zIndex="999999",p.style.overflow="visible",p.innerHTML=f,document.body.appendChild(p),await new Promise(I=>requestAnimationFrame(I)),await new Promise(I=>requestAnimationFrame(I)),await new Promise(I=>setTimeout(I,500)),p.offsetHeight;const u=p.scrollHeight||1e3;if(u<50)throw document.body.removeChild(p),new Error("Контейнер PDF пуст или не отрендерился");const g=await Py(p,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",logging:!1,width:800,height:u,windowWidth:800,windowHeight:u});if(document.body.removeChild(p),!g||g.width===0||g.height===0)throw new Error("Canvas пуст");const h=g.toDataURL("image/png"),y=new Gt({orientation:"p",unit:"mm",format:"a4"}),x=y.internal.pageSize.getWidth(),v=y.internal.pageSize.getHeight(),E=10,R=x-E*2,b=E,T=R,_=g.height*T/g.width;let S=_,O=0;for(y.addImage(h,"PNG",E,b,T,_),S-=v-E*2;S>0;)O=S-_,y.addPage(),y.addImage(h,"PNG",E,O,T,_),S-=v-E*2;const M=new Date().toISOString().slice(0,10);y.save(`Описание_системы_CMS_${M}.pdf`),Te.success("PDF описание системы успешно выгружено")}catch(d){console.error("Ошибка генерации PDF:",d),Te.error(`Ошибка генерации PDF: ${d.message||"Неизвестная ошибка"}`)}finally{s(!1)}},c=d=>{let f=d;return f=f.replace(/^### (.*$)/gim,'<h3 style="margin: 16px 0 8px 0; font-size: 16px; font-weight: 600; color: #1890ff;">$1</h3>'),f=f.replace(/^## (.*$)/gim,'<h2 style="margin: 20px 0 12px 0; font-size: 20px; font-weight: 700; color: #1890ff; border-bottom: 2px solid #1890ff; padding-bottom: 4px;">$1</h2>'),f=f.replace(/^# (.*$)/gim,'<h1 style="margin: 24px 0 16px 0; font-size: 24px; font-weight: 700; color: #1890ff;">$1</h1>'),f=f.replace(/\*\*(.*?)\*\*/gim,'<strong style="font-weight: 600;">$1</strong>'),f=f.replace(/^- (.*$)/gim,'<li style="margin: 4px 0; padding-left: 8px;">$1</li>'),f=f.replace(/(<li.*<\/li>)/s,'<ul style="margin: 8px 0; padding-left: 24px;">$1</ul>'),f=f.replace(/^---$/gim,'<hr style="margin: 16px 0; border: none; border-top: 1px solid #e8e8e8;" />'),f=f.split(`

`).map(p=>p.trim()&&!p.match(/^<[h|u|o|l|d]/)?`<p style="margin: 8px 0; text-align: justify;">${p.trim()}</p>`:p).join(`
`),f=f.replace(/`(.*?)`/gim,'<code style="background: #f5f5f5; padding: 2px 6px; border-radius: 3px; font-family: monospace;">$1</code>'),f=f.replace(/\[([^\]]+)\]\(([^)]+)\)/gim,'<a href="$2" style="color: #1890ff; text-decoration: none;">$1</a>'),`<div style="max-width: 800px; margin: 0 auto;">${f}</div>`};return o?i.jsxs("div",{style:{padding:"24px"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[i.jsx("h1",{style:{margin:0},children:"Настройки"}),i.jsx(Ce,{type:"primary",icon:i.jsx(MT,{}),loading:n,onClick:l,size:"large",children:"Выгрузить Описание системы"})]}),i.jsxs(dt,{gutter:[16,16],children:[i.jsx(be,{xs:24,sm:12,lg:8,children:i.jsx(Me,{hoverable:!0,style:{height:"100%"},onClick:()=>r("/settings/employees"),children:i.jsxs("div",{style:{textAlign:"center"},children:[i.jsx(es,{style:{fontSize:"48px",color:"#1890ff",marginBottom:"16px"}}),i.jsx("h3",{children:"Управление сотрудниками"}),i.jsx("p",{style:{color:"#8c8c8c"},children:"Добавление и редактирование сотрудников, их ролей и прав доступа"})]})})}),i.jsx(be,{xs:24,sm:12,lg:8,children:i.jsx(Me,{hoverable:!0,style:{height:"100%"},onClick:()=>r("/settings/reference-data"),children:i.jsxs("div",{style:{textAlign:"center"},children:[i.jsx(JA,{style:{fontSize:"48px",color:"#52c41a",marginBottom:"16px"}}),i.jsx("h3",{children:"Справочники"}),i.jsx("p",{style:{color:"#8c8c8c"},children:"Управление всеми справочниками системы"})]})})}),i.jsx(be,{xs:24,sm:12,lg:8,children:i.jsx(Me,{hoverable:!0,style:{height:"100%"},onClick:()=>r("/settings/norm-hours"),children:i.jsxs("div",{style:{textAlign:"center"},children:[i.jsx(Vn,{style:{fontSize:"48px",color:"#fa8c16",marginBottom:"16px"}}),i.jsx("h3",{children:"Нормочасы по функциям"}),i.jsx("p",{style:{color:"#8c8c8c"},children:"Управление нормочасами для расчета загрузки сотрудников"})]})})}),i.jsx(be,{xs:24,sm:12,lg:8,children:i.jsx(Me,{hoverable:!0,style:{height:"100%"},onClick:()=>r("/settings/metrics"),children:i.jsxs("div",{style:{textAlign:"center"},children:[i.jsx(tc,{style:{fontSize:"48px",color:"#722ed1",marginBottom:"16px"}}),i.jsx("h3",{children:"Метрики KPI и MBO"}),i.jsx("p",{style:{color:"#8c8c8c"},children:"Корректировка ключевых показателей и целевых значений MBO"})]})})}),i.jsx(be,{xs:24,sm:12,lg:8,children:i.jsx(Me,{hoverable:!0,style:{height:"100%"},onClick:()=>r("/settings/appraisal-companies"),children:i.jsxs("div",{style:{textAlign:"center"},children:[i.jsx(pb,{style:{fontSize:"48px",color:"#13c2c2",marginBottom:"16px"}}),i.jsx("h3",{children:"Аккредитация оценочных компаний"}),i.jsx("p",{style:{color:"#8c8c8c"},children:"Реестр оценочных компаний и управление их аккредитацией"})]})})})]})]}):i.jsx(hb,{status:"info",title:e,subTitle:t||"Этот раздел находится в разработке",extra:i.jsx(Ce,{onClick:()=>r("/registry"),children:"Вернуться к реестру"})})},id=new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",maximumFractionDigits:0}),uz=()=>{const[e,t]=K.useState([]),[r,a]=K.useState(!0),[n,s]=K.useState(null),[o,A]=K.useState(""),[l,c]=K.useState(null),[d,f]=K.useState(null),[p,u]=K.useState(null),[g,h]=K.useState(null),[y,x]=K.useState(!1),[v,E]=K.useState(null),[R,b]=K.useState(null);K.useEffect(()=>{try{const M=new URLSearchParams(window.location.search),I=M.get("q")||M.get("ref")||"",D=M.get("ref"),L=M.get("policy");D&&E(D),L&&b(L),I&&A(I)}catch{}},[]),K.useEffect(()=>{if(e.length!==0){if(R){const M=e.find(I=>I.policyNumber===R);if(M){h(M),x(!0);return}}if(v){const M=e.filter(I=>String(I.reference)===String(v));M.length>=1&&(h(M[0]),x(!0))}}},[e,v,R]),K.useEffect(()=>{let M=!0;return(async()=>{a(!0),s(null);try{const D="./",L=new URL(D,window.location.origin),N=L.pathname.endsWith("/")?L.pathname:`${L.pathname}/`,P=`${L.origin}${N}insuranceData.json?v=${Date.now()}`,Q=await fetch(P,{cache:"no-store"});if(!Q.ok)throw new Error(`Не удалось загрузить страхование (${Q.status})`);const J=await Q.json();if(!M)return;t(J.map((te,V)=>({...te,key:`ins-${V}`,reference:te.reference!=null?String(te.reference):null})))}catch(D){s(D instanceof Error?D.message:"Неизвестная ошибка"),t([])}finally{M&&a(!1)}})(),()=>{M=!1}},[]);const T=K.useMemo(()=>{const M=I=>Array.from(new Set(e.map(D=>D[I]).filter(D=>typeof D=="string"&&D.trim().length>0))).sort();return{types:M("insuranceType"),statuses:M("status"),insurers:M("insurer")}},[e]),_=K.useMemo(()=>{const M=o.trim().toLowerCase();return e.filter(I=>{const D=!M||[I.policyNumber,I.insured,I.contractNumber,I.reference,I.insurer,I.insuranceType].filter(Boolean).some(Q=>String(Q).toLowerCase().includes(M)),L=!l||I.insuranceType===l,N=!d||I.status===d,P=!p||I.insurer===p;return D&&L&&N&&P})},[e,o,l,d,p]),S=K.useMemo(()=>{const M=_.length,I=_.reduce((L,N)=>{const P=typeof N.insuredAmount=="number"?N.insuredAmount:Number(String(N.insuredAmount??"").replace(/\s/g,"").replace(",","."));return L+(Number.isFinite(P)?P:0)},0),D=_.reduce((L,N)=>{const P=typeof N.premium=="number"?N.premium:Number(String(N.premium??"").replace(/\s/g,"").replace(",","."));return L+(Number.isFinite(P)?P:0)},0);return{totalPolicies:M,totalInsured:I,totalPremium:D}},[_]),O=K.useMemo(()=>[{title:"Полис",dataIndex:"policyNumber",key:"policy",width:200,render:(M,I)=>i.jsxs("div",{children:[i.jsx("div",{style:{fontWeight:600},children:I.policyNumber}),i.jsx("div",{className:"insurance-muted",children:I.insuranceType})]})},{title:"Объект",key:"property",width:260,render:(M,I)=>i.jsxs("div",{children:[i.jsx("div",{className:"insurance-muted",children:I.propertyType??"—"}),i.jsx("div",{className:"insurance-muted",children:I.propertyAddress??"—"})]})},{title:"Сделка",key:"deal",width:220,render:(M,I)=>i.jsxs("div",{children:[i.jsxs("div",{className:"insurance-muted",children:["REFERENCE: ",I.reference??"—"]}),i.jsxs("div",{className:"insurance-muted",children:["Договор: ",I.contractNumber??"—"]})]})},{title:"Страхователь",key:"insured",width:260,render:(M,I)=>i.jsxs("div",{children:[i.jsx(ht.Text,{strong:!0,children:I.insured??"—"}),i.jsx("div",{className:"insurance-muted",children:I.insurer})]})},{title:"Суммы",key:"amounts",width:260,render:(M,I)=>i.jsxs("div",{className:"insurance-metrics",children:[i.jsxs("div",{className:"insurance-metrics-row",children:[i.jsx("span",{children:"Страховая сумма"}),i.jsx("strong",{children:I.insuredAmount?id.format(Number(String(I.insuredAmount).replace(/\s/g,"").replace(",","."))):"—"})]}),i.jsxs("div",{className:"insurance-metrics-row",children:[i.jsx("span",{children:"Премия"}),i.jsx("strong",{children:I.premium?id.format(Number(String(I.premium).replace(/\s/g,"").replace(",","."))):"—"})]})]})},{title:"Срок",key:"term",width:220,render:(M,I)=>i.jsxs("div",{children:[i.jsxs("div",{className:"insurance-muted",children:["Начало: ",I.startDate??"—"]}),i.jsxs("div",{className:"insurance-muted",children:["Окончание: ",I.endDate??"—"]})]})},{title:"Статус",dataIndex:"status",key:"status",width:160,render:M=>{const I=M==="Активен"?"green":M==="Требует продления"?"orange":M==="Истек"?"volcano":"default";return i.jsx(et,{color:I,children:M})}}],[]);return i.jsxs("div",{className:"insurance-page",children:[i.jsxs("div",{className:"insurance-header",children:[i.jsxs("div",{children:[i.jsx(ht.Title,{level:2,className:"insurance-title",children:"Страхование"}),i.jsx(ht.Paragraph,{className:"insurance-subtitle",children:"Полисы страхования, связанные с договорами залогового портфеля"})]}),i.jsx(Oe,{size:"middle",direction:"vertical",children:i.jsx(Jr,{title:"Поиск по полисам, клиентам, договорам",children:i.jsx(Re,{allowClear:!0,size:"large",placeholder:"Поиск по полисам, клиентам, REFERENCE",prefix:i.jsx(qa,{}),value:o,onChange:M=>A(M.target.value),style:{width:360}})})})]}),i.jsx(Me,{children:i.jsxs("div",{className:"insurance-filters",children:[i.jsx(Ve,{allowClear:!0,placeholder:"Вид страхования",style:{width:200},options:T.types.map(M=>({label:M,value:M})),value:l??void 0,onChange:M=>c(M??null)}),i.jsx(Ve,{allowClear:!0,placeholder:"Статус",style:{width:200},options:T.statuses.map(M=>({label:M,value:M})),value:d??void 0,onChange:M=>f(M??null)}),i.jsx(Ve,{allowClear:!0,placeholder:"Страховщик",style:{width:200},options:T.insurers.map(M=>({label:M,value:M})),value:p??void 0,onChange:M=>u(M??null)})]})}),i.jsxs(dt,{gutter:[16,16],className:"insurance-stats",children:[i.jsx(be,{xs:24,sm:12,md:8,children:i.jsx(Me,{children:i.jsx(ut,{title:"Количество полисов",value:S.totalPolicies,prefix:i.jsx(pb,{})})})}),i.jsx(be,{xs:24,sm:12,md:8,children:i.jsx(Me,{children:i.jsx(ut,{title:"Совокупная страховая сумма",value:id.format(S.totalInsured)})})}),i.jsx(be,{xs:24,sm:12,md:8,children:i.jsx(Me,{children:i.jsx(ut,{title:"Совокупная премия",value:id.format(S.totalPremium),prefix:i.jsx(PT,{})})})})]}),i.jsx(Me,{className:"insurance-table-card",bodyStyle:{padding:0},children:i.jsx(nr,{columns:O,dataSource:_,pagination:{pageSize:20,showSizeChanger:!1},scroll:{x:1200},loading:r,onRow:M=>({onDoubleClick:()=>{h(M),x(!0)}}),locale:{emptyText:i.jsx(Sr,{description:"Нет записей, удовлетворяющих фильтрам",className:"insurance-empty"})}})}),n&&i.jsx(Ir,{type:"error",showIcon:!0,message:"Не удалось загрузить страховые данные",description:n,action:i.jsx("a",{onClick:()=>window.location.reload(),style:{fontWeight:600},children:"Повторить"})}),r&&i.jsx("div",{style:{textAlign:"center"},children:i.jsx(ei,{tip:"Загружаем страховые данные..."})}),i.jsx(lr,{title:"Карточка полиса",open:y,onCancel:()=>x(!1),footer:null,width:720,children:g&&i.jsxs(Oe,{direction:"vertical",size:"small",style:{width:"100%"},children:[i.jsx(ht.Text,{strong:!0,children:"Полис:"})," ",g.policyNumber,i.jsxs("div",{className:"insurance-muted",children:["Тип: ",g.insuranceType]}),i.jsxs("div",{className:"insurance-muted",children:["Тип имущества: ",g.propertyType??"—"]}),i.jsxs("div",{className:"insurance-muted",children:["Адрес имущества: ",g.propertyAddress??"—"]}),i.jsxs("div",{className:"insurance-muted",children:["Страхователь: ",g.insured??"—"]}),i.jsxs("div",{className:"insurance-muted",children:["REFERENCE сделки: ",g.reference??"—"]}),i.jsxs("div",{className:"insurance-muted",children:["Договор: ",g.contractNumber??"—"]}),i.jsxs("div",{className:"insurance-muted",children:["Страховая сумма:"," ",typeof g.insuredAmount=="number"?id.format(g.insuredAmount):"—"]}),i.jsxs("div",{className:"insurance-muted",children:["Премия:"," ",typeof g.premium=="number"?id.format(g.premium):"—"]}),i.jsxs("div",{className:"insurance-muted",children:["Срок: ",g.startDate??"—"," — ",g.endDate??"—"]}),i.jsxs("div",{className:"insurance-muted",children:["Страховщик: ",g.insurer]}),i.jsx("div",{children:i.jsx(et,{children:g.status})})]})})]})},{TextArea:fz}=Re,{Option:Hp}=Ve,pz=[{value:"Оценка",label:"Оценка"},{value:"Экспертиза",label:"Экспертиза"},{value:"Рецензия",label:"Рецензия"},{value:"ПРКК",label:"ПРКК"},{value:"Прочее",label:"Прочее"},{value:"Отчетность",label:"Отчетность"},{value:"Подготовка СЗ",label:"Подготовка СЗ"}],hz=[{value:"low",label:"Низкий"},{value:"medium",label:"Средний"},{value:"high",label:"Высокий"},{value:"critical",label:"Критический"}],mz=["Москва","Санкт-Петербург","Новосибирск","Екатеринбург"],gz=({visible:e,deal:t,onCancel:r,onSuccess:a})=>{const[n]=ne.useForm(),[s,o]=K.useState(!1),[A,l]=K.useState([]);K.useEffect(()=>{var f,p,u,g;e&&t&&(n.setFieldsValue({region:(f=t.collateralLocation)!=null&&f.includes("Москва")?"Москва":(p=t.collateralLocation)!=null&&p.includes("Санкт-Петербург")?"Санкт-Петербург":(u=t.collateralLocation)!=null&&u.includes("Новосибирск")?"Новосибирск":(g=t.collateralLocation)!=null&&g.includes("Екатеринбург")?"Екатеринбург":"Москва",title:`Сделка ${t.reference||t.contractNumber||""} - ${t.borrower||t.pledger||""}`,description:`Задача по сделке REFERENCE: ${t.reference||t.contractNumber||""}
Заемщик: ${t.borrower||"Не указан"}
Залогодатель: ${t.pledger||"Не указан"}
Тип обеспечения: ${t.collateralType||"Не указан"}
Местоположение: ${t.collateralLocation||"Не указано"}`,priority:"medium",dueDate:We().add(7,"day")}),c())},[e,t,n]);const c=()=>{try{const f=localStorage.getItem("zadachnik_users");if(f){const p=JSON.parse(f),u=(p==null?void 0:p.employee)||[];l(u)}}catch(f){console.error("Ошибка загрузки сотрудников:",f)}},d=async()=>{var f,p,u,g,h;try{const y=await n.validateFields();o(!0);const x=(await mi(async()=>{const{default:R}=await Promise.resolve().then(()=>V7);return{default:R}},void 0,import.meta.url)).default;let v=[];try{v=await x.getTasks()}catch{try{const b=localStorage.getItem("zadachnik_tasks");b&&(v=JSON.parse(b))}catch(b){console.warn("Не удалось загрузить задачи:",b)}}const E={id:`T-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,region:y.region,type:y.type,category:y.type,title:y.title,description:y.description||"",priority:y.priority,dueDate:y.dueDate.format("YYYY-MM-DD"),status:"created",businessUser:"system@cms.ru",businessUserName:"Система CMS",assignedTo:y.assignedTo||[],currentAssignee:((f=y.assignedTo)==null?void 0:f[0])||null,currentAssigneeName:(p=y.assignedTo)!=null&&p[0]?(u=A.find(R=>R.email===y.assignedTo[0]))==null?void 0:u.name:null,employeeId:(g=y.assignedTo)!=null&&g[0]?(h=A.find(R=>R.email===y.assignedTo[0]))==null?void 0:h.id:void 0,documents:[],comments:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),history:[{date:new Date().toISOString(),user:"Система CMS",userRole:"system",action:"Создана",comment:`Задача создана из карточки сделки ${(t==null?void 0:t.reference)||(t==null?void 0:t.contractNumber)||""}`,status:"created"}]};v.push(E);try{await x.saveTasks(v)}catch(R){console.error("Ошибка сохранения задачи в IndexedDB:",R),Te.error("Не удалось сохранить задачу. Попробуйте еще раз."),o(!1);return}Te.success("Задача успешно создана в Задачнике"),n.resetFields(),o(!1),a==null||a(),r()}catch(y){console.error("Ошибка создания задачи:",y),Te.error("Ошибка при создании задачи"),o(!1)}};return i.jsx(lr,{title:"Создать задачу в Задачнике",open:e,onCancel:r,footer:[i.jsx(Ce,{onClick:r,children:"Отмена"},"cancel"),i.jsx(Ce,{type:"primary",loading:s,onClick:d,children:"Создать задачу"},"submit")],width:600,children:i.jsxs(ne,{form:n,layout:"vertical",children:[i.jsx(ne.Item,{name:"region",label:"Регион",rules:[{required:!0,message:"Выберите регион"}],children:i.jsx(Ve,{placeholder:"Выберите регион",children:mz.map(f=>i.jsx(Hp,{value:f,children:f},f))})}),i.jsx(ne.Item,{name:"type",label:"Тип задачи",rules:[{required:!0,message:"Выберите тип задачи"}],children:i.jsx(Ve,{placeholder:"Выберите тип задачи",children:pz.map(f=>i.jsx(Hp,{value:f.value,children:f.label},f.value))})}),i.jsx(ne.Item,{name:"title",label:"Название задачи",rules:[{required:!0,message:"Введите название задачи"}],children:i.jsx(Re,{placeholder:"Название задачи"})}),i.jsx(ne.Item,{name:"description",label:"Описание",children:i.jsx(fz,{rows:4,placeholder:"Описание задачи"})}),i.jsx(ne.Item,{name:"priority",label:"Приоритет",rules:[{required:!0,message:"Выберите приоритет"}],children:i.jsx(Ve,{placeholder:"Выберите приоритет",children:hz.map(f=>i.jsx(Hp,{value:f.value,children:f.label},f.value))})}),i.jsx(ne.Item,{name:"dueDate",label:"Срок выполнения",rules:[{required:!0,message:"Выберите срок выполнения"}],children:i.jsx(kr,{style:{width:"100%"},format:"YYYY-MM-DD"})}),i.jsx(ne.Item,{name:"assignedTo",label:"Исполнитель (необязательно)",children:i.jsx(Ve,{mode:"multiple",placeholder:"Выберите исполнителя",showSearch:!0,filterOption:(f,p)=>(typeof(p==null?void 0:p.label)=="string"?p.label:String((p==null?void 0:p.children)||"")).toLowerCase().includes(f.toLowerCase()),children:A.map(f=>i.jsxs(Hp,{value:f.email,children:[f.name," (",f.email,")"]},f.email))})}),t&&i.jsx(ne.Item,{label:"Связанная сделка",children:i.jsxs(Oe,{direction:"vertical",size:"small",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"REFERENCE:"})," ",t.reference||t.contractNumber||"Не указан"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Заемщик:"})," ",t.borrower||"Не указан"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Залогодатель:"})," ",t.pledger||"Не указан"]})]})})]})})},_1={Здание:"жилые пом _Здания",Сооружение:"жилые пом _Здания",Помещение:"жилые пом _Здания","Земельный участок":"Земельные участки","Нежилое здание":"Нежилые здания_Помещения","Нежилое помещение":"Нежилые здания_Помещения","Транспортное средство":"ТС и СМ","Самоходная машина":"ТС и СМ","Товарно-материальные ценности":"ТМЦ",Оборудование:"Оборудование","Воздушное судно":"Воздушные суда","Морское судно":"Морские и речные суда","Речное судно":"Морские и речные суда","Железнодорожный подвижной состав":"Подвижной ж_д состав","Имущественные права":"Имущественные права","Уступка прав требования":"Уступка прав требования","Права на строительство":"Имущ.права  стр-во_инвест.","Права на инвестиции":"Имущ.права  стр-во_инвест.","Ценные бумаги":"ценные бумаги_акции",Акции:"ценные бумаги_акции","Доли в уставном капитале":"Доли в УК","Залоговый счет":"Залоговый счет",ГУП:"ГУП МУП",МУП:"ГУП МУП","214-ФЗ":"214-ФЗ"};function xz(e){if(_1[e])return _1[e];const t=e.toLowerCase();for(const[r,a]of Object.entries(_1))if(t.includes(r.toLowerCase())||r.toLowerCase().includes(t))return a;return"ТС и СМ"}async function yz(){try{const e="./",t=new URL(e,window.location.origin),r=t.pathname.endsWith("/")?t.pathname:`${t.pathname}/`,a=`${t.origin}${r}Documents.xlsx`,n=await fetch(a,{cache:"no-store",signal:AbortSignal.timeout(5e3)}).catch(()=>null);if(!n||!n.ok)return new Map;const s=await n.arrayBuffer(),o=dc(s,{type:"array"}),A=new Map;return o.SheetNames.forEach(l=>{const c=o.Sheets[l],f=pi.sheet_to_json(c,{header:1,defval:""}).filter(p=>p[1]&&typeof p[1]=="number"&&p[2]).map(p=>({num:p[1],name:String(p[2]||"").trim(),format:String(p[3]||"").trim(),legal:String(p[4]||"").trim()})).filter(p=>p.name.length>0);f.length>0&&A.set(l,f)}),A}catch{return new Map}}function vz(e,t,r){var A;const a=[],n=((A=t==null?void 0:t.classification)==null?void 0:A.propertyType)||(t==null?void 0:t.mainCategory)||"Транспортное средство",s=xz(n),o=r.get(s)||[];return o.length===0?(["Договор залога","Отчет об оценке","Заключение юридической службы","Акт осмотра","Страховой полис"].forEach((c,d)=>{a.push({id:`doc-${e.reference}-${d}`,reference:String(e.reference),borrower:e.borrower||null,pledger:e.pledger||null,inn:e.inn||null,docType:c,folderId:`folder-${e.reference}`,folderPath:[e.borrower||"Не указан",e.pledger||"Не указан",`Договор ${e.contractNumber||e.reference}`],description:`Документ по сделке ${e.reference}`,status:d<3?"Загружен":d===3?"На согласовании":"Требует обновления",statusColor:d<3?"green":d===3?"orange":"red",fileName:`${c}_${e.reference}.pdf`,lastUpdated:new Date(Date.now()-Math.random()*30*24*60*60*1e3).toLocaleDateString("ru-RU"),responsible:"Иванов И.И.",size:`${Math.floor(Math.random()*5e3+100)} КБ`})}),a):(o.slice(0,Math.min(10,o.length)).forEach(l=>{const c=["Загружен","На согласовании","Требует обновления"],d=["green","orange","red"],f=Math.floor(Math.random()*c.length);a.push({id:`doc-${e.reference}-${l.num}`,reference:String(e.reference),borrower:e.borrower||null,pledger:e.pledger||null,inn:e.inn||null,docType:l.name,folderId:`folder-${e.reference}`,folderPath:[e.borrower||"Не указан",e.pledger||"Не указан",`Договор ${e.contractNumber||e.reference}`],description:l.format||void 0,status:c[f],statusColor:d[f],fileName:`${l.name.replace(/[^a-zA-Zа-яА-Я0-9]/g,"_")}_${e.reference}.pdf`,lastUpdated:new Date(Date.now()-Math.random()*90*24*60*60*1e3).toLocaleDateString("ru-RU"),responsible:["Иванов И.И.","Петров П.П.","Сидоров С.С."][Math.floor(Math.random()*3)],size:`${Math.floor(Math.random()*5e3+100)} КБ`})}),a)}function wz(e){const t=new Map;return e.forEach(r=>{const a=r.borrower||"Не указан",n=r.pledger||"Не указан",s=`Договор ${r.contractNumber||r.reference}`,o=`client-${a}`;t.has(o)||t.set(o,{id:o,path:[a],description:`Документы клиента: ${a}`});const A=`pledger-${a}-${n}`;t.has(A)||t.set(A,{id:A,path:[a,n],description:`Документы залогодателя: ${n}`});const l=`contract-${r.reference}`;t.has(l)||t.set(l,{id:l,path:[a,n,s],description:`Документы по договору: ${s}`})}),Array.from(t.values())}async function sS(e,t){const r=await yz(),a=new Map;t.forEach(o=>{var A;(A=o.characteristics)!=null&&A.reference&&a.set(String(o.characteristics.reference),o)});const n=[];return e.forEach(o=>{const A=a.get(String(o.reference)),l=vz(o,A||null,r);n.push(...l)}),{folders:wz(e),documents:n}}const{Text:C1}=ht,Ez=new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",maximumFractionDigits:0}),OE=e=>e==null?"—":Ez.format(e),bz=({visible:e,onCancel:t,onSelect:r,excludeIds:a=[]})=>{const[n,s]=K.useState(""),[o,A]=K.useState([]),[l,c]=K.useState(!1),[d,f]=K.useState([]),p=K.useCallback(()=>{if(n.trim()){const h=n.toLowerCase(),y=o.filter(x=>{var v,E,R,b,T;return a.includes(x.id)?!1:((v=x.name)==null?void 0:v.toLowerCase().includes(h))||((E=x.number)==null?void 0:E.toLowerCase().includes(h))||((b=(R=x.address)==null?void 0:R.fullAddress)==null?void 0:b.toLowerCase().includes(h))||((T=x.propertyType)==null?void 0:T.toLowerCase().includes(h))});f(y)}else f(o.filter(h=>!a.includes(h.id)))},[n,o,a]),u=K.useCallback(async()=>{c(!0);try{const h=await Dt.getExtendedCards();A(h),f(h.filter(y=>!a.includes(y.id)))}catch(h){console.error("Ошибка загрузки объектов:",h)}finally{c(!1)}},[a]);K.useEffect(()=>{e&&u()},[e,u]),K.useEffect(()=>{p()},[p]);const g=[{title:"Наименование",dataIndex:"name",key:"name",render:(h,y)=>i.jsxs(Oe,{direction:"vertical",size:0,children:[i.jsx(C1,{strong:!0,children:y.name}),i.jsx(C1,{type:"secondary",style:{fontSize:"12px"},children:y.number})]})},{title:"Тип имущества",key:"propertyType",render:(h,y)=>i.jsx(et,{children:y.propertyType||"—"})},{title:"Адрес",key:"address",render:(h,y)=>{var x;return i.jsx(C1,{children:((x=y.address)==null?void 0:x.fullAddress)||"—"})}},{title:"Рыночная стоимость",key:"marketValue",align:"right",render:(h,y)=>OE(y.marketValue)},{title:"Залоговая стоимость",key:"pledgeValue",align:"right",render:(h,y)=>OE(y.pledgeValue)},{title:"Действие",key:"action",width:120,render:(h,y)=>i.jsx("a",{onClick:()=>r(y),children:"Выбрать"})}];return i.jsx(lr,{title:"Выбор объекта обеспечения",open:e,onCancel:t,footer:null,width:900,children:i.jsxs(Oe,{direction:"vertical",size:"middle",style:{width:"100%"},children:[i.jsx(Re,{placeholder:"Поиск по наименованию, номеру, адресу...",prefix:i.jsx(qa,{}),value:n,onChange:h=>s(h.target.value),allowClear:!0}),l?i.jsx(ei,{tip:"Загрузка объектов..."}):d.length>0?i.jsx(nr,{columns:g,dataSource:d,rowKey:"id",pagination:{pageSize:10},size:"small",onRow:h=>({onDoubleClick:()=>r(h)})}):i.jsx(Sr,{description:"Объекты не найдены"})]})})},_z=new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",maximumFractionDigits:0}),Cz=new Intl.NumberFormat("ru-RU",{style:"percent",maximumFractionDigits:1}),qi=e=>{const t=typeof e=="number"?e:e?parseFloat(String(e)):null;return t==null?"—":_z.format(t)},rn=e=>{if(e==null)return"—";const t=String(e).trim();return t.length>0?t:"—"},Bz=({contract:e,visible:t,onClose:r,onUpdate:a})=>{const n=$s(),[s,o]=K.useState("general"),[A,l]=K.useState([]),[c,d]=K.useState(!1),[f,p]=K.useState(!1),[u,g]=K.useState([]),[h,y]=K.useState([]),[x,v]=K.useState(!1),E=K.useCallback(async()=>{d(!0);try{const N=String(e.reference??e.contractNumber??""),Q=(await Dt.getExtendedCards()).filter(J=>J.reference&&String(J.reference)===N||J.contractNumber&&J.contractNumber===e.contractNumber);l(Q)}catch(N){console.error("Ошибка загрузки объектов:",N),Te.error("Ошибка загрузки объектов")}finally{d(!1)}},[e]),R=K.useCallback(async()=>{if(e){v(!0);try{const N=localStorage.getItem("collateralDossierData");let P=[];if(N)P=JSON.parse(N).documents;else{const z=(()=>{const Y="./",de=new URL(Y,window.location.origin),ue=de.pathname.endsWith("/")?de.pathname:`${de.pathname}/`;return`${de.origin}${ue}portfolioData.json`})(),C=await fetch(`${z}?v=${Date.now()}`,{cache:"no-store"});let k=[];C.ok&&(k=await C.json());const j=await Dt.getExtendedCards();P=(await sS(k,j)).documents}const Q=e.collateralContractNumber,J=String(e.reference||""),te=P.filter(z=>z.reference===J||Q&&z.folderPath.some(C=>C.includes(Q)));g(te);const G=(await Sa.getInspections()).filter(z=>A.some(C=>z.collateralCardId===C.id||z.collateralNumber===C.number));y(G)}catch(N){console.error("Ошибка загрузки документов:",N),Te.error("Ошибка загрузки документов")}finally{v(!1)}}},[e,A]);K.useEffect(()=>{t&&e&&E()},[t,e,E]),K.useEffect(()=>{t&&e&&A.length>0&&s==="documents"&&R()},[t,e,A,s,R]);const b=.75,T=K.useMemo(()=>A.reduce((N,P)=>N+(P.marketValue||0),0),[A]),_=K.useMemo(()=>Math.floor(T*b),[T]),S=K.useMemo(()=>{const N=typeof e.debtRub=="number"?e.debtRub:parseFloat(String(e.debtRub||0)),P=typeof e.marketValue=="number"?e.marketValue:parseFloat(String(e.marketValue||0));return P>0?Math.min(N/P,2):null},[e.debtRub,e.marketValue]),O=async N=>{try{const P=A.find(z=>z.id===N);if(!P)return;const Q={...P,reference:void 0,contractNumber:void 0,contractId:void 0};await Dt.saveExtendedCard(Q);const J=P.marketValue||0,te=typeof e.marketValue=="number"?e.marketValue:parseFloat(String(e.marketValue||0)),V=Math.max(0,te-J),G=Math.floor(V*b);a&&a({...e,collateralValue:G,marketValue:V,currentMarketValue:V}),Te.success("Объект отвязан от договора"),await E()}catch(P){console.error("Ошибка отвязки объекта:",P),Te.error("Ошибка при отвязке объекта")}},M=async N=>{try{const P=String(e.reference??e.contractNumber??""),Q={...N,reference:P,contractNumber:e.contractNumber||void 0,contractId:e.contractNumber||void 0};await Dt.saveExtendedCard(Q);const J=N.marketValue||0,V=(typeof e.marketValue=="number"?e.marketValue:parseFloat(String(e.marketValue||0)))+J,G=Math.floor(V*b);a&&a({...e,collateralValue:G,marketValue:V,currentMarketValue:V}),Te.success("Объект привязан к договору"),await E(),p(!1)}catch(P){console.error("Ошибка привязки объекта:",P),Te.error("Ошибка при привязке объекта")}},I=N=>{n(`/registry?objectId=${N}`),r()},D=[{title:"Наименование",dataIndex:"name",key:"name",render:(N,P)=>i.jsxs(Oe,{direction:"vertical",size:0,children:[i.jsx(ht.Text,{strong:!0,children:P.name}),i.jsxs(ht.Text,{type:"secondary",style:{fontSize:"12px"},children:["ID: ",P.id]})]})},{title:"Адрес",key:"address",render:(N,P)=>{var Q;return i.jsx(ht.Text,{children:((Q=P.address)==null?void 0:Q.fullAddress)||"—"})}},{title:"Рыночная стоимость",key:"marketValue",align:"right",render:(N,P)=>qi(P.marketValue)},{title:"Залоговая стоимость",key:"pledgeValue",align:"right",render:(N,P)=>qi(P.pledgeValue)},{title:"Характеристики",key:"characteristics",render:(N,P)=>{var J;const Q=[];return P.propertyType&&Q.push(P.propertyType),(J=P.classification)!=null&&J.level1&&Q.push(P.classification.level1),i.jsx(Oe,{wrap:!0,children:Q.map((te,V)=>i.jsx(et,{children:te},V))})}},{title:"Действия",key:"actions",width:200,render:(N,P)=>i.jsxs(Oe,{children:[i.jsx(Ce,{type:"link",size:"small",icon:i.jsx(eA,{}),onClick:()=>I(P.id),children:"Открыть"}),i.jsx(ho,{title:"Отвязать объект от договора?",description:"Стоимость договора будет уменьшена на стоимость объекта",onConfirm:()=>O(P.id),okText:"Да",cancelText:"Нет",children:i.jsx(Ce,{type:"link",danger:!0,size:"small",icon:i.jsx(Ss,{}),children:"Отвязать"})})]})}],L=[{key:"general",label:i.jsxs("span",{children:[i.jsx(Dr,{}),"Общие сведения"]}),children:i.jsxs(Oe,{direction:"vertical",size:"large",style:{width:"100%"},children:[i.jsxs(ye,{title:"Общие сведения",bordered:!0,column:3,size:"small",children:[i.jsx(ye.Item,{label:"Сегмент",children:rn(e.segment)}),i.jsx(ye.Item,{label:"Группа",children:rn(e.group)}),i.jsx(ye.Item,{label:"REFERENCE",children:rn(e.reference)}),i.jsx(ye.Item,{label:"Залогодатель",children:rn(e.pledger)}),i.jsx(ye.Item,{label:"ИНН",children:rn(e.inn)}),i.jsx(ye.Item,{label:"Заемщик",children:rn(e.borrower)}),i.jsx(ye.Item,{label:"№ договора",children:rn(e.contractNumber)}),i.jsx(ye.Item,{label:"Дата договора",children:rn(e.contractDate)}),i.jsx(ye.Item,{label:"Тип",children:rn(e.type)}),i.jsx(ye.Item,{label:"Дата открытия",children:rn(e.openDate)}),i.jsx(ye.Item,{label:"Дата закрытия",children:rn(e.closeDate)})]}),i.jsxs(ye,{title:"Финансовые показатели",bordered:!0,column:3,size:"small",children:[i.jsx(ye.Item,{label:"Задолженность, руб.",children:qi(e.debtRub)}),i.jsx(ye.Item,{label:"Лимит, руб.",children:qi(e.limitRub)}),i.jsx(ye.Item,{label:"LTV",children:S!==null?i.jsx(et,{color:S>.8?"red":S>.6?"orange":"green",children:Cz.format(S)}):"—"}),i.jsx(ye.Item,{label:"Проср. ОД, руб.",children:qi(e.overduePrincipal)}),i.jsx(ye.Item,{label:"Проср. %, руб.",children:qi(e.overdueInterest)})]}),i.jsxs(ye,{title:"Оценка обеспечения",bordered:!0,column:3,size:"small",children:[i.jsx(ye.Item,{label:"Залоговая стоимость, руб.",children:qi(e.collateralValue)}),i.jsx(ye.Item,{label:"Рыночная стоимость, руб.",children:qi(e.marketValue)}),i.jsx(ye.Item,{label:"Совокупная рыночная стоимость объектов",children:qi(T)}),i.jsx(ye.Item,{label:"Совокупная залоговая стоимость объектов",children:qi(_)}),i.jsx(ye.Item,{label:"Дата первоначального определения стоимости",children:rn(e.initialValuationDate)}),i.jsx(ye.Item,{label:"Актуальная рыночная стоимость, руб.",children:qi(e.currentMarketValue)}),i.jsx(ye.Item,{label:"Дата определения текущей стоимости",children:rn(e.currentValuationDate)})]}),i.jsxs(ye,{title:"Обеспечение",bordered:!0,column:3,size:"small",children:[i.jsx(ye.Item,{label:"Тип обеспечения",children:rn(e.collateralType)}),i.jsx(ye.Item,{label:"Назначение обеспечения",span:2,children:rn(e.collateralPurpose)}),i.jsx(ye.Item,{label:"Информация о залоге",span:3,children:rn(e.collateralInfo)}),i.jsx(ye.Item,{label:"Местоположение предмета залога",span:2,children:rn(e.collateralLocation)}),i.jsx(ye.Item,{label:"Ликвидность",children:rn(e.liquidity)})]})]})},{key:"objects",label:i.jsxs("span",{children:[i.jsx(hh,{}),"Объекты в договоре (",A.length,")"]}),children:i.jsxs("div",{children:[i.jsxs("div",{style:{marginBottom:16,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsx("div",{children:i.jsxs(Oe,{direction:"vertical",size:"small",children:[i.jsxs("div",{children:[i.jsx(ht.Text,{strong:!0,children:"Рыночная стоимость: "}),i.jsx(ht.Text,{strong:!0,style:{color:"#52c41a",fontSize:"16px"},children:qi(T)})]}),i.jsxs("div",{children:[i.jsx(ht.Text,{strong:!0,children:"Залоговая стоимость (с дисконтом 75%): "}),i.jsx(ht.Text,{strong:!0,style:{color:"#1890ff",fontSize:"16px"},children:qi(_)})]})]})}),i.jsx(Ce,{type:"primary",icon:i.jsx(wi,{}),onClick:()=>p(!0),children:"Привязать объект"})]}),c?i.jsx(ei,{tip:"Загрузка объектов..."}):A.length>0?i.jsx(nr,{columns:D,dataSource:A,rowKey:"id",pagination:!1,size:"small"}):i.jsx(Sr,{description:"Объекты по данному договору не найдены"})]})},{key:"documents",label:i.jsxs("span",{children:[i.jsx(co,{}),"Документы"]}),children:i.jsx("div",{children:x?i.jsx(ei,{tip:"Загрузка документов..."}):i.jsxs(Oe,{direction:"vertical",size:"large",style:{width:"100%"},children:[i.jsxs("div",{children:[i.jsx(ht.Title,{level:5,children:"Документы из залогового досье"}),u.length>0?i.jsx(nr,{columns:[{title:"Тип документа",dataIndex:"docType",key:"docType",render:N=>i.jsxs(Oe,{children:[i.jsx(Dr,{style:{color:"#1890ff"}}),i.jsx("span",{children:N.length>50?N.substring(0,47)+"...":N})]})},{title:"Имя файла",dataIndex:"fileName",key:"fileName",ellipsis:!0},{title:"Статус",dataIndex:"status",key:"status",render:(N,P)=>i.jsx(et,{color:P.statusColor||"default",children:N})},{title:"Размер",dataIndex:"size",key:"size"},{title:"Обновлен",dataIndex:"lastUpdated",key:"lastUpdated"},{title:"Действия",key:"actions",render:()=>i.jsx(Ce,{type:"link",size:"small",icon:i.jsx(Fn,{}),children:"Скачать"})}],dataSource:u,rowKey:"id",pagination:{pageSize:10},size:"small"}):i.jsx(Sr,{description:"Документы из залогового досье не найдены"})]}),i.jsx(kt,{}),i.jsxs("div",{children:[i.jsx(ht.Title,{level:5,children:"Залоговое заключение"}),i.jsx(Sr,{description:"Залоговое заключение не найдено"})]}),i.jsx(kt,{}),i.jsxs("div",{children:[i.jsx(ht.Title,{level:5,children:"Акты осмотра"}),h.length>0?i.jsx(nr,{columns:[{title:"Дата осмотра",dataIndex:"inspectionDate",key:"inspectionDate",render:N=>new Date(N).toLocaleDateString("ru-RU")},{title:"Тип осмотра",dataIndex:"inspectionTypeLabel",key:"inspectionTypeLabel"},{title:"Инспектор",dataIndex:"inspectorName",key:"inspectorName"},{title:"Объект",dataIndex:"collateralCardName",key:"collateralCardName",ellipsis:!0},{title:"Действия",key:"actions",render:(N,P)=>i.jsxs(Oe,{children:[i.jsx(Ce,{type:"link",size:"small",icon:i.jsx(Ts,{}),onClick:()=>{n(`/cms-check/inspections?inspectionId=${P.id}`),r()},children:"Просмотр"}),i.jsx(Ce,{type:"link",size:"small",icon:i.jsx(Fn,{}),children:"Скачать PDF"})]})}],dataSource:h,rowKey:"id",pagination:{pageSize:5},size:"small"}):i.jsx(Sr,{description:"Акты осмотра не найдены"})]}),i.jsx(kt,{}),A.some(N=>N.mainCategory==="real_estate")&&i.jsxs("div",{children:[i.jsx(ht.Title,{level:5,children:"Выписки ЕГРН"}),i.jsx(Sr,{description:"Выписки ЕГРН не найдены"})]})]})})}];return i.jsxs(i.Fragment,{children:[i.jsx(lr,{title:i.jsxs(Oe,{children:[i.jsx(Dr,{}),i.jsx("span",{children:"Карточка договора залога"}),i.jsx(et,{children:rn(e.reference)})]}),open:t,onCancel:r,footer:[i.jsx(Ce,{onClick:r,children:"Закрыть"},"close")],width:"90%",style:{top:20},styles:{body:{maxHeight:"70vh",overflowY:"auto"}},children:i.jsx(ts,{activeKey:s,onChange:o,items:L})}),i.jsx(bz,{visible:f,onCancel:()=>p(!1),onSelect:M,excludeIds:A.map(N=>N.id)})]})},Sz=.75,Tz=e=>Math.floor(e*Sz),Oz=async e=>{try{const t=await Dt.getExtendedCards(),r=new Map;return t.forEach(n=>{const s=n.reference||n.contractNumber;if(s){const o=String(s);r.has(o)||r.set(o,[]),r.get(o).push(n)}}),e.map(n=>{const s=String(n.reference||n.contractNumber||""),o=r.get(s)||[];if(o.length===0)return n;const A=o.reduce((c,d)=>c+(d.marketValue||0),0),l=Tz(A);return{...n,marketValue:A,collateralValue:l,currentMarketValue:A}})}catch(t){return console.error("Ошибка обновления портфеля:",t),e}},sd=new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",maximumFractionDigits:0}),B1=new Intl.NumberFormat("ru-RU",{style:"percent",maximumFractionDigits:1}),hs=e=>{if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=e.replace(/\s/g,"").replace(",","."),r=Number(t);return Number.isFinite(r)?r:null}return null},Iz={Высокая:"green",Средняя:"blue",Низкая:"orange",Малоудовлетворительная:"volcano"},Nz=()=>{const e=ul(),[t,r]=K.useState(""),[a,n]=K.useState("all"),[s,o]=K.useState(null),[A,l]=K.useState(null),[c,d]=K.useState(null),[f,p]=K.useState(null),[u,g]=K.useState([]),[h,y]=K.useState(!0),[x,v]=K.useState(null),[E,R]=K.useState(null),[b,T]=K.useState(!1),[_,S]=K.useState(!1);K.useEffect(()=>{let P=!0;return(async()=>{y(!0),v(null);try{const J=(()=>{const k="./",j=new URL(k,window.location.origin),H=j.pathname.endsWith("/")?j.pathname:`${j.pathname}/`;return`${j.origin}${H}portfolioData.json`})(),te=await fetch(`${J}?v=${Date.now()}`,{cache:"no-store"});if(!te.ok)throw new Error(`Не удалось загрузить данные (${te.status})`);const V=await te.json();if(!P)return;const G=QP(V),C=(await Oz(G)).map((k,j)=>({...k,key:`portfolio-${j}`,reference:k.reference!=null?String(k.reference):null,inn:k.inn!=null?String(k.inn):null,account9131:k.account9131!=null?String(k.account9131):null}));g(C)}catch(J){v(J instanceof Error?J.message:"Неизвестная ошибка"),g([])}finally{P&&y(!1)}})(),()=>{P=!1}},[]);const O=Qa.useCallback(P=>{R(P),T(!0)},[]);K.useEffect(()=>{if(u.length>0){const Q=new URLSearchParams(e.search).get("q");if(Q){r(Q);const J=u.find(te=>{var V,G;return String(te.reference)===Q||String(te.contractNumber)===Q||((V=String(te.borrower))==null?void 0:V.toLowerCase().includes(Q.toLowerCase()))||((G=String(te.pledger))==null?void 0:G.toLowerCase().includes(Q.toLowerCase()))});J&&setTimeout(()=>{O(J)},500)}}},[u,e.search,O]);const M=K.useMemo(()=>{const P=Q=>{const J=u.map(te=>te[Q]).filter(te=>typeof te=="string"&&te.trim().length>0);return Array.from(new Set(J)).sort()};return{segments:P("segment"),groups:P("group"),liquidity:P("liquidity"),monitoring:P("monitoringType")}},[u]),I=K.useMemo(()=>{const P=t.trim().toLowerCase();return u.filter(Q=>{const J=!P||[Q.reference,Q.pledger,Q.borrower,Q.collateralInfo,Q.collateralLocation,Q.contractNumber,Q.account9131].filter(Boolean).some(C=>String(C).toLowerCase().includes(P)),te=!s||Q.segment===s,V=!A||Q.group===A,G=!c||Q.liquidity===c,z=!f||Q.monitoringType===f;return J&&te&&V&&G&&z})},[u,t,s,A,c,f]),D=()=>{R(null),T(!1)},L=K.useMemo(()=>{const P=I.reduce((te,V)=>{const G=hs(V.debtRub)??0,z=hs(V.marketValue)??0,C=hs(V.collateralValue)??0,k=(hs(V.overduePrincipal)??0)+(hs(V.overdueInterest)??0);return te.debt+=G,te.market+=z,te.collateral+=C,te.overdue+=k,z>0&&(te.ltvSamples+=1,te.ltvSum+=Math.min(G/z,2)),te},{debt:0,market:0,collateral:0,overdue:0,ltvSum:0,ltvSamples:0}),Q=P.ltvSamples>0?P.ltvSum/P.ltvSamples:0,J=P.debt>0?P.overdue/P.debt:0;return{totalRows:I.length,totalDebt:P.debt,totalMarket:P.market,averageLtv:Q,overdueShare:J}},[I]),N=K.useMemo(()=>[{title:"Сделка",dataIndex:"reference",key:"reference",width:220,render:(P,Q)=>i.jsxs("div",{children:[i.jsx("div",{className:"portfolio-page__ref",children:Q.reference??"—"}),i.jsx("div",{className:"portfolio-page__muted",children:Q.contractNumber??"—"}),i.jsxs("div",{className:"portfolio-page__tags",children:[Q.segment&&i.jsx(et,{children:Q.segment}),Q.group&&i.jsx(et,{color:"geekblue",bordered:!1,children:Q.group})]})]})},{title:"Компании",key:"company",width:260,render:(P,Q)=>i.jsxs("div",{children:[i.jsx(ht.Text,{strong:!0,children:Q.pledger??"—"}),i.jsxs("div",{className:"portfolio-page__muted",children:["Заемщик: ",Q.borrower??"—"]}),Q.inn&&i.jsxs("div",{className:"portfolio-page__muted",children:["ИНН: ",i.jsx(ht.Text,{code:!0,children:Q.inn})]})]})},{title:"Показатели",key:"metrics",width:240,render:(P,Q)=>{const J=hs(Q.debtRub),te=hs(Q.limitRub),V=hs(Q.marketValue),G=J&&V?Math.min(J/V,2):null;return i.jsxs("div",{className:"portfolio-page__metrics",children:[i.jsxs("div",{className:"portfolio-page__metrics-row",children:[i.jsx("span",{children:"Задолженность"}),i.jsx("strong",{children:J?sd.format(J):"—"})]}),i.jsxs("div",{className:"portfolio-page__metrics-row",children:[i.jsx("span",{children:"Лимит"}),i.jsx("strong",{children:te?sd.format(te):"—"})]}),i.jsxs("div",{className:"portfolio-page__metrics-row",children:[i.jsx("span",{children:"LTV"}),i.jsx("strong",{children:G!==null?i.jsx(et,{color:G>.8?"red":G>.7?"orange":"green",children:B1.format(G)}):"—"})]})]})}},{title:"Обеспечение",key:"collateral",width:300,render:(P,Q)=>i.jsxs("div",{children:[i.jsx(ht.Text,{strong:!0,children:Q.collateralType??Q.collateralCategory??"—"}),Q.collateralPurpose&&i.jsx("div",{className:"portfolio-page__muted",children:Q.collateralPurpose}),i.jsx("div",{className:"portfolio-page__divider"}),i.jsxs("div",{className:"portfolio-page__metrics",children:[i.jsxs("div",{className:"portfolio-page__metrics-row",children:[i.jsx("span",{children:"Рыночная стоимость"}),i.jsx("strong",{children:hs(Q.marketValue)?sd.format(hs(Q.marketValue)):"—"})]}),i.jsxs("div",{className:"portfolio-page__metrics-row",children:[i.jsx("span",{children:"Залоговая стоимость"}),i.jsx("strong",{children:hs(Q.collateralValue)?sd.format(hs(Q.collateralValue)):"—"})]})]}),Q.collateralLocation&&i.jsxs("div",{style:{marginTop:6},children:[i.jsx(tA,{style:{color:"#8c8c8c",marginRight:4}}),i.jsx(ht.Text,{children:Q.collateralLocation})]})]})},{title:"Мониторинг",key:"monitoring",width:220,render:(P,Q)=>i.jsxs(Oe,{direction:"vertical",size:6,style:{width:"100%"},children:[i.jsxs("div",{children:[Q.liquidity&&i.jsx(et,{color:Iz[Q.liquidity]||"default",children:Q.liquidity}),Q.qualityCategory&&i.jsx(et,{children:Q.qualityCategory})]}),i.jsxs("div",{className:"portfolio-page__muted",children:["Вид мониторинга: ",i.jsx("strong",{children:Q.monitoringType??"—"})]}),i.jsxs("div",{className:"portfolio-page__muted",children:["Последний: ",Q.lastMonitoringDate??"—"]}),i.jsxs("div",{className:"portfolio-page__muted",children:["План: ",Q.nextMonitoringDate??"—"]})]})},{title:"Ответственный",key:"owner",width:180,render:(P,Q)=>i.jsxs("div",{children:[i.jsx(ht.Text,{strong:!0,children:Q.owner??"Не назначен"}),Q.account9131&&i.jsxs("div",{className:"portfolio-page__muted",children:["9131: ",i.jsx(ht.Text,{code:!0,children:Q.account9131})]})]})}],[]);return i.jsxs("div",{className:"portfolio-page",children:[i.jsxs("div",{className:"portfolio-page__header",children:[i.jsxs("div",{children:[i.jsx(ht.Title,{level:2,className:"portfolio-page__title",children:"Залоговый портфель"}),i.jsx(ht.Paragraph,{className:"portfolio-page__subtitle",children:"Актуальные данные из реестра и дополнительно 100 демо-записей для моделирования сценариев"})]}),i.jsxs(Oe,{size:"middle",children:[i.jsxs(Oe.Compact,{style:{width:500},children:[i.jsx(Ve,{value:a,onChange:n,style:{width:200},options:[{label:"Все поля",value:"all"},{label:"ИНН",value:"inn"},{label:"Залогодатель",value:"pledger"},{label:"Заемщик",value:"borrower"},{label:"REFERENCE залога",value:"reference"},{label:"Номер договора залога (ипотеки)",value:"contractNumber"},{label:"№ договора (9131)",value:"account9131"}]}),i.jsx(Re,{allowClear:!0,size:"large",placeholder:"Введите значение для поиска",prefix:i.jsx(qa,{}),value:t,onChange:P=>r(P.target.value),style:{flex:1}})]}),i.jsx(Ce,{type:"primary",icon:i.jsx(Fn,{}),onClick:()=>{const P=["REFERENCE","Номер договора","Залогодатель","Заемщик","ИНН","Тип залога","Стоимость залога","Задолженность","Сегмент","Группа"],Q=I.map(z=>[z.reference||"",z.contractNumber||"",z.pledger||"",z.borrower||"",z.inn||"",z.collateralType||"",z.collateralValue||"",z.debtRub||"",z.segment||"",z.group||""]),J=[P.join("	"),...Q.map(z=>z.join("	"))].join(`
`),te=new Blob(["\uFEFF"+J],{type:"text/csv;charset=utf-8;"}),V=document.createElement("a"),G=URL.createObjectURL(te);V.setAttribute("href",G),V.setAttribute("download",`Залоговый_портфель_${new Date().toISOString().split("T")[0]}.xls`),V.style.visibility="hidden",document.body.appendChild(V),V.click(),document.body.removeChild(V)},children:"Выгрузить в EXCEL"})]})]}),i.jsx(Me,{children:i.jsxs("div",{className:"portfolio-page__filters",children:[i.jsx(Ve,{allowClear:!0,placeholder:"Сегмент",style:{width:180},options:M.segments.map(P=>({label:P,value:P})),value:s??void 0,onChange:P=>o(P??null)}),i.jsx(Ve,{allowClear:!0,placeholder:"Группа",style:{width:180},options:M.groups.map(P=>({label:P,value:P})),value:A??void 0,onChange:P=>l(P??null)}),i.jsx(Ve,{allowClear:!0,placeholder:"Ликвидность",style:{width:180},options:M.liquidity.map(P=>({label:P,value:P})),value:c??void 0,onChange:P=>d(P??null)}),i.jsx(Ve,{allowClear:!0,placeholder:"Вид мониторинга",style:{width:220},options:M.monitoring.map(P=>({label:P,value:P})),value:f??void 0,onChange:P=>p(P??null)})]})}),i.jsxs(dt,{gutter:[16,16],className:"portfolio-page__stats",children:[i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{className:"portfolio-page__card",children:i.jsx(ut,{title:"Количество договоров",value:L.totalRows,prefix:i.jsx(tc,{}),valueStyle:{color:"#1d39c4"}})})}),i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{className:"portfolio-page__card",children:i.jsx(ut,{title:"Совокупная задолженность",value:sd.format(L.totalDebt)})})}),i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{className:"portfolio-page__card",children:i.jsx(ut,{title:"Рыночная стоимость",value:sd.format(L.totalMarket),valueStyle:{color:"#52c41a"}})})}),i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{className:"portfolio-page__card",children:i.jsx(ut,{title:"Средний LTV / Просрочка",valueRender:()=>i.jsxs("div",{children:[i.jsx("div",{children:B1.format(L.averageLtv||0)}),i.jsxs("div",{className:"portfolio-page__muted",children:["просрочка ",B1.format(L.overdueShare||0)]})]})})})})]}),i.jsx(Me,{className:"portfolio-page__table-card",bodyStyle:{padding:0},children:i.jsx(nr,{columns:N,dataSource:I,pagination:{pageSize:20,showSizeChanger:!1},scroll:{x:1200},loading:h,onRow:P=>({onDoubleClick:()=>O(P)}),locale:{emptyText:i.jsx(Sr,{description:"Нет записей, удовлетворяющих фильтрам",className:"portfolio-page__empty"})}})}),x&&i.jsx(Ir,{type:"error",showIcon:!0,message:"Не удалось загрузить данные залогов",description:x,action:i.jsx("a",{onClick:()=>window.location.reload(),style:{fontWeight:600},children:"Повторить"})}),h&&i.jsx("div",{style:{textAlign:"center"},children:i.jsx(ei,{tip:"Загружаем данные залогов..."})}),E&&i.jsx(Bz,{contract:E,visible:b,onClose:D,onUpdate:P=>{g(Q=>Q.map(J=>J.reference===P.reference||J.contractNumber===P.contractNumber?{...J,...P,key:J.key}:J)),R({...P,key:(E==null?void 0:E.key)||`portfolio-${Date.now()}`})}}),i.jsx(gz,{visible:_,deal:E,onCancel:()=>S(!1),onSuccess:()=>{}})]})},Fz=()=>{const[e,t]=K.useState([]),[r,a]=K.useState([]),[n,s]=K.useState(""),[o,A]=K.useState(null),[l,c]=K.useState(null),[d,f]=K.useState(null),[p,u]=K.useState(null),[g,h]=K.useState([]),[y,x]=K.useState(!0),[v,E]=K.useState(null),[R,b]=K.useState(!1),[T,_]=K.useState([]),[S,O]=K.useState(""),M=K.useMemo(()=>{const k=new Map,j=new Map;return e.forEach(H=>{const Y=String(H.reference||"");j.has(Y)||j.set(Y,[]),j.get(Y).push(H)}),r.forEach(H=>{const Y=H.borrower||"Не указан",de=H.contractNumber||`Договор ${H.reference||"без номера"}`,ue=H.pledger||"Не указан",he=H.collateralContractNumber||`Договор залога ${H.reference||"без номера"}`,xe=String(H.reference||""),ve=j.get(xe)||[];if(ve.length>0){const se=`client-${Y}-loan-${de}-pledger-${ue}-pledge-${he}`;k.set(se,{docs:ve,title:`Документы по договору залога: ${he}`})}}),k},[r,e]);K.useEffect(()=>{let k=!0;return(async()=>{x(!0),E(null);try{const H=(()=>{const he="./",xe=new URL(he,window.location.origin),ve=xe.pathname.endsWith("/")?xe.pathname:`${xe.pathname}/`;return`${xe.origin}${ve}portfolioData.json`})(),Y=await fetch(`${H}?v=${Date.now()}`,{cache:"no-store"});let de=[];Y.ok&&(de=await Y.json());const ue=await Dt.getExtendedCards();try{const he=await sS(de,ue);if(!k)return;a(de),t(he.documents),localStorage.setItem("collateralDossierData",JSON.stringify(he))}catch(he){console.warn("Ошибка генерации демо-данных, используем сохраненные:",he);const xe=localStorage.getItem("collateralDossierData");if(xe){const ve=JSON.parse(xe);a(de),t(ve.documents)}else a(de),t([])}}catch(H){try{const Y=localStorage.getItem("collateralDossierData");if(Y){const de=JSON.parse(Y);t(de.documents)}else throw H}catch{E(H instanceof Error?H.message:"Неизвестная ошибка")}}finally{k&&x(!1)}})(),()=>{k=!1}},[]);const I=K.useMemo(()=>{const k=new Map;return e.forEach(j=>{const H=String(j.reference||"");k.has(H)||k.set(H,[]),k.get(H).push(j)}),k},[e]),D=K.useMemo(()=>{const k=new Set,j=new Set,H=new Set,Y=new Set,de=new Set;for(const ue of r)ue.borrower&&k.add(ue.borrower),ue.contractNumber&&j.add(ue.contractNumber),ue.pledger&&H.add(ue.pledger),ue.collateralContractNumber&&Y.add(ue.collateralContractNumber);for(const ue of e)ue.status&&de.add(ue.status);return{clients:Array.from(k).sort(),loanContracts:Array.from(j).sort(),pledgers:Array.from(H).sort(),pledgeContracts:Array.from(Y).sort(),statuses:Array.from(de).sort()}},[r,e]),L=K.useCallback(k=>k.length>30?k.substring(0,27)+"...":k,[]),N=K.useCallback(k=>({key:k.id||`${k.folderId}-${k.fileName}`,title:i.jsx(Jr,{title:k.docType,children:i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"4px 0"},children:[i.jsx(Dr,{style:{color:"#1890ff"}}),i.jsxs("div",{style:{flex:1},children:[i.jsx("div",{style:{fontWeight:500},children:L(k.docType)}),i.jsx("div",{style:{fontSize:"12px",color:"#8c8c8c"},children:k.fileName}),i.jsxs("div",{style:{display:"flex",gap:8,marginTop:4},children:[i.jsx(et,{color:k.statusColor||"default",style:{margin:0},children:k.status}),i.jsxs("span",{style:{fontSize:"12px",color:"#8c8c8c"},children:[k.size," • ",k.lastUpdated]})]})]})]})}),isLeaf:!0,icon:i.jsx(Dr,{})}),[L]),P=K.useMemo(()=>{const k=n.trim().toLowerCase(),j=k.length>0,H=new Map;for(const de of r){const ue=de.borrower||"Не указан",he=de.contractNumber||`Договор ${de.reference||"без номера"}`,xe=de.pledger||"Не указан",ve=de.collateralContractNumber||`Договор залога ${de.reference||"без номера"}`,se=String(de.reference||""),Ke=I.get(se)||[];if(o&&ue!==o||l&&he!==l||d&&xe!==d||p&&ve!==p)continue;if(j){const He=ue.toLowerCase(),Ze=he.toLowerCase(),Ye=xe.toLowerCase(),tt=ve.toLowerCase();let je=He.includes(k)||Ze.includes(k)||Ye.includes(k)||tt.includes(k);if(je||(je=Ke.some(_e=>_e.docType.toLowerCase().includes(k)||_e.fileName.toLowerCase().includes(k))),!je)continue}H.has(ue)||H.set(ue,new Map);const Ee=H.get(ue);Ee.has(he)||Ee.set(he,new Map);const pe=Ee.get(he);pe.has(xe)||pe.set(xe,new Map);const ce=pe.get(xe);if(!ce.has(ve))ce.set(ve,Ke);else{const He=ce.get(ve);ce.set(ve,[...He,...Ke])}}return Array.from(H.entries()).map(([de,ue])=>{const he=`client-${de}`,xe=Array.from(ue.entries()).map(([ve,se])=>{const Ke=`${he}-loan-${ve}`,Ee=Array.from(se.entries()).map(([pe,ce])=>{const He=`${Ke}-pledger-${pe}`,Ze=Array.from(ce.entries()).map(([Ye,tt])=>{const je=`${He}-pledge-${Ye}`,_e=tt.map(ct=>N(ct));return{key:je,title:i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[i.jsx(co,{style:{color:"#faad14"}}),i.jsxs("span",{style:{fontWeight:500},children:["Договор залога: ",Ye]}),i.jsxs(et,{color:"blue",style:{margin:0},children:[tt.length," документов"]})]}),children:_e.length>0?_e:void 0,icon:i.jsx(co,{})}});return{key:He,title:i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[i.jsx(co,{style:{color:"#52c41a"}}),i.jsxs("span",{style:{fontWeight:500},children:["Залогодатель: ",pe]})]}),children:Ze,icon:i.jsx(co,{})}});return{key:Ke,title:i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[i.jsx(co,{style:{color:"#722ed1"}}),i.jsxs("span",{style:{fontWeight:500},children:["Кредитный договор: ",ve]})]}),children:Ee,icon:i.jsx(co,{})}});return{key:he,title:i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[i.jsx(co,{style:{color:"#eb2f96"}}),i.jsxs("span",{style:{fontWeight:600,fontSize:"15px"},children:["Клиент: ",de]})]}),children:xe,icon:i.jsx(co,{})}})},[r,I,n,o,l,d,p,N]);K.useEffect(()=>{if(P.length>0&&g.length===0){const k=P.map(j=>j.key);h(k)}},[P,g.length]);const Q=K.useCallback(k=>{h(k)},[]),J=K.useCallback(k=>{const j=k[0];if(!(!j||typeof j!="string")&&j.includes("-pledge-")&&!j.includes("-doc-")){const H=M.get(j);H&&H.docs.length>0&&(O(H.title),_(H.docs),b(!0))}},[M]),te=K.useMemo(()=>{const k=new Set;for(const j of r)(!o||j.borrower===o)&&j.contractNumber&&k.add(j.contractNumber);return Array.from(k).sort().map(j=>i.jsx(Ve.Option,{value:j,label:j,children:j},j))},[r,o]),V=K.useMemo(()=>{const k=new Set;for(const j of r)o&&j.borrower!==o||l&&j.contractNumber!==l||j.pledger&&k.add(j.pledger);return Array.from(k).sort().map(j=>i.jsx(Ve.Option,{value:j,label:j,children:j},j))},[r,o,l]),G=K.useMemo(()=>{const k=new Set;for(const j of r)o&&j.borrower!==o||l&&j.contractNumber!==l||d&&j.pledger!==d||j.collateralContractNumber&&k.add(j.collateralContractNumber);return Array.from(k).sort().map(j=>i.jsx(Ve.Option,{value:j,label:j,children:j},j))},[r,o,l,d]),z=K.useMemo(()=>[{title:"Тип документа",dataIndex:"docType",key:"docType",width:200,render:(k,j)=>i.jsx(Jr,{title:j.docType,children:i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[i.jsx(Dr,{style:{color:"#1890ff"}}),i.jsx("span",{children:L(k)})]})})},{title:"Имя файла",dataIndex:"fileName",key:"fileName",ellipsis:!0},{title:"Статус",dataIndex:"status",key:"status",width:150,render:(k,j)=>i.jsx(et,{color:j.statusColor||"default",children:k})},{title:"Размер",dataIndex:"size",key:"size",width:100},{title:"Обновлен",dataIndex:"lastUpdated",key:"lastUpdated",width:120},{title:"Действия",key:"actions",width:100,render:(k,j)=>i.jsx(Jr,{title:"Скачать документ",children:i.jsx(Fn,{style:{fontSize:16,color:"#1890ff",cursor:"pointer"},onClick:()=>{console.log("Download:",j)}})})}],[L]),C=K.useMemo(()=>{let k=0,j=0;for(const Y of e)Y.status==="Загружен"?k++:Y.status==="На согласовании"&&j++;const H=e.length;return{totalDocs:H,completed:k,pending:j,completionRate:H?Math.round(k/H*100):0}},[e]);return i.jsxs("div",{className:"collateral-dossier",children:[i.jsx("div",{className:"collateral-dossier__header",children:i.jsxs("div",{children:[i.jsx(ht.Title,{level:2,className:"collateral-dossier__title",children:"Залоговое досье"}),i.jsx(ht.Paragraph,{className:"collateral-dossier__subtitle",children:"Документооборот по сделкам залогового портфеля: заключения, отчеты об оценке, мониторинги, фотофиксация и регистраторы."})]})}),i.jsx(Me,{style:{marginBottom:16},children:i.jsxs(Oe,{size:"middle",wrap:!0,style:{width:"100%"},children:[i.jsx(Jr,{title:"Поиск по клиенту, договору, залогодателю или документу",children:i.jsx(Re,{allowClear:!0,placeholder:"Поиск...",prefix:i.jsx(qa,{}),value:n,onChange:k=>s(k.target.value),style:{minWidth:250}})}),i.jsx(Ve,{allowClear:!0,placeholder:"Клиент",style:{minWidth:200},value:o,onChange:k=>{A(k),k||(c(null),f(null),u(null))},showSearch:!0,filterOption:(k,j)=>String((j==null?void 0:j.label)??"").toLowerCase().includes(k.toLowerCase()),children:D.clients.map(k=>i.jsx(Ve.Option,{value:k,label:k,children:k},k))}),i.jsx(Ve,{allowClear:!0,placeholder:"Кредитный договор",style:{minWidth:200},value:l,onChange:k=>{c(k),k||(f(null),u(null))},showSearch:!0,filterOption:(k,j)=>String((j==null?void 0:j.label)??"").toLowerCase().includes(k.toLowerCase()),disabled:!o,loading:y,children:te}),i.jsx(Ve,{allowClear:!0,placeholder:"Залогодатель",style:{minWidth:200},value:d,onChange:k=>{f(k),k||u(null)},showSearch:!0,filterOption:(k,j)=>String((j==null?void 0:j.label)??"").toLowerCase().includes(k.toLowerCase()),disabled:!l,loading:y,children:V}),i.jsx(Ve,{allowClear:!0,placeholder:"Договор залога",style:{minWidth:200},value:p,onChange:u,showSearch:!0,filterOption:(k,j)=>String((j==null?void 0:j.label)??"").toLowerCase().includes(k.toLowerCase()),disabled:!d,loading:y,children:G})]})}),i.jsxs(dt,{gutter:[16,16],style:{marginBottom:16},children:[i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"Всего документов",value:C.totalDocs})})}),i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"Загружено",value:C.completed,valueStyle:{color:"#52c41a"}})})}),i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"На согласовании",value:C.pending,valueStyle:{color:"#fa8c16"}})})}),i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"Готовность досье",value:`${C.completionRate}%`,valueStyle:{color:"#1677ff"}})})})]}),i.jsx(Me,{children:v?i.jsx(Ir,{type:"error",showIcon:!0,message:"Не удалось загрузить досье",description:v,action:i.jsx("a",{onClick:()=>window.location.reload(),style:{fontWeight:600},children:"Повторить"})}):y?i.jsx(Sr,{description:"Загрузка..."}):P.length===0?i.jsx(Sr,{description:"Нет документов"}):i.jsx(QT,{showLine:{showLeafIcon:!1},showIcon:!0,expandedKeys:g,onExpand:Q,onSelect:J,treeData:P,style:{fontSize:"14px"},virtual:!1,blockNode:!0})}),i.jsx(lr,{title:S,open:R,onCancel:()=>b(!1),footer:null,width:1e3,destroyOnClose:!0,children:i.jsx(nr,{columns:z,dataSource:T,rowKey:k=>k.id||`${k.folderId}-${k.fileName}`,pagination:{pageSize:10,showSizeChanger:!0,showTotal:k=>`Всего документов: ${k}`},size:"middle"})})]})};var oS={exports:{}};(function(e,t){(function(r,a){e.exports=a()})(mT,function(){return function(r,a,n){r=r||{};var s=a.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function A(c,d,f,p){return s.fromToBase(c,d,f,p)}n.en.relativeTime=o,s.fromToBase=function(c,d,f,p,u){for(var g,h,y,x=f.$locale().relativeTime||o,v=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],E=v.length,R=0;R<E;R+=1){var b=v[R];b.d&&(g=p?n(c).diff(f,b.d,!0):f.diff(c,b.d,!0));var T=(r.rounding||Math.round)(Math.abs(g));if(y=g>0,T<=b.r||!b.r){T<=1&&R>0&&(b=v[R-1]);var _=x[b.l];u&&(T=u(""+T)),h=typeof _=="string"?_.replace("%d",T):_(T,d,b.l,y);break}}if(d)return h;var S=y?x.future:x.past;return typeof S=="function"?S(h):S.replace("%s",h)},s.to=function(c,d){return A(c,d,this,!0)},s.from=function(c,d){return A(c,d,this)};var l=function(c){return c.$u?n.utc():n()};s.toNow=function(c){return this.to(l(this),c)},s.fromNow=function(c){return this.from(l(this),c)}}})})(oS);var Rz=oS.exports;const kz=nb(Rz),Vo=[{key:"collateralName",label:"Наименование, назначение",type:"text",required:!0,placeholder:"Наименование имущества",group:"Основная информация"},{key:"collateralLocation",label:"Адрес местоположения",type:"text",required:!0,placeholder:"Адрес местоположения",group:"Основная информация"},{key:"ownershipShare",label:"Оцениваемые права, доля в праве %",type:"number",min:0,max:100,unit:"%",group:"Основная информация"},{key:"marketValue",label:"Рыночная стоимость",type:"number",min:0,unit:"руб.",group:"Оценка"},{key:"collateralValue",label:"Залоговая стоимость",type:"number",min:0,unit:"руб.",group:"Оценка"},{key:"fairValue",label:"Справедливая стоимость",type:"number",min:0,unit:"руб.",group:"Оценка"},{key:"category",label:"Категория обеспечения",type:"select",options:["Основной","Формальный"],group:"Характеристики"},{key:"liquidity",label:"Ликвидность",type:"select",options:["высокая (срок реализации до 90 дней)","удовлетворительная (срок реализации до 365 дней)","низкая (срок реализации свыше 365 дней)","малоудовлетворительная"],group:"Характеристики"},{key:"collateralCondition",label:"Состояние имущества",type:"select",options:["хорошее","удовлетворительное","неудовлетворительное"],group:"Характеристики"}],Qm=[...Vo,{key:"totalAreaSqm",label:"Общая площадь объекта, кв. м. (или протяженность и т.п. в соответствующих единицах измерения) Только цифры",type:"number",required:!0,min:0,unit:"кв.м",group:"Параметры объекта"},{key:"objectCadastralNumber",label:"Кадастровый номер объекта",type:"text",placeholder:"23:49:0303008:1915",group:"Параметры объекта"},{key:"landCadastralNumber",label:"Кадастровый номер земельного участка",type:"text",placeholder:"23:49:0303008:1915",group:"Земельный участок"},{key:"landCategory",label:"Категория земель",type:"select",options:["Земли водного фонда","Земли запаса","Земли лесного фонда","Земли населенных пунктов","Земли особоохраняемых территорий и","Земли промышленности, энергетики, тр","Земли сельскохозяйственного назначен","Категория не установлена","-"],group:"Земельный участок"},{key:"landPermittedUse",label:"Вид разрешенного использования земельного участка (только по земельным участкам)",type:"text",placeholder:"Вид разрешенного использования земельного участка",group:"Земельный участок"},{key:"structureType",label:"Тип строения/Категория участка",type:"text",placeholder:"Тип строения или категория участка",group:"Параметры объекта"},{key:"landAreaSqm",label:"Площадь земельного участка",type:"number",min:0,unit:"кв.м",group:"Земельный участок"},{key:"cadastralValue",label:"Кадастровая стоимость",type:"number",min:0,unit:"руб.",group:"Оценка"},{key:"bookValue",label:"Балансовая стоимость на последнюю отчетную дату, руб. без учета НДС",type:"number",min:0,unit:"руб.",group:"Оценка"},{key:"marketValuePerSqm",label:"Рыночная стоимость за кв.м",type:"number",min:0,unit:"руб./кв.м",group:"Оценка"},{key:"buildYear",label:"Год строительства",type:"number",min:1800,max:new Date().getFullYear(),group:"Параметры объекта"},{key:"hasReplanning",label:"Наличие перепланировок",type:"boolean",group:"Состояние"},{key:"hasEncumbrances",label:"Наличие обременений",type:"boolean",group:"Состояние"},{key:"encumbrancesDescription",label:"Описание обременений",type:"textarea",placeholder:"Описание зарегистрированных обременений",group:"Состояние"}],Gp=[...Qm,{key:"livingArea",label:"Жилая площадь",type:"number",min:0,unit:"кв.м",group:"Параметры объекта"},{key:"kitchenArea",label:"Площадь кухни",type:"number",min:0,unit:"кв.м",group:"Параметры объекта"},{key:"roomsCount",label:"Количество комнат",type:"number",min:1,group:"Параметры объекта"},{key:"floor",label:"Этаж",type:"number",min:1,group:"Параметры объекта"},{key:"totalFloors",label:"Этажность дома",type:"number",min:1,group:"Параметры объекта"},{key:"ceilingHeight",label:"Высота потолков",type:"number",min:2,max:6,unit:"м",group:"Параметры объекта"},{key:"wallMaterial",label:"Материал стен",type:"select",options:["Кирпич","Панель","Монолит","Блочный","Дерево","Кирпичный/Сталинский","Пенобетонные/Газобетонное блоки"],group:"Параметры объекта"},{key:"separateBathrooms",label:"Количество санузлов",type:"number",min:0,group:"Параметры объекта"},{key:"balcony",label:"Наличие балкона/лоджии",type:"boolean",group:"Параметры объекта"}],FA=[...Qm,{key:"floor",label:"Этаж",type:"number",min:-2,group:"Параметры объекта"},{key:"totalFloors",label:"Этажность здания",type:"number",min:1,group:"Параметры объекта"},{key:"ceilingHeight",label:"Высота потолков",type:"number",min:2.5,max:20,unit:"м",group:"Параметры объекта"},{key:"buildingClass",label:"Класс здания",type:"select",options:["A+","A","B+","B","C"],group:"Параметры объекта"},{key:"structureClass",label:"Класс сооружения",type:"select",options:["A+","A","B+","B","C","D"],group:"Параметры объекта"},{key:"wallMaterial",label:"Материал стен",type:"select",options:["Деревянные","Кирпич","Кирпичный/Сталинский","Металлические без утепления","Монолит/Монолит-кирпич","Панельный/блочный","Пенобетонные/Газобетонное блоки","Сэндвич панели","-"],group:"Параметры объекта"},{key:"ceilingMaterial",label:"Материал перекрытий",type:"select",options:["Деревянные балки","Металлические балки","ж/б","-"],group:"Параметры объекта"},{key:"structuralCondition",label:"Состояние конструктивных элементов здания (Общ. тех. сост. здания)",type:"select",options:["Хорошее","Удовлетворительное","Неудовлетворительное","Требует ремонта"],group:"Состояние"},{key:"finishLevel",label:"Тип отделки",type:"select",options:["Евроремонт","Неизвестно","Простая","Среднее","Требуется кап. ремонт/Без отделки","Улучшенная","-"],group:"Состояние"},{key:"finishCondition",label:"Состояние отделки",type:"select",options:["Без отделки","Требуется кап.ремонт","Требуется косметический ремонт","Удовлетворительное","Хорошее","-"],group:"Состояние"},{key:"hasElectricity",label:"Электричество",type:"boolean",group:"Коммуникации"},{key:"hasWaterSupply",label:"Водоснабжение",type:"boolean",group:"Коммуникации"},{key:"hasSewerage",label:"Канализация",type:"boolean",group:"Коммуникации"},{key:"hasGasSupply",label:"Газоснабжение",type:"boolean",group:"Коммуникации"},{key:"hasSecurityAlarm",label:"Охранная сигнализация",type:"boolean",group:"Безопасность"},{key:"hasFireAlarm",label:"Пожарная сигнализация",type:"boolean",group:"Безопасность"},{key:"hasVideoSurveillance",label:"Видеонаблюдение",type:"boolean",group:"Безопасность"},{key:"replanning",label:"Тип перепланировки",type:"select",options:["Несущественные","Перепланировки отсутствуют","Существенные","-"],group:"Состояние"},{key:"landPermittedUse",label:"Вид разрешенного использования земельного участка",type:"text",placeholder:"Вид разрешенного использования",group:"Земельный участок"},{key:"ownershipRight",label:"Вид права",type:"select",options:["Иное","Право аренды","Право собственности"],group:"Права"},{key:"leaseExpirationDate",label:"Дата окончания срока аренды объекта недвижимости",type:"date",group:"Права"},{key:"ownershipShare",label:"Размер доли в праве",type:"text",placeholder:"Например: 1/1, 1/2, 1/3",group:"Права",description:"Указывается в виде дроби, например: 1/1, 1/2, 1/3"},{key:"isUnfinishedConstruction",label:"Объект незавершенного строительства",type:"boolean",group:"Права"},{key:"ownershipBasis",label:"Право, на основании которого объект принадлежит Залогодателю/документы-основания возникновения права",type:"textarea",placeholder:"Например: Право собственности, на основании следующих документов: Договор купли-продажи",group:"Права"},{key:"technicalDocument",label:"Документ, отражающий технические характеристики объекта",type:"select",options:["Выписка из Единого государственного реестра недвижимости об объекте","Технический паспорт","Техническое заключение","Проектная документация","Иной документ"],group:"Документы"},{key:"hasEncumbrances",label:"Наличие обременений (аренда и т.п.)",type:"boolean",group:"Права"},{key:"encumbrancesDescription",label:"Описание обременений",type:"textarea",placeholder:"Описание зарегистрированных обременений",group:"Права"},{key:"bookValue",label:"Балансовая стоимость на последнюю отчетную дату, руб. без учета НДС",type:"number",min:0,unit:"руб.",group:"Оценка"},{key:"comment",label:"Комментарий",type:"textarea",placeholder:"Дополнительные комментарии",group:"Дополнительно"},{key:"parking",label:"Наличие парковки",type:"boolean",group:"Инфраструктура"},{key:"parkingSpaces",label:"Количество машиномест",type:"number",min:0,group:"Инфраструктура"}],Dz=[...FA,{key:"storageArea",label:"Площадь хранения",type:"number",min:0,unit:"кв.м",group:"Параметры объекта"},{key:"warehouseClass",label:"Класс склада",type:"select",options:["A","A+","B","B+","C","D"],group:"Параметры объекта"},{key:"gates",label:"Тип ворот",type:"select",options:["Докового типа","На нулевой отметке","Смешанные"],group:"Параметры объекта"},{key:"gatesCount",label:"Количество ворот",type:"number",min:0,group:"Параметры объекта"},{key:"flooring",label:"Покрытие пола",type:"select",options:["Бетон","Асфальт","Полимер","Плитка"],group:"Параметры объекта"},{key:"loadCapacity",label:"Нагрузка на пол",type:"number",min:0,unit:"тонн/кв.м",group:"Параметры объекта"},{key:"heating",label:"Отопление",type:"boolean",group:"Инфраструктура"},{key:"ramp",label:"Наличие рампы",type:"boolean",group:"Инфраструктура"}],jz=[...Qm,{key:"landArea",label:"Площадь участка",type:"number",required:!0,min:0,unit:"кв.м",group:"Параметры объекта"},{key:"buildingArea",label:"Площадь здания",type:"number",min:0,unit:"кв.м",group:"Параметры объекта"},{key:"dispensersCount",label:"Количество ТРК",type:"number",required:!0,min:1,group:"Параметры объекта"},{key:"tanksVolume",label:"Объем резервуаров",type:"number",min:0,unit:"куб.м",group:"Параметры объекта"},{key:"fuelTypes",label:"Количество видов топлива",type:"number",min:1,group:"Параметры объекта"},{key:"carWash",label:"Наличие автомойки",type:"boolean",group:"Инфраструктура"},{key:"shop",label:"Наличие магазина",type:"boolean",group:"Инфраструктура"},{key:"cafe",label:"Наличие кафе",type:"boolean",group:"Инфраструктура"}],u2=[...Vo,{key:"brand",label:"Марка ТС",type:"text",required:!0,placeholder:"Марка транспортного средства",group:"Основная информация"},{key:"model",label:"Модель",type:"text",required:!0,placeholder:"Модель транспортного средства",group:"Основная информация"},{key:"year",label:"Год выпуска",type:"number",required:!0,min:1900,max:new Date().getFullYear(),group:"Основная информация"},{key:"vin",label:"Идентификационный номер (VIN)",type:"text",placeholder:"VIN номер",group:"Основная информация"},{key:"registrationNumber",label:"Государственный регистрационный номер",type:"text",placeholder:"A777AA92",group:"Основная информация"},{key:"engineVolume",label:"Объем двигателя",type:"number",min:0,unit:"куб.см",group:"Технические характеристики"},{key:"enginePower",label:"Мощность двигателя",type:"number",min:0,unit:"л.с.",group:"Технические характеристики"},{key:"enginePowerKw",label:"Мощность двигателя",type:"number",min:0,unit:"кВт",group:"Технические характеристики"},{key:"fuelType",label:"Тип топлива",type:"select",options:["Бензин","Дизель","Гибрид","Электро","Газ"],group:"Технические характеристики"},{key:"transmission",label:"Коробка передач",type:"select",options:["Механическая","Автоматическая","Робот","Вариатор"],group:"Технические характеристики"},{key:"mileage",label:"Показания одометра",type:"number",min:0,unit:"км",group:"Технические характеристики"},{key:"color",label:"Цвет",type:"text",group:"Технические характеристики"},{key:"bodyNumber",label:"Номер кузова",type:"text",group:"Технические характеристики"},{key:"chassisNumber",label:"Номер шасси",type:"text",group:"Технические характеристики"},{key:"frameNumber",label:"Заводской номер машины (рамы)",type:"text",group:"Технические характеристики"}],Lz=[...u2,{key:"loadCapacity",label:"Грузоподъемность",type:"number",required:!0,min:0,unit:"т",group:"Технические характеристики"},{key:"bodyType",label:"Тип кузова",type:"select",options:["Бортовой","Тентованный","Рефрижератор","Самосвал","Фургон","Прицепы/полуприцепы"],group:"Технические характеристики"}],S1=[...Vo,{key:"name",label:"Наименование",type:"text",required:!0,placeholder:"Наименование оборудования",group:"Основная информация"},{key:"manufacturer",label:"Предприятие - изготовитель",type:"text",placeholder:"Производитель",group:"Основная информация"},{key:"model",label:"Модель",type:"text",placeholder:"Модель оборудования",group:"Основная информация"},{key:"year",label:"Год выпуска",type:"number",min:1900,max:new Date().getFullYear(),group:"Основная информация"},{key:"serialNumber",label:"Заводской номер",type:"text",placeholder:"Серийный номер",group:"Основная информация"},{key:"inventoryNumber",label:"Инвентарный номер",type:"text",group:"Основная информация"},{key:"type",label:"Тип техники",type:"text",placeholder:"Тип техники",group:"Основная информация"},{key:"power",label:"Мощность",type:"number",min:0,unit:"кВт",group:"Технические характеристики"},{key:"operatingHours",label:"Наработка (при наличии)",type:"number",min:0,unit:"моточасов",group:"Технические характеристики"},{key:"country",label:"Страна - изготовитель",type:"text",group:"Основная информация"},{key:"balanceValue",label:"Остаточная балансовая стоимость",type:"number",min:0,unit:"руб.",group:"Оценка"}],Uz={apartment:Gp,room:Gp,house:Gp,townhouse:Gp,land_residential:[...Vo,{key:"totalAreaHectares",label:"Общая площадь",type:"number",required:!0,min:0,unit:"сот.",group:"Параметры объекта"},{key:"landCadastralNumber",label:"Кадастровый номер",type:"text",required:!0,placeholder:"23:49:0303008:1915",group:"Основная информация"},{key:"landCategory",label:"Категория земель",type:"select",required:!0,options:["земли населенных пунктов","земли сельскохозяйственного назначения","земли промышленности","земли особо охраняемых территорий"],group:"Основная информация"},{key:"landPermittedUse",label:"Разрешенный вид использования",type:"text",required:!0,placeholder:"Вид разрешенного использования",group:"Основная информация"},{key:"utilities",label:"Коммуникации",type:"select",options:["Все","Частично","Отсутствуют"],group:"Инфраструктура"}],office:FA,retail:[...FA,{key:"tradingArea",label:"Торговая площадь",type:"number",min:0,unit:"кв.м",group:"Параметры объекта"},{key:"showcaseLength",label:"Длина витрины",type:"number",min:0,unit:"м",group:"Параметры объекта"},{key:"entrance",label:"Вход",type:"select",options:["Отдельный","Общий"],group:"Параметры объекта"}],warehouse:Dz,hotel:[...FA,{key:"roomsCount",label:"Количество номеров",type:"number",required:!0,min:1,group:"Параметры объекта"},{key:"category",label:"Категория",type:"select",options:["Без категории","1 звезда","2 звезды","3 звезды","4 звезды","5 звезд"],group:"Параметры объекта"},{key:"restaurant",label:"Наличие ресторана",type:"boolean",group:"Инфраструктура"}],catering:[...FA,{key:"hallArea",label:"Площадь зала",type:"number",min:0,unit:"кв.м",group:"Параметры объекта"},{key:"seatingCapacity",label:"Количество посадочных мест",type:"number",min:0,group:"Параметры объекта"},{key:"kitchen",label:"Наличие кухни",type:"boolean",group:"Параметры объекта"}],gas_station:jz,car_dealership:[...FA,{key:"showroomArea",label:"Площадь шоурума",type:"number",min:0,unit:"кв.м",group:"Параметры объекта"},{key:"serviceArea",label:"Площадь СТО",type:"number",min:0,unit:"кв.м",group:"Параметры объекта"},{key:"liftCapacity",label:"Количество подъемников",type:"number",min:0,group:"Параметры объекта"}],industrial_building:[...FA,{key:"productionArea",label:"Производственная площадь",type:"number",min:0,unit:"кв.м",group:"Параметры объекта"},{key:"craneway",label:"Наличие кран-балки",type:"boolean",group:"Параметры объекта"},{key:"craneCapacity",label:"Грузоподъемность кран-балки",type:"number",min:0,unit:"т",group:"Параметры объекта"},{key:"power",label:"Электрическая мощность",type:"number",min:0,unit:"кВт",group:"Инфраструктура"}],workshop:[...FA,{key:"productionArea",label:"Производственная площадь",type:"number",min:0,unit:"кв.м",group:"Параметры объекта"},{key:"specialization",label:"Специализация цеха",type:"text",group:"Параметры объекта"}],car_passenger:u2,car_truck:Lz,equipment:S1,machinery:S1,Недвижимость:Qm,"Транспортные средства":u2,Оборудование:S1,"Товары в обороте":[...Vo,{key:"quantity",label:"Количество",type:"number",min:0,group:"Параметры объекта"},{key:"unit",label:"Единица измерения",type:"text",group:"Параметры объекта"}],"Ценные бумаги":[...Vo,{key:"securityType",label:"Тип ценных бумаг",type:"select",options:["Акции","Облигации","Векселя","Депозитарные расписки"],group:"Основная информация"},{key:"issuer",label:"Эмитент",type:"text",group:"Основная информация"},{key:"quantity",label:"Количество",type:"number",min:0,group:"Параметры объекта"}],"Права требования":[...Vo,{key:"debtor",label:"Должник",type:"text",group:"Основная информация"},{key:"debtAmount",label:"Сумма долга",type:"number",min:0,unit:"руб.",group:"Параметры объекта"}]},AS=e=>e&&Uz[e]||Vo,Qy=e=>{const t=AS(e),r={};return t.forEach(a=>{const n=a.group||"Прочее";r[n]||(r[n]=[]),r[n].push(a)}),r},Mz=(e,t)=>(e==null?void 0:e[t])??null,{TextArea:IE}=Re,{Title:zp,Paragraph:Pz,Text:od}=ht,Qz=({visible:e,entry:t,onClose:r})=>{const[a,n]=K.useState(null),[s,o]=K.useState(!1),[A,l]=K.useState({inspectionDate:We().format("YYYY-MM-DD")});K.useEffect(()=>{if(!e||!(t!=null&&t.reference)){n(null);return}(async()=>{o(!0);try{const y="./",x=new URL(y,window.location.origin),v=x.pathname.endsWith("/")?x.pathname:`${x.pathname}/`,E=`${x.origin}${v}portfolioData.json?v=${Date.now()}`,R=await fetch(E,{cache:"no-store"});if(R.ok){const T=(await R.json()).find(_=>String(_.reference)===String(t.reference));T&&(n(T),l(_=>({..._,address:T.collateralLocation||void 0,inspectionDate:We().format("YYYY-MM-DD")})))}}catch(y){console.error("Ошибка загрузки данных портфеля:",y)}finally{o(!1)}})()},[e,t]);const c=K.useMemo(()=>a!=null&&a.collateralType?AS(a.collateralType):[],[a==null?void 0:a.collateralType]),d=K.useMemo(()=>a!=null&&a.collateralType?Qy(a.collateralType):{},[a==null?void 0:a.collateralType]),f=Qa.useCallback((h,y)=>{if(y==null||y==="")return"—";const x=c.find(v=>v.key===h);return(x==null?void 0:x.type)==="number"&&typeof y=="number"?`${y.toLocaleString("ru-RU")}${x.unit?` ${x.unit}`:""}`:(x==null?void 0:x.type)==="boolean"?y?"Да":"Нет":(x==null?void 0:x.type)==="date"&&y?We(y).format("DD.MM.YYYY"):String(y)},[c]),p=Qa.useCallback(h=>a?a[h]??null:null,[a]),u=Qa.useMemo(()=>"./cms-check/index.html#/inspections",[]),g=K.useMemo(()=>{const h=[];if(h.push({key:"main",label:"Основная информация",icon:i.jsx(Dr,{}),children:i.jsx("div",{className:"monitoring-card-content",children:i.jsxs(ye,{bordered:!0,column:2,size:"small",children:[i.jsx(ye.Item,{label:"REFERENCE",span:2,children:i.jsx(od,{strong:!0,children:(t==null?void 0:t.reference)??"—"})}),i.jsx(ye.Item,{label:"Заемщик",children:(t==null?void 0:t.borrower)??"—"}),i.jsx(ye.Item,{label:"Залогодатель",children:(t==null?void 0:t.pledger)??"—"}),i.jsx(ye.Item,{label:"Сегмент",children:(t==null?void 0:t.segment)??"—"}),i.jsx(ye.Item,{label:"Группа",children:(t==null?void 0:t.group)??"—"}),i.jsx(ye.Item,{label:"Тип обеспечения",children:(t==null?void 0:t.baseType)??"—"}),i.jsx(ye.Item,{label:"Детальный тип",children:(t==null?void 0:t.collateralType)??"—"}),i.jsx(ye.Item,{label:"Вид мониторинга",children:(t==null?void 0:t.monitoringType)??"—"}),i.jsx(ye.Item,{label:"Метод мониторинга",children:(t==null?void 0:t.monitoringMethod)??"—"}),i.jsx(ye.Item,{label:"Периодичность",children:t!=null&&t.frequencyMonths?`Каждые ${t.frequencyMonths} мес.`:"—"}),i.jsx(ye.Item,{label:"Последний мониторинг",children:(t==null?void 0:t.lastMonitoringDate)??"—"}),i.jsx(ye.Item,{label:"Планируемая дата",children:(t==null?void 0:t.plannedDate)??"—"}),i.jsx(ye.Item,{label:"Ответственный",children:(t==null?void 0:t.owner)??"—"}),i.jsx(ye.Item,{label:"Приоритет",children:(t==null?void 0:t.priority)??"—"}),(a==null?void 0:a.collateralValue)&&i.jsxs(ye.Item,{label:"Залоговая стоимость",children:[Number(a.collateralValue).toLocaleString("ru-RU")," руб."]}),(a==null?void 0:a.liquidity)&&i.jsx(ye.Item,{label:"Ликвидность",children:i.jsx(et,{children:a.liquidity})})]})})}),c.length>0){const y=Object.keys(d).length>0?i.jsx("div",{className:"monitoring-card-content",children:Object.entries(d).map(([x,v])=>i.jsxs("div",{style:{marginBottom:"24px"},children:[i.jsx(zp,{level:5,style:{marginBottom:"16px"},children:x}),i.jsx(ye,{bordered:!0,column:2,size:"small",children:v.map(E=>{const R=p(E.key);return i.jsx(ye.Item,{label:E.label,children:f(E.key,R)},E.key)})})]},x))}):i.jsx("div",{className:"monitoring-card-content",children:i.jsx(ye,{bordered:!0,column:2,size:"small",children:c.map(x=>{const v=p(x.key);return i.jsx(ye.Item,{label:x.label,children:f(x.key,v)},x.key)})})});h.push({key:"characteristics",label:"Характеристики имущества",icon:i.jsx(Dr,{}),children:s?i.jsx("div",{style:{textAlign:"center",padding:"40px"},children:i.jsx(ei,{size:"large",tip:"Загрузка характеристик..."})}):y})}return h.push({key:"inspection",label:"Акт осмотра",icon:i.jsx(Ko,{}),children:i.jsx("div",{className:"monitoring-card-content",children:i.jsxs(Oe,{direction:"vertical",size:"large",style:{width:"100%"},children:[i.jsxs("div",{children:[i.jsx(zp,{level:5,children:"Система дистанционных осмотров"}),i.jsx(Pz,{type:"secondary",children:"Используйте CMS Check для проведения осмотра и загрузки фотографий"}),i.jsx(Ce,{type:"primary",icon:i.jsx(Ko,{}),onClick:()=>{window.open(u,"_blank")},children:"Открыть CMS Check"})]}),i.jsx(kt,{}),i.jsxs("div",{children:[i.jsx(zp,{level:5,children:"Данные акта осмотра"}),i.jsxs(dt,{gutter:[16,16],children:[i.jsxs(be,{xs:24,sm:12,children:[i.jsx(od,{strong:!0,children:"Дата проверки:"}),i.jsx("br",{}),i.jsx(kr,{style:{width:"100%",marginTop:"8px"},value:A.inspectionDate?We(A.inspectionDate):null,onChange:y=>{l(x=>({...x,inspectionDate:y?y.format("YYYY-MM-DD"):void 0}))},format:"DD.MM.YYYY"})]}),i.jsxs(be,{xs:24,sm:12,children:[i.jsx(od,{strong:!0,children:"Инспектор:"}),i.jsx("br",{}),i.jsx(Re,{style:{marginTop:"8px"},placeholder:"ФИО инспектора",value:A.inspector,onChange:y=>{l(x=>({...x,inspector:y.target.value}))}})]}),i.jsxs(be,{xs:24,children:[i.jsxs(od,{strong:!0,children:[i.jsx(tA,{})," Адрес:"]}),i.jsx("br",{}),i.jsx(Re,{style:{marginTop:"8px"},placeholder:"Адрес местоположения имущества",value:A.address,onChange:y=>{l(x=>({...x,address:y.target.value}))}})]}),i.jsxs(be,{xs:24,children:[i.jsx(od,{strong:!0,children:"Описание состояния имущества:"}),i.jsx("br",{}),i.jsx(IE,{rows:4,style:{marginTop:"8px"},placeholder:"Опишите состояние имущества, выявленные недостатки, повреждения и т.д.",value:A.conditionDescription,onChange:y=>{l(x=>({...x,conditionDescription:y.target.value}))}})]}),i.jsxs(be,{xs:24,children:[i.jsx(od,{strong:!0,children:"Примечания:"}),i.jsx("br",{}),i.jsx(IE,{rows:3,style:{marginTop:"8px"},placeholder:"Дополнительные примечания по результатам осмотра",value:A.notes,onChange:y=>{l(x=>({...x,notes:y.target.value}))}})]})]})]}),i.jsx(kt,{}),i.jsxs("div",{children:[i.jsxs(zp,{level:5,children:[i.jsx(Ko,{})," Фотографии имущества"]}),A.photos&&A.photos.length>0?i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"16px",marginTop:"16px"},children:A.photos.map((y,x)=>i.jsx("div",{style:{position:"relative"},children:i.jsx(im,{src:y,alt:`Фото ${x+1}`,width:"100%",style:{borderRadius:"4px"},fallback:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjE1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjE1MCIgZmlsbD0iI2Y1ZjVmNSIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM5OTkiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5ObyBJbWFnZTwvdGV4dD48L3N2Zz4="})},x))}):i.jsx(Sr,{description:"Фотографии не загружены",image:Sr.PRESENTED_IMAGE_SIMPLE,style:{margin:"20px 0"},children:i.jsx(Ce,{type:"dashed",icon:i.jsx(Ko,{}),onClick:()=>{window.open(u,"_blank")},children:"Загрузить фотографии через CMS Check"})})]})]})})}),h},[t,a,c,d,s,A,u,f,p]);return t?i.jsx(lr,{title:i.jsxs(Oe,{children:[i.jsx(Dr,{}),i.jsxs("span",{children:["Карточка мониторинга договора ",t.reference]})]}),open:e,onCancel:r,footer:[i.jsx(Ce,{onClick:r,children:"Закрыть"},"close")],width:"90%",style:{top:20},styles:{body:{maxHeight:"70vh",overflowY:"auto"}},children:s&&!a?i.jsx("div",{style:{textAlign:"center",padding:"40px"},children:i.jsx(ei,{size:"large",tip:"Загрузка данных..."})}):i.jsx(ts,{items:g,defaultActiveKey:"main",size:"small",type:"card"})}):null},lS=e=>{var t,r;return(t=e.address)!=null&&t.region?e.address.region:(r=e.address)!=null&&r.city?e.address.city:"Не указан"},qz=e=>{const t=[],r=pr.getMonitoringEmployees(),a=new Map;return e.forEach(n=>{if(!n.nextMonitoringDate)return;const s=lS(n);a.has(s)||a.set(s,[]),a.get(s).push(n)}),a.forEach((n,s)=>{const o=pr.getMonitoringEmployeesByRegion(s);if(o.length===0){const l=r;if(l.length===0)return;n.forEach((c,d)=>{const f=l[d%l.length];t.push({cardId:c.id,employeeId:f.id,employeeName:`${f.lastName} ${f.firstName} ${f.middleName||""}`.trim(),region:f.region})});return}const A=[...o].sort((l,c)=>{const d=l.monitoringWorkload||0,f=c.monitoringWorkload||0;return d-f});n.forEach((l,c)=>{const d=A[c%A.length];t.push({cardId:l.id,employeeId:d.id,employeeName:`${d.lastName} ${d.firstName} ${d.middleName||""}`.trim(),region:d.region}),d.monitoringWorkload=(d.monitoringWorkload||0)+1})}),t.forEach(n=>{const s=pr.getEmployeeById(n.employeeId);if(s){const o=s.monitoringWorkload||0;pr.updateWorkload(n.employeeId,o,void 0)}}),t},Kz=e=>{const t=[],r=pr.getAppraisalEmployees(),a=new Map;return e.forEach(n=>{if(!n.nextEvaluationDate)return;const s=lS(n);a.has(s)||a.set(s,[]),a.get(s).push(n)}),a.forEach((n,s)=>{const o=pr.getAppraisalEmployeesByRegion(s);if(o.length===0){const l=r;if(l.length===0)return;n.forEach((c,d)=>{const f=l[d%l.length];t.push({cardId:c.id,employeeId:f.id,employeeName:`${f.lastName} ${f.firstName} ${f.middleName||""}`.trim(),region:f.region})});return}const A=[...o].sort((l,c)=>{const d=l.appraisalWorkload||0,f=c.appraisalWorkload||0;return d-f});n.forEach((l,c)=>{const d=A[c%A.length];t.push({cardId:l.id,employeeId:d.id,employeeName:`${d.lastName} ${d.firstName} ${d.middleName||""}`.trim(),region:d.region}),d.appraisalWorkload=(d.appraisalWorkload||0)+1})}),t.forEach(n=>{const s=pr.getEmployeeById(n.employeeId);if(s){const o=s.appraisalWorkload||0;pr.updateWorkload(n.employeeId,void 0,o)}}),t},NE=e=>{localStorage.setItem("cms_monitoring_assignments",JSON.stringify(e))},f2=()=>{const e="cms_monitoring_assignments";try{const t=localStorage.getItem(e);return t?JSON.parse(t):[]}catch{return[]}},FE=e=>{localStorage.setItem("cms_appraisal_assignments",JSON.stringify(e))},p2=()=>{const e="cms_appraisal_assignments";try{const t=localStorage.getItem(e);return t?JSON.parse(t):[]}catch{return[]}},Hz=e=>{const r=f2().find(a=>a.cardId===e);return r&&pr.getEmployeeById(r.employeeId)||null},Gz=e=>{const r=p2().find(a=>a.cardId===e);return r&&pr.getEmployeeById(r.employeeId)||null},{Title:zz,Text:Vz}=ht,{TextArea:$z}=Re,T1="cms_monitoring_settings",Yz=()=>{const[e]=ne.useForm(),[t,r]=K.useState(!1),[a,n]=K.useState([]),[s,o]=K.useState([]),[A,l]=K.useState([]),[c,d]=K.useState([]),[f,p]=K.useState({}),[u,g]=K.useState(!1);K.useEffect(()=>{try{const b=localStorage.getItem(T1);if(b){const T=JSON.parse(b);e.setFieldsValue(T)}else e.setFieldsValue({notificationsEnabled:!0,notificationFrequency:"weekly",clientNotificationsEnabled:!1,clientNotificationDaysBefore:7,autoReminderEnabled:!0,reminderDaysBefore:3})}catch(b){console.error("Ошибка загрузки настроек:",b)}},[e]),K.useEffect(()=>{(()=>{try{const T=pr.getEmployees();n(T.filter(_=>_.isActive)),o(pr.getMonitoringEmployees()),l(pr.getAppraisalEmployees()),d(pr.getRegions())}catch(T){console.error("Ошибка загрузки сотрудников:",T)}})()},[]),K.useEffect(()=>{const b=async()=>{try{const T=f2(),_=p2(),S=await Dt.getExtendedCards(),O={};c.forEach(M=>{O[M]={};const I=S.filter(L=>{var P,Q;return(((P=L.address)==null?void 0:P.region)||((Q=L.address)==null?void 0:Q.city)||"Не указан")===M&&L.nextMonitoringDate});if(I.length>0){const L=I[0],N=T.find(P=>P.cardId===L.id);N&&(O[M].monitoring=N.employeeId)}const D=S.filter(L=>{var P,Q;return(((P=L.address)==null?void 0:P.region)||((Q=L.address)==null?void 0:Q.city)||"Не указан")===M&&L.nextEvaluationDate});if(D.length>0){const L=D[0],N=_.find(P=>P.cardId===L.id);N&&(O[M].appraisal=N.employeeId)}}),p(O)}catch(T){console.error("Ошибка загрузки назначений:",T)}};c.length>0&&b()},[c]);const h=async()=>{try{const b=await e.validateFields();r(!0),localStorage.setItem(T1,JSON.stringify(b)),Te.success("Настройки мониторинга сохранены")}catch(b){console.error("Ошибка сохранения настроек:",b),Te.error("Ошибка при сохранении настроек")}finally{r(!1)}},y=b=>{const T=a.find(_=>_.id===b);T&&e.setFieldsValue({bankEmployeeEmail:T.email||"",bankEmployeeName:`${T.lastName} ${T.firstName} ${T.middleName||""}`.trim(),bankEmployeeId:T.id})},x=async(b,T)=>{try{const S=(await Dt.getExtendedCards()).filter(I=>{var L,N;return(((L=I.address)==null?void 0:L.region)||((N=I.address)==null?void 0:N.city)||"Не указан")===b&&I.nextMonitoringDate}),O=pr.getEmployeeById(T);if(!O)return;const M=f2();S.forEach(I=>{const D=M.findIndex(N=>N.cardId===I.id),L={cardId:I.id,employeeId:O.id,employeeName:`${O.lastName} ${O.firstName} ${O.middleName||""}`.trim(),region:O.region};D>=0?M[D]=L:M.push(L)}),NE(M),p(I=>({...I,[b]:{...I[b],monitoring:T}})),Te.success(`Ответственный за мониторинг в регионе "${b}" назначен`)}catch(_){console.error("Ошибка назначения ответственного:",_),Te.error("Ошибка при назначении ответственного")}},v=async(b,T)=>{try{const S=(await Dt.getExtendedCards()).filter(I=>{var L,N;return(((L=I.address)==null?void 0:L.region)||((N=I.address)==null?void 0:N.city)||"Не указан")===b&&I.nextEvaluationDate}),O=pr.getEmployeeById(T);if(!O)return;const M=p2();S.forEach(I=>{const D=M.findIndex(N=>N.cardId===I.id),L={cardId:I.id,employeeId:O.id,employeeName:`${O.lastName} ${O.firstName} ${O.middleName||""}`.trim(),region:O.region};D>=0?M[D]=L:M.push(L)}),FE(M),p(I=>({...I,[b]:{...I[b],appraisal:T}})),Te.success(`Ответственный за оценку в регионе "${b}" назначен`)}catch(_){console.error("Ошибка назначения ответственного:",_),Te.error("Ошибка при назначении ответственного")}},E=async()=>{try{g(!0);const b=await Dt.getExtendedCards(),T=qz(b);NE(T);const _={};c.forEach(S=>{const O=T.find(M=>{var L,N;const I=b.find(P=>P.id===M.cardId);return(((L=I==null?void 0:I.address)==null?void 0:L.region)||((N=I==null?void 0:I.address)==null?void 0:N.city)||"Не указан")===S});O&&(_[S]={monitoring:O.employeeId})}),p(S=>({...S,..._})),Te.success(`Автопилот выполнен: назначено ${T.length} объектов для мониторинга`)}catch(b){console.error("Ошибка автопилота мониторинга:",b),Te.error("Ошибка при выполнении автопилота")}finally{g(!1)}},R=async()=>{try{g(!0);const b=await Dt.getExtendedCards(),T=Kz(b);FE(T);const _={};c.forEach(S=>{const O=T.find(M=>{var L,N;const I=b.find(P=>P.id===M.cardId);return(((L=I==null?void 0:I.address)==null?void 0:L.region)||((N=I==null?void 0:I.address)==null?void 0:N.city)||"Не указан")===S});O&&(_[S]={appraisal:O.employeeId})}),p(S=>({...S,..._})),Te.success(`Автопилот выполнен: назначено ${T.length} объектов для оценки`)}catch(b){console.error("Ошибка автопилота оценки:",b),Te.error("Ошибка при выполнении автопилота")}finally{g(!1)}};return i.jsx("div",{style:{padding:"24px"},children:i.jsxs(Me,{children:[i.jsxs("div",{style:{marginBottom:24},children:[i.jsxs(zz,{level:3,style:{margin:0,display:"flex",alignItems:"center",gap:12},children:[i.jsx($A,{style:{fontSize:"28px",color:"#1890ff"}}),"Настройки мониторинга"]}),i.jsx(Vz,{type:"secondary",style:{display:"block",marginTop:8},children:"Настройка уведомлений, периодичности и интеграции с почтовой рассылкой"})]}),i.jsx(kt,{}),i.jsxs(ne,{form:e,layout:"vertical",onFinish:h,children:[i.jsxs(Me,{title:i.jsxs(Oe,{children:[i.jsx(Ev,{}),i.jsx("span",{children:"Настройки уведомлений"})]}),style:{marginBottom:24},children:[i.jsx(ne.Item,{name:"notificationsEnabled",label:"Включить уведомления",valuePropName:"checked",children:i.jsx(xi,{})}),i.jsx(ne.Item,{name:"notificationFrequency",label:"Периодичность уведомлений",rules:[{required:!0,message:"Выберите периодичность"}],children:i.jsxs(Ve,{children:[i.jsx(Ve.Option,{value:"daily",children:"Ежедневно"}),i.jsx(Ve.Option,{value:"weekly",children:"Еженедельно"}),i.jsx(Ve.Option,{value:"monthly",children:"Ежемесячно"}),i.jsx(Ve.Option,{value:"custom",children:"Произвольная (указать дни)"})]})}),i.jsx(ne.Item,{noStyle:!0,shouldUpdate:(b,T)=>b.notificationFrequency!==T.notificationFrequency,children:({getFieldValue:b})=>b("notificationFrequency")==="custom"?i.jsx(ne.Item,{name:"customNotificationDays",label:"Количество дней между уведомлениями",rules:[{required:!0,message:"Укажите количество дней"}],children:i.jsx(ha,{min:1,max:365,style:{width:"100%"}})}):null}),i.jsx(ne.Item,{name:"autoReminderEnabled",label:"Автоматическое напоминание сотруднику",valuePropName:"checked",children:i.jsx(xi,{})}),i.jsx(ne.Item,{noStyle:!0,shouldUpdate:(b,T)=>b.autoReminderEnabled!==T.autoReminderEnabled,children:({getFieldValue:b})=>b("autoReminderEnabled")?i.jsx(ne.Item,{name:"reminderDaysBefore",label:"Напоминать за (дней до мониторинга)",rules:[{required:!0,message:"Укажите количество дней"}],children:i.jsx(ha,{min:1,max:30,style:{width:"100%"}})}):null})]}),i.jsxs(Me,{title:i.jsxs(Oe,{children:[i.jsx(bv,{}),i.jsx("span",{children:"Интеграция с почтовой рассылкой"})]}),style:{marginBottom:24},children:[i.jsx(Ir,{message:"Настройка email-уведомлений",description:"Укажите сотрудника Банка, ответственного за мониторинг, для автоматической рассылки уведомлений",type:"info",showIcon:!0,style:{marginBottom:16}}),i.jsx(ne.Item,{name:"bankEmployeeId",label:"Ответственный сотрудник Банка",rules:[{required:!0,message:"Выберите сотрудника"}],children:i.jsx(Ve,{placeholder:"Выберите сотрудника",showSearch:!0,filterOption:(b,T)=>((T==null?void 0:T.label)??"").toLowerCase().includes(b.toLowerCase()),onChange:y,options:a.map(b=>({value:b.id,label:`${b.lastName} ${b.firstName} ${b.middleName||""}`.trim()}))})}),i.jsx(ne.Item,{name:"bankEmployeeEmail",label:"Email для уведомлений",rules:[{required:!0,message:"Укажите email"},{type:"email",message:"Неверный формат email"}],children:i.jsx(Re,{prefix:i.jsx(bv,{}),placeholder:"email@example.com"})}),i.jsx(ne.Item,{name:"bankEmployeeName",hidden:!0,children:i.jsx(Re,{})})]}),i.jsxs(Me,{title:i.jsxs(Oe,{children:[i.jsx(Ev,{}),i.jsx("span",{children:"Уведомления клиенту Банка"})]}),style:{marginBottom:24},children:[i.jsx(Ir,{message:"Автоматические уведомления клиенту",description:"Настройте автоматическую отправку уведомлений клиенту о предстоящем мониторинге",type:"info",showIcon:!0,style:{marginBottom:16}}),i.jsx(ne.Item,{name:"clientNotificationsEnabled",label:"Включить уведомления клиенту",valuePropName:"checked",children:i.jsx(xi,{})}),i.jsx(ne.Item,{noStyle:!0,shouldUpdate:(b,T)=>b.clientNotificationsEnabled!==T.clientNotificationsEnabled,children:({getFieldValue:b})=>b("clientNotificationsEnabled")?i.jsxs(i.Fragment,{children:[i.jsx(ne.Item,{name:"clientNotificationDaysBefore",label:"Уведомлять клиента за (дней до мониторинга)",rules:[{required:!0,message:"Укажите количество дней"}],children:i.jsx(ha,{min:1,max:30,style:{width:"100%"}})}),i.jsx(ne.Item,{name:"clientNotificationTemplate",label:"Шаблон уведомления клиенту",children:i.jsx($z,{rows:6,placeholder:"Уважаемый клиент! Напоминаем, что {дата} запланирован мониторинг объекта залога по договору {номер_договора}. Пожалуйста, обеспечьте доступ к объекту."})})]}):null})]}),i.jsxs(Me,{title:i.jsxs(Oe,{children:[i.jsx(es,{}),i.jsx("span",{children:"Назначение ответственных за мониторинг"})]}),style:{marginBottom:24},extra:i.jsx(Ce,{type:"primary",icon:i.jsx(_v,{}),onClick:E,loading:u,children:"Автопилот"}),children:[i.jsx(Ir,{message:"Распределение по регионам",description:"Назначьте ответственных сотрудников для мониторинга по каждому региону. Используйте 'Автопилот' для автоматического распределения с учетом загрузки сотрудников.",type:"info",showIcon:!0,style:{marginBottom:16}}),i.jsx(nr,{dataSource:c.map(b=>{var T;return{key:b,region:b,monitoringEmployee:(T=f[b])==null?void 0:T.monitoring}}),columns:[{title:"Регион",dataIndex:"region",key:"region"},{title:"Ответственный за мониторинг",dataIndex:"monitoringEmployee",key:"monitoringEmployee",render:(b,T)=>i.jsx(Ve,{style:{width:"100%"},placeholder:"Выберите сотрудника",value:b,onChange:_=>x(T.region,_),options:s.filter(_=>_.region===T.region).map(_=>({value:_.id,label:`${_.lastName} ${_.firstName} ${_.middleName||""}`.trim()}))})}],pagination:!1})]}),i.jsxs(Me,{title:i.jsxs(Oe,{children:[i.jsx(es,{}),i.jsx("span",{children:"Назначение ответственных за оценку"})]}),style:{marginBottom:24},extra:i.jsx(Ce,{type:"primary",icon:i.jsx(_v,{}),onClick:R,loading:u,children:"Автопилот"}),children:[i.jsx(Ir,{message:"Распределение по регионам",description:"Назначьте ответственных сотрудников для оценки по каждому региону. Используйте 'Автопилот' для автоматического распределения с учетом загрузки сотрудников.",type:"info",showIcon:!0,style:{marginBottom:16}}),i.jsx(nr,{dataSource:c.map(b=>{var T;return{key:b,region:b,appraisalEmployee:(T=f[b])==null?void 0:T.appraisal}}),columns:[{title:"Регион",dataIndex:"region",key:"region"},{title:"Ответственный за оценку",dataIndex:"appraisalEmployee",key:"appraisalEmployee",render:(b,T)=>i.jsx(Ve,{style:{width:"100%"},placeholder:"Выберите сотрудника",value:b,onChange:_=>v(T.region,_),options:A.filter(_=>_.region===T.region).map(_=>({value:_.id,label:`${_.lastName} ${_.firstName} ${_.middleName||""}`.trim()}))})}],pagination:!1})]}),i.jsx(kt,{}),i.jsx(ne.Item,{children:i.jsxs(Oe,{children:[i.jsx(Ce,{type:"primary",htmlType:"submit",icon:i.jsx(nm,{}),loading:t,size:"large",children:"Сохранить настройки"}),i.jsx(Ce,{onClick:()=>{e.resetFields();const b=localStorage.getItem(T1);if(b){const T=JSON.parse(b);e.setFieldsValue(T)}},children:"Отменить изменения"})]})})]})]})})},cS=e=>e<0?"overdue":e<=7?"week":e<=30?"month":e<=90?"quarter":"later",em=e=>{if(!e)return null;const t=e.split(".");if(t.length!==3)return null;const r=parseInt(t[0],10),a=parseInt(t[1],10)-1,n=parseInt(t[2],10);return new Date(n,a,r)},Ld=e=>{const t=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),a=e.getFullYear();return`${t}.${r}.${a}`},dS=(e,t)=>{if(e)return e.includes("недвижимость")||e.includes("здание")||e.includes("помещение")?"Недвижимость":e.includes("автомобиль")||e.includes("транспорт")?"Транспорт":e.includes("оборудование")||e.includes("техника")?"Оборудование":e.includes("товар")||e.includes("сырье")?"Товары и сырье":e.includes("право")||e.includes("доля")?"Имущественные права":e;switch(t){case"real_estate":return"Недвижимость";case"movable":return"Движимое имущество";case"property_rights":return"Имущественные права";default:return"Прочее"}},Wz=(e,t)=>t==="real_estate"?"Выездной осмотр":t==="movable"?e!=null&&e.includes("автомобиль")||e!=null&&e.includes("транспорт")?"Документарная проверка + онлайн-проверка":"Выездной осмотр":"Документарная проверка",Xz=(e,t)=>t==="real_estate"?"Оценка недвижимости":t==="movable"?e!=null&&e.includes("автомобиль")||e!=null&&e.includes("транспорт")?"Оценка транспортных средств":"Оценка оборудования":"Оценка имущественных прав",uS=(e,t)=>{if(t==="monitoring"){const a=Hz(e.id);if(a)return`${a.lastName} ${a.firstName} ${a.middleName||""}`.trim()}else{const a=Gz(e.id);if(a)return`${a.lastName} ${a.firstName} ${a.middleName||""}`.trim()}const r=["Иванов И.И.","Петров П.П.","Сидоров С.С.","Смирнов А.А.","Кузнецов Д.Д."];return r[Math.floor(Math.random()*r.length)]},fS=e=>{const t=[],r=We();return e.forEach(a=>{var u,g,h,y,x,v,E;if(a.mainCategory!=="real_estate"&&a.mainCategory!=="movable"||!a.nextMonitoringDate)return;const n=em(a.nextMonitoringDate);if(!n)return;const s=em(a.monitoringDate||a.nextMonitoringDate),o=We(n).diff(r,"day"),A=cS(o),l=((u=a.address)==null?void 0:u.city)||((g=a.address)==null?void 0:g.region)||null,c=l?Cy(l):null,d=(h=a.partners)==null?void 0:h.find(R=>R.role==="owner"),f=(y=a.partners)==null?void 0:y.find(R=>R.role==="pledgor"),p={reference:a.reference||null,borrower:d?d.type==="legal"?d.organizationName:`${d.lastName} ${d.firstName} ${d.middleName||""}`.trim():null,pledger:f?f.type==="legal"?f.organizationName:`${f.lastName} ${f.firstName} ${f.middleName||""}`.trim():null,segment:null,group:null,collateralType:a.propertyType||null,baseType:dS(a.propertyType,a.mainCategory),frequencyMonths:a.monitoringFrequencyMonths||12,monitoringType:((x=a.characteristics)==null?void 0:x.MONITORING_TYPE)||null,monitoringMethod:Wz(a.propertyType,a.mainCategory),lastMonitoringDate:Ld(s||n),plannedDate:Ld(n),timeframe:A,owner:uS(a,"monitoring"),city:l,regionCenterCode:(c==null?void 0:c.code)||null,regionCenterName:(c==null?void 0:c.name)||null,priority:((v=a.characteristics)==null?void 0:v.PRIORITY)||null,liquidity:((E=a.characteristics)==null?void 0:E.LIQUIDITY)||null,collateralValue:a.pledgeValue||null};t.push(p)}),t},pS=e=>{const t=[],r=We();return e.forEach(a=>{var g,h,y,x,v;if(a.mainCategory!=="real_estate"&&a.mainCategory!=="movable"||!a.nextEvaluationDate)return;const n=em(a.nextEvaluationDate);if(!n)return;const s=em(a.lastEvaluationDate||a.evaluationDate||a.nextEvaluationDate),o=We(n).diff(r,"day"),A=cS(o),l=((g=a.address)==null?void 0:g.city)||((h=a.address)==null?void 0:h.region)||null,c=l?Cy(l):null,d=(y=a.partners)==null?void 0:y.find(E=>E.role==="owner"),f=(x=a.partners)==null?void 0:x.find(E=>E.role==="pledgor"),p=a.mainCategory==="real_estate"?12:6,u={reference:a.reference||null,borrower:d?d.type==="legal"?d.organizationName:`${d.lastName} ${d.firstName} ${d.middleName||""}`.trim():null,pledger:f?f.type==="legal"?f.organizationName:`${f.lastName} ${f.firstName} ${f.middleName||""}`.trim():null,segment:null,group:null,collateralType:a.propertyType||null,baseType:dS(a.propertyType,a.mainCategory),frequencyMonths:p,lastRevaluationDate:Ld(s||n),plannedDate:Ld(n),timeframe:A,owner:uS(a,"appraisal"),city:l,regionCenterCode:(c==null?void 0:c.code)||null,regionCenterName:(c==null?void 0:c.name)||null,priority:((v=a.characteristics)==null?void 0:v.PRIORITY)||null,collateralValue:a.pledgeValue||null,marketValue:a.marketValue||null,revaluationMethod:Xz(a.propertyType,a.mainCategory)};t.push(u)}),t};We.extend(kz);const RE=[{label:"Все",value:"all"},{label:"Просрочено",value:"overdue"},{label:"7 дней",value:"week"},{label:"30 дней",value:"month"},{label:"90 дней",value:"quarter"}],Jz=()=>{var tt;const e=ul(),t=((tt=e.state)==null?void 0:tt.activeTab)||"monitoring",[r,a]=K.useState(t);K.useEffect(()=>{var _e;const je=(_e=e.state)==null?void 0:_e.activeTab;je&&(je==="monitoring"||je==="revaluation"||je==="settings")&&a(je)},[e.state]);const[n,s]=K.useState([]),[o,A]=K.useState(!0),[l,c]=K.useState(null),[d,f]=K.useState("week"),[p,u]=K.useState(""),[g,h]=K.useState(null),[y,x]=K.useState(null),[v,E]=K.useState(null),[R,b]=K.useState(!1),[T,_]=K.useState(null),[S,O]=K.useState(!1),[M,I]=K.useState([]),[D,L]=K.useState(!0),[N,P]=K.useState(null),[Q,J]=K.useState("week"),[te,V]=K.useState(""),[G,z]=K.useState(null),[C,k]=K.useState(null),[j,H]=K.useState(null);K.useEffect(()=>{let je=!0;return(async()=>{A(!0),c(null);try{const ct=await Dt.getExtendedCards();if(!je)return;const St=fS(ct).map((Et,Ft)=>{const bt=We(Et.plannedDate,"DD.MM.YYYY").diff(We(),"day");let ft="#1677ff";return bt<0?ft="#f5222d":bt<=7?ft="#fa8c16":bt<=30&&(ft="#52c41a"),{...Et,key:`${Et.reference??"ref"}-${Ft}`,daysUntil:bt,statusColor:ft}});s(St)}catch(ct){c(ct instanceof Error?ct.message:"Неизвестная ошибка")}finally{je&&A(!1)}})(),()=>{je=!1}},[]);const Y=K.useMemo(()=>Array.from(new Set(n.map(_e=>_e.baseType))).filter(Boolean).map(_e=>({value:_e,label:_e})),[n]),de=K.useMemo(()=>Array.from(new Set(n.map(_e=>_e.monitoringMethod))).filter(Boolean).map(_e=>({value:_e,label:_e})),[n]),ue=K.useMemo(()=>Array.from(new Set(n.map(_e=>_e.owner))).filter(Boolean).map(_e=>({value:_e,label:_e})),[n]),he=K.useMemo(()=>{const je=p.trim().toLowerCase();return n.filter(_e=>{const ct=!je||[_e.reference,_e.borrower,_e.pledger,_e.segment,_e.owner,_e.monitoringType].filter(Boolean).some(Lt=>String(Lt).toLowerCase().includes(je)),_t=d==="all"||_e.timeframe===d,St=!g||_e.baseType===g,Et=!y||_e.monitoringMethod===y,Ft=!v||_e.owner===v;return ct&&_t&&St&&Et&&Ft})},[n,p,d,g,y,v]),xe=K.useMemo(()=>{const je={overdue:0,week:0,month:0,quarter:0,total:n.length};return n.forEach(_e=>{_e.timeframe in je&&(je[_e.timeframe]+=1)}),je},[n]),ve=K.useMemo(()=>[{title:"Сделка",dataIndex:"reference",key:"reference",width:220,render:(je,_e)=>i.jsxs("div",{children:[i.jsx(ht.Text,{strong:!0,children:_e.reference??"—"}),i.jsx("div",{className:"monitoring-muted",children:_e.borrower??_e.pledger??"Не указан"}),i.jsxs("div",{className:"monitoring-muted",children:[_e.segment??"—"," · ",_e.group??"—"]})]})},{title:"Обеспечение",dataIndex:"baseType",key:"baseType",width:220,render:(je,_e)=>i.jsxs("div",{children:[i.jsx(ht.Text,{children:_e.baseType}),i.jsx("div",{className:"monitoring-muted",children:_e.collateralType}),_e.liquidity&&i.jsx(et,{children:_e.liquidity})]})},{title:"План мониторинга",dataIndex:"plannedDate",key:"plannedDate",width:220,render:(je,_e)=>i.jsxs("div",{children:[i.jsx(mh,{color:_e.statusColor}),i.jsx(ht.Text,{style:{marginLeft:8},children:_e.plannedDate}),i.jsxs("div",{className:"monitoring-muted",children:["Последний: ",_e.lastMonitoringDate," · каждые ",_e.frequencyMonths," мес."]}),i.jsxs("div",{className:"monitoring-trend",children:[i.jsx(Vn,{}),_e.daysUntil<0?i.jsxs("span",{children:["Просрочен на ",Math.abs(_e.daysUntil)," дн."]}):i.jsxs("span",{children:["Через ",_e.daysUntil," дн."]})]})]})},{title:"Вид/метод мониторинга",dataIndex:"monitoringType",key:"monitoringType",width:240,render:(je,_e)=>i.jsxs("div",{children:[_e.monitoringType&&i.jsx(et,{color:"blue",children:_e.monitoringType}),i.jsx("div",{className:"monitoring-muted",children:_e.monitoringMethod})]})},{title:"Ответственный",dataIndex:"owner",key:"owner",width:180,render:je=>i.jsx(ht.Text,{children:je})},{title:"Приоритет",dataIndex:"priority",key:"priority",width:160,render:je=>i.jsx("span",{children:je??"—"})},{title:"Действия",key:"actions",width:100,fixed:"right",render:(je,_e)=>i.jsx(Jr,{title:"Открыть карточку мониторинга",children:i.jsxs("a",{onClick:()=>{_(_e),O(!0)},children:[i.jsx(Ts,{})," Открыть"]})})}],[_,O]);K.useEffect(()=>{let je=!0;return(async()=>{L(!0),P(null);try{const ct=await Dt.getExtendedCards();if(!je)return;const St=pS(ct).map((Et,Ft)=>{const bt=We(Et.plannedDate,"DD.MM.YYYY").diff(We(),"day");let ft="#1677ff";return bt<0?ft="#f5222d":bt<=7?ft="#fa8c16":bt<=30&&(ft="#52c41a"),{...Et,key:`${Et.reference??"ref"}-${Ft}`,daysUntil:bt,statusColor:ft}});I(St)}catch(ct){P(ct instanceof Error?ct.message:"Неизвестная ошибка")}finally{je&&L(!1)}})(),()=>{je=!1}},[]);const se=K.useMemo(()=>Array.from(new Set(M.map(_e=>_e.baseType))).filter(Boolean).map(_e=>({value:_e,label:_e})),[M]),Ke=K.useMemo(()=>Array.from(new Set(M.map(_e=>_e.revaluationMethod))).filter(Boolean).map(_e=>({value:_e,label:_e})),[M]),Ee=K.useMemo(()=>Array.from(new Set(M.map(_e=>_e.owner))).filter(Boolean).map(_e=>({value:_e,label:_e})),[M]),pe=K.useMemo(()=>{const je=te.trim().toLowerCase();return M.filter(_e=>{const ct=!je||[_e.reference,_e.borrower,_e.pledger,_e.segment,_e.owner,_e.revaluationMethod].filter(Boolean).some(Lt=>String(Lt).toLowerCase().includes(je)),_t=Q==="all"||_e.timeframe===Q,St=!G||_e.baseType===G,Et=!C||_e.revaluationMethod===C,Ft=!j||_e.owner===j;return ct&&_t&&St&&Et&&Ft})},[M,te,Q,G,C,j]),ce=K.useMemo(()=>{const je={overdue:0,week:0,month:0,quarter:0,total:M.length};return M.forEach(_e=>{_e.timeframe in je&&(je[_e.timeframe]+=1)}),je},[M]),He=K.useMemo(()=>[{title:"Сделка",dataIndex:"reference",key:"reference",width:220,render:(je,_e)=>i.jsxs("div",{children:[i.jsx(ht.Text,{strong:!0,children:_e.reference??"—"}),i.jsx("div",{className:"monitoring-muted",children:_e.borrower??_e.pledger??"Не указан"}),i.jsxs("div",{className:"monitoring-muted",children:[_e.segment??"—"," · ",_e.group??"—"]})]})},{title:"Обеспечение",dataIndex:"baseType",key:"baseType",width:220,render:(je,_e)=>i.jsxs("div",{children:[i.jsx(ht.Text,{children:_e.baseType}),i.jsx("div",{className:"monitoring-muted",children:_e.collateralType})]})},{title:"План переоценки",dataIndex:"plannedDate",key:"plannedDate",width:220,render:(je,_e)=>i.jsxs("div",{children:[i.jsx(mh,{color:_e.statusColor}),i.jsx(ht.Text,{style:{marginLeft:8},children:_e.plannedDate}),i.jsxs("div",{className:"monitoring-muted",children:["Последняя: ",_e.lastRevaluationDate," · каждые ",_e.frequencyMonths," мес."]}),i.jsxs("div",{className:"monitoring-trend",children:[i.jsx(Vn,{}),_e.daysUntil<0?i.jsxs("span",{children:["Просрочен на ",Math.abs(_e.daysUntil)," дн."]}):i.jsxs("span",{children:["Через ",_e.daysUntil," дн."]})]})]})},{title:"Стоимость",dataIndex:"collateralValue",key:"collateralValue",width:180,render:(je,_e)=>i.jsxs("div",{children:[_e.collateralValue&&i.jsx("div",{children:i.jsxs(ht.Text,{children:["Залог: ",_e.collateralValue.toLocaleString("ru-RU")," ₽"]})}),_e.marketValue&&i.jsxs("div",{className:"monitoring-muted",children:["Рыночная: ",_e.marketValue.toLocaleString("ru-RU")," ₽"]})]})},{title:"Метод переоценки",dataIndex:"revaluationMethod",key:"revaluationMethod",width:200,render:je=>je?i.jsx(et,{color:"purple",children:je}):i.jsx("span",{children:"—"})},{title:"Ответственный",dataIndex:"owner",key:"owner",width:180,render:je=>i.jsx(ht.Text,{children:je})},{title:"Приоритет",dataIndex:"priority",key:"priority",width:160,render:je=>i.jsx("span",{children:je??"—"})}],[]),Ze=K.useCallback(()=>i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"monitoring-page__header",children:[i.jsxs("div",{children:[i.jsx(ht.Title,{level:2,className:"monitoring-page__title",children:"План мониторинга Обеспечения"}),i.jsx(ht.Paragraph,{className:"monitoring-page__subtitle",children:"Формирование недельного, месячного и квартального графика выездов и документарных проверок по всем видам залогов."})]}),i.jsx(Jr,{title:"Поиск по сделке, клиенту, ИНН или ответственному",children:i.jsx(Re,{allowClear:!0,size:"large",placeholder:"Поиск по сделкам и клиентам",prefix:i.jsx(qa,{}),value:p,onChange:je=>u(je.target.value),style:{width:360}})})]}),i.jsxs(dt,{gutter:[16,16],children:[i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"Просрочено",value:xe.overdue,valueStyle:{color:"#f5222d"},prefix:i.jsx(Xp,{})})})}),i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"7 дней",value:xe.week,valueStyle:{color:"#fa8c16"}})})}),i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"30 дней",value:xe.month,valueStyle:{color:"#52c41a"}})})}),i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"90 дней",value:xe.quarter,valueStyle:{color:"#1677ff"}})})})]}),i.jsx(Me,{className:"monitoring-page__filters",children:i.jsxs(Oe,{size:"middle",wrap:!0,children:[i.jsx(Ho.Group,{options:RE,value:d,onChange:je=>f(je.target.value),optionType:"button",buttonStyle:"solid"}),i.jsx(Ve,{allowClear:!0,placeholder:"Тип обеспечения",style:{minWidth:200},options:Y,value:g??void 0,onChange:je=>h(je??null)}),i.jsx(Ve,{allowClear:!0,placeholder:"Метод мониторинга",style:{minWidth:200},options:de,value:y??void 0,onChange:je=>x(je??null)}),i.jsx(Ve,{allowClear:!0,placeholder:"Ответственный",style:{minWidth:200},options:ue,value:v??void 0,onChange:je=>E(je??null)})]})}),i.jsx(dt,{gutter:[16,16],children:i.jsx(be,{xs:24,children:i.jsxs(Me,{bodyStyle:{padding:0},className:"monitoring-page__table-card",children:[i.jsx("div",{className:"monitoring-page__table-actions",children:i.jsx(Oe,{children:i.jsx(Jr,{title:"Рекомендации по периодичности мониторинга",children:i.jsx("a",{onClick:()=>b(!0),children:"Рекомендации"})})})}),i.jsx(nr,{columns:ve,dataSource:he,pagination:{pageSize:15,showSizeChanger:!1},scroll:{x:1200},loading:o,onRow:je=>({onDoubleClick:()=>{_(je),O(!0)},style:{cursor:"pointer"}}),locale:{emptyText:o?i.jsx(Sr,{description:"Загрузка..."}):i.jsx(Sr,{description:"Нет задач"})}})]})})}),l&&i.jsx(Ir,{type:"error",showIcon:!0,message:"Не удалось загрузить план мониторинга",description:l,action:i.jsx("a",{onClick:()=>window.location.reload(),style:{fontWeight:600},children:"Повторить"})}),i.jsxs(lr,{title:"Рекомендации по периодичности мониторинга",open:R,onCancel:()=>b(!1),onOk:()=>b(!1),okText:"Понятно",cancelText:"Закрыть",children:[i.jsxs("ul",{className:"monitoring-guidelines",children:[i.jsx("li",{children:"Недвижимость — не реже 1 раза в 12 месяцев."}),i.jsx("li",{children:"Транспорт/оборудование без страхования — каждые 6 месяцев."}),i.jsx("li",{children:"Транспорт/оборудование со страхованием — каждые 12 месяцев."}),i.jsx("li",{children:"Товары и сырье — каждые 3 месяца (формальное обеспечение документарно)."}),i.jsx("li",{children:"Имущественные права — каждые 6 месяцев."}),i.jsx("li",{children:"Ценные бумаги и доли — ежегодно, документарно."})]}),i.jsx(ht.Paragraph,{className:"monitoring-muted",children:"При наличии решения УО/УЛ используется индивидуальный график. Документарные проверки включают ЕГРН, реестры залогов, выписки счетов депо и онлайн-проверку транспортных средств."})]}),i.jsx(Qz,{visible:S,entry:T,onClose:()=>{O(!1),_(null)}})]}),[p,xe,d,g,y,v,he,o,l,R,S,T,Y,de,ue,ve]),Ye=K.useCallback(()=>i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"monitoring-page__header",children:[i.jsxs("div",{children:[i.jsx(ht.Title,{level:2,className:"monitoring-page__title",children:"План переоценок Обеспечения"}),i.jsx(ht.Paragraph,{className:"monitoring-page__subtitle",children:"Формирование графика переоценок залогового имущества для актуализации стоимости обеспечения."})]}),i.jsx(Jr,{title:"Поиск по сделке, клиенту, ИНН или ответственному",children:i.jsx(Re,{allowClear:!0,size:"large",placeholder:"Поиск по сделкам и клиентам",prefix:i.jsx(qa,{}),value:te,onChange:je=>V(je.target.value),style:{width:360}})})]}),i.jsxs(dt,{gutter:[16,16],children:[i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"Просрочено",value:ce.overdue,valueStyle:{color:"#f5222d"},prefix:i.jsx(Xp,{})})})}),i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"7 дней",value:ce.week,valueStyle:{color:"#fa8c16"}})})}),i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"30 дней",value:ce.month,valueStyle:{color:"#52c41a"}})})}),i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"90 дней",value:ce.quarter,valueStyle:{color:"#1677ff"}})})})]}),i.jsx(Me,{className:"monitoring-page__filters",children:i.jsxs(Oe,{size:"middle",wrap:!0,children:[i.jsx(Ho.Group,{options:RE,value:Q,onChange:je=>J(je.target.value),optionType:"button",buttonStyle:"solid"}),i.jsx(Ve,{allowClear:!0,placeholder:"Тип обеспечения",style:{minWidth:200},options:se,value:G??void 0,onChange:je=>z(je??null)}),i.jsx(Ve,{allowClear:!0,placeholder:"Метод переоценки",style:{minWidth:200},options:Ke,value:C??void 0,onChange:je=>k(je??null)}),i.jsx(Ve,{allowClear:!0,placeholder:"Ответственный",style:{minWidth:200},options:Ee,value:j??void 0,onChange:je=>H(je??null)})]})}),i.jsx(dt,{gutter:[16,16],children:i.jsx(be,{xs:24,children:i.jsx(Me,{bodyStyle:{padding:0},className:"monitoring-page__table-card",children:i.jsx(nr,{columns:He,dataSource:pe,pagination:{pageSize:15,showSizeChanger:!1},scroll:{x:1200},loading:D,locale:{emptyText:D?i.jsx(Sr,{description:"Загрузка..."}):i.jsx(Sr,{description:"Нет задач"})}})})})}),N&&i.jsx(Ir,{type:"error",showIcon:!0,message:"Не удалось загрузить план переоценок",description:N,action:i.jsx("a",{onClick:()=>window.location.reload(),style:{fontWeight:600},children:"Повторить"})})]}),[te,ce,Q,G,C,j,pe,D,N,se,Ke,Ee,He]);return i.jsxs("div",{className:"monitoring-page",children:[i.jsxs("div",{style:{marginBottom:16,display:"flex",justifyContent:"flex-end",gap:8},children:[i.jsx(Ce,{type:r==="monitoring"?"primary":"default",icon:i.jsx(Ts,{}),size:"large",onClick:()=>a("monitoring"),style:r==="monitoring"?{}:{backgroundColor:"#1890ff",borderColor:"#1890ff",color:"#fff"},children:"План мониторинга Обеспечения"}),i.jsx(Ce,{type:r==="revaluation"?"primary":"default",icon:i.jsx(el,{}),size:"large",onClick:()=>a("revaluation"),style:r==="revaluation"?{}:{backgroundColor:"#52c41a",borderColor:"#52c41a",color:"#fff"},children:"План переоценки Обеспечения"})]}),i.jsx(ts,{activeKey:r,onChange:a,items:[{key:"monitoring",label:i.jsxs("span",{children:[i.jsx(Xp,{}),"План мониторинга обеспечения"]}),children:Ze()},{key:"revaluation",label:i.jsxs("span",{children:[i.jsx(Zf,{}),"План переоценок Обеспечения"]}),children:Ye()},{key:"settings",label:i.jsxs("span",{children:[i.jsx($A,{}),"Настройка"]}),children:i.jsx(Yz,{})}]})]})};function Zz(e){const{portfolioData:t,creditOrgCode:r="000000000",creditOrgName:a="Кредитная организация",reportDate:n=new Date().toISOString().split("T")[0]}=e,s=eV(),o="urn:cbr-ru:rep0409310:v4.0.4.5";let A=`<?xml version="1.0" encoding="windows-1251"?>
`;A+=`<Ф0409310 xmlns="${o}"
`,A+=`	Идентификатор="${s}"
`,A+=`	ВерсияФормата="4.0.4.5"
`,A+=`	ДатаВерсииФормата="2025-04-24"
`,A+=`	Версия="4.0.4.5"
`,A+=`	Дата="${n}"
`,A+=`	Номер="1"
`,A+=`	ДатаВерсии="2025-04-24"
`,A+=`	ДатаВерсииФормата="2025-04-24T00:00:00">
`,A+=`	<КредитнаяОрганизация Наименование="${$a(a)}" Код="${r}"/>
`,A+=`	<Раздел310 НП="1">
`;const l=t.slice(0,100);for(const c of l){const d=String(c.reference||c.contractNumber||"");if(!d)continue;A+=`		<Раздел1 Раздел1_1="${d}">
`,A+=`			<Подраздел1>
`,A+=`				<Раздел1_1 Раздел1.1_2="${d}"/>
`;const f=SA(c.registrationDate||c.collateralContractDate);A+=`				<Раздел1.1 Раздел1.1_3="${f}" Раздел1.1_4="${$a(String(c.collateralType||"-"))}"/>
`,c.collateralReference&&(A+=`				<Раздел1.2 Раздел1.2_2="${c.collateralReference}"/>
`),c.lastMonitoringDate&&c.lastMonitoringDate!=="-"&&(A+=`				<Раздел1.3 Раздел1.3_2="${SA(c.lastMonitoringDate)}"/>
`),A+=`			</Подраздел1>
`,c.closeDate&&c.closeDate!=="-"&&(A+=`			<Раздел1.4 Раздел1.4_2="${SA(c.closeDate)}"/>
`),A+=`		</Раздел1>
`;const p=SA(c.contractDate);A+=`		<Раздел2
`,A+=`			Раздел2_1="${d}"
`,A+=`			Раздел2_2="${$a(String(c.contractNumber||""))}"
`,A+=`			Раздел2_3="${Ad(c.debtRub||0)}"
`,A+=`			Раздел2_4="${p}"
`,A+=`			Раздел2_5="${Ad(c.overdueInterest||0)}"
`,A+=`			Раздел2_6="${p}"
`,A+=`			Раздел2_7="${Ad(c.overduePrincipal||0)}"
`,A+=`			Раздел2_8="${p}"
`,A+=`			Раздел2_9="${Ad(c.overdueInterest||0)}"
`,A+=`			Раздел2_10="${p}"
`,A+=`			Раздел2_11="${Ad(c.limitRub||0)}"
`,A+=`			Раздел2_12="${p}"
`,A+=`			Раздел2_13="0.00"
`,A+=`			Раздел2_14="${p}"/>
`,A+=`		<Раздел3
`,A+=`			Раздел3_1="${d}"
`,A+=`			Раздел3_2="${$a(String(c.collateralLocation||""))}"
`,A+=`			Раздел3_3="${$a(String(c.collateralType||""))}"
`,A+=`			Раздел3_4="${$a(String(c.collateralCategory||""))}"
`,A+=`			Раздел3_5="310310"
`,A+=`			Раздел3_6="${$a(String(c.collateralInfo||""))}"
`,A+=`			Раздел3_7="${$a(String(c.collateralPurpose||""))}"
`,A+=`			Раздел3_8="${$a(String(c.qualityCategory||""))}"
`,A+=`			Раздел3_9="${$a(String(c.liquidity||""))}"
`,A+=`			Раздел3_10="${$a(String(c.collateralValue||0))}"
`,A+=`			Раздел3_11="${Ad(c.marketValue||c.currentMarketValue||0)}"/>
`;const u=String(c.collateralType||"").toLowerCase();A+=`		<Раздел4 Раздел4_1="${d}">
`,u.includes("недвиж")||u.includes("зем")||u.includes("здание")?(A+=`			<Раздел4.1
`,A+=`				Раздел4.1_2="${$a(String(c.collateralLocation||""))}"
`,A+=`				Раздел4.1_3="${SA(c.registrationDate||c.collateralContractDate)}"
`,A+=`				Раздел4.1_4="${SA(c.initialValuationDate)}"
`,A+=`				Раздел4.1_5="${String(c.collateralReference||"")}"
`,A+=`				Раздел4.1_6="${SA(c.currentValuationDate)}"/>
`):(u.includes("транспорт")||u.includes("авто"))&&(A+=`			<Раздел4.3
`,A+=`				Раздел4.3_2="${SA(c.registrationDate||c.collateralContractDate)}"
`,A+=`				Раздел4.3_3="${$a(String(c.collateralInfo||""))}"
`,A+=`				Раздел4.3_4="${$a(String(c.collateralLocation||""))}"
`,A+=`				Раздел4.3_5="2024"
`,A+=`				Раздел4.3_6="${$a(String(c.collateralInfo||""))}"
`,A+=`				Раздел4.3_7="${$a(String(c.collateralInfo||""))}"
`,A+=`				Раздел4.3_8="${$a(String(c.collateralInfo||""))}"/>
`),A+=`		</Раздел4>
`;const g=c.pledger||c.borrower||"";g&&(A+=`		<Раздел5 Раздел5_1="${d}">
`,A+=`			<Раздел5.1
`,A+=`				Раздел5.1_2="${$a(String(c.collateralLocation||""))}"
`,A+=`				Раздел5.1_3="${$a(g)}"
`,A+=`				Раздел5.1_4="${$a(g)}"
`,A+=`				Раздел5.1_5=""
`,A+=`				Раздел5.1_6=""
`,A+=`				Раздел5.1_7=""
`,A+=`				Раздел5.1_8="${String(c.inn||"")}"
`,A+=`				Раздел5.1_9=""/>
`,A+=`		</Раздел5>
`)}return A+=`	</Раздел310>
`,A+="</Ф0409310>",A}function $a(e){return e==null?"":String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function SA(e){if(!e||e==="-")return new Date().toISOString().split("T")[0];try{const t=String(e).trim();if(/^\d{4}-\d{2}-\d{2}$/.test(t))return t;const r=t.split(/[./-]/);if(r.length===3){const[a,n,s]=r;return a.length===4?`${a}-${n.padStart(2,"0")}-${s.padStart(2,"0")}`:`${s}-${n.padStart(2,"0")}-${a.padStart(2,"0")}`}return new Date().toISOString().split("T")[0]}catch{return new Date().toISOString().split("T")[0]}}function Ad(e,t=2){if(e==null)return"0.00";try{return(typeof e=="string"?parseFloat(e.replace(/\s/g,"").replace(",",".")):Number(e)).toFixed(t)}catch{return"0.00"}}function eV(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function tV(e,t){const r=new Blob([e],{type:"application/xml;charset=windows-1251"}),a=URL.createObjectURL(r),n=document.createElement("a");n.href=a,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a)}const rV=()=>{const[e,t]=K.useState([]),[r,a]=K.useState(!0),[n,s]=K.useState(null),[o,A]=K.useState(""),[l,c]=K.useState(null),[d,f]=K.useState(null),[p,u]=K.useState(null),[g,h]=K.useState(!1);K.useEffect(()=>{let O=!0;return(async()=>{a(!0),s(null);try{const I="./",D=new URL(I,window.location.origin),L=D.pathname.endsWith("/")?D.pathname:`${D.pathname}/`,N=`${D.origin}${L}reportsData.json?v=${Date.now()}`,P=await fetch(N,{cache:"no-store"});if(!P.ok)throw new Error(`Не удалось загрузить отчеты (${P.status})`);const Q=await P.json();if(!O)return;const J=Q.reports||[];t(J.map(te=>({...te,key:te.id})))}catch(I){s(I instanceof Error?I.message:"Неизвестная ошибка")}finally{O&&a(!1)}})(),()=>{O=!1}},[]);const y=K.useMemo(()=>Array.from(new Set(e.map(M=>M.status))).map(M=>({value:M,label:M==="draft"?"Черновик":M==="submitted"?"Отправлен":M==="approved"?"Утвержден":"Отклонен"})),[e]),x=K.useMemo(()=>Array.from(new Set(e.map(M=>M.reportDate))).sort().reverse().map(M=>({value:M,label:M})),[e]),v=K.useMemo(()=>{const O=o.trim().toLowerCase();return e.filter(M=>{const I=!O||[M.reportNumber,M.guid,M.reportDate].filter(Boolean).some(N=>String(N).toLowerCase().includes(O)),D=!l||M.status===l,L=!d||M.reportDate===d;return I&&D&&L})},[e,o,l,d]),E=K.useMemo(()=>{const O=v.length,M=v.filter(L=>L.status==="draft").length,I=v.filter(L=>L.status==="submitted").length,D=v.filter(L=>L.status==="approved").length;return{total:O,draft:M,submitted:I,approved:D}},[v]),R=K.useMemo(()=>({draft:"default",submitted:"processing",approved:"success",rejected:"error"}),[]),b=K.useMemo(()=>({draft:"Черновик",submitted:"Отправлен",approved:"Утвержден",rejected:"Отклонен"}),[]),T=K.useMemo(()=>[{title:"Номер отчета",dataIndex:"reportNumber",key:"reportNumber",width:200,render:(O,M)=>i.jsxs("div",{children:[i.jsx("div",{style:{fontWeight:600},children:O}),i.jsxs("div",{className:"reports-muted",children:["GUID: ",M.guid.substring(0,8),"..."]})]})},{title:"Дата отчета",dataIndex:"reportDate",key:"reportDate",width:150,render:O=>i.jsxs(Oe,{children:[i.jsx(Xp,{}),i.jsx("span",{children:O})]})},{title:"Статус",dataIndex:"status",key:"status",width:150,render:O=>i.jsx(et,{color:R[O]||"default",children:b[O]||O})},{title:"Разделы",key:"sections",width:200,render:(O,M)=>{const I=[];return M.section1&&I.push("1"),M.section2&&I.push("2"),M.section3&&I.push("3"),M.section4&&I.push("4"),M.section5&&I.push("5"),M.section6&&I.push("6"),i.jsx("span",{children:I.join(", ")||"—"})}},{title:"Обновлен",dataIndex:"updatedAt",key:"updatedAt",width:180,render:O=>new Date(O).toLocaleString("ru-RU")}],[R,b]),_=O=>{u(O),h(!0)},S=async()=>{try{Te.loading({content:"Загрузка данных портфеля...",key:"generate-xml"});const O="./",M=new URL(O,window.location.origin),I=M.pathname.endsWith("/")?M.pathname:`${M.pathname}/`,D=`${M.origin}${I}portfolioData.json?v=${Date.now()}`,L=await fetch(D,{cache:"no-store"});if(!L.ok)throw new Error("Не удалось загрузить данные портфеля");const N=await L.json();Te.loading({content:"Генерация XML отчета...",key:"generate-xml"});const P=Zz({portfolioData:N,creditOrgCode:"000000000",creditOrgName:"Кредитная организация",reportDate:new Date().toISOString().split("T")[0]}),Q=`Ф310_${new Date().toISOString().split("T")[0].replace(/-/g,"")}_${Date.now()}.xml`;tV(P,Q),Te.success({content:`XML отчет "${Q}" успешно сгенерирован и скачан`,key:"generate-xml",duration:4})}catch(O){Te.error({content:O instanceof Error?O.message:"Ошибка при генерации XML отчета",key:"generate-xml",duration:4})}};return i.jsxs("div",{className:"reports-page",children:[i.jsxs("div",{className:"reports-header",children:[i.jsxs("div",{children:[i.jsx(ht.Title,{level:2,className:"reports-title",children:"Отчеты (Форма 310)"}),i.jsx(ht.Paragraph,{className:"reports-subtitle",children:"Отчетность по залоговому имуществу в соответствии с формой 310 ЦБ РФ"})]}),i.jsxs(Oe,{size:"middle",direction:"vertical",children:[i.jsx(Jr,{title:"Поиск по номеру, GUID, дате",children:i.jsx(Re,{allowClear:!0,size:"large",placeholder:"Поиск по отчетам",prefix:i.jsx(qa,{}),value:o,onChange:O=>A(O.target.value),style:{width:360}})}),i.jsx(Ce,{type:"primary",icon:i.jsx(Fn,{}),size:"large",onClick:S,children:"Сформировать XML отчет (Ф310)"})]})]}),i.jsx(Me,{children:i.jsxs("div",{className:"reports-filters",children:[i.jsx(Ve,{allowClear:!0,placeholder:"Статус",style:{width:200},options:y,value:l??void 0,onChange:O=>c(O??null)}),i.jsx(Ve,{allowClear:!0,placeholder:"Дата отчета",style:{width:200},options:x,value:d??void 0,onChange:O=>f(O??null)})]})}),i.jsxs(dt,{gutter:[16,16],className:"reports-stats",children:[i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"Всего отчетов",value:E.total,prefix:i.jsx(Dr,{})})})}),i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"Черновики",value:E.draft,prefix:i.jsx(Dr,{})})})}),i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"Отправлены",value:E.submitted,prefix:i.jsx(Nn,{})})})}),i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"Утверждены",value:E.approved,prefix:i.jsx(Nn,{})})})})]}),i.jsx(Me,{className:"reports-table-card",bodyStyle:{padding:0},children:i.jsx(nr,{columns:T,dataSource:v,pagination:{pageSize:20,showSizeChanger:!1},scroll:{x:1200},loading:r,onRow:O=>({onDoubleClick:()=>_(O)}),locale:{emptyText:i.jsx(Sr,{description:"Нет отчетов, удовлетворяющих фильтрам",className:"reports-empty"})}})}),n&&i.jsx(Ir,{type:"error",showIcon:!0,message:"Не удалось загрузить отчеты",description:n,action:i.jsx("a",{onClick:()=>window.location.reload(),style:{fontWeight:600},children:"Повторить"})}),i.jsx(lr,{title:`Отчет ${(p==null?void 0:p.reportNumber)||""}`,open:g,onCancel:()=>{h(!1),u(null)},footer:[i.jsx(Ce,{type:"primary",onClick:()=>{h(!1),u(null)},children:"Закрыть"},"close")],width:"90%",style:{top:20},styles:{body:{maxHeight:"70vh",overflowY:"auto"}},children:p&&i.jsxs("div",{className:"reports-modal",children:[i.jsxs(ye,{title:"Общая информация",bordered:!0,column:2,size:"small",children:[i.jsx(ye.Item,{label:"Номер отчета",children:p.reportNumber}),i.jsx(ye.Item,{label:"GUID",children:p.guid}),i.jsx(ye.Item,{label:"Дата отчета",children:p.reportDate}),i.jsx(ye.Item,{label:"Статус",children:i.jsx(et,{color:R[p.status]||"default",children:b[p.status]||p.status})}),i.jsx(ye.Item,{label:"Создан",children:new Date(p.createdAt).toLocaleString("ru-RU")}),i.jsx(ye.Item,{label:"Обновлен",children:new Date(p.updatedAt).toLocaleString("ru-RU")})]}),p.section1&&p.section1.items.length>0&&i.jsxs("div",{style:{marginTop:24},children:[i.jsx(ht.Title,{level:4,children:"Раздел 1: Общие сведения"}),i.jsxs(ht.Text,{type:"secondary",children:["Записей: ",p.section1.items.length]})]}),p.section2&&p.section2.items.length>0&&i.jsxs("div",{style:{marginTop:24},children:[i.jsx(ht.Title,{level:4,children:"Раздел 2: Финансовые показатели"}),i.jsxs(ht.Text,{type:"secondary",children:["Записей: ",p.section2.items.length]})]}),p.section3&&p.section3.items.length>0&&i.jsxs("div",{style:{marginTop:24},children:[i.jsx(ht.Title,{level:4,children:"Раздел 3: Оценка обеспечения"}),i.jsxs(ht.Text,{type:"secondary",children:["Записей: ",p.section3.items.length]})]}),p.errors&&p.errors.length>0&&i.jsx("div",{style:{marginTop:24},children:i.jsx(Ir,{type:"warning",message:"Ошибки при обработке",description:i.jsx("ul",{children:p.errors.map((O,M)=>i.jsxs("li",{children:[i.jsxs("strong",{children:[O.field,":"]})," ",O.message]},M))})})})]})})]})},aV=()=>{const e=K.useRef(null),[t,r]=Qa.useState(!0);return K.useEffect(()=>{const a=e.current;if(!a)return;const n=()=>{r(!1)};a.addEventListener("load",n);const o="./zadachnik/index.html";return a.src=o,()=>{a.removeEventListener("load",n)}},[]),i.jsxs("div",{className:"tasks-page",children:[t&&i.jsx("div",{className:"tasks-loading",children:i.jsx(ei,{size:"large",tip:"Загрузка системы задач..."})}),i.jsx("iframe",{ref:e,className:"tasks-iframe",title:"ЗАДАЧНИК - Система управления задачами",style:{display:t?"none":"block"}})]})},{TextArea:Du}=Re,{RangePicker:nV}=kr,Vp=[{value:"primary",label:"Первичный осмотр"},{value:"periodic",label:"Периодический осмотр"},{value:"unscheduled",label:"Внеплановый осмотр"},{value:"after_repair",label:"Осмотр после ремонта"},{value:"before_loan",label:"Осмотр перед выдачей кредита"},{value:"revaluation",label:"Осмотр при переоценке"},{value:"monitoring",label:"Осмотр при мониторинге"},{value:"appraisal",label:"Осмотр при оценке"}],O1=[{value:"scheduled",label:"Запланирован",color:"blue"},{value:"in_progress",label:"В процессе",color:"orange"},{value:"completed",label:"Завершен",color:"green"},{value:"cancelled",label:"Отменен",color:"red"}],iV=[{value:"excellent",label:"Отличное",color:"green"},{value:"good",label:"Хорошее",color:"blue"},{value:"satisfactory",label:"Удовлетворительное",color:"orange"},{value:"poor",label:"Плохое",color:"red"},{value:"critical",label:"Критическое",color:"red"}],sV=()=>{const[e,t]=K.useState([]),[r,a]=K.useState(!1),[n,s]=K.useState(!1),[o,A]=K.useState(!1),[l,c]=K.useState(null),[d,f]=K.useState(null),[p]=ne.useForm(),[u,g]=K.useState("employee"),[h,y]=K.useState([]),[x,v]=K.useState({});K.useEffect(()=>{E()},[]);const E=async()=>{try{const N=await Dt.getExtendedCards();y(N)}catch(N){console.error("Ошибка загрузки карточек:",N)}};K.useEffect(()=>{R(),Sa.initDatabase()},[]);const R=async()=>{a(!0);try{const N=await Sa.getInspections();t(N)}catch(N){console.error("Ошибка загрузки осмотров:",N),Te.error("Не удалось загрузить осмотры")}finally{a(!1)}},b=()=>{f(null),g("employee"),p.resetFields(),p.setFieldsValue({inspectorType:"employee"}),s(!0)},T=N=>{console.log("Opening inspection modal for:",N.id),console.log("Current viewModalVisible before:",o),c(N.id),A(!0),console.log("Set viewModalVisible to true, viewingInspectionId:",N.id),setTimeout(()=>{console.log("After timeout - viewModalVisible should be true")},0)},_=N=>{f(N),p.setFieldsValue({...N,inspectionDate:N.inspectionDate?We(N.inspectionDate):void 0,inspectionMethod:N.inspectionMethod||"Визуальный осмотр",propertyPresence:N.propertyPresence||"Наличие имущества подтверждается",propertyCondition:N.propertyCondition||"Имущество в сохранности, перепланировок/переоборудований не выявлено, эксплуатируется по назначению",storageConditions:N.storageConditions||"Условия хранения/эксплуатации частично соблюдаются (уточнения в Приложении 1)",conclusions:N.conclusions||void 0,proposals:N.proposals||"-"}),s(!0)},S=async N=>{try{await Sa.deleteInspection(N),Te.success("Осмотр удален"),R()}catch(P){console.error("Ошибка удаления осмотра:",P),Te.error("Не удалось удалить осмотр")}},O=async()=>{try{const N=await p.validateFields(),P=new Date,Q="Система",J={...N,inspectionType:N.inspectionType,status:N.status||"scheduled",inspectionDate:N.inspectionDate?N.inspectionDate.toDate():P,inspectorType:N.inspectorType||"employee",inspectorName:N.inspectorName||"",inspectorId:N.inspectorId||void 0,inspectorPhone:N.inspectorPhone||void 0,inspectorEmail:N.inspectorEmail||void 0,clientPhone:N.clientPhone||void 0,clientEmail:N.clientEmail||void 0,collateralCardId:N.collateralCardId||"",collateralName:N.collateralName||"",address:N.address||void 0,condition:N.condition,inspectionMethod:N.inspectionMethod||"Визуальный осмотр",propertyPresence:N.propertyPresence||"Наличие имущества подтверждается",propertyCondition:N.propertyCondition||"Имущество в сохранности, перепланировок/переоборудований не выявлено, эксплуатируется по назначению",storageConditions:N.storageConditions||"Условия хранения/эксплуатации частично соблюдаются (уточнения в Приложении 1)",conclusions:N.conclusions||void 0,proposals:N.proposals||"-",photos:(d==null?void 0:d.photos)||[],defects:(d==null?void 0:d.defects)||[],recommendations:(d==null?void 0:d.recommendations)||[],history:(d==null?void 0:d.history)||[{id:`hist-${Date.now()}`,date:P,action:"created",user:Q,userRole:"creator",comment:"Осмотр создан",status:N.status||"scheduled"}],createdByUser:(d==null?void 0:d.createdByUser)||Q};if(d)await Sa.updateInspection(d.id,J),Te.success("Осмотр обновлен");else{const te=await Sa.createInspection(J);if(N.inspectorType==="client"&&N.clientEmail){const V=await Sa.generateClientLink(te);Te.success(`Осмотр создан. Ссылка для клиента: ${V}`)}else Te.success("Осмотр создан")}s(!1),p.resetFields(),g("employee"),R()}catch(N){console.error("Ошибка сохранения осмотра:",N),Te.error("Не удалось сохранить осмотр")}},I=(()=>{let N=[...e];if(x.status&&(N=N.filter(P=>P.status===x.status)),x.type&&(N=N.filter(P=>P.inspectionType===x.type)),x.dateRange){const[P,Q]=x.dateRange;N=N.filter(J=>{const te=We(J.inspectionDate);return te.isAfter(P.subtract(1,"day"))&&te.isBefore(Q.add(1,"day"))})}return N})(),D=Qa.useMemo(()=>{const N=e.length,P=e.reduce((J,te)=>(J[te.status]=(J[te.status]||0)+1,J),{}),Q=e.reduce((J,te)=>(J[te.inspectionType]=(J[te.inspectionType]||0)+1,J),{});return{total:N,byStatus:P,byType:Q}},[e]),L=[{title:"Дата осмотра",dataIndex:"inspectionDate",key:"inspectionDate",render:N=>We(N).format("DD.MM.YYYY HH:mm"),sorter:(N,P)=>We(N.inspectionDate).unix()-We(P.inspectionDate).unix()},{title:"Тип",dataIndex:"inspectionType",key:"inspectionType",render:N=>{const P=Vp.find(Q=>Q.value===N);return(P==null?void 0:P.label)||N}},{title:"Инспектор",dataIndex:"inspectorName",key:"inspectorName"},{title:"Объект",dataIndex:"collateralName",key:"collateralName"},{title:"Статус",dataIndex:"status",key:"status",render:N=>{const P=O1.find(Q=>Q.value===N);return P?i.jsx(et,{color:P.color,children:P.label}):i.jsx(et,{children:N})}},{title:"Состояние",dataIndex:"condition",key:"condition",render:N=>{const P=iV.find(Q=>Q.value===N);return P?i.jsx(et,{color:P.color,children:P.label}):i.jsx(et,{children:N})}},{title:"Действия",key:"actions",render:(N,P)=>i.jsxs(Oe,{children:[i.jsx(Ce,{type:"link",icon:i.jsx(Ts,{}),onClick:()=>T(P),size:"small",children:"Просмотр"}),i.jsx(Ce,{type:"link",icon:i.jsx(Ri,{}),onClick:()=>_(P),size:"small",children:"Редактировать"}),i.jsx(ho,{title:"Удалить осмотр?",onConfirm:()=>S(P.id),okText:"Да",cancelText:"Нет",children:i.jsx(Ce,{type:"link",danger:!0,icon:i.jsx(Ss,{}),size:"small",children:"Удалить"})})]})}];return i.jsxs("div",{style:{padding:"24px"},children:[i.jsxs(Me,{children:[i.jsxs(dt,{gutter:16,style:{marginBottom:24},children:[i.jsx(be,{span:6,children:i.jsx(ut,{title:"Всего осмотров",value:D.total})}),i.jsx(be,{span:6,children:i.jsx(ut,{title:"Завершено",value:D.byStatus.completed||0,valueStyle:{color:"#3f8600"}})}),i.jsx(be,{span:6,children:i.jsx(ut,{title:"В процессе",value:D.byStatus.in_progress||0,valueStyle:{color:"#cf1322"}})}),i.jsx(be,{span:6,children:i.jsx(ut,{title:"Запланировано",value:D.byStatus.scheduled||0})})]}),i.jsxs(Oe,{style:{marginBottom:16,width:"100%",justifyContent:"space-between"},children:[i.jsxs(Oe,{children:[i.jsx(Ve,{placeholder:"Фильтр по статусу",allowClear:!0,style:{width:200},onChange:N=>v({...x,status:N}),children:O1.map(N=>i.jsx(Ve.Option,{value:N.value,children:N.label},N.value))}),i.jsx(Ve,{placeholder:"Фильтр по типу",allowClear:!0,style:{width:200},onChange:N=>v({...x,type:N}),children:Vp.map(N=>i.jsx(Ve.Option,{value:N.value,children:N.label},N.value))}),i.jsx(nV,{placeholder:["Дата начала","Дата окончания"],onChange:N=>v({...x,dateRange:N})})]}),i.jsxs(Oe,{children:[i.jsx(Ce,{icon:i.jsx(el,{}),onClick:R,children:"Обновить"}),i.jsx(Ce,{type:"primary",icon:i.jsx(wi,{}),onClick:b,children:"Создать осмотр"})]})]}),i.jsx(nr,{columns:L,dataSource:I,rowKey:"id",loading:r,pagination:{pageSize:20},onRow:N=>({onDoubleClick:()=>{console.log("Double click on inspection:",N.id),T(N)},style:{cursor:"pointer"}})})]}),i.jsx(NC,{visible:o,inspectionId:l,onClose:()=>{console.log("Closing inspection modal"),A(!1),c(null)},onApprove:async N=>{await Sa.approveInspection(N,"Система"),Te.success("Осмотр согласован"),R()},onRequestRevision:async(N,P)=>{await Sa.requestRevision(N,"Система",P),Te.success("Запрошена доработка"),R()}}),i.jsx(lr,{title:d?"Редактировать осмотр":"Создать осмотр",open:n,onOk:O,onCancel:()=>{s(!1),p.resetFields()},width:600,children:i.jsxs(ne,{form:p,layout:"vertical",children:[i.jsx(ne.Item,{name:"inspectionType",label:"Тип осмотра",rules:[{required:!0,message:"Выберите тип осмотра"}],children:i.jsx(Ve,{placeholder:"Выберите тип осмотра",onChange:N=>{var Q;const P=((Q=Vp.find(J=>J.value===N))==null?void 0:Q.label)||"";p.setFieldsValue({inspectionTypeLabel:P})},children:Vp.map(N=>i.jsx(Ve.Option,{value:N.value,children:N.label},N.value))})}),i.jsx(ne.Item,{name:"collateralCardId",label:"Объект залога",rules:[{required:!0,message:"Выберите объект залога"}],children:i.jsx(Ve,{placeholder:"Выберите объект залога",showSearch:!0,filterOption:(N,P)=>String((P==null?void 0:P.label)??"").toLowerCase().includes(N.toLowerCase()),onChange:N=>{var Q,J,te,V,G,z;const P=h.find(C=>C.id===N);if(P){const C=(Q=P.partners)==null?void 0:Q.find(xe=>xe.role==="pledgor"),k=(J=P.partners)==null?void 0:J.find(xe=>xe.role==="owner"),j=C?C.type==="legal"?C.organizationName||"":`${C.lastName||""} ${C.firstName||""} ${C.middleName||""}`.trim():"",H=k?k.type==="legal"?k.organizationName||"":`${k.lastName||""} ${k.firstName||""} ${k.middleName||""}`.trim():"",Y=P.pledgeContractId||((te=P.characteristics)==null?void 0:te.pledgeContractNumber)||"",de=(V=P.characteristics)!=null&&V.pledgeContractDate?We(P.characteristics.pledgeContractDate).format("DD.MM.YYYY"):"",ue=P.loanContractId||((G=P.characteristics)==null?void 0:G.loanContractNumber)||"",he=(z=P.characteristics)!=null&&z.loanContractDate?We(P.characteristics.loanContractDate).format("DD.MM.YYYY"):"";p.setFieldsValue({collateralName:P.name,address:P.address?`${P.address.city||""} ${P.address.street||""} ${P.address.house||""}`.trim():void 0,pledgorName:j,borrowerName:H,pledgeContractNumber:Y,pledgeContractDate:de,loanContractNumber:ue,loanContractDate:he})}},children:h.map(N=>i.jsxs(Ve.Option,{value:N.id,label:N.name,children:[N.name," (",N.number,")"]},N.id))})}),i.jsx(ne.Item,{name:"collateralName",label:"Название объекта",rules:[{required:!0,message:"Введите название объекта"}],children:i.jsx(Re,{placeholder:"Название объекта залога"})}),i.jsx(ne.Item,{name:"address",label:"Адрес",children:i.jsx(Re,{placeholder:"Адрес объекта"})}),i.jsx(ne.Item,{name:"inspectionDate",label:"Дата осмотра",rules:[{required:!0,message:"Выберите дату осмотра"}],children:i.jsx(kr,{showTime:!0,style:{width:"100%"},format:"DD.MM.YYYY HH:mm"})}),i.jsx(ne.Item,{name:"inspectorType",label:"Исполнитель",rules:[{required:!0,message:"Выберите тип исполнителя"}],children:i.jsxs(Ve,{placeholder:"Выберите тип исполнителя",onChange:N=>{g(N),p.setFieldsValue({inspectorId:void 0,inspectorName:void 0,inspectorPhone:void 0,inspectorEmail:void 0,clientPhone:void 0,clientEmail:void 0})},children:[i.jsx(Ve.Option,{value:"employee",children:"Сотрудник банка"}),i.jsx(Ve.Option,{value:"client",children:"Клиент"})]})}),u==="employee"?i.jsxs(i.Fragment,{children:[i.jsx(ne.Item,{name:"inspectorId",label:"Сотрудник",rules:[{required:!0,message:"Выберите сотрудника"}],children:i.jsx(Ve,{placeholder:"Выберите сотрудника",showSearch:!0,filterOption:(N,P)=>String((P==null?void 0:P.label)??"").toLowerCase().includes(N.toLowerCase()),onChange:N=>{const P=pr.getEmployeeById(N);P&&p.setFieldsValue({inspectorName:`${P.lastName} ${P.firstName} ${P.middleName||""}`.trim(),inspectorPhone:P.phone,inspectorEmail:P.email})},children:pr.getEmployees().filter(N=>N.isActive).map(N=>i.jsxs(Ve.Option,{value:N.id,label:`${N.lastName} ${N.firstName} ${N.middleName||""}`.trim(),children:[`${N.lastName} ${N.firstName} ${N.middleName||""}`.trim()," - ",N.position]},N.id))})}),i.jsx(ne.Item,{name:"inspectorName",label:"ФИО инспектора",hidden:!0,children:i.jsx(Re,{})}),i.jsx(ne.Item,{name:"inspectorPhone",label:"Телефон",hidden:!0,children:i.jsx(Re,{})}),i.jsx(ne.Item,{name:"inspectorEmail",label:"Email",hidden:!0,children:i.jsx(Re,{})})]}):i.jsxs(i.Fragment,{children:[i.jsx(ne.Item,{name:"inspectorName",label:"ФИО клиента",rules:[{required:!0,message:"Введите ФИО клиента"}],children:i.jsx(Re,{placeholder:"ФИО клиента"})}),i.jsx(ne.Item,{name:"clientPhone",label:"Телефон клиента",rules:[{required:!0,message:"Введите телефон клиента"}],children:i.jsx(Re,{placeholder:"+7 (___) ___-__-__"})}),i.jsx(ne.Item,{name:"clientEmail",label:"Email клиента",rules:[{required:!0,message:"Введите email клиента"},{type:"email",message:"Введите корректный email"}],children:i.jsx(Re,{placeholder:"email@example.com"})})]}),i.jsx(ne.Item,{name:"status",label:"Статус",initialValue:"scheduled",children:i.jsx(Ve,{placeholder:"Выберите статус",children:O1.map(N=>i.jsx(Ve.Option,{value:N.value,children:N.label},N.value))})}),i.jsx(kt,{orientation:"left",children:"Данные акта проверки наличия и состояния залога"}),i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"pledgorName",label:"Наименование Залогодателя",children:i.jsx(Re,{placeholder:"Автоматически из карточки залога",disabled:!0,style:{backgroundColor:"#f5f5f5"}})})}),i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"borrowerName",label:"Наименование Заемщика",children:i.jsx(Re,{placeholder:"Автоматически из карточки залога",disabled:!0,style:{backgroundColor:"#f5f5f5"}})})})]}),i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"pledgeContractNumber",label:"Номер договора залога",children:i.jsx(Re,{placeholder:"Автоматически из карточки залога",disabled:!0,style:{backgroundColor:"#f5f5f5"}})})}),i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"pledgeContractDate",label:"Дата договора залога",children:i.jsx(Re,{placeholder:"Автоматически из карточки залога",disabled:!0,style:{backgroundColor:"#f5f5f5"}})})})]}),i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"loanContractNumber",label:"Номер кредитного договора",children:i.jsx(Re,{placeholder:"Автоматически из карточки залога",disabled:!0,style:{backgroundColor:"#f5f5f5"}})})}),i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"loanContractDate",label:"Дата кредитного договора",children:i.jsx(Re,{placeholder:"Автоматически из карточки залога",disabled:!0,style:{backgroundColor:"#f5f5f5"}})})})]}),i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"inspectionMethod",label:"Способ проверки",initialValue:"Визуальный осмотр",rules:[{required:!0,message:"Укажите способ проверки"}],children:i.jsxs(Ve,{placeholder:"Выберите способ проверки",children:[i.jsx(Ve.Option,{value:"Визуальный осмотр",children:"Визуальный осмотр"}),i.jsx(Ve.Option,{value:"Инструментальный осмотр",children:"Инструментальный осмотр"}),i.jsx(Ve.Option,{value:"Экспертиза",children:"Экспертиза"})]})})}),i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"inspectionTypeLabel",label:"Тип осмотра",children:i.jsx(Re,{placeholder:"Автоматически из типа осмотра",disabled:!0,style:{backgroundColor:"#f5f5f5"}})})})]}),i.jsx(ne.Item,{name:"propertyPresence",label:"Наличие заложенного имущества",initialValue:"Наличие имущества подтверждается",rules:[{required:!0,message:"Укажите наличие имущества"}],children:i.jsxs(Ve,{placeholder:"Выберите вариант",children:[i.jsx(Ve.Option,{value:"Наличие имущества подтверждается",children:"Наличие имущества подтверждается"}),i.jsx(Ve.Option,{value:"Наличие имущества не подтверждается",children:"Наличие имущества не подтверждается"}),i.jsx(Ve.Option,{value:"Имущество частично отсутствует",children:"Имущество частично отсутствует"})]})}),i.jsx(ne.Item,{name:"propertyCondition",label:"Состояние заложенного имущества",initialValue:"Имущество в сохранности, перепланировок/переоборудований не выявлено, эксплуатируется по назначению",rules:[{required:!0,message:"Опишите состояние имущества"}],children:i.jsx(Du,{rows:3,placeholder:"Имущество в сохранности, перепланировок/переоборудований не выявлено, эксплуатируется по назначению"})}),i.jsx(ne.Item,{name:"storageConditions",label:"Соответствие условий хранения/эксплуатации заложенного имущества",initialValue:"Условия хранения/эксплуатации частично соблюдаются (уточнения в Приложении 1)",rules:[{required:!0,message:"Опишите условия хранения/эксплуатации"}],children:i.jsx(Du,{rows:3,placeholder:"Условия хранения/эксплуатации частично соблюдаются (уточнения в Приложении 1)"})}),i.jsx(ne.Item,{name:"conclusions",label:"Выводы",rules:[{required:!0,message:"Укажите выводы"}],children:i.jsx(Du,{rows:3,placeholder:"Имущество соответствует требованиям для принятия в залог"})}),i.jsx(ne.Item,{name:"proposals",label:"Предложения",initialValue:"-",children:i.jsx(Du,{rows:2,placeholder:"Предложения по улучшению состояния имущества или условий его хранения"})}),i.jsx(ne.Item,{name:"notes",label:"Примечания",children:i.jsx(Du,{rows:4,placeholder:"Дополнительная информация"})})]})})]})},oV=()=>i.jsx(sV,{}),{Title:kE,Text:DE,Paragraph:AV}=ht,{Step:lV}=mb,I1=(e,t)=>e.includes("real_estate")?[{title:"Фасад",description:"Сфотографируйте фасад здания"},{title:"Вход",description:"Сфотографируйте вход в здание"},{title:"Внутри",description:"Сфотографируйте внутренние помещения"},{title:"Документы",description:"Сфотографируйте документы на объект"}]:e.includes("movable")?[{title:"Общий вид",description:"Сфотографируйте объект с разных сторон"},{title:"Серийный номер",description:"Сфотографируйте серийный номер или VIN"},{title:"Состояние",description:"Сфотографируйте повреждения или особенности"},{title:"Документы",description:"Сфотографируйте документы на объект"}]:[{title:"Общий вид",description:"Сфотографируйте объект"},{title:"Детали",description:"Сфотографируйте детали объекта"},{title:"Документы",description:"Сфотографируйте документы"}],cV=()=>{const{token:e}=ib(),t=$s(),[r,a]=K.useState(null),[n,s]=K.useState(!0),[o,A]=K.useState(0),[l,c]=K.useState(!1),[d,f]=K.useState(null),[p,u]=K.useState({}),[g,h]=K.useState(!1),y=K.useCallback(async()=>{var T;s(!0);try{const _=await Sa.getInspectionByToken(e);if(!_){Te.error("Осмотр не найден или ссылка истекла"),t("/");return}a(_);const S=I1(_.inspectionType),O={};(T=_.photos)==null||T.forEach(M=>{const I=S.findIndex(D=>D.title===M.step||D.title===M.location);I>=0?(O[I]||(O[I]=[]),O[I].push(M)):(O[0]||(O[0]=[]),O[0].push(M))}),u(O)}catch(_){console.error("Ошибка загрузки осмотра:",_),Te.error("Не удалось загрузить осмотр")}finally{s(!1)}},[e,t]);K.useEffect(()=>{e&&y()},[e,y]);const x=()=>{if(!navigator.geolocation){Te.error("Геолокация не поддерживается вашим браузером");return}navigator.geolocation.getCurrentPosition(T=>{f({lat:T.coords.latitude,lon:T.coords.longitude,accuracy:T.coords.accuracy||0}),c(!0),Te.success("Геолокация получена")},T=>{console.error("Ошибка геолокации:",T),Te.error("Не удалось получить геолокацию")},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},v=(T,_)=>{const S=new FileReader;S.onload=async O=>{var N;const M=(N=O.target)==null?void 0:N.result,D=I1((r==null?void 0:r.inspectionType)||"")[T],L={id:`photo-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,url:M,description:D.description,location:D.title,step:D.title,takenAt:new Date,latitude:d==null?void 0:d.lat,longitude:d==null?void 0:d.lon,accuracy:d==null?void 0:d.accuracy};if(u(P=>({...P,[T]:[...P[T]||[],L]})),r)try{await Sa.addPhoto(r.id,L)}catch(P){console.error("Ошибка сохранения фото:",P)}},S.readAsDataURL(_)},E=async()=>{if(r){h(!0);try{await Sa.submitForReview(r.id,r.inspectorName),d&&await Sa.updateInspection(r.id,{latitude:d.lat,longitude:d.lon,geolocationConsent:!0}),Te.success("Осмотр отправлен на проверку"),setTimeout(()=>{t("/")},2e3)}catch(T){console.error("Ошибка отправки осмотра:",T),Te.error("Не удалось отправить осмотр")}finally{h(!1)}}};if(n)return i.jsxs("div",{style:{padding:"40px",textAlign:"center"},children:[i.jsx(ei,{size:"large"}),i.jsx("div",{style:{marginTop:16},children:i.jsx(DE,{children:"Загрузка осмотра..."})})]});if(!r)return i.jsx("div",{style:{padding:"40px"},children:i.jsx(Ir,{message:"Осмотр не найден",description:"Ссылка недействительна или истекла",type:"error"})});const R=I1(r.inspectionType),b=p[o]||[];return i.jsx("div",{className:"mobile-inspection-page",children:i.jsx(Me,{children:i.jsxs(Oe,{direction:"vertical",size:"large",style:{width:"100%"},children:[i.jsxs("div",{children:[i.jsx(kE,{level:4,children:"Осмотр объекта"}),i.jsx(DE,{type:"secondary",children:r.collateralName})]}),i.jsx(Ir,{message:"Согласие на геолокацию",description:"Для проведения осмотра необходимо предоставить доступ к геолокации",type:"info",action:i.jsx(tl,{checked:l,onChange:T=>{c(T.target.checked),T.target.checked&&x()},children:"Разрешить"})}),d&&i.jsx(Ir,{message:"Геолокация получена",description:`Координаты: ${d.lat.toFixed(6)}, ${d.lon.toFixed(6)}`,type:"success",icon:i.jsx(tA,{})}),i.jsx(mb,{current:o,direction:"vertical",size:"small",children:R.map((T,_)=>i.jsx(lV,{title:T.title,description:T.description,status:o===_?"process":p[_]&&p[_].length>0?"finish":"wait",icon:p[_]&&p[_].length>0?i.jsx(Nn,{style:{color:"#52c41a"}}):void 0},_))}),i.jsx(Me,{children:i.jsxs(Oe,{direction:"vertical",size:"middle",style:{width:"100%"},children:[i.jsx(kE,{level:5,children:R[o].title}),i.jsx(AV,{children:R[o].description}),i.jsx(Xi,{accept:"image/*",capture:"environment",showUploadList:!1,beforeUpload:T=>(v(o,T),!1),children:i.jsx(Ce,{type:"primary",icon:i.jsx(Ko,{}),size:"large",block:!0,children:"Сфотографировать"})}),b.length>0&&i.jsx(dt,{gutter:[8,8],children:b.map(T=>i.jsx(be,{xs:12,sm:8,md:6,children:i.jsx(im,{src:T.url,alt:T.description,style:{width:"100%",borderRadius:4},preview:!0})},T.id))})]})}),i.jsxs(Oe,{style:{width:"100%",justifyContent:"space-between"},children:[i.jsx(Ce,{disabled:o===0,onClick:()=>A(o-1),children:"Назад"}),o<R.length-1?i.jsx(Ce,{type:"primary",onClick:()=>A(o+1),children:"Далее"}):i.jsx(Ce,{type:"primary",icon:i.jsx(gb,{}),onClick:E,loading:g,disabled:!l,children:"Отправить на проверку"})]})]})})})},{TextArea:dV}=Re,{Option:uV}=Ve,{Title:fV}=ht,pV=({collateralType:e})=>{const t=Qy(e),r=a=>{var s;const n=a.required?[{required:!0,message:`Поле "${a.label}" обязательно для заполнения`}]:[];switch(a.type){case"text":return i.jsx(ne.Item,{name:a.key,label:a.label,rules:n,children:i.jsx(Re,{placeholder:a.placeholder||a.label})},a.key);case"number":return i.jsx(ne.Item,{name:a.key,label:a.label,rules:n,children:i.jsx(ha,{style:{width:"100%"},placeholder:a.placeholder||a.label,min:a.min,max:a.max,addonAfter:a.unit})},a.key);case"boolean":return i.jsx(ne.Item,{name:a.key,label:a.label,valuePropName:"checked",children:i.jsx(xi,{})},a.key);case"select":return i.jsx(ne.Item,{name:a.key,label:a.label,rules:n,children:i.jsx(Ve,{placeholder:a.placeholder||`Выберите ${a.label.toLowerCase()}`,allowClear:!0,children:(s=a.options)==null?void 0:s.map(o=>i.jsx(uV,{value:o,children:o},o))})},a.key);case"date":return i.jsx(ne.Item,{name:a.key,label:a.label,rules:n,children:i.jsx(kr,{style:{width:"100%"},format:"YYYY-MM-DD",placeholder:a.placeholder||a.label})},a.key);case"textarea":return i.jsx(ne.Item,{name:a.key,label:a.label,rules:n,children:i.jsx(dV,{rows:3,placeholder:a.placeholder||a.label})},a.key);default:return null}};return!e||Object.keys(t).length===0?i.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#999"},children:"Выберите тип имущества для отображения атрибутов"}):i.jsx("div",{children:Object.entries(t).map(([a,n])=>i.jsxs("div",{style:{marginBottom:"24px"},children:[i.jsx(kt,{orientation:"left",children:i.jsx(fV,{level:5,style:{margin:0},children:a})}),i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:n.map(s=>r(s))})]},a))})},{TextArea:so}=Re,{Option:tr}=Ve,hV=({visible:e,onCancel:t,onSuccess:r})=>{const[a]=ne.useForm(),[n,s]=K.useState(!1),[o,A]=K.useState([]),[l,c]=K.useState(null);K.useEffect(()=>{e&&(a.resetFields(),a.setFieldsValue({conclusionDate:We(),authorDate:We().format("YYYY-MM-DD"),status:"Черновик",conclusionType:"Первичное"}),d())},[e,a]);const d=async()=>{try{const u="./",g=new URL(u,window.location.origin),h=g.pathname.endsWith("/")?g.pathname:`${g.pathname}/`,y=`${g.origin}${h}portfolioData.json?v=${Date.now()}`,x=await fetch(y,{cache:"no-store"});if(x.ok){const v=await x.json();A(v)}}catch(u){console.error("Ошибка загрузки данных портфеля:",u)}},f=async()=>{try{const u=await a.validateFields();s(!0);const g=`ЗК-${new Date().getFullYear()}-${String(Date.now()).slice(-6)}`,h={id:`conclusion-${Date.now()}`,conclusionNumber:g,conclusionDate:u.conclusionDate.format("YYYY-MM-DD"),reference:u.reference||null,contractNumber:u.contractNumber||null,pledger:u.pledger||null,pledgerInn:u.pledgerInn||null,borrower:u.borrower||null,borrowerInn:u.borrowerInn||null,creditProduct:u.creditProduct||null,creditAmount:u.creditAmount?parseFloat(u.creditAmount):null,creditTermMonths:u.creditTermMonths?parseInt(u.creditTermMonths):null,collateralType:u.collateralType||null,collateralName:u.collateralName||null,collateralPurpose:u.collateralPurpose||null,totalAreaSqm:u.totalAreaSqm?parseFloat(u.totalAreaSqm):null,totalAreaHectares:u.totalAreaHectares?parseFloat(u.totalAreaHectares):null,collateralLocation:u.collateralLocation||null,objectsCount:u.objectsCount?parseInt(u.objectsCount):null,ownershipShare:u.ownershipShare?parseFloat(u.ownershipShare):null,landCategory:u.landCategory||null,landPermittedUse:u.landPermittedUse||null,landCadastralNumber:u.landCadastralNumber||null,landAreaSqm:u.landAreaSqm?parseFloat(u.landAreaSqm):null,marketValue:u.marketValue?parseFloat(u.marketValue):null,collateralValue:u.collateralValue?parseFloat(u.collateralValue):null,fairValue:u.fairValue?parseFloat(u.fairValue):null,category:u.category||null,liquidity:u.liquidity||null,liquidityFairValue:u.liquidityFairValue||null,collateralDescription:u.collateralDescription||null,collateralCondition:u.collateralCondition||null,hasReplanning:u.hasReplanning!==void 0?u.hasReplanning:null,landFunctionalProvision:u.landFunctionalProvision||null,hasEncumbrances:u.hasEncumbrances!==void 0?u.hasEncumbrances:null,encumbrancesDescription:u.encumbrancesDescription||null,encumbrancesDetails:u.encumbrancesDetails||null,ownershipBasis:u.ownershipBasis||null,ownershipDocuments:u.ownershipDocuments||null,registrationRecord:u.registrationRecord||null,registrationDocument:u.registrationDocument||null,replanningDescription:u.replanningDescription||null,inspectionDate:u.inspectionDate?u.inspectionDate.format("YYYY-MM-DD"):null,inspectorName:u.inspectorName||null,bankruptcyCheckDate:u.bankruptcyCheckDate?u.bankruptcyCheckDate.format("YYYY-MM-DD"):null,bankruptcyCheckResult:u.bankruptcyCheckResult||null,specialOpinion:u.specialOpinion||null,creditContractNumber:u.creditContractNumber||null,cadastralValue:u.cadastralValue?parseFloat(u.cadastralValue):null,marketValuePerSqm:u.marketValuePerSqm?parseFloat(u.marketValuePerSqm):null,marketValuePerHectare:u.marketValuePerHectare?parseFloat(u.marketValuePerHectare):null,liquidityMovable:u.liquidityMovable||null,landAreaHectares:u.landAreaHectares?parseFloat(u.landAreaHectares):null,conclusionType:u.conclusionType,status:u.status,statusColor:u.status==="Согласовано"?"green":u.status==="На согласовании"?"blue":u.status==="Отклонено"||u.status==="Аннулировано"?"red":void 0,author:u.author||"Система",authorDate:u.authorDate||We().format("YYYY-MM-DD"),approver:u.approver||null,approvalDate:u.approvalDate?u.approvalDate.format("YYYY-MM-DD"):null,conclusionText:u.conclusionText||"",recommendations:u.recommendations||void 0,riskLevel:u.riskLevel||void 0,notes:u.notes||void 0},y="./",x=new URL(y,window.location.origin),v=x.pathname.endsWith("/")?x.pathname:`${x.pathname}/`,E=`${x.origin}${v}collateralConclusionsData.json?v=${Date.now()}`,R=await fetch(E,{cache:"no-store"});let b=[];R.ok&&(b=await R.json()),b.push(h),Te.success(`Заключение "${g}" создано (в демо-версии данные не сохраняются)`),a.resetFields(),s(!1),r==null||r(),t()}catch(u){console.error("Ошибка создания заключения:",u),Te.error("Ошибка при создании заключения"),s(!1)}},p=u=>{const g=o.find(h=>String(h.reference)===String(u));if(g){const h=g.collateralType||null;c(h),a.setFieldsValue({contractNumber:g.contractNumber||null,pledger:g.pledger||null,pledgerInn:g.inn||null,borrower:g.borrower||null,collateralType:h,collateralLocation:g.collateralLocation||null,collateralValue:g.collateralValue||null,marketValue:g.marketValue||g.currentMarketValue||null,fairValue:g.fairValue||null,category:g.qualityCategory||null,liquidity:g.liquidity||null})}};return i.jsx(lr,{title:"Создать залоговое заключение",open:e,onCancel:t,footer:[i.jsx(Ce,{onClick:t,children:"Отмена"},"cancel"),i.jsx(Ce,{type:"primary",loading:n,onClick:f,children:"Создать"},"submit")],width:900,children:i.jsxs(ne,{form:a,layout:"vertical",children:[i.jsx(ne.Item,{name:"reference",label:"REFERENCE сделки",tooltip:"Выберите сделку из портфеля для автозаполнения данных",children:i.jsx(Ve,{placeholder:"Выберите REFERENCE",showSearch:!0,allowClear:!0,onChange:p,filterOption:(u,g)=>String((g==null?void 0:g.children)||"").toLowerCase().includes(u.toLowerCase()),children:o.map(u=>i.jsxs(tr,{value:u.reference,children:[u.reference," - ",u.borrower||u.pledger||"Не указано"]},u.reference))})}),i.jsx(ne.Item,{name:"conclusionType",label:"Тип заключения",rules:[{required:!0}],children:i.jsxs(Ve,{children:[i.jsx(tr,{value:"Первичное",children:"Первичное"}),i.jsx(tr,{value:"Повторное",children:"Повторное"}),i.jsx(tr,{value:"Дополнительное",children:"Дополнительное"}),i.jsx(tr,{value:"Переоценка",children:"Переоценка"})]})}),i.jsx(ne.Item,{name:"conclusionDate",label:"Дата заключения",rules:[{required:!0}],children:i.jsx(kr,{style:{width:"100%"},format:"YYYY-MM-DD"})}),i.jsx(ne.Item,{name:"status",label:"Статус",rules:[{required:!0}],children:i.jsxs(Ve,{children:[i.jsx(tr,{value:"Черновик",children:"Черновик"}),i.jsx(tr,{value:"На согласовании",children:"На согласовании"}),i.jsx(tr,{value:"Согласовано",children:"Согласовано"}),i.jsx(tr,{value:"Отклонено",children:"Отклонено"}),i.jsx(tr,{value:"Аннулировано",children:"Аннулировано"})]})}),i.jsx(ne.Item,{name:"contractNumber",label:"№ договора",children:i.jsx(Re,{placeholder:"Номер договора"})}),i.jsx(ne.Item,{name:"pledger",label:"Залогодатель",children:i.jsx(Re,{placeholder:"Залогодатель"})}),i.jsx(ne.Item,{name:"pledgerInn",label:"ИНН залогодателя",children:i.jsx(Re,{placeholder:"ИНН"})}),i.jsx(ne.Item,{name:"borrower",label:"Заемщик",children:i.jsx(Re,{placeholder:"Заемщик"})}),i.jsx(ne.Item,{name:"collateralType",label:"Тип залога",children:i.jsxs(Ve,{placeholder:"Выберите тип залога",allowClear:!0,onChange:u=>c(u||null),showSearch:!0,filterOption:(u,g)=>String((g==null?void 0:g.children)||"").toLowerCase().includes(u.toLowerCase()),children:[i.jsx(tr,{value:"Недвижимость",children:"Недвижимость"}),i.jsx(tr,{value:"Транспортные средства",children:"Транспортные средства"}),i.jsx(tr,{value:"Оборудование",children:"Оборудование"}),i.jsx(tr,{value:"Товары в обороте",children:"Товары в обороте"}),i.jsx(tr,{value:"Ценные бумаги",children:"Ценные бумаги"}),i.jsx(tr,{value:"Права требования",children:"Права требования"}),i.jsx(tr,{value:"apartment",children:"Квартира"}),i.jsx(tr,{value:"house",children:"Жилой дом"}),i.jsx(tr,{value:"office",children:"Офис"}),i.jsx(tr,{value:"retail",children:"Торговое помещение"}),i.jsx(tr,{value:"warehouse",children:"Склад"}),i.jsx(tr,{value:"gas_station",children:"АЗС"}),i.jsx(tr,{value:"car_passenger",children:"Легковой автомобиль"}),i.jsx(tr,{value:"car_truck",children:"Грузовой автомобиль"}),i.jsx(tr,{value:"equipment",children:"Оборудование"}),i.jsx(tr,{value:"machinery",children:"Техника"})]})}),i.jsx(ne.Item,{name:"collateralPurpose",label:"Назначение обеспечения",children:i.jsx(Re,{placeholder:"Назначение обеспечения"})}),i.jsx(pV,{collateralType:l,form:a}),i.jsx(ne.Item,{name:"landCategory",label:"Категория земель",children:i.jsx(Re,{placeholder:"Категория земель"})}),i.jsx(ne.Item,{name:"landPermittedUse",label:"Разрешенный вид использования",children:i.jsx(Re,{placeholder:"Разрешенный вид использования"})}),i.jsx(ne.Item,{name:"landAreaSqm",label:"Площадь земельного участка, кв.м.",children:i.jsx(Re,{type:"number",placeholder:"Площадь земельного участка"})}),i.jsx(ne.Item,{name:"landAreaHectares",label:"Площадь земельного участка, га",children:i.jsx(Re,{type:"number",step:"0.01",placeholder:"Площадь в гектарах"})}),i.jsx(ne.Item,{name:"collateralDescription",label:"Описание имущества",children:i.jsx(so,{rows:4,placeholder:"Состояние и краткое описание имущества"})}),i.jsx(ne.Item,{name:"collateralCondition",label:"Состояние имущества",children:i.jsxs(Ve,{placeholder:"Выберите состояние",children:[i.jsx(tr,{value:"хорошее",children:"Хорошее"}),i.jsx(tr,{value:"удовлетворительное",children:"Удовлетворительное"}),i.jsx(tr,{value:"неудовлетворительное",children:"Неудовлетворительное"})]})}),i.jsx(ne.Item,{name:"hasReplanning",label:"Наличие перепланировок",children:i.jsxs(Ve,{placeholder:"Выберите",children:[i.jsx(tr,{value:!0,children:"Да"}),i.jsx(tr,{value:!1,children:"Нет"})]})}),i.jsx(ne.Item,{name:"replanningDescription",label:"Выявленные перепланировки",children:i.jsx(so,{rows:3,placeholder:"Описание перепланировок"})}),i.jsx(ne.Item,{name:"hasEncumbrances",label:"Наличие обременений",children:i.jsxs(Ve,{placeholder:"Выберите",children:[i.jsx(tr,{value:!0,children:"Да"}),i.jsx(tr,{value:!1,children:"Нет"})]})}),i.jsx(ne.Item,{name:"encumbrancesDescription",label:"Описание обременений",children:i.jsx(so,{rows:3,placeholder:"Описание обременений"})}),i.jsx(ne.Item,{name:"encumbrancesDetails",label:"Выявленные обременения",children:i.jsx(so,{rows:3,placeholder:"Детальное описание выявленных обременений"})}),i.jsx(ne.Item,{name:"ownershipBasis",label:"Право, на основании которого объект принадлежит Залогодателю",children:i.jsx(Re,{placeholder:"Право собственности, аренды и т.д."})}),i.jsx(ne.Item,{name:"ownershipDocuments",label:"Документы-основания возникновения права собственности",children:i.jsx(so,{rows:3,placeholder:"Описание документов"})}),i.jsx(ne.Item,{name:"registrationRecord",label:"Запись регистрации в ЕГРН (дата, №)",children:i.jsx(Re,{placeholder:"Запись регистрации"})}),i.jsx(ne.Item,{name:"registrationDocument",label:"Правоподтверждающий документ",children:i.jsx(so,{rows:2,placeholder:"Выписка из ЕГРН и т.д."})}),i.jsx(ne.Item,{name:"inspectionDate",label:"Дата осмотра / проверки",children:i.jsx(kr,{style:{width:"100%"},format:"YYYY-MM-DD"})}),i.jsx(ne.Item,{name:"inspectorName",label:"Сотрудник ПР, проводивший проверку",children:i.jsx(Re,{placeholder:"ФИО сотрудника"})}),i.jsx(ne.Item,{name:"bankruptcyCheckDate",label:"Дата проверки на банкротство",children:i.jsx(kr,{style:{width:"100%"},format:"YYYY-MM-DD"})}),i.jsx(ne.Item,{name:"bankruptcyCheckResult",label:"Результат проверки на банкротство",children:i.jsx(Re,{placeholder:"Результат проверки"})}),i.jsx(ne.Item,{name:"category",label:"Категория обеспечения",children:i.jsxs(Ve,{placeholder:"Выберите категорию",children:[i.jsx(tr,{value:"Формальное",children:"Формальное"}),i.jsx(tr,{value:"Достаточное",children:"Достаточное"}),i.jsx(tr,{value:"Недостаточное",children:"Недостаточное"})]})}),i.jsx(ne.Item,{name:"liquidity",label:"Ликвидность",children:i.jsxs(Ve,{placeholder:"Выберите ликвидность",children:[i.jsx(tr,{value:"высокая (срок реализации до 90 дней)",children:"Высокая (срок реализации до 90 дней)"}),i.jsx(tr,{value:"удовлетворительная (срок реализации до 365 дней)",children:"Удовлетворительная (срок реализации до 365 дней)"}),i.jsx(tr,{value:"низкая (срок реализации свыше 365 дней)",children:"Низкая (срок реализации свыше 365 дней)"}),i.jsx(tr,{value:"малоудовлетворительная",children:"Малоудовлетворительная"})]})}),i.jsx(ne.Item,{name:"riskLevel",label:"Уровень риска",children:i.jsxs(Ve,{placeholder:"Выберите уровень риска",children:[i.jsx(tr,{value:"Низкий",children:"Низкий"}),i.jsx(tr,{value:"Средний",children:"Средний"}),i.jsx(tr,{value:"Высокий",children:"Высокий"}),i.jsx(tr,{value:"Критический",children:"Критический"})]})}),i.jsx(ne.Item,{name:"collateralValue",label:"Оценочная стоимость, руб.",children:i.jsx(Re,{type:"number",placeholder:"Оценочная стоимость"})}),i.jsx(ne.Item,{name:"marketValue",label:"Рыночная стоимость, руб.",children:i.jsx(Re,{type:"number",placeholder:"Рыночная стоимость"})}),i.jsx(ne.Item,{name:"fairValue",label:"Справедливая стоимость, руб.",children:i.jsx(Re,{type:"number",placeholder:"Справедливая стоимость"})}),i.jsx(ne.Item,{name:"cadastralValue",label:"Кадастровая стоимость, руб.",children:i.jsx(Re,{type:"number",placeholder:"Кадастровая стоимость"})}),i.jsx(ne.Item,{name:"marketValuePerSqm",label:"Рыночная стоимость, руб./кв.м.",children:i.jsx(Re,{type:"number",placeholder:"Стоимость за кв.м."})}),i.jsx(ne.Item,{name:"marketValuePerHectare",label:"Рыночная стоимость, руб./сот.",children:i.jsx(Re,{type:"number",placeholder:"Стоимость за сотку"})}),i.jsx(ne.Item,{name:"conclusionText",label:"Текст заключения",rules:[{required:!0}],children:i.jsx(so,{rows:6,placeholder:"Введите текст заключения"})}),i.jsx(ne.Item,{name:"recommendations",label:"Рекомендации",children:i.jsx(so,{rows:4,placeholder:"Введите рекомендации"})}),i.jsx(ne.Item,{name:"specialOpinion",label:"Особое мнение",children:i.jsx(so,{rows:6,placeholder:"Введите особое мнение"})}),i.jsx(ne.Item,{name:"notes",label:"Примечания",children:i.jsx(so,{rows:3,placeholder:"Введите примечания"})}),i.jsx(ne.Item,{name:"author",label:"Автор",rules:[{required:!0}],children:i.jsx(Re,{placeholder:"Автор заключения"})}),i.jsx(ne.Item,{name:"authorDate",label:"Дата создания",children:i.jsx(Re,{disabled:!0})}),i.jsx(ne.Item,{name:"approver",label:"Согласующий",children:i.jsx(Re,{placeholder:"Согласующий"})}),i.jsx(ne.Item,{name:"approvalDate",label:"Дата согласования",children:i.jsx(kr,{style:{width:"100%"},format:"YYYY-MM-DD"})})]})})},h2=[{id:"risk_001",code:"001",name:"Внезапное изменение состава, структуры и количества предмета залога",category:"collateral"},{id:"risk_002",code:"002",name:"Нарушение условий хранения, эксплуатации или содержания имущества, угрожающее утратой или повреждением имущества",category:"collateral"},{id:"risk_003",code:"003",name:"Ухудшение качества или повреждение заложенного имущества, а также по другим причинам, повлекшим изменение его ликвидности",category:"collateral"},{id:"risk_004",code:"004",name:"Перемещение залогового обеспечения по адресу (адресам), не указанным в договоре залога, за исключениям имущества, перемещение которого является типичным условием его эксплуатации",category:"collateral"},{id:"risk_005",code:"005",name:"Появление любой существенной негативной информации о Заемщике/Залогодателе",category:"borrower"},{id:"risk_006",code:"006",name:"Отклонение фактических показателей деятельности Залогодателя (либо выручки, либо EBITDA, либо чистой прибыли, либо объема поступивших денежных средств по договорам аренды) в одном квартальном периоде более чем на 20% от запланированных",category:"financial"},{id:"risk_007",code:"007",name:"Выбытие основного(ых) контрагента(ов) Залогодателя, генерирующего(их) более 25% от общего потока арендных платежей",category:"financial"},{id:"risk_008",code:"008",name:"Изменение в составе собственников и / или руководстве Залогодателя, которые могут негативно повлиять на бизнес Залогодателя",category:"borrower"},{id:"risk_009",code:"009",name:"Наличие серьезных разногласий и конфронтации между акционерами / участниками Залогодателя",category:"borrower"},{id:"risk_010",code:"010",name:"Снижение в течение квартала пассажиропотока/ погрузки и/или пассажирооборота/ грузооборота Залогодателя более чем на 20% по сравнению с прошлым сопоставимым периодом",category:"transport"},{id:"risk_011",code:"011",name:"Введение ограничений на эксплуатацию транспортных средств, используемых Залогодателем, которые могут повлечь за собой снижение пассажиропотока / погрузки более чем на 20%",category:"transport"},{id:"risk_012",code:"012",name:"Снижение рейтинга Заемщика более чем на 3 пункта с момента его предыдущего пересмотра, в случае если новый рейтинг Заемщика 20 и ниже",category:"rating"},{id:"risk_013",code:"013",name:"Любое снижение рейтинга Заемщика с момента его предыдущего пересмотра, в случае если новый рейтинг Заемщика 23-26",category:"rating"},{id:"risk_014",code:"014",name:"Наличие негативных тенденций отрасли Заемщика/Залогодателя, отраженных в рейтинговой модели/отраслевых стратегиях Банка",category:"industry"},{id:"risk_015",code:"015",name:"Снижение поступления объемов выручки Заемщика более чем на 20% по сравнению с предшествующим месяцем",category:"financial"},{id:"risk_016",code:"016",name:"Снижение величины основных средств в представленной Залогодателем бухгалтерской (финансовой) отчетности более чем на 20% по сравнению с предшествующим кварталом",category:"financial"},{id:"risk_017",code:"017",name:"Проведение в отношении Заемщика/Залогодателя процедур, предусмотренных законодательством о несостоятельности (банкротстве)",category:"legal"}],{Paragraph:ld,Text:N1}=ht,mV=({conclusion:e,onEdit:t,onPrint:r,onExport:a})=>{const n=$s(),s=Qa.useCallback(c=>{try{const d=localStorage.getItem("creditRiskRecords"),f=d?JSON.parse(d):[],p={id:`risk-${Date.now()}`,reference:e.reference||"",contractNumber:e.contractNumber||void 0,pledger:e.pledger||"",pledgerInn:e.pledgerInn||void 0,borrower:e.borrower||void 0,borrowerInn:e.borrowerInn||void 0,riskEvent:h2[0],suspensiveConditionId:c.id,suspensiveConditionDescription:c.description,insuranceRelated:!1,status:"active",eventDate:We().format("YYYY-MM-DD"),detectionDate:We().format("YYYY-MM-DD"),priority:"medium",documents:[],createdAt:We().format("YYYY-MM-DD"),updatedAt:We().format("YYYY-MM-DD")};f.push(p),localStorage.setItem("creditRiskRecords",JSON.stringify(f)),Te.success("Отлагательное условие добавлено в модуль ФКР"),setTimeout(()=>{n("/credit-risk")},500)}catch(d){console.error("Ошибка добавления в ФКР:",d),Te.error("Ошибка добавления в модуль ФКР")}},[e,n]),o=Qa.useMemo(()=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",maximumFractionDigits:0}),[]),A=Qa.useCallback(c=>c?o.format(c):"—",[o]),l=K.useMemo(()=>{const c=[];c.push({key:"conclusion",label:"Залоговое заключение",children:i.jsxs(Oe,{direction:"vertical",size:"middle",style:{width:"100%"},children:[i.jsxs(ye,{bordered:!0,column:3,size:"small",children:[i.jsx(ye.Item,{label:"№ заключения",span:1,children:i.jsx(N1,{strong:!0,children:e.conclusionNumber})}),i.jsx(ye.Item,{label:"Дата",span:1,children:e.conclusionDate}),i.jsx(ye.Item,{label:"Тип",span:1,children:e.conclusionType}),i.jsx(ye.Item,{label:"Статус",span:1,children:i.jsx(et,{color:e.status==="Согласовано"?"green":e.status==="На согласовании"?"blue":e.status==="Отклонено"||e.status==="Аннулировано"?"red":"default",children:e.status})}),i.jsx(ye.Item,{label:"REFERENCE",span:1,children:i.jsx(N1,{copyable:!0,children:e.reference||"—"})}),i.jsx(ye.Item,{label:"№ договора",span:1,children:e.contractNumber||"—"}),i.jsx(ye.Item,{label:"Заемщик",span:2,children:e.borrower||"—"}),i.jsx(ye.Item,{label:"ИНН заемщика",span:1,children:e.borrowerInn||"—"}),i.jsx(ye.Item,{label:"Залогодатель",span:2,children:e.pledger||"—"}),i.jsx(ye.Item,{label:"ИНН залогодателя",span:1,children:e.pledgerInn||"—"})]}),e.creditProduct&&i.jsxs(i.Fragment,{children:[i.jsx(kt,{orientation:"left",style:{margin:"8px 0"},children:"Кредитный продукт"}),i.jsxs(ye,{bordered:!0,column:3,size:"small",children:[i.jsx(ye.Item,{label:"Продукт",children:e.creditProduct}),i.jsx(ye.Item,{label:"Сумма, руб.",children:A(e.creditAmount)}),i.jsx(ye.Item,{label:"Срок, мес.",children:e.creditTermMonths||"—"}),e.creditContractNumber&&i.jsx(ye.Item,{label:"№ Кредитного договора",span:3,children:e.creditContractNumber})]})]}),i.jsx(kt,{orientation:"left",style:{margin:"8px 0"},children:"Согласование"}),i.jsxs(ye,{bordered:!0,column:2,size:"small",children:[i.jsx(ye.Item,{label:"Автор",children:e.author}),i.jsx(ye.Item,{label:"Дата создания",children:e.authorDate}),e.approver&&i.jsx(ye.Item,{label:"Согласующий",children:e.approver}),e.approvalDate&&i.jsx(ye.Item,{label:"Дата согласования",children:e.approvalDate}),e.inspectionDate&&i.jsx(ye.Item,{label:"Дата осмотра",children:e.inspectionDate}),e.inspectorName&&i.jsx(ye.Item,{label:"Проводивший осмотр",children:e.inspectorName})]})]})});const d=e.collateralType,p=(x=>{if(!x)return;const v=x.toLowerCase();if(v.includes("недвижимость")||v.includes("нежилая")){if(e.collateralName){const E=e.collateralName.toLowerCase();if(E.includes("офис")||E.includes("офисное"))return"office";if(E.includes("торгов")||E.includes("магазин"))return"retail";if(E.includes("склад"))return"warehouse";if(E.includes("гостиниц")||E.includes("отель"))return"hotel";if(E.includes("кафе")||E.includes("ресторан"))return"catering";if(E.includes("азс")||E.includes("заправк"))return"gas_station";if(E.includes("автосалон"))return"car_dealership";if(E.includes("производств")||E.includes("цех"))return"industrial_building"}return"office"}if(v.includes("транспорт")||v.includes("авто"))return"car_passenger";if(v.includes("спецтехник")||v.includes("техник"))return"machinery";if(v.includes("оборудован"))return"equipment"})(d),u=Qy(p||d||void 0),g={collateralName:e.collateralName,collateralLocation:e.collateralLocation,totalAreaSqm:e.totalAreaSqm,totalAreaHectares:e.totalAreaHectares,landCategory:e.landCategory,landPermittedUse:e.landPermittedUse,landCadastralNumber:e.landCadastralNumber,ownershipShare:e.ownershipShare,marketValue:e.marketValue,collateralValue:e.collateralValue,fairValue:e.fairValue,category:e.category,collateralCondition:e.collateralCondition,hasEncumbrances:e.hasEncumbrances,ownershipBasis:e.ownershipBasis,...e.additionalData||{}};Object.keys(g).forEach(x=>{(g[x]===null||g[x]===void 0||g[x]==="")&&delete g[x]});const h=Object.keys(g).length>0,y=(x,v)=>v==null||v===""?"—":x.type==="boolean"?v?"Да":"Нет":x.type==="number"&&x.unit?`${v} ${x.unit}`:(x.type==="number",String(v));if(c.push({key:"characteristics",label:"Характеристики",children:(()=>{const x=Object.keys(u);return x.length===0||!h?i.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#999"},children:"Характеристики не указаны"}):i.jsx(Oe,{direction:"vertical",size:"middle",style:{width:"100%"},children:x.map(v=>{const E=u[v],R=[];return E.forEach(b=>{const T=Mz(g,b.key);T!=null&&T!==""&&R.push({label:b.label,children:y(b,T)})}),R.length===0?null:i.jsxs("div",{children:[i.jsx(kt,{orientation:"left",style:{margin:"8px 0"},children:v}),i.jsx(ye,{bordered:!0,column:2,size:"small",items:R})]},v)})})})()}),e.suspensiveConditions&&e.suspensiveConditions.length>0?c.push({key:"suspensive",label:"отлагательные",children:i.jsx(nr,{dataSource:e.suspensiveConditions,rowKey:"id",pagination:!1,size:"small",columns:[{title:"№",dataIndex:"number",width:60,align:"center"},{title:"Перечень отлагательных и дополнительных условий",dataIndex:"description",key:"description"},{title:"Отлагательные условия",dataIndex:"suspensiveCondition",width:150,align:"center",render:x=>x==="+"?i.jsx(et,{color:"green",children:"+"}):i.jsx(et,{color:"red",children:"-"})},{title:"Доп. условия",dataIndex:"additionalCondition",width:150,align:"center",render:x=>x?i.jsx(et,{color:"blue",children:"+"}):i.jsx(et,{color:"default",children:"-"})},{title:"Действия",key:"actions",width:150,align:"center",render:(x,v)=>i.jsx(Ce,{type:"link",icon:i.jsx(wi,{}),onClick:()=>s(v),size:"small",children:"Добавить в модуль ФКР"})}]})}):c.push({key:"suspensive",label:"отлагательные",children:i.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#999"},children:"Нет отлагательных условий"})}),e.detailedDescriptions&&e.detailedDescriptions.length>0){const x=e.detailedDescriptions[0],v=Object.keys(x).filter(E=>E!=="id"&&x[E]!==null&&x[E]!==void 0).slice(0,10).map(E=>({title:E,dataIndex:E,key:E,width:150,ellipsis:!0,render:R=>R==null?"—":typeof R=="object"?JSON.stringify(R).slice(0,50):String(R).slice(0,50)}));c.push({key:"detailed",label:"Описание",children:i.jsx(nr,{dataSource:e.detailedDescriptions,rowKey:"id",columns:v,pagination:!1,scroll:{x:"max-content"},size:"small"})})}else c.push({key:"detailed",label:"Описание",children:i.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#999"},children:"Нет описания объектов"})});if(e.photos&&e.photos.length>0?c.push({key:"photos",label:"Фото",children:i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"16px"},children:e.photos.map(x=>i.jsxs("div",{style:{textAlign:"center"},children:[i.jsx(im,{src:x.url,alt:x.description||"Фото",width:200,height:150,style:{objectFit:"cover",borderRadius:"4px"},fallback:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjE1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjE1MCIgZmlsbD0iI2Y1ZjVmNSIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM5OTkiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5ObyBJbWFnZTwvdGV4dD48L3N2Zz4="}),x.description&&i.jsx(N1,{type:"secondary",style:{display:"block",marginTop:"8px"},children:x.description})]},x.id))})}):c.push({key:"photos",label:"Фото",children:i.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#999"},children:"Нет фотографий"})}),e.calculations&&e.calculations.length>0){const x=[];e.calculations.forEach(v=>{v.data&&v.data.analogs&&Array.isArray(v.data.analogs)&&v.data.analogs.forEach((E,R)=>{x.push({id:`analog-${v.id}-${R}`,number:E.number||R+1,address:E.address||"—",description:E.description||"—",price:E.price||"—",area:E.area||"—",type:v.type})})}),x.length>0?c.push({key:"analogs",label:"Аналоги",children:i.jsx(nr,{dataSource:x,rowKey:"id",pagination:!1,size:"small",columns:[{title:"№",dataIndex:"number",width:60,align:"center"},{title:"Адрес",dataIndex:"address",key:"address"},{title:"Краткое описание",dataIndex:"description",key:"description"},{title:"Цена предложения, руб.",dataIndex:"price",key:"price",align:"right",render:v=>typeof v=="number"?A(v):v},{title:"Площадь, кв.м.",dataIndex:"area",key:"area",align:"right"},{title:"Тип расчета",dataIndex:"type",key:"type"}]})}):c.push({key:"analogs",label:"Аналоги",children:i.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#999"},children:"Нет данных об аналогах"})})}else c.push({key:"analogs",label:"Аналоги",children:i.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#999"},children:"Нет данных об аналогах"})});if(e.calculations&&e.calculations.length>0){const x=e.calculations.map(v=>({key:v.id,label:v.type,children:i.jsx(ye,{bordered:!0,column:2,size:"small",children:Object.entries(v.data).map(([E,R])=>i.jsx(ye.Item,{label:E,children:typeof R=="object"?i.jsx("pre",{style:{margin:0,fontSize:"12px"},children:JSON.stringify(R,null,2)}):String(R)},E))})}));c.push({key:"calculations",label:"расчеты",children:i.jsx(ts,{items:x,size:"small"})})}else c.push({key:"calculations",label:"расчеты",children:i.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#999"},children:"Нет расчетов"})});return e.review?c.push({key:"review",label:"Рецензия",children:i.jsxs(ye,{bordered:!0,column:1,size:"small",children:[e.review.reviewer&&i.jsx(ye.Item,{label:"Рецензент",children:e.review.reviewer}),e.review.reviewerPosition&&i.jsx(ye.Item,{label:"Должность",children:e.review.reviewerPosition}),e.review.reviewDate&&i.jsx(ye.Item,{label:"Дата рецензии",children:e.review.reviewDate}),e.review.reviewText&&i.jsx(ye.Item,{label:"Текст рецензии",children:i.jsx(ld,{style:{margin:0},children:e.review.reviewText})}),e.review.conclusion&&i.jsx(ye.Item,{label:"Заключение",children:i.jsx(et,{color:"green",children:e.review.conclusion})}),e.review.compliance&&i.jsx(ye.Item,{label:"Соответствие требованиям",children:i.jsx(ld,{style:{margin:0},children:e.review.compliance})})]})}):c.push({key:"review",label:"Рецензия",children:i.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#999"},children:"Рецензия не проведена"})}),c.push({key:"contract",label:"для договора",children:i.jsx(Oe,{direction:"vertical",size:"middle",style:{width:"100%"},children:i.jsxs(ye,{bordered:!0,column:1,size:"small",children:[i.jsx(ye.Item,{label:"Приложение к договору залога",children:i.jsx(ld,{children:"Настоящее заключение является приложением к договору залога и содержит полную информацию о предмете залога, его оценке и условиях принятия в залог."})}),e.conclusionNumber&&i.jsx(ye.Item,{label:"Номер заключения",children:e.conclusionNumber}),e.conclusionDate&&i.jsx(ye.Item,{label:"Дата заключения",children:e.conclusionDate}),e.contractNumber&&i.jsx(ye.Item,{label:"Номер договора залога",children:e.contractNumber}),e.collateralType&&i.jsx(ye.Item,{label:"Тип залога",children:e.collateralType}),e.marketValue&&i.jsx(ye.Item,{label:"Рыночная стоимость",children:A(e.marketValue)}),e.collateralValue&&i.jsx(ye.Item,{label:"Залоговая стоимость",children:A(e.collateralValue)}),e.specialOpinion&&i.jsx(ye.Item,{label:"Особое мнение",children:i.jsx(ld,{style:{margin:0},children:e.specialOpinion})}),e.recommendations&&i.jsx(ye.Item,{label:"Рекомендации",children:i.jsx(ld,{style:{margin:0},children:e.recommendations})}),e.conclusionText&&i.jsx(ye.Item,{label:"Текст заключения",children:i.jsx(ld,{style:{margin:0},children:e.conclusionText})})]})})}),c},[e,A,s]);return i.jsxs("div",{style:{padding:"8px 0"},children:[i.jsxs("div",{style:{marginBottom:"16px",display:"flex",gap:"8px",justifyContent:"flex-end"},children:[t&&i.jsx(Ce,{icon:i.jsx(Ri,{}),onClick:t,children:"Редактировать"}),r&&i.jsx(Ce,{icon:i.jsx(qT,{}),onClick:r,children:"Печать"}),a&&i.jsx(Ce,{icon:i.jsx(Fn,{}),onClick:a,children:"Экспорт"}),i.jsx(Ce,{icon:i.jsx(Dr,{}),onClick:()=>window.print(),children:"PDF"})]}),i.jsx(ts,{items:l,defaultActiveKey:"conclusion",size:"small",type:"card",style:{minHeight:"400px"}})]})},jE="cms_appraisal_reviews";class gV{getReviews(){const t=localStorage.getItem(jE);return t?JSON.parse(t):[]}saveReviews(t){localStorage.setItem(jE,JSON.stringify(t))}getAll(){return this.getReviews()}getById(t){return this.getReviews().find(r=>r.id===t)}create(t){const r=this.getReviews(),a={...t,id:crypto.randomUUID(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return r.push(a),this.saveReviews(r),a}update(t,r){const a=this.getReviews(),n=a.findIndex(o=>o.id===t);if(n===-1)return;const s={...a[n],...r,updatedAt:new Date().toISOString()};return a[n]=s,this.saveReviews(a),s}delete(t){const r=this.getReviews().filter(a=>a.id!==t);this.saveReviews(r)}initializeDemoData(){if(this.getReviews().length===0){const t=[{id:crypto.randomUUID(),status:"approved",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),appraiserName:'ООО "Вектор Оценки"',hasRecommendation:!0,reportName:"Отчет об оценке №123/2025",reportNumber:"123/2025",appraisalDate:"2025-11-15",appraisalPurpose:"Залог",valueType:"Рыночная стоимость",marketValueWithVat:15e6,objectDescription:"Нежилое помещение, 150 кв.м., г. Москва, ул. Ленина 1",compliance135FZ:"compliant",complianceNote:"Нарушений не выявлено",comparativeMethodologyValid:"Выбор метода сравнения продаж обоснован",comparativeErrors:"Ошибок нет",comparativeConclusion:"Стоимость определена корректно",costMethodologyValid:"Отказ от использования обоснован",costErrors:"-",costConclusion:"-",incomeMethodologyValid:"Метод прямой капитализации применен верно",incomeErrors:"Ставка капитализации в пределах рынка",incomeConclusion:"Результат достоверен",reconciliationWeightsJustification:"Веса: Сравнительный 60%, Доходный 40%",marketValueCorrectness:"Рыночная стоимость определена корректно",marketCorrespondence:!0,reviewDate:"2025-11-20",reviewerName:"Иванов И.И.",reviewerPosition:"Главный эксперт"}];this.saveReviews(t)}}}const cd=new gV,{TextArea:dd}=Re,xV=({initialValues:e,onSubmit:t,onCancel:r,loading:a})=>{const[n]=ne.useForm(),[s,o]=K.useState([]);K.useEffect(()=>{e?(n.setFieldsValue({...e,appraisalDate:e.appraisalDate?We(e.appraisalDate):null,reviewDate:e.reviewDate?We(e.reviewDate):null}),e.reportDocumentId&&e.reportDocumentName?o([{uid:e.reportDocumentId,name:e.reportDocumentName,status:"done"}]):o([])):(n.resetFields(),o([]),n.setFieldsValue({valueType:"Рыночная стоимость",marketCorrespondence:!0,compliance135FZ:"compliant"}))},[e,n]);const A=async c=>{let d=(e==null?void 0:e.reportDocumentId)||null,f=(e==null?void 0:e.reportDocumentName)||null;if(s.length>0&&s[0].originFileObj){const u=s[0].originFileObj;try{const g=await new Promise((x,v)=>{const E=new FileReader;E.onloadend=()=>{const R=E.result;x(R)},E.onerror=v,E.readAsDataURL(u)}),h=crypto.randomUUID(),y={id:h,name:u.name,type:u.type,size:u.size,data:g,uploadedAt:new Date().toISOString()};localStorage.setItem(`appraisal_report_${h}`,JSON.stringify(y)),d=h,f=u.name}catch{Te.error("Ошибка при загрузке файла");return}}else s.length===0&&(e!=null&&e.reportDocumentId)&&(d=null,f=null);const p={...c,appraisalDate:c.appraisalDate?c.appraisalDate.toISOString():null,reviewDate:c.reviewDate?c.reviewDate.toISOString():null,reportDocumentId:d,reportDocumentName:f};t(p)},l={beforeUpload:c=>{const d=c.type==="application/pdf"||c.name.endsWith(".pdf"),f=c.type.includes("wordprocessingml")||c.name.endsWith(".doc")||c.name.endsWith(".docx");return!d&&!f?(Te.error("Можно загружать только PDF или DOC/DOCX файлы!"),Xi.LIST_IGNORE):c.size/1024/1024<10?!1:(Te.error("Файл должен быть меньше 10MB!"),Xi.LIST_IGNORE)},fileList:s,onChange:({fileList:c})=>{o(c)},onRemove:()=>{o([]),n.setFieldsValue({reportDocumentId:null,reportDocumentName:null})},maxCount:1};return i.jsxs(ne,{form:n,layout:"vertical",onFinish:A,disabled:a,children:[i.jsxs(Me,{title:"Общие сведения",size:"small",style:{marginBottom:16},children:[(e==null?void 0:e.id)&&i.jsx(dt,{gutter:16,style:{marginBottom:16},children:i.jsx(be,{span:24,children:i.jsx(ne.Item,{label:"ID рецензии",children:i.jsx(Re,{value:e.id,disabled:!0,style:{fontFamily:"monospace"}})})})}),i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"appraiserName",label:"Наименование оценщика",rules:[{required:!0}],children:i.jsx(Re,{})})}),i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"hasRecommendation",label:"Наличие рекомендации",valuePropName:"checked",children:i.jsx(tl,{children:"Рекомендован банком"})})})]}),i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:8,children:i.jsx(ne.Item,{name:"reportName",label:"Наименование отчета",rules:[{required:!0}],children:i.jsx(Re,{})})}),i.jsx(be,{span:8,children:i.jsx(ne.Item,{name:"reportNumber",label:"Номер отчета",rules:[{required:!0}],children:i.jsx(Re,{})})}),i.jsx(be,{span:8,children:i.jsx(ne.Item,{name:"appraisalDate",label:"Дата оценки",rules:[{required:!0}],children:i.jsx(kr,{style:{width:"100%"}})})})]}),i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:8,children:i.jsx(ne.Item,{name:"appraisalPurpose",label:"Цель оценки",children:i.jsx(Re,{})})}),i.jsx(be,{span:8,children:i.jsx(ne.Item,{name:"valueType",label:"Вид стоимости",children:i.jsx(Re,{})})}),i.jsx(be,{span:8,children:i.jsx(ne.Item,{name:"marketValueWithVat",label:"Итоговая рыночная стоимость (с НДС)",children:i.jsx(ha,{style:{width:"100%"},formatter:c=>`${c}`.replace(/\B(?=(\d{3})+(?!\d))/g," "),parser:c=>c.replace(/\s?|(,*)/g,"")})})})]}),i.jsx(ne.Item,{name:"objectDescription",label:"Описание оцениваемого объекта",children:i.jsx(dd,{rows:3})}),i.jsxs(ne.Item,{label:"Отчет об оценке (файл)",children:[i.jsx(Xi,{...l,children:i.jsx(Ce,{icon:i.jsx(Ni,{}),children:"Загрузить отчет"})}),i.jsx("div",{style:{marginTop:8,fontSize:12,color:"#888"},children:"Поддерживаются файлы PDF, DOC, DOCX (макс. 10MB)"}),s.length>0&&s[0].status==="done"&&i.jsxs("div",{style:{marginTop:8},children:[i.jsx(RA,{})," ",s[0].name]})]})]}),i.jsx(Me,{title:"Требования к оформлению отчета",size:"small",style:{marginBottom:16},children:i.jsx(nr,{size:"small",pagination:!1,dataSource:[{key:"1",requirement:"Отчет об оценке соответствует требованиям Федерального закона от 29.07.98 г. №135-ФЗ «Об оценочной деятельности в Российской Федерации» (со всеми изменениями на дату оценки), Федеральным стандартам оценки",compliance:"compliance135FZ",note:"complianceNote"}],columns:[{title:"Требования к оформлению отчета",dataIndex:"requirement",key:"requirement",width:"50%"},{title:"Соответствие требованиям",dataIndex:"compliance",key:"compliance",width:"25%",render:c=>i.jsx(ne.Item,{name:c,noStyle:!0,children:i.jsxs(Ve,{placeholder:"Выберите",children:[i.jsx(Ve.Option,{value:"compliant",children:"Соответствует"}),i.jsx(Ve.Option,{value:"not_compliant",children:"Не соответствует"}),i.jsx(Ve.Option,{value:"partial",children:"Соответствует частично"})]})})},{title:"Примечание",dataIndex:"note",key:"note",width:"25%",render:c=>i.jsx(ne.Item,{name:c,noStyle:!0,children:i.jsx(Re,{placeholder:"Примечание"})})}]})}),i.jsx(Me,{title:"Расчет стоимости объекта оценки",size:"small",style:{marginBottom:16},children:i.jsx(nr,{size:"small",pagination:!1,dataSource:[{key:"comparative",approach:"Сравнительный подход",methodology:"comparativeMethodologyValid",errors:"comparativeErrors",conclusion:"comparativeConclusion"},{key:"cost",approach:"Затратный подход",methodology:"costMethodologyValid",errors:"costErrors",conclusion:"costConclusion"},{key:"income",approach:"Доходный подход",methodology:"incomeMethodologyValid",errors:"incomeErrors",conclusion:"incomeConclusion"}],columns:[{title:"Подход",dataIndex:"approach",key:"approach",width:"20%"},{title:"Правильность и обоснованность выбора метода в рамках подхода/Корректность обоснования отказа от использования подхода",dataIndex:"methodology",key:"methodology",width:"30%",render:c=>i.jsx(ne.Item,{name:c,noStyle:!0,children:i.jsx(dd,{rows:2,placeholder:"Комментарии"})})},{title:"Наличие ошибок в расчетах, корректность подобранных аналогов, обоснованность принятых корректировок, прочие нарушения",dataIndex:"errors",key:"errors",width:"30%",render:c=>i.jsx(ne.Item,{name:c,noStyle:!0,children:i.jsx(dd,{rows:2,placeholder:"Комментарии"})})},{title:"Выводы в рамках подхода",dataIndex:"conclusion",key:"conclusion",width:"20%",render:c=>i.jsx(ne.Item,{name:c,noStyle:!0,children:i.jsx(dd,{rows:2,placeholder:"Выводы"})})}]})}),i.jsx(Me,{title:"Согласование результатов",size:"small",style:{marginBottom:16},children:i.jsx(ne.Item,{name:"reconciliationWeightsJustification",label:"Обоснование выбора использованных весов, присвоенных каждому из подходов",children:i.jsx(dd,{rows:3,placeholder:"Опишите обоснование выбора весов для каждого подхода"})})}),i.jsxs(Me,{title:"Вывод о корректности определения рыночной стоимости",size:"small",style:{marginBottom:16},children:[i.jsx(ne.Item,{name:"marketValueCorrectness",label:"Вывод о корректности определения рыночной стоимости",children:i.jsx(dd,{rows:3,placeholder:"Сформулируйте вывод о корректности определения рыночной стоимости"})}),i.jsx(ne.Item,{name:"marketCorrespondence",label:"Стоимость соответствует рынку",valuePropName:"checked",children:i.jsx(tl,{children:"Да, стоимость соответствует рынку"})})]}),i.jsx(Me,{title:"Подпись",size:"small",style:{marginBottom:16},children:i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:8,children:i.jsx(ne.Item,{name:"reviewDate",label:"Дата рецензии",children:i.jsx(kr,{style:{width:"100%"}})})}),i.jsx(be,{span:8,children:i.jsx(ne.Item,{name:"reviewerName",label:"ФИО сотрудника",children:i.jsx(Re,{})})}),i.jsx(be,{span:8,children:i.jsx(ne.Item,{name:"reviewerPosition",label:"Должность",children:i.jsx(Re,{})})})]})}),i.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8},children:[i.jsx(Ce,{onClick:r,children:"Отмена"}),i.jsx(Ce,{type:"primary",htmlType:"submit",loading:a,children:"Сохранить"})]})]})},yV=()=>{const[e,t]=K.useState([]),[r,a]=K.useState(!1),[n,s]=K.useState(null),[o,A]=K.useState(!1),[l,c]=K.useState(""),[d,f]=K.useState(null);K.useEffect(()=>{p()},[]);const p=()=>{cd.initializeDemoData(),t(cd.getAll())},u=()=>{s(null),a(!0)},g=b=>{s(b),a(!0)},h=b=>{lr.confirm({title:"Удалить рецензию?",content:"Это действие нельзя отменить",onOk:()=>{cd.delete(b),Te.success("Рецензия удалена"),p()}})},y=(b,T)=>{cd.update(b,{status:T});const _={draft:"Черновик",pending:"На согласовании",approved:"Согласовано",rejected:"Отклонено"};Te.success(`Статус изменен на "${_[T]}"`),p()},x=K.useMemo(()=>{const b=l.trim().toLowerCase();return e.filter(T=>{const _=!b||[T.appraiserName,T.reportName,T.reportNumber,T.objectDescription].filter(Boolean).some(O=>String(O).toLowerCase().includes(b)),S=!d||T.status===d;return _&&S})},[e,l,d]),v=K.useMemo(()=>{const b=x.length,T=x.filter(M=>M.status==="draft").length,_=x.filter(M=>M.status==="approved").length,S=x.filter(M=>M.status==="pending").length,O=x.filter(M=>M.status==="rejected").length;return{total:b,draft:T,approved:_,pending:S,rejected:O}},[x]),E=b=>{A(!0);try{n?(cd.update(n.id,b),Te.success("Рецензия обновлена")):(cd.create({...b,status:"draft"}),Te.success("Рецензия создана")),a(!1),p()}catch{Te.error("Ошибка при сохранении")}finally{A(!1)}},R=[{title:"ID",dataIndex:"id",key:"id",width:100,render:b=>i.jsxs("span",{style:{fontFamily:"monospace",fontSize:"12px"},children:[b.substring(0,8),"..."]})},{title:"Дата оценки",dataIndex:"appraisalDate",key:"appraisalDate",render:b=>b?We(b).format("DD.MM.YYYY"):"-"},{title:"Оценщик",dataIndex:"appraiserName",key:"appraiserName"},{title:"Отчет",key:"report",render:(b,T)=>i.jsxs("div",{children:[i.jsx("div",{children:T.reportName}),i.jsx("small",{style:{color:"#888"},children:T.reportNumber}),T.reportDocumentName&&i.jsxs("div",{style:{marginTop:4},children:[i.jsx(RA,{style:{color:"#1890ff"}})," ",i.jsx("span",{style:{fontSize:"12px",color:"#1890ff"},children:T.reportDocumentName})]})]})},{title:"Объект",dataIndex:"objectDescription",key:"objectDescription",ellipsis:!0},{title:"Стоимость",dataIndex:"marketValueWithVat",key:"marketValueWithVat",render:b=>b?`${b.toLocaleString("ru-RU")} ₽`:"-"},{title:"Статус",dataIndex:"status",key:"status",render:b=>{const T={draft:"default",pending:"processing",approved:"success",rejected:"error"},_={draft:"Черновик",pending:"На согласовании",approved:"Согласовано",rejected:"Отклонено"};return i.jsx(et,{color:T[b],children:_[b]})}},{title:"Действия",key:"actions",width:200,render:(b,T)=>i.jsxs(Oe,{children:[i.jsx(Ce,{icon:i.jsx(Ts,{}),size:"small",onClick:()=>g(T),title:"Просмотр"}),T.status==="draft"&&i.jsx(Ce,{icon:i.jsx(Ri,{}),size:"small",onClick:()=>g(T),title:"Редактировать"}),T.status==="draft"&&i.jsx(Ce,{icon:i.jsx(Cv,{}),size:"small",type:"primary",ghost:!0,title:"Отправить на согласование",onClick:()=>y(T.id,"pending")}),T.status==="pending"&&i.jsxs(i.Fragment,{children:[i.jsx(Ce,{icon:i.jsx(Cv,{}),size:"small",type:"primary",title:"Согласовать",onClick:()=>y(T.id,"approved")}),i.jsx(Ce,{icon:i.jsx(fb,{}),size:"small",danger:!0,title:"Отклонить",onClick:()=>y(T.id,"rejected")})]}),T.status!=="approved"&&i.jsx(Ce,{icon:i.jsx(Ss,{}),size:"small",danger:!0,onClick:()=>h(T.id),title:"Удалить"})]})}];return i.jsxs("div",{className:"appraisal-reviews-list",children:[i.jsxs("div",{style:{marginBottom:16},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[i.jsx("h2",{style:{margin:0},children:"Реестр рецензий на отчеты об оценке"}),i.jsx(Ce,{type:"primary",icon:i.jsx(wi,{}),onClick:u,children:"Создать рецензию"})]}),i.jsxs(Oe,{size:"middle",style:{width:"100%",marginBottom:16},children:[i.jsx(Re,{allowClear:!0,size:"large",placeholder:"Поиск по оценщику, отчету, объекту...",prefix:i.jsx(qa,{}),value:l,onChange:b=>c(b.target.value),style:{width:400}}),i.jsx(Ve,{allowClear:!0,placeholder:"Статус",style:{width:200},value:d??void 0,onChange:b=>f(b??null),options:[{label:"Черновик",value:"draft"},{label:"На согласовании",value:"pending"},{label:"Согласовано",value:"approved"},{label:"Отклонено",value:"rejected"}]})]})]}),i.jsx(Me,{style:{marginBottom:16},children:i.jsxs(dt,{gutter:[16,16],children:[i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(ut,{title:"Всего рецензий",value:v.total})}),i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(ut,{title:"Черновики",value:v.draft})}),i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(ut,{title:"На согласовании",value:v.pending})}),i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(ut,{title:"Согласовано",value:v.approved})})]})}),i.jsx(Me,{bodyStyle:{padding:0},children:i.jsx(nr,{columns:R,dataSource:x,rowKey:"id",pagination:{pageSize:10,showSizeChanger:!0},scroll:{x:1200}})}),i.jsx(lr,{title:i.jsxs(Oe,{children:[i.jsx("span",{children:n?"Редактирование рецензии":"Создание рецензии"}),n&&i.jsx(et,{color:n.status==="approved"?"green":n.status==="pending"?"blue":n.status==="rejected"?"red":"default",children:n.status==="draft"?"Черновик":n.status==="pending"?"На согласовании":n.status==="approved"?"Согласовано":"Отклонено"})]}),open:r,onCancel:()=>a(!1),footer:null,width:"95%",style:{top:10},styles:{body:{maxHeight:"85vh",overflowY:"auto",padding:"16px"}},destroyOnClose:!0,children:i.jsx(xV,{initialValues:n||{},onSubmit:E,onCancel:()=>a(!1),loading:o})})]})},vV=()=>{const e=$s(),[t,r]=K.useState([]),[a,n]=K.useState(!0),[s,o]=K.useState(null),[A,l]=K.useState(""),[c,d]=K.useState(null),[f,p]=K.useState(null),[u,g]=K.useState(null),[h,y]=K.useState(!1),[x,v]=K.useState(!1);K.useEffect(()=>{let M=!0;return(async()=>{n(!0),o(null);try{const D="./",L=new URL(D,window.location.origin),N=L.pathname.endsWith("/")?L.pathname:`${L.pathname}/`,P=`${L.origin}${N}collateralConclusionsData.json?v=${Date.now()}`,Q=await fetch(P,{cache:"no-store"});if(!Q.ok)throw new Error(`Не удалось загрузить данные заключений (${Q.status})`);const J=await Q.json();if(!M)return;r(J.map((te,V)=>({...te,key:te.id||`conclusion-${V}`})))}catch(D){o(D instanceof Error?D.message:"Неизвестная ошибка"),r([])}finally{M&&n(!1)}})(),()=>{M=!1}},[]);const E=K.useMemo(()=>{const M=A.trim().toLowerCase();return t.filter(I=>{const D=!M||[I.conclusionNumber,I.reference,I.contractNumber,I.pledger,I.borrower,I.collateralType].filter(Boolean).some(P=>String(P).toLowerCase().includes(M)),L=!c||I.status===c,N=!f||I.conclusionType===f;return D&&L&&N})},[t,A,c,f]),R=K.useMemo(()=>{const M=E.length,I=E.filter(N=>N.status==="Черновик").length,D=E.filter(N=>N.status==="Согласовано").length,L=E.filter(N=>N.status==="На согласовании").length;return{total:M,draft:I,approved:D,pending:L}},[E]),b=M=>{g(M),y(!0)},T=Qa.useCallback((M,I)=>{M?e(`/collateral-dossier?ref=${M}`):I?e(`/collateral-dossier?q=${encodeURIComponent(I)}`):Te.warning("Не указан REFERENCE или Залогодатель для перехода к досье")},[e]),_=Qa.useCallback((M,I)=>{I?e(`/portfolio?q=${encodeURIComponent(I)}`):M?e(`/portfolio?q=${encodeURIComponent(M)}`):Te.warning("Не указан Залогодатель или REFERENCE для перехода к портфелю")},[e]),S=K.useMemo(()=>[{title:"№ заключения",dataIndex:"conclusionNumber",key:"conclusionNumber",width:150,render:(M,I)=>i.jsx(Ce,{type:"link",onClick:()=>b(I),children:M})},{title:"Дата",dataIndex:"conclusionDate",key:"conclusionDate",width:120},{title:"REFERENCE",dataIndex:"reference",key:"reference",width:150,render:M=>M?i.jsx(ht.Text,{code:!0,children:M}):"—"},{title:"Залогодатель",dataIndex:"pledger",key:"pledger",width:200,render:(M,I)=>i.jsx(Jr,{title:"Перейти к портфелю",children:i.jsx(Ce,{type:"link",icon:i.jsx(es,{}),onClick:()=>_(I.pledger,I.reference),children:M||"—"})})},{title:"Тип залога",dataIndex:"collateralType",key:"collateralType",width:180},{title:"Тип заключения",dataIndex:"conclusionType",key:"conclusionType",width:150},{title:"Статус",dataIndex:"status",key:"status",width:150,render:M=>{const I=M==="Согласовано"?"green":M==="На согласовании"?"blue":M==="Отклонено"||M==="Аннулировано"?"red":"default";return i.jsx(et,{color:I,children:M})}},{title:"Автор",dataIndex:"author",key:"author",width:150},{title:"Действия",key:"actions",width:120,render:(M,I)=>i.jsxs(Oe,{children:[i.jsx(Jr,{title:"Просмотр",children:i.jsx(Ce,{type:"link",icon:i.jsx(Ts,{}),onClick:()=>b(I)})}),i.jsx(Jr,{title:"Залоговое досье",children:i.jsx(Ce,{type:"link",icon:i.jsx(q1,{}),onClick:()=>T(I.reference,I.pledger)})})]})}],[T,_]),O=()=>{window.location.reload()};return i.jsx("div",{className:"collateral-conclusions-page",children:i.jsx(ts,{defaultActiveKey:"conclusions",items:[{key:"conclusions",label:"Залоговые заключения",children:i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"conclusions-header",children:[i.jsxs("div",{children:[i.jsx(ht.Title,{level:2,className:"conclusions-title",children:"Залоговые заключения"}),i.jsx(ht.Paragraph,{className:"conclusions-subtitle",children:"Реестр залоговых заключений по сделкам"})]}),i.jsxs(Oe,{size:"middle",children:[i.jsx(Re,{allowClear:!0,size:"large",placeholder:"Поиск по номеру, REFERENCE, залогодателю...",prefix:i.jsx(qa,{}),value:A,onChange:M=>l(M.target.value),style:{width:400}}),i.jsx(Ce,{type:"primary",icon:i.jsx(wi,{}),size:"large",onClick:()=>v(!0),children:"Создать заключение"})]})]}),i.jsx(Me,{children:i.jsxs("div",{className:"conclusions-filters",children:[i.jsx(Ve,{allowClear:!0,placeholder:"Статус",style:{width:200},options:[{label:"Черновик",value:"Черновик"},{label:"На согласовании",value:"На согласовании"},{label:"Согласовано",value:"Согласовано"},{label:"Отклонено",value:"Отклонено"},{label:"Аннулировано",value:"Аннулировано"}],value:c??void 0,onChange:M=>d(M??null)}),i.jsx(Ve,{allowClear:!0,placeholder:"Тип заключения",style:{width:200},options:[{label:"Первичное",value:"Первичное"},{label:"Повторное",value:"Повторное"},{label:"Дополнительное",value:"Дополнительное"},{label:"Переоценка",value:"Переоценка"}],value:f??void 0,onChange:M=>p(M??null)})]})}),i.jsxs(dt,{gutter:[16,16],className:"conclusions-stats",children:[i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"Всего заключений",value:R.total,prefix:i.jsx(Dr,{})})})}),i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"Черновики",value:R.draft})})}),i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"На согласовании",value:R.pending})})}),i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"Согласовано",value:R.approved})})})]}),i.jsx(Me,{className:"conclusions-table-card",bodyStyle:{padding:0},children:i.jsx(nr,{columns:S,dataSource:E,pagination:{pageSize:10,showSizeChanger:!0},scroll:{x:1400},loading:a,onRow:M=>({onDoubleClick:()=>b(M)}),locale:{emptyText:i.jsx(Sr,{description:"Нет заключений, удовлетворяющих фильтрам",className:"conclusions-empty"})}})}),s&&i.jsx(Ir,{type:"error",showIcon:!0,message:"Не удалось загрузить данные заключений",description:s,action:i.jsx("a",{onClick:()=>window.location.reload(),style:{fontWeight:600},children:"Повторить"})}),i.jsx(lr,{title:i.jsxs(Oe,{children:[i.jsx(Dr,{}),i.jsxs("span",{children:["Залоговое заключение ",u==null?void 0:u.conclusionNumber]}),u&&i.jsx(et,{color:u.status==="Согласовано"?"green":u.status==="На согласовании"?"blue":u.status==="Отклонено"||u.status==="Аннулировано"?"red":"default",children:u.status})]}),open:h,onCancel:()=>y(!1),footer:[i.jsx(Ce,{icon:i.jsx(q1,{}),onClick:()=>{u&&T(u.reference,u.pledger)},children:"Залоговое досье"},"dossier"),i.jsx(Ce,{icon:i.jsx(es,{}),onClick:()=>{u&&_(u.pledger,u.reference)},children:"Залогодатель"},"pledger"),i.jsx(Ce,{type:"primary",onClick:()=>y(!1),children:"Закрыть"},"close")],width:"95%",style:{top:10},styles:{body:{maxHeight:"80vh",overflowY:"auto",padding:"16px"}},children:u&&i.jsx(mV,{conclusion:u,onEdit:()=>{Te.info("Редактирование в разработке")},onPrint:()=>{window.print()},onExport:()=>{Te.info("Экспорт в разработке")}})}),i.jsx(hV,{visible:x,onCancel:()=>v(!1),onSuccess:O})]})},{key:"reviews",label:"Рецензии на отчеты об оценке",children:i.jsx(yV,{})}]})})},{TextArea:ju}=Re,{Option:Ms}=Ve,{Title:wV,Paragraph:F1}=ht,EV=new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",maximumFractionDigits:0}),$p=e=>{const t=typeof e=="string"?parseFloat(e.replace(/\s/g,"").replace(",",".")):Number(e);return Number.isFinite(t)?EV.format(t):"—"},wr=e=>{if(e==null)return"—";const t=String(e).trim();return t.length>0?t:"—"},Ol={draft:{color:"default",text:"Черновик",icon:i.jsx(Dr,{})},submitted:{color:"processing",text:"Подано",icon:i.jsx(Vn,{})},registered:{color:"success",text:"Зарегистрировано",icon:i.jsx(Nn,{})},rejected:{color:"error",text:"Отклонено",icon:i.jsx(ZA,{})},cancelled:{color:"default",text:"Аннулировано",icon:i.jsx(ZA,{})}},bV=()=>{const e=$s(),[t,r]=K.useState([]),[a,n]=K.useState(!0),[s,o]=K.useState(null),[A,l]=K.useState(""),[c,d]=K.useState(null),[f,p]=K.useState(null),[u,g]=K.useState(null),[h,y]=K.useState(!1),[x,v]=K.useState(!1),[E]=ne.useForm(),[R,b]=K.useState([]);K.useEffect(()=>{let G=!0;return(async()=>{n(!0),o(null);try{const C=localStorage.getItem("fnp_registrations");let k=[];if(C?k=JSON.parse(C):(k=_(),localStorage.setItem("fnp_registrations",JSON.stringify(k))),!G)return;r(k.map((j,H)=>({...j,key:j.id||`fnp-${H}`}))),await T()}catch(C){o(C instanceof Error?C.message:"Неизвестная ошибка"),r([])}finally{G&&n(!1)}})(),()=>{G=!1}},[]);const T=async()=>{try{const G="./",z=new URL(G,window.location.origin),C=z.pathname.endsWith("/")?z.pathname:`${z.pathname}/`,k=`${z.origin}${C}portfolioData.json?v=${Date.now()}`,j=await fetch(k,{cache:"no-store"});if(j.ok){const H=await j.json();b(H)}}catch(G){console.error("Ошибка загрузки данных портфеля:",G)}},_=()=>{const G=["Транспортные средства","Оборудование","Товары в обороте"],z=["draft","submitted","registered","rejected"],C=[];for(let k=1;k<=20;k++){const j=G[Math.floor(Math.random()*G.length)],H=z[Math.floor(Math.random()*z.length)],Y=Ol[H];C.push({id:`fnp-${k}`,registrationNumber:H==="registered"?`ФНП-2024-${String(k).padStart(6,"0")}`:void 0,registrationDate:H==="registered"?We().subtract(Math.floor(Math.random()*30),"day").format("YYYY-MM-DD"):void 0,status:H,statusText:Y.text,reference:`REF-${1e3+k}`,contractNumber:`ДЗ-2024-${k}`,pledgerName:`ООО "Компания ${k}"`,pledgerInn:`${Math.floor(1e9+Math.random()*9e9)}`,pledgerType:"legal",borrowerName:`Заемщик ${k}`,collateralType:j,collateralName:j==="Транспортные средства"?`Автомобиль ${["Toyota","BMW","Mercedes","Audi"][Math.floor(Math.random()*4)]}`:j==="Оборудование"?`Оборудование ${k}`:`Товары ${k}`,vehicleBrand:j==="Транспортные средства"?["Toyota","BMW","Mercedes"][Math.floor(Math.random()*3)]:void 0,vehicleModel:j==="Транспортные средства"?"Model X":void 0,vehicleYear:j==="Транспортные средства"?2020+Math.floor(Math.random()*4):void 0,vehicleVin:j==="Транспортные средства"?`VIN${Math.random().toString(36).substring(2,17).toUpperCase()}`:void 0,marketValue:Math.floor(Math.random()*5e6)+5e5,collateralValue:Math.floor(Math.random()*4e6)+4e5,pledgeContractNumber:`ДЗ-2024-${k}`,pledgeContractDate:We().subtract(Math.floor(Math.random()*60),"day").format("YYYY-MM-DD"),pledgeAmount:Math.floor(Math.random()*3e6)+3e5,createdAt:We().subtract(Math.floor(Math.random()*90),"day").toISOString(),updatedAt:We().subtract(Math.floor(Math.random()*10),"day").toISOString()})}return C},S=K.useMemo(()=>{const G=A.trim().toLowerCase();return t.filter(z=>{const C=!G||[z.registrationNumber,z.pledgerName,z.contractNumber,z.reference,z.collateralName,z.collateralType].filter(Boolean).some(H=>String(H).toLowerCase().includes(G)),k=!c||z.status===c,j=!f||z.collateralType===f;return C&&k&&j})},[t,A,c,f]),O=K.useMemo(()=>{const G=S.length,z=S.filter(j=>j.status==="draft").length,C=S.filter(j=>j.status==="submitted").length,k=S.filter(j=>j.status==="registered").length;return{total:G,draft:z,submitted:C,registered:k}},[S]),M=K.useMemo(()=>Array.from(new Set(t.map(G=>G.status))).map(G=>({label:Ol[G].text,value:G})),[t]),I=K.useMemo(()=>Array.from(new Set(t.map(G=>G.collateralType))).map(G=>({label:G,value:G})),[t]),D=G=>{g(G),y(!0)},L=()=>{g(null),E.resetFields(),E.setFieldsValue({status:"draft",pledgerType:"legal",pledgeContractDate:We()}),v(!0)},N=Qa.useCallback(G=>{g(G),E.setFieldsValue({...G,pledgeContractDate:G.pledgeContractDate?We(G.pledgeContractDate):void 0,registrationDate:G.registrationDate?We(G.registrationDate):void 0}),v(!0)},[E]),P=async()=>{var G,z,C,k;try{const j=await E.validateFields(),H=We().toISOString();if(u){const Y={...u,...j,pledgeContractDate:(G=j.pledgeContractDate)==null?void 0:G.format("YYYY-MM-DD"),registrationDate:(z=j.registrationDate)==null?void 0:z.format("YYYY-MM-DD"),updatedAt:H},de=t.map(ue=>ue.id===u.id?{...Y,key:Y.id}:ue);r(de),localStorage.setItem("fnp_registrations",JSON.stringify(de)),Te.success("Регистрация обновлена")}else{const Y={id:`fnp-${Date.now()}`,status:j.status||"draft",statusText:Ol[j.status||"draft"].text,...j,pledgeContractDate:(C=j.pledgeContractDate)==null?void 0:C.format("YYYY-MM-DD"),registrationDate:(k=j.registrationDate)==null?void 0:k.format("YYYY-MM-DD"),createdAt:H,updatedAt:H},de=[...t,{...Y,key:Y.id}];r(de),localStorage.setItem("fnp_registrations",JSON.stringify(de)),Te.success("Регистрация создана")}v(!1),E.resetFields()}catch(j){console.error("Ошибка сохранения:",j),Te.error("Ошибка при сохранении регистрации")}},Q=Qa.useCallback(G=>{lr.confirm({title:"Удалить регистрацию?",content:"Это действие нельзя отменить.",okText:"Удалить",okType:"danger",cancelText:"Отмена",onOk:()=>{const z=t.filter(C=>C.id!==G);r(z),localStorage.setItem("fnp_registrations",JSON.stringify(z)),Te.success("Регистрация удалена")}})},[t]),J=G=>{const z=R.find(C=>String(C.reference)===String(G));z&&E.setFieldsValue({contractNumber:z.contractNumber||null,pledgerName:z.pledger||null,pledgerInn:z.inn||null,borrowerName:z.borrower||null,collateralType:z.collateralType||null,collateralName:z.collateralType||null,marketValue:z.marketValue||z.currentMarketValue||null,collateralValue:z.collateralValue||null,pledgeAmount:z.debtRub||null})},te=Qa.useCallback(G=>{G&&e(`/portfolio?q=${G}`)},[e]),V=K.useMemo(()=>[{title:"№ регистрации",dataIndex:"registrationNumber",key:"registrationNumber",width:150,render:(G,z)=>i.jsx(Ce,{type:"link",onClick:()=>D(z),style:{padding:0},children:G||i.jsx("span",{style:{color:"#999"},children:"—"})})},{title:"Дата регистрации",dataIndex:"registrationDate",key:"registrationDate",width:120,render:G=>wr(G)},{title:"REFERENCE",dataIndex:"reference",key:"reference",width:120,render:G=>i.jsx(Jr,{title:G,children:i.jsx(Ce,{type:"link",onClick:()=>te(G),style:{padding:0},children:i.jsx(ht.Text,{copyable:!0,ellipsis:{suffix:String(G).slice(-4)},children:G})})})},{title:"Залогодатель",dataIndex:"pledgerName",key:"pledgerName",width:200,render:G=>wr(G)},{title:"Тип имущества",dataIndex:"collateralType",key:"collateralType",width:150,render:G=>wr(G)},{title:"Предмет залога",dataIndex:"collateralName",key:"collateralName",width:200,render:G=>wr(G)},{title:"Статус",dataIndex:"status",key:"status",width:150,render:(G,z)=>{const C=Ol[G]||Ol.draft;return i.jsx(et,{color:C.color,icon:C.icon,children:z.statusText})}},{title:"Действия",key:"actions",width:120,fixed:"right",render:(G,z)=>i.jsxs(Oe,{size:"small",children:[i.jsx(Jr,{title:"Просмотреть",children:i.jsx(Ce,{icon:i.jsx(Ts,{}),onClick:()=>D(z),size:"small"})}),z.status==="draft"&&i.jsx(Jr,{title:"Редактировать",children:i.jsx(Ce,{icon:i.jsx(Ri,{}),onClick:()=>N(z),size:"small"})}),z.status==="draft"&&i.jsx(Jr,{title:"Удалить",children:i.jsx(Ce,{icon:i.jsx(Ss,{}),onClick:()=>Q(z.id),size:"small",danger:!0})})]})}],[te,N,Q]);return i.jsxs("div",{className:"fnp-service-page",children:[i.jsxs("div",{className:"fnp-header",children:[i.jsxs("div",{children:[i.jsx(wV,{level:2,className:"fnp-title",children:"Регистрация залога движимого имущества ФНП"}),i.jsx(F1,{className:"fnp-subtitle",children:"Сервис регистрации залога движимого имущества в реестре Федеральной нотариальной палаты"})]}),i.jsxs(Oe,{size:"middle",children:[i.jsx(Re,{allowClear:!0,size:"large",placeholder:"Поиск по №, REFERENCE, залогодателю",prefix:i.jsx(qa,{}),value:A,onChange:G=>l(G.target.value),style:{width:360}}),i.jsx(Ce,{type:"primary",size:"large",icon:i.jsx(wi,{}),onClick:L,children:"Создать регистрацию"})]})]}),i.jsx(Me,{children:i.jsxs("div",{className:"fnp-filters",children:[i.jsx(Ve,{allowClear:!0,placeholder:"Статус регистрации",style:{width:200},options:M,value:c??void 0,onChange:G=>d(G??null)}),i.jsx(Ve,{allowClear:!0,placeholder:"Тип имущества",style:{width:200},options:I,value:f??void 0,onChange:G=>p(G??null)})]})}),i.jsxs(dt,{gutter:[16,16],className:"fnp-stats",children:[i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"Всего регистраций",value:O.total,prefix:i.jsx(Dr,{})})})}),i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"Черновики",value:O.draft})})}),i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"Подано",value:O.submitted})})}),i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"Зарегистрировано",value:O.registered})})})]}),i.jsx(Me,{className:"fnp-table-card",bodyStyle:{padding:0},children:i.jsx(nr,{columns:V,dataSource:S,pagination:{pageSize:10,showSizeChanger:!0},scroll:{x:1400},loading:a,onRow:G=>({onDoubleClick:()=>D(G)}),locale:{emptyText:i.jsx(Sr,{description:"Нет регистраций, удовлетворяющих фильтрам",className:"fnp-empty"})}})}),s&&i.jsx(Ir,{type:"error",showIcon:!0,message:"Не удалось загрузить данные регистраций",description:s,action:i.jsx(Ce,{size:"small",icon:i.jsx(el,{}),onClick:()=>window.location.reload(),children:"Повторить"})}),i.jsx(lr,{title:"Регистрация залога ФНП",open:h,onCancel:()=>y(!1),footer:[(u==null?void 0:u.status)==="draft"&&i.jsx(Ce,{icon:i.jsx(Ri,{}),onClick:()=>{y(!1),N(u)},children:"Редактировать"},"edit"),i.jsx(Ce,{type:"primary",onClick:()=>y(!1),children:"Закрыть"},"close")],width:"90%",style:{top:20},styles:{body:{maxHeight:"70vh",overflowY:"auto"}},children:u&&i.jsx("div",{className:"fnp-registration-details",children:i.jsxs(ye,{bordered:!0,column:3,size:"small",children:[i.jsx(ye.Item,{label:"№ регистрации",span:1,children:wr(u.registrationNumber)||i.jsx("span",{style:{color:"#999"},children:"Не присвоен"})}),i.jsx(ye.Item,{label:"Дата регистрации",span:1,children:wr(u.registrationDate)}),i.jsx(ye.Item,{label:"Статус",span:1,children:i.jsx(et,{color:Ol[u.status].color,icon:Ol[u.status].icon,children:u.statusText})}),i.jsx(ye.Item,{label:"REFERENCE",span:1,children:i.jsx(Ce,{type:"link",onClick:()=>te(u.reference),style:{padding:0},children:wr(u.reference)})}),i.jsx(ye.Item,{label:"№ договора залога",span:2,children:wr(u.pledgeContractNumber)}),i.jsx(kt,{orientation:"left",children:"Залогодатель"}),i.jsx(ye.Item,{label:"Наименование",span:2,children:wr(u.pledgerName)}),i.jsx(ye.Item,{label:"Тип",span:1,children:u.pledgerType==="legal"?"Юридическое лицо":"Физическое лицо"}),i.jsx(ye.Item,{label:"ИНН",children:wr(u.pledgerInn)}),i.jsx(ye.Item,{label:"ОГРН",children:wr(u.pledgerOgrn)}),i.jsx(ye.Item,{label:"Адрес",span:3,children:wr(u.pledgerAddress)}),u.borrowerName&&i.jsxs(i.Fragment,{children:[i.jsx(kt,{orientation:"left",children:"Заемщик"}),i.jsx(ye.Item,{label:"Наименование",span:2,children:wr(u.borrowerName)}),i.jsx(ye.Item,{label:"ИНН",children:wr(u.borrowerInn)})]}),i.jsx(kt,{orientation:"left",children:"Предмет залога"}),i.jsx(ye.Item,{label:"Тип имущества",span:1,children:wr(u.collateralType)}),i.jsx(ye.Item,{label:"Наименование",span:2,children:wr(u.collateralName)}),u.collateralType==="Транспортные средства"&&i.jsxs(i.Fragment,{children:[i.jsx(ye.Item,{label:"Марка",children:wr(u.vehicleBrand)}),i.jsx(ye.Item,{label:"Модель",children:wr(u.vehicleModel)}),i.jsx(ye.Item,{label:"Год выпуска",children:wr(u.vehicleYear)}),i.jsx(ye.Item,{label:"VIN",children:wr(u.vehicleVin)}),i.jsx(ye.Item,{label:"Гос. номер",children:wr(u.vehicleRegistrationNumber)}),i.jsx(ye.Item,{label:"Номер кузова",children:wr(u.vehicleBodyNumber)}),i.jsx(ye.Item,{label:"Номер шасси",children:wr(u.vehicleChassisNumber)}),i.jsx(ye.Item,{label:"Номер рамы",children:wr(u.vehicleFrameNumber)})]}),u.collateralType==="Оборудование"&&i.jsxs(i.Fragment,{children:[i.jsx(ye.Item,{label:"Наименование",span:2,children:wr(u.equipmentName)}),i.jsx(ye.Item,{label:"Производитель",children:wr(u.equipmentManufacturer)}),i.jsx(ye.Item,{label:"Модель",children:wr(u.equipmentModel)}),i.jsx(ye.Item,{label:"Серийный номер",children:wr(u.equipmentSerialNumber)}),i.jsx(ye.Item,{label:"Инвентарный номер",children:wr(u.equipmentInventoryNumber)}),i.jsx(ye.Item,{label:"Год выпуска",children:wr(u.equipmentYear)})]}),i.jsx(kt,{orientation:"left",children:"Оценка"}),i.jsx(ye.Item,{label:"Рыночная стоимость",children:$p(u.marketValue)}),i.jsx(ye.Item,{label:"Залоговая стоимость",children:$p(u.collateralValue)}),i.jsx(ye.Item,{label:"Сумма обязательства",children:$p(u.pledgeAmount)}),i.jsx(kt,{orientation:"left",children:"Договор залога"}),i.jsx(ye.Item,{label:"№ договора",children:wr(u.pledgeContractNumber)}),i.jsx(ye.Item,{label:"Дата договора",children:wr(u.pledgeContractDate)}),i.jsx(ye.Item,{label:"Сумма обязательства",children:$p(u.pledgeAmount)}),u.notaryName&&i.jsxs(i.Fragment,{children:[i.jsx(kt,{orientation:"left",children:"Нотариус"}),i.jsx(ye.Item,{label:"ФИО нотариуса",span:2,children:wr(u.notaryName)}),i.jsx(ye.Item,{label:"Регион",children:wr(u.notaryRegion)}),i.jsx(ye.Item,{label:"Нотариальная контора",span:3,children:wr(u.notaryOffice)})]}),u.rejectionReason&&i.jsxs(i.Fragment,{children:[i.jsx(kt,{orientation:"left",children:"Отклонение"}),i.jsx(ye.Item,{label:"Причина отклонения",span:3,children:i.jsx(F1,{style:{margin:0,color:"#ff4d4f"},children:u.rejectionReason})})]}),u.comments&&i.jsxs(i.Fragment,{children:[i.jsx(kt,{orientation:"left",children:"Комментарии"}),i.jsx(ye.Item,{label:"Примечания",span:3,children:i.jsx(F1,{style:{margin:0},children:u.comments})})]})]})})}),i.jsx(lr,{title:u?"Редактировать регистрацию":"Создать регистрацию залога ФНП",open:x,onCancel:()=>{v(!1),E.resetFields()},footer:[i.jsx(Ce,{onClick:()=>{v(!1),E.resetFields()},children:"Отмена"},"cancel"),i.jsx(Ce,{type:"primary",onClick:P,children:u?"Сохранить":"Создать"},"submit")],width:900,children:i.jsxs(ne,{form:E,layout:"vertical",children:[i.jsx(ne.Item,{name:"reference",label:"REFERENCE сделки",tooltip:"Выберите сделку из портфеля для автозаполнения данных",children:i.jsx(Ve,{placeholder:"Выберите REFERENCE",showSearch:!0,allowClear:!0,onChange:J,filterOption:(G,z)=>String((z==null?void 0:z.children)||"").toLowerCase().includes(G.toLowerCase()),children:R.map(G=>i.jsxs(Ms,{value:G.reference,children:[G.reference," - ",G.borrower||G.pledger||"Не указано"]},G.reference))})}),i.jsx(ne.Item,{name:"status",label:"Статус",rules:[{required:!0}],children:i.jsxs(Ve,{children:[i.jsx(Ms,{value:"draft",children:"Черновик"}),i.jsx(Ms,{value:"submitted",children:"Подано"}),i.jsx(Ms,{value:"registered",children:"Зарегистрировано"}),i.jsx(Ms,{value:"rejected",children:"Отклонено"}),i.jsx(Ms,{value:"cancelled",children:"Аннулировано"})]})}),i.jsx(kt,{orientation:"left",children:"Залогодатель"}),i.jsx(ne.Item,{name:"pledgerType",label:"Тип залогодателя",rules:[{required:!0}],children:i.jsxs(Ve,{children:[i.jsx(Ms,{value:"legal",children:"Юридическое лицо"}),i.jsx(Ms,{value:"individual",children:"Физическое лицо"})]})}),i.jsx(ne.Item,{name:"pledgerName",label:"Наименование залогодателя",rules:[{required:!0}],children:i.jsx(Re,{placeholder:"Наименование"})}),i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"pledgerInn",label:"ИНН",children:i.jsx(Re,{placeholder:"ИНН"})})}),i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"pledgerOgrn",label:"ОГРН",children:i.jsx(Re,{placeholder:"ОГРН"})})})]}),i.jsx(ne.Item,{name:"pledgerAddress",label:"Адрес залогодателя",children:i.jsx(ju,{rows:2,placeholder:"Адрес"})}),i.jsx(kt,{orientation:"left",children:"Заемщик"}),i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:16,children:i.jsx(ne.Item,{name:"borrowerName",label:"Наименование заемщика",children:i.jsx(Re,{placeholder:"Наименование"})})}),i.jsx(be,{span:8,children:i.jsx(ne.Item,{name:"borrowerInn",label:"ИНН заемщика",children:i.jsx(Re,{placeholder:"ИНН"})})})]}),i.jsx(kt,{orientation:"left",children:"Предмет залога"}),i.jsx(ne.Item,{name:"collateralType",label:"Тип движимого имущества",rules:[{required:!0}],children:i.jsxs(Ve,{placeholder:"Выберите тип",children:[i.jsx(Ms,{value:"Транспортные средства",children:"Транспортные средства"}),i.jsx(Ms,{value:"Оборудование",children:"Оборудование"}),i.jsx(Ms,{value:"Товары в обороте",children:"Товары в обороте"})]})}),i.jsx(ne.Item,{name:"collateralName",label:"Наименование предмета залога",rules:[{required:!0}],children:i.jsx(Re,{placeholder:"Наименование"})}),i.jsx(ne.Item,{name:"collateralDescription",label:"Описание предмета залога",children:i.jsx(ju,{rows:3,placeholder:"Подробное описание"})}),i.jsx(ne.Item,{noStyle:!0,shouldUpdate:(G,z)=>G.collateralType!==z.collateralType,children:({getFieldValue:G})=>{const z=G("collateralType");return z==="Транспортные средства"?i.jsxs(i.Fragment,{children:[i.jsx(kt,{orientation:"left",children:"Данные транспортного средства"}),i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"vehicleBrand",label:"Марка",children:i.jsx(Re,{placeholder:"Марка ТС"})})}),i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"vehicleModel",label:"Модель",children:i.jsx(Re,{placeholder:"Модель"})})})]}),i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:8,children:i.jsx(ne.Item,{name:"vehicleYear",label:"Год выпуска",children:i.jsx(ha,{style:{width:"100%"},min:1900,max:new Date().getFullYear()})})}),i.jsx(be,{span:16,children:i.jsx(ne.Item,{name:"vehicleVin",label:"VIN номер",children:i.jsx(Re,{placeholder:"VIN"})})})]}),i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:8,children:i.jsx(ne.Item,{name:"vehicleRegistrationNumber",label:"Гос. номер",children:i.jsx(Re,{placeholder:"A777AA92"})})}),i.jsx(be,{span:8,children:i.jsx(ne.Item,{name:"vehicleBodyNumber",label:"Номер кузова",children:i.jsx(Re,{placeholder:"Номер кузова"})})}),i.jsx(be,{span:8,children:i.jsx(ne.Item,{name:"vehicleChassisNumber",label:"Номер шасси",children:i.jsx(Re,{placeholder:"Номер шасси"})})})]}),i.jsx(ne.Item,{name:"vehicleFrameNumber",label:"Номер рамы",children:i.jsx(Re,{placeholder:"Номер рамы"})})]}):z==="Оборудование"?i.jsxs(i.Fragment,{children:[i.jsx(kt,{orientation:"left",children:"Данные оборудования"}),i.jsx(ne.Item,{name:"equipmentName",label:"Наименование оборудования",children:i.jsx(Re,{placeholder:"Наименование"})}),i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"equipmentManufacturer",label:"Производитель",children:i.jsx(Re,{placeholder:"Производитель"})})}),i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"equipmentModel",label:"Модель",children:i.jsx(Re,{placeholder:"Модель"})})})]}),i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"equipmentSerialNumber",label:"Серийный номер",children:i.jsx(Re,{placeholder:"Серийный номер"})})}),i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"equipmentInventoryNumber",label:"Инвентарный номер",children:i.jsx(Re,{placeholder:"Инвентарный номер"})})})]}),i.jsx(ne.Item,{name:"equipmentYear",label:"Год выпуска",children:i.jsx(ha,{style:{width:"100%"},min:1900,max:new Date().getFullYear()})})]}):z==="Товары в обороте"?i.jsxs(i.Fragment,{children:[i.jsx(kt,{orientation:"left",children:"Данные товаров"}),i.jsx(ne.Item,{name:"goodsDescription",label:"Описание товаров",children:i.jsx(ju,{rows:3,placeholder:"Подробное описание товаров"})}),i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"goodsQuantity",label:"Количество",children:i.jsx(ha,{style:{width:"100%"},min:0})})}),i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"goodsUnit",label:"Единица измерения",children:i.jsx(Re,{placeholder:"шт., кг, м и т.д."})})})]})]}):null}}),i.jsx(kt,{orientation:"left",children:"Оценка"}),i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"marketValue",label:"Рыночная стоимость, руб.",children:i.jsx(ha,{style:{width:"100%"},min:0,addonAfter:"руб."})})}),i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"collateralValue",label:"Залоговая стоимость, руб.",children:i.jsx(ha,{style:{width:"100%"},min:0,addonAfter:"руб."})})})]}),i.jsx(kt,{orientation:"left",children:"Договор залога"}),i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"pledgeContractNumber",label:"№ договора залога",children:i.jsx(Re,{placeholder:"Номер договора"})})}),i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"pledgeContractDate",label:"Дата договора залога",children:i.jsx(kr,{style:{width:"100%"},format:"YYYY-MM-DD"})})})]}),i.jsx(ne.Item,{name:"pledgeAmount",label:"Сумма обязательства, обеспеченного залогом, руб.",children:i.jsx(ha,{style:{width:"100%"},min:0,addonAfter:"руб."})}),i.jsx(kt,{orientation:"left",children:"Нотариус"}),i.jsx(ne.Item,{name:"notaryName",label:"ФИО нотариуса",children:i.jsx(Re,{placeholder:"ФИО нотариуса"})}),i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"notaryRegion",label:"Регион",children:i.jsx(Re,{placeholder:"Регион"})})}),i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"notaryOffice",label:"Нотариальная контора",children:i.jsx(Re,{placeholder:"Название конторы"})})})]}),i.jsx(ne.Item,{name:"comments",label:"Комментарии",children:i.jsx(ju,{rows:3,placeholder:"Дополнительные комментарии"})}),(u==null?void 0:u.status)==="rejected"&&i.jsx(ne.Item,{name:"rejectionReason",label:"Причина отклонения",children:i.jsx(ju,{rows:2,placeholder:"Причина отклонения регистрации"})})]})})]})},{Title:_V,Text:CV}=ht,{Option:ba}=Ve,BV=()=>{const e=$s(),[t]=ne.useForm(),[r,a]=K.useState([]),[n]=K.useState(!1),[s,o]=K.useState(""),[A,l]=K.useState(null),[c,d]=K.useState(null),[f,p]=K.useState(null),[u,g]=K.useState(null),[h,y]=K.useState(!1),[x,v]=K.useState(!1),[E,R]=K.useState(!1);K.useEffect(()=>{(()=>{try{const J=localStorage.getItem("creditRiskRecords");if(J){const te=JSON.parse(J);a(te.map((V,G)=>({...V,key:V.id||`risk-${G}`})))}}catch(J){console.error("Ошибка загрузки данных ФКР:",J),a([])}})()},[]);const b=Q=>{try{localStorage.setItem("creditRiskRecords",JSON.stringify(Q)),a(Q.map((J,te)=>({...J,key:J.id||`risk-${te}`})))}catch(J){console.error("Ошибка сохранения данных ФКР:",J),Te.error("Ошибка сохранения данных")}},T=K.useMemo(()=>{const Q=s.trim().toLowerCase();return r.filter(J=>{var C,k,j;const te=!Q||String(J.reference).toLowerCase().includes(Q)||((C=J.contractNumber)==null?void 0:C.toLowerCase().includes(Q))||((k=J.pledger)==null?void 0:k.toLowerCase().includes(Q))||((j=J.borrower)==null?void 0:j.toLowerCase().includes(Q))||J.riskEvent.name.toLowerCase().includes(Q),V=!A||J.status===A,G=!c||J.riskEvent.category===c,z=!f||J.priority===f;return te&&V&&G&&z})},[r,s,A,c,f]),_=K.useMemo(()=>{const Q=r.filter(G=>G.status==="active").length,J=r.filter(G=>G.status==="resolved").length,te=r.filter(G=>G.priority==="critical"&&G.status==="active").length,V=r.filter(G=>G.priority==="high"&&G.status==="active").length;return{total:r.length,active:Q,resolved:J,critical:te,high:V}},[r]),S=()=>{g(null),t.resetFields(),R(!0)},O=Q=>{g(Q),y(!0)},M=Q=>{g(Q),t.setFieldsValue({...Q,eventDate:Q.eventDate?We(Q.eventDate):null,detectionDate:Q.detectionDate?We(Q.detectionDate):null,resolutionDate:Q.resolutionDate?We(Q.resolutionDate):null,riskEventCode:Q.riskEvent.code}),v(!0)},I=async Q=>{try{const J=h2.find(G=>G.code===Q.riskEventCode);if(!J){Te.error("Рисковое событие не найдено");return}const te={id:(u==null?void 0:u.id)||`risk-${Date.now()}`,reference:Q.reference,contractNumber:Q.contractNumber,pledger:Q.pledger,pledgerInn:Q.pledgerInn,borrower:Q.borrower,borrowerInn:Q.borrowerInn,riskEvent:J,suspensiveConditionId:Q.suspensiveConditionId,suspensiveConditionDescription:Q.suspensiveConditionDescription,insuranceRelated:Q.insuranceRelated||!1,insurancePolicyNumber:Q.insurancePolicyNumber,status:Q.status||"active",eventDate:Q.eventDate?Q.eventDate.format("YYYY-MM-DD"):We().format("YYYY-MM-DD"),detectionDate:Q.detectionDate?Q.detectionDate.format("YYYY-MM-DD"):We().format("YYYY-MM-DD"),resolutionDate:Q.resolutionDate?Q.resolutionDate.format("YYYY-MM-DD"):void 0,description:Q.description,comments:Q.comments,resolution:Q.resolution,detectedBy:Q.detectedBy,responsible:Q.responsible,reviewer:Q.reviewer,priority:Q.priority||"medium",documents:Q.documents||[],createdAt:(u==null?void 0:u.createdAt)||We().format("YYYY-MM-DD"),updatedAt:We().format("YYYY-MM-DD")},V=u?r.map(G=>G.id===u.id?te:G):[...r,te];b(V),Te.success(u?"Запись обновлена":"Запись создана"),v(!1),R(!1),t.resetFields()}catch(J){console.error("Ошибка сохранения:",J),Te.error("Ошибка сохранения записи")}},D=Q=>{switch(Q){case"active":return"red";case"resolved":return"green";case"archived":return"default";default:return"default"}},L=Q=>{switch(Q){case"critical":return"red";case"high":return"orange";case"medium":return"blue";case"low":return"green";default:return"default"}},N=Q=>({collateral:"purple",borrower:"cyan",financial:"gold",transport:"blue",rating:"orange",industry:"volcano",legal:"red"})[Q]||"default",P=[{title:"REFERENCE",dataIndex:"reference",key:"reference",width:120,render:(Q,J)=>i.jsx(Ce,{type:"link",onClick:()=>e(`/portfolio?q=${J.reference}`),icon:i.jsx(eA,{}),children:J.reference})},{title:"Договор залога",dataIndex:"contractNumber",key:"contractNumber",width:150},{title:"Залогодатель",dataIndex:"pledger",key:"pledger",width:200},{title:"Рисковое событие",key:"riskEvent",width:300,render:(Q,J)=>i.jsxs(Oe,{direction:"vertical",size:"small",children:[i.jsx(et,{color:N(J.riskEvent.category),children:J.riskEvent.code}),i.jsx(CV,{style:{fontSize:"12px"},children:J.riskEvent.name})]})},{title:"Статус",dataIndex:"status",key:"status",width:100,render:Q=>{const J={active:"Активен",resolved:"Разрешен",archived:"Архив"};return i.jsx(et,{color:D(Q),children:J[Q]})}},{title:"Приоритет",dataIndex:"priority",key:"priority",width:100,render:Q=>{const J={critical:"Критический",high:"Высокий",medium:"Средний",low:"Низкий"};return i.jsx(et,{color:L(Q),children:J[Q]})}},{title:"Дата события",dataIndex:"eventDate",key:"eventDate",width:120,render:Q=>We(Q).format("DD.MM.YYYY")},{title:"Действия",key:"actions",width:120,fixed:"right",render:(Q,J)=>i.jsxs(Oe,{children:[i.jsx(Jr,{title:"Просмотр",children:i.jsx(Ce,{type:"link",icon:i.jsx(Ts,{}),onClick:()=>O(J)})}),i.jsx(Jr,{title:"Редактировать",children:i.jsx(Ce,{type:"link",icon:i.jsx(Dr,{}),onClick:()=>M(J)})})]})}];return i.jsxs("div",{className:"credit-risk-page",children:[i.jsxs("div",{className:"credit-risk-page__header",children:[i.jsxs("div",{children:[i.jsx(_V,{level:2,className:"credit-risk-page__title",children:"Модуль мониторинга"}),i.jsx(ht.Paragraph,{className:"credit-risk-page__subtitle",children:"Отслеживание рисковых событий и отлагательных условий по договорам залога"})]}),i.jsx(Ce,{type:"primary",icon:i.jsx(wi,{}),onClick:S,children:"Добавить рисковое событие"})]}),i.jsxs(dt,{gutter:[16,16],className:"credit-risk-page__stats",children:[i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"Всего записей",value:_.total})})}),i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"Активных рисков",value:_.active,valueStyle:{color:"#cf1322"}})})}),i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"Критических",value:_.critical,valueStyle:{color:"#ff4d4f"}})})}),i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"Разрешенных",value:_.resolved,valueStyle:{color:"#3f8600"}})})})]}),i.jsx(Me,{children:i.jsxs(Oe,{direction:"vertical",size:"middle",style:{width:"100%"},children:[i.jsx(Re,{allowClear:!0,placeholder:"Поиск по REFERENCE, договору, залогодателю, заемщику",prefix:i.jsx(qa,{}),value:s,onChange:Q=>o(Q.target.value),style:{width:"100%"}}),i.jsxs(Oe,{wrap:!0,children:[i.jsxs(Ve,{allowClear:!0,placeholder:"Статус",style:{width:150},value:A??void 0,onChange:Q=>l(Q??null),children:[i.jsx(ba,{value:"active",children:"Активен"}),i.jsx(ba,{value:"resolved",children:"Разрешен"}),i.jsx(ba,{value:"archived",children:"Архив"})]}),i.jsxs(Ve,{allowClear:!0,placeholder:"Категория",style:{width:200},value:c??void 0,onChange:Q=>d(Q??null),children:[i.jsx(ba,{value:"collateral",children:"Обеспечение"}),i.jsx(ba,{value:"borrower",children:"Заемщик/Залогодатель"}),i.jsx(ba,{value:"financial",children:"Финансовые"}),i.jsx(ba,{value:"transport",children:"Транспорт"}),i.jsx(ba,{value:"rating",children:"Рейтинг"}),i.jsx(ba,{value:"industry",children:"Отрасль"}),i.jsx(ba,{value:"legal",children:"Юридические"})]}),i.jsxs(Ve,{allowClear:!0,placeholder:"Приоритет",style:{width:150},value:f??void 0,onChange:Q=>p(Q??null),children:[i.jsx(ba,{value:"critical",children:"Критический"}),i.jsx(ba,{value:"high",children:"Высокий"}),i.jsx(ba,{value:"medium",children:"Средний"}),i.jsx(ba,{value:"low",children:"Низкий"})]})]})]})}),i.jsx(Me,{bodyStyle:{padding:0},children:i.jsx(nr,{columns:P,dataSource:T,pagination:{pageSize:20,showSizeChanger:!0},scroll:{x:1200},loading:n,locale:{emptyText:i.jsx(Sr,{description:"Нет записей"})}})}),i.jsx(lr,{title:"Детали рискового события",open:h,onCancel:()=>y(!1),footer:[i.jsx(Ce,{onClick:()=>y(!1),children:"Закрыть"},"close")],width:800,children:u&&i.jsxs(ye,{bordered:!0,column:2,size:"small",children:[i.jsx(ye.Item,{label:"REFERENCE",span:2,children:i.jsx(Ce,{type:"link",onClick:()=>{e(`/portfolio?q=${u.reference}`),y(!1)},icon:i.jsx(eA,{}),children:u.reference})}),i.jsx(ye.Item,{label:"Договор залога",children:u.contractNumber||"—"}),i.jsx(ye.Item,{label:"Залогодатель",children:u.pledger}),i.jsx(ye.Item,{label:"Заемщик",children:u.borrower||"—"}),i.jsx(ye.Item,{label:"Рисковое событие",span:2,children:i.jsxs(Oe,{children:[i.jsx(et,{color:N(u.riskEvent.category),children:u.riskEvent.code}),u.riskEvent.name]})}),u.suspensiveConditionDescription&&i.jsx(ye.Item,{label:"Отлагательное условие",span:2,children:u.suspensiveConditionDescription}),u.insuranceRelated&&i.jsx(ye.Item,{label:"Страхование",span:2,children:i.jsx(Ce,{type:"link",onClick:()=>{e(`/insurance?ref=${u.reference}`),y(!1)},icon:i.jsx(KT,{}),children:u.insurancePolicyNumber||"Перейти к страхованию"})}),i.jsx(ye.Item,{label:"Статус",children:i.jsx(et,{color:D(u.status),children:u.status==="active"?"Активен":u.status==="resolved"?"Разрешен":"Архив"})}),i.jsx(ye.Item,{label:"Приоритет",children:i.jsx(et,{color:L(u.priority),children:u.priority==="critical"?"Критический":u.priority==="high"?"Высокий":u.priority==="medium"?"Средний":"Низкий"})}),i.jsx(ye.Item,{label:"Дата события",children:We(u.eventDate).format("DD.MM.YYYY")}),i.jsx(ye.Item,{label:"Дата обнаружения",children:We(u.detectionDate).format("DD.MM.YYYY")}),u.resolutionDate&&i.jsx(ye.Item,{label:"Дата разрешения",children:We(u.resolutionDate).format("DD.MM.YYYY")}),u.description&&i.jsx(ye.Item,{label:"Описание",span:2,children:u.description}),u.comments&&i.jsx(ye.Item,{label:"Комментарии",span:2,children:u.comments}),u.resolution&&i.jsx(ye.Item,{label:"Способ разрешения",span:2,children:u.resolution})]})}),i.jsx(y2,{title:u?"Редактировать запись":"Добавить рисковое событие",open:x||E,onClose:()=>{v(!1),R(!1),t.resetFields()},width:600,children:i.jsxs(ne,{form:t,layout:"vertical",onFinish:I,initialValues:{status:"active",priority:"medium",eventDate:We(),detectionDate:We()},children:[i.jsx(ne.Item,{name:"reference",label:"REFERENCE",rules:[{required:!0,message:"Укажите REFERENCE"}],children:i.jsx(Re,{placeholder:"REFERENCE сделки"})}),i.jsx(ne.Item,{name:"contractNumber",label:"Договор залога",children:i.jsx(Re,{placeholder:"Номер договора залога"})}),i.jsx(ne.Item,{name:"pledger",label:"Залогодатель",rules:[{required:!0,message:"Укажите залогодателя"}],children:i.jsx(Re,{placeholder:"Наименование залогодателя"})}),i.jsx(ne.Item,{name:"pledgerInn",label:"ИНН залогодателя",children:i.jsx(Re,{placeholder:"ИНН"})}),i.jsx(ne.Item,{name:"borrower",label:"Заемщик",children:i.jsx(Re,{placeholder:"Наименование заемщика"})}),i.jsx(ne.Item,{name:"borrowerInn",label:"ИНН заемщика",children:i.jsx(Re,{placeholder:"ИНН"})}),i.jsx(ne.Item,{name:"riskEventCode",label:"Рисковое событие",rules:[{required:!0,message:"Выберите рисковое событие"}],children:i.jsx(Ve,{placeholder:"Выберите событие",showSearch:!0,optionFilterProp:"children",children:h2.map(Q=>i.jsxs(ba,{value:Q.code,children:["[",Q.code,"] ",Q.name]},Q.code))})}),i.jsx(ne.Item,{name:"suspensiveConditionDescription",label:"Отлагательное условие",children:i.jsx(Re.TextArea,{rows:3,placeholder:"Описание отлагательного условия (если добавлено из заключения)"})}),i.jsx(ne.Item,{name:"insuranceRelated",label:"Связано со страхованием",valuePropName:"checked",children:i.jsx(xi,{})}),i.jsx(ne.Item,{name:"insurancePolicyNumber",label:"Номер полиса страхования",children:i.jsx(Re,{placeholder:"Номер полиса"})}),i.jsx(ne.Item,{name:"status",label:"Статус",children:i.jsxs(Ve,{children:[i.jsx(ba,{value:"active",children:"Активен"}),i.jsx(ba,{value:"resolved",children:"Разрешен"}),i.jsx(ba,{value:"archived",children:"Архив"})]})}),i.jsx(ne.Item,{name:"priority",label:"Приоритет",children:i.jsxs(Ve,{children:[i.jsx(ba,{value:"low",children:"Низкий"}),i.jsx(ba,{value:"medium",children:"Средний"}),i.jsx(ba,{value:"high",children:"Высокий"}),i.jsx(ba,{value:"critical",children:"Критический"})]})}),i.jsx(ne.Item,{name:"eventDate",label:"Дата события",children:i.jsx(kr,{style:{width:"100%"},format:"DD.MM.YYYY"})}),i.jsx(ne.Item,{name:"detectionDate",label:"Дата обнаружения",children:i.jsx(kr,{style:{width:"100%"},format:"DD.MM.YYYY"})}),i.jsx(ne.Item,{name:"resolutionDate",label:"Дата разрешения",children:i.jsx(kr,{style:{width:"100%"},format:"DD.MM.YYYY"})}),i.jsx(ne.Item,{name:"description",label:"Описание",children:i.jsx(Re.TextArea,{rows:4,placeholder:"Дополнительное описание события"})}),i.jsx(ne.Item,{name:"comments",label:"Комментарии",children:i.jsx(Re.TextArea,{rows:3,placeholder:"Комментарии"})}),i.jsx(ne.Item,{name:"resolution",label:"Способ разрешения",children:i.jsx(Re.TextArea,{rows:3,placeholder:"Как был разрешен риск"})}),i.jsx(ne.Item,{name:"detectedBy",label:"Обнаружил",children:i.jsx(Re,{placeholder:"ФИО сотрудника"})}),i.jsx(ne.Item,{name:"responsible",label:"Ответственный",children:i.jsx(Re,{placeholder:"ФИО ответственного"})}),i.jsx(ne.Item,{children:i.jsxs(Oe,{children:[i.jsx(Ce,{type:"primary",htmlType:"submit",children:u?"Сохранить":"Создать"}),i.jsx(Ce,{onClick:()=>{v(!1),R(!1),t.resetFields()},children:"Отмена"})]})})]})})]})},{Title:LE,Text:ud}=ht,SV=()=>{var V;const[e,t]=K.useState("collateral"),[r,a]=K.useState(null),[n,s]=K.useState([]),[o,A]=K.useState(!1),[l,c]=K.useState(!1),[d,f]=K.useState(!1),[p,u]=K.useState([]),[g,h]=K.useState(""),[y,x]=K.useState(null),[v,E]=K.useState(!1),[R,b]=K.useState(!1);K.useEffect(()=>{(async()=>{A(!0);try{if(e==="collateral"){const C=(await Dt.getExtendedCards()).map(k=>{var j,H,Y,de;return{id:k.id,type:"collateral",name:k.name,reference:k.reference,contractNumber:k.contractNumber,collateralType:(j=k.classification)==null?void 0:j.level1,address:(H=k.address)==null?void 0:H.fullAddress,area:((Y=k.characteristics)==null?void 0:Y.totalAreaSqm)||((de=k.characteristics)==null?void 0:de.totalArea),characteristics:k.characteristics||{}}});s(C)}else if(e==="conclusion")try{const z="./",C=new URL(z,window.location.origin),k=C.pathname.endsWith("/")?C.pathname:`${C.pathname}/`,j=`${C.origin}${k}collateralConclusionsData.json?v=${Date.now()}`,H=await fetch(j,{cache:"no-store"});if(H.ok){const de=(await H.json()).map(ue=>({id:ue.id,type:"conclusion",name:ue.collateralName||ue.collateralType||"Залоговое заключение",reference:ue.reference||void 0,contractNumber:ue.contractNumber||void 0,collateralType:ue.collateralType||void 0,address:ue.collateralLocation||void 0,area:ue.totalAreaSqm||ue.totalAreaHectares||void 0,characteristics:{marketValue:ue.marketValue,collateralValue:ue.collateralValue,fairValue:ue.fairValue}}));s(de)}}catch(z){console.error("Ошибка загрузки заключений:",z),s([])}else if(e==="portfolio")try{const z="./",C=new URL(z,window.location.origin),k=C.pathname.endsWith("/")?C.pathname:`${C.pathname}/`,j=`${C.origin}${k}portfolioData.json?v=${Date.now()}`,H=await fetch(j,{cache:"no-store"});if(H.ok){const de=(await H.json()).map(ue=>({id:String(ue.reference||`portfolio-${ue.contractNumber}`),type:"portfolio",name:`${ue.borrower||ue.pledger||"Договор"} - ${ue.collateralType||"Обеспечение"}`,reference:ue.reference||void 0,contractNumber:ue.contractNumber||void 0,collateralType:ue.collateralType||void 0,address:ue.collateralLocation||void 0,characteristics:{marketValue:ue.marketValue,collateralValue:ue.collateralValue,fairValue:ue.fairValue}}));s(de)}}catch(z){console.error("Ошибка загрузки портфеля:",z),s([])}}catch(z){console.error("Ошибка загрузки объектов:",z),Te.error("Ошибка загрузки объектов"),s([])}finally{A(!1)}})()},[e]),K.useEffect(()=>{(()=>{try{const z=localStorage.getItem("appraisalResults");if(z){const C=JSON.parse(z);u(C.map((k,j)=>({...k,key:k.id||`result-${j}`})))}}catch(z){console.error("Ошибка загрузки результатов оценки:",z)}})()},[]);const T=K.useMemo(()=>{const G=g.trim().toLowerCase();return n.filter(z=>{var C,k;return!G||z.name.toLowerCase().includes(G)||String(z.reference||"").toLowerCase().includes(G)||((C=z.contractNumber)==null?void 0:C.toLowerCase().includes(G))||((k=z.address)==null?void 0:k.toLowerCase().includes(G))})},[n,g]),_=()=>{b(!0)},S=G=>{a(G),b(!1)},O=async()=>{if(!r){Te.warning("Выберите объект для оценки");return}c(!0);try{await new Promise(k=>setTimeout(k,2e3));const G=I(r),z=localStorage.getItem("appraisalResults"),C=z?JSON.parse(z):[];C.push(G),localStorage.setItem("appraisalResults",JSON.stringify(C)),u(k=>[...k,{...G,key:G.id}]),Te.success("Оценка выполнена успешно"),a(null)}catch(G){console.error("Ошибка оценки:",G),Te.error("Ошибка выполнения оценки")}finally{c(!1)}},M=async()=>{if(!r){Te.warning("Выберите объект для оценки");return}f(!0);try{const G=D(r),z=r.characteristics?Object.entries(r.characteristics).slice(0,5).map(([Y,de])=>`${Y}: ${de}`).join("; "):void 0,C=await Oy.generateEstimate({objectName:r.name,assetGroup:G,assetType:r.collateralType||r.type,location:r.address,area:r.area,purpose:'Экспресс-оценка в модуле "Оценка"',additionalFactors:z,card:null}),k=L(C,r),j=localStorage.getItem("appraisalResults"),H=j?JSON.parse(j):[];H.push(k),localStorage.setItem("appraisalResults",JSON.stringify(H)),u(Y=>[...Y,{...k,key:k.id}]),r.type==="collateral"&&Qh.add({cardId:r.id,objectId:r.id,objectName:r.name,estimate:C,input:{objectName:r.name,assetGroup:G,assetType:r.collateralType||r.type,location:r.address,area:r.area,card:null,purpose:"Экспресс-оценка",additionalFactors:z}}),Te.success("AI помощник выполнил оценку объекта")}catch(G){console.error("Ошибка AI оценки:",G),Te.error("Не удалось выполнить AI оценку")}finally{f(!1)}},I=G=>{var de,ue,he;const z=G.area||100,C=1e5;let k=1;(de=G.collateralType)!=null&&de.includes("Офис")&&(k=1.2),(ue=G.collateralType)!=null&&ue.includes("Склад")&&(k=.8),(he=G.collateralType)!=null&&he.includes("Торгов")&&(k=1.5);const j=Math.round(z*C*k),H=Math.round(j*.7),Y=Math.round(j*.85);return{id:`appraisal-${Date.now()}`,requestId:`request-${Date.now()}`,objectId:G.id,objectType:G.type,marketValue:j,collateralValue:H,fairValue:Y,appraisalMethod:"Сравнительный подход (база данных аналогов в разработке)",comparableObjectsCount:0,confidenceLevel:"medium",details:"Автоматическая оценка выполнена на основе характеристик объекта. База данных аналогичных объектов находится в разработке.",notes:"Оценка выполнена автоматически. Требуется проверка оценщиком.",appraisedAt:We().format("YYYY-MM-DD HH:mm:ss"),status:"draft"}},D=G=>{const z=(G.collateralType||"").toLowerCase();if(z.includes("зем"))return"land";if(z.includes("недвиж")||z.includes("офис")||z.includes("склад")||z.includes("торгов"))return"real_estate";if(z.includes("акци")||z.includes("дол"))return"equity";if(z.includes("прав")||z.includes("интеллект"))return"rights";if(z.includes("товар")||z.includes("урож"))return"metals_goods";if(z.includes("транспорт")||z.includes("оборуд")||z.includes("техника"))return"movable";switch(G.type){case"collateral":return"real_estate";case"conclusion":return"real_estate";case"portfolio":return"real_estate";default:return"movable"}},L=(G,z)=>{var C;return{id:`ai-appraisal-${Date.now()}`,requestId:`ai-${Date.now()}`,objectId:z.id,objectType:z.type,marketValue:G.marketValue,collateralValue:G.collateralValue,fairValue:Math.round(G.marketValue*.9),appraisalMethod:G.methodology,comparableObjectsCount:((C=G.comparables)==null?void 0:C.length)||0,confidenceLevel:G.confidence,details:G.summary,notes:`Риски: ${G.riskFactors.join("; ")||"—"}. Рекомендации: ${G.recommendedActions.join("; ")||"—"}`,appraisedAt:We().format("YYYY-MM-DD HH:mm:ss"),status:"draft"}},N=G=>{x(G),E(!0)},P=G=>{switch(G){case"approved":return"green";case"rejected":return"red";case"draft":return"orange";default:return"default"}},Q=G=>{switch(G){case"approved":return i.jsx(Nn,{});case"rejected":return i.jsx(ZA,{});case"draft":return i.jsx(Vn,{});default:return null}},J=G=>{switch(G){case"collateral":return"Объект залога";case"conclusion":return"Залоговое заключение";case"portfolio":return"Договор из портфеля";default:return G}},te=[{title:"Объект",key:"object",width:200,render:(G,z)=>{const C=n.find(k=>k.id===z.objectId);return i.jsxs(Oe,{direction:"vertical",size:"small",children:[i.jsx(ud,{strong:!0,children:(C==null?void 0:C.name)||"Неизвестный объект"}),i.jsx(et,{children:J(z.objectType)})]})}},{title:"REFERENCE",dataIndex:"objectId",key:"reference",width:120,render:(G,z)=>{const C=n.find(k=>k.id===z.objectId);return C!=null&&C.reference?String(C.reference):"—"}},{title:"Рыночная стоимость",dataIndex:"marketValue",key:"marketValue",width:150,render:G=>G?new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",maximumFractionDigits:0}).format(G):"—"},{title:"Залоговая стоимость",dataIndex:"collateralValue",key:"collateralValue",width:150,render:G=>G?new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",maximumFractionDigits:0}).format(G):"—"},{title:"Метод",dataIndex:"appraisalMethod",key:"appraisalMethod",width:200,ellipsis:!0},{title:"Уверенность",dataIndex:"confidenceLevel",key:"confidenceLevel",width:120,render:G=>{const z={high:"green",medium:"orange",low:"red"},C={high:"Высокая",medium:"Средняя",low:"Низкая"};return i.jsx(et,{color:z[G],children:C[G]})}},{title:"Статус",dataIndex:"status",key:"status",width:120,render:G=>{const z={draft:"Черновик",approved:"Утверждено",rejected:"Отклонено"};return i.jsx(et,{color:P(G),icon:Q(G),children:z[G]})}},{title:"Дата оценки",dataIndex:"appraisedAt",key:"appraisedAt",width:150,render:G=>We(G).format("DD.MM.YYYY HH:mm")},{title:"Действия",key:"actions",width:100,fixed:"right",render:(G,z)=>i.jsx(Jr,{title:"Просмотр",children:i.jsx(Ce,{type:"link",icon:i.jsx(Ts,{}),onClick:()=>N(z)})})}];return i.jsxs("div",{className:"appraisal-page",children:[i.jsx("div",{className:"appraisal-page__header",children:i.jsxs("div",{children:[i.jsx(LE,{level:2,className:"appraisal-page__title",children:"Модуль оценки"}),i.jsx(ht.Paragraph,{className:"appraisal-page__subtitle",children:"Автоматическая оценка объектов залога на основе базы данных аналогичных объектов"})]})}),i.jsx(Me,{children:i.jsxs(Oe,{direction:"vertical",size:"large",style:{width:"100%"},children:[i.jsxs("div",{children:[i.jsx(ud,{strong:!0,style:{marginRight:16},children:"Выберите тип объекта:"}),i.jsxs(Ho.Group,{value:e,onChange:G=>{t(G.target.value),a(null)},children:[i.jsxs(Ho.Button,{value:"collateral",children:[i.jsx(JA,{})," Объекты залога"]}),i.jsxs(Ho.Button,{value:"conclusion",children:[i.jsx(Dr,{})," Залоговые заключения"]}),i.jsxs(Ho.Button,{value:"portfolio",children:[i.jsx(ob,{})," Договоры из портфеля"]})]})]}),i.jsxs(Oe,{style:{width:"100%"},direction:"vertical",children:[i.jsx(ud,{strong:!0,children:"Выбранный объект:"}),r?i.jsx(Me,{size:"small",style:{backgroundColor:"#f0f9ff"},children:i.jsxs(Oe,{direction:"vertical",size:"small",style:{width:"100%"},children:[i.jsx(ud,{strong:!0,children:r.name}),i.jsxs(Oe,{children:[i.jsx(et,{children:J(r.type)}),r.reference&&i.jsxs(et,{children:["REF: ",r.reference]}),r.contractNumber&&i.jsxs(et,{children:["Договор: ",r.contractNumber]})]}),r.address&&i.jsx(ud,{type:"secondary",style:{fontSize:"12px"},children:r.address}),r.area&&i.jsxs(ud,{type:"secondary",style:{fontSize:"12px"},children:["Площадь: ",r.area," ","кв.м"]})]})}):i.jsx(Sr,{description:"Объект не выбран",image:Sr.PRESENTED_IMAGE_SIMPLE}),i.jsxs(Oe,{children:[i.jsx(Ce,{type:"primary",onClick:_,icon:i.jsx(qa,{}),children:"Выбрать объект"}),i.jsx(Ce,{type:"primary",onClick:O,icon:i.jsx(UA,{}),loading:l,disabled:!r,children:"Выполнить оценку"}),i.jsx(Ce,{type:"default",onClick:M,icon:i.jsx(Bf,{}),loading:d,disabled:!r,children:"Оценка ИИ"})]})]})]})}),i.jsx(Ir,{message:"База данных аналогичных объектов",description:"База данных аналогичных объектов находится в разработке. В настоящее время оценка выполняется на основе базовых алгоритмов. После внедрения базы данных оценка будет выполняться на основе реальных данных об аналогичных объектах.",type:"info",showIcon:!0,style:{marginTop:16,marginBottom:16}}),i.jsxs(Me,{children:[i.jsx(LE,{level:4,children:"История оценок"}),i.jsx(nr,{columns:te,dataSource:p,pagination:{pageSize:15,showSizeChanger:!0},scroll:{x:1200},loading:o,locale:{emptyText:i.jsx(Sr,{description:"Нет выполненных оценок"})}})]}),i.jsxs(lr,{title:`Выбор объекта: ${J(e)}`,open:R,onCancel:()=>b(!1),footer:null,width:800,children:[i.jsx(Re,{placeholder:"Поиск по названию, REFERENCE, договору, адресу",prefix:i.jsx(qa,{}),value:g,onChange:G=>h(G.target.value),style:{marginBottom:16}}),i.jsx(nr,{dataSource:T,rowKey:"id",pagination:{pageSize:10},size:"small",onRow:G=>({onClick:()=>S(G),style:{cursor:"pointer"}}),columns:[{title:"Название",dataIndex:"name",key:"name",ellipsis:!0},{title:"REFERENCE",dataIndex:"reference",key:"reference",width:120,render:G=>G||"—"},{title:"Тип",dataIndex:"collateralType",key:"collateralType",width:150,ellipsis:!0},{title:"Адрес",dataIndex:"address",key:"address",ellipsis:!0}]})]}),i.jsx(lr,{title:"Результат оценки",open:v,onCancel:()=>E(!1),footer:[i.jsx(Ce,{onClick:()=>E(!1),children:"Закрыть"},"close")],width:700,children:y&&i.jsx(Oe,{direction:"vertical",size:"large",style:{width:"100%"},children:i.jsxs(ye,{bordered:!0,column:2,size:"small",children:[i.jsx(ye.Item,{label:"Объект",span:2,children:((V=n.find(G=>G.id===y.objectId))==null?void 0:V.name)||"Неизвестный объект"}),i.jsx(ye.Item,{label:"Тип объекта",children:J(y.objectType)}),i.jsx(ye.Item,{label:"Статус",children:i.jsx(et,{color:P(y.status),icon:Q(y.status),children:y.status==="draft"?"Черновик":y.status==="approved"?"Утверждено":"Отклонено"})}),i.jsx(ye.Item,{label:"Рыночная стоимость",span:1,children:y.marketValue?new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",maximumFractionDigits:0}).format(y.marketValue):"—"}),i.jsx(ye.Item,{label:"Залоговая стоимость",span:1,children:y.collateralValue?new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",maximumFractionDigits:0}).format(y.collateralValue):"—"}),i.jsx(ye.Item,{label:"Справедливая стоимость",span:1,children:y.fairValue?new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",maximumFractionDigits:0}).format(y.fairValue):"—"}),i.jsx(ye.Item,{label:"Уверенность",span:1,children:i.jsx(et,{color:y.confidenceLevel==="high"?"green":y.confidenceLevel==="medium"?"orange":"red",children:y.confidenceLevel==="high"?"Высокая":y.confidenceLevel==="medium"?"Средняя":"Низкая"})}),i.jsx(ye.Item,{label:"Метод оценки",span:2,children:y.appraisalMethod||"—"}),i.jsx(ye.Item,{label:"Количество аналогов",span:1,children:y.comparableObjectsCount??0}),i.jsx(ye.Item,{label:"Дата оценки",span:1,children:We(y.appraisedAt).format("DD.MM.YYYY HH:mm")}),y.details&&i.jsx(ye.Item,{label:"Детали",span:2,children:y.details}),y.notes&&i.jsx(ye.Item,{label:"Примечания",span:2,children:y.notes})]})})})]})},UE=()=>[{id:"egrn-1",serviceType:"encumbrance_removal",objectName:"Квартира",address:"ул. Колпакова, стр. 41А, кв. 73",cadastralNumber:"77:01:0001001:1234",reference:"REF-2021-001",contractNumber:"ДЗ-2021-001",applicantName:'ООО "Банк"',applicantInn:"7701234567",applicantType:"legal",encumbranceType:"ипотека",encumbranceNumber:"ИП-2020-001",encumbranceDate:"2020-05-15",removalReason:"Погашение кредита",status:"in_progress",submittedAt:"2021-09-10",employeeName:"Филиппова В. П.",participants:["Филиппова В. П."],createdAt:"2021-09-10",updatedAt:"2021-09-15"},{id:"egrn-2",serviceType:"mortgage_registration",objectName:"Квартира",address:"ул. Шаболовка, д. 4, кв. 10",cadastralNumber:"77:01:0001002:2345",reference:"REF-2021-002",contractNumber:"ДЗ-2021-002",applicantName:'ООО "Банк"',applicantInn:"7701234567",applicantType:"legal",mortgageContractNumber:"ИП-2021-002",mortgageContractDate:"2021-08-15",mortgageAmount:5e6,mortgageTerm:"20 лет",status:"in_progress",submittedAt:"2021-09-03",employeeName:"Фокина С. А.",participants:["Коваленко С. Е.","Фоксин С. Е.","Иванов И. И."],createdAt:"2021-09-03",updatedAt:"2021-09-10"},{id:"egrn-3",serviceType:"mortgage_registration",objectName:"Нежилое помещение",address:"ул. Мамина-Сибиряка, 58, корпус 1, помещение 301",cadastralNumber:"77:01:0001003:3456",reference:"REF-2021-003",contractNumber:"ДЗ-2021-003",applicantName:'ООО "Банк"',applicantInn:"7701234567",applicantType:"legal",mortgageContractNumber:"ИП-2021-003",mortgageContractDate:"2021-08-20",mortgageAmount:15e6,mortgageTerm:"15 лет",status:"in_progress",submittedAt:"2021-09-01",employeeName:"Хорошенько И. Г.",participants:["Коваленко С. Е.","Хорошенько И. Г.","Петров П. П."],createdAt:"2021-09-01",updatedAt:"2021-09-05"},{id:"egrn-4",serviceType:"mortgage_registration",objectName:"Нежилое помещение",address:"ул. Сибиряков-Гвардейцев дом 61, здание 1, строение 8, комната 512/5",cadastralNumber:"77:01:0001004:4567",reference:"REF-2021-004",contractNumber:"ДЗ-2021-004",applicantName:'ООО "Банк"',applicantInn:"7701234567",applicantType:"legal",mortgageContractNumber:"ИП-2021-004",mortgageContractDate:"2021-08-10",mortgageAmount:8e6,mortgageTerm:"10 лет",status:"in_progress",submittedAt:"2021-08-22",employeeName:"Хорошенько И. Г.",participants:["Коваленко С. Е.","Хорошенько И. Г.","Сидоров С. С."],createdAt:"2021-08-22",updatedAt:"2021-08-25"},{id:"egrn-5",serviceType:"mortgage_registration",objectName:"Нежилое помещение",address:"ул. Цирковая, здание 12, корпус 7, помещение 81",cadastralNumber:"77:01:0001005:5678",reference:"REF-2021-005",contractNumber:"ДЗ-2021-005",applicantName:'ООО "Банк"',applicantInn:"7701234567",applicantType:"legal",mortgageContractNumber:"ИП-2021-005",mortgageContractDate:"2021-07-15",mortgageAmount:12e6,mortgageTerm:"12 лет",status:"completed",submittedAt:"2021-08-22",completedAt:"2021-09-15",resultNumber:"77-77/2021-123456",resultDate:"2021-09-15",employeeName:"Фокина С. А.",participants:["Коваленко С. Е.","Фоксин С. Е.","Кузнецов К. К."],createdAt:"2021-08-22",updatedAt:"2021-09-15"},{id:"egrn-6",serviceType:"mortgage_registration",objectName:"Квартира",address:"ул. Карла Либкнехта, 133, кв. 5",cadastralNumber:"77:01:0001006:6789",reference:"REF-2021-006",contractNumber:"ДЗ-2021-006",applicantName:'ООО "Банк"',applicantInn:"7701234567",applicantType:"legal",mortgageContractNumber:"ИП-2021-006",mortgageContractDate:"2021-07-20",mortgageAmount:6e6,mortgageTerm:"25 лет",status:"submitted",submittedAt:"2021-08-13",employeeName:"Фокина С. А.",participants:["Коваленко С. Е.","Смирнов С. С."],createdAt:"2021-08-13",updatedAt:"2021-08-13"},{id:"egrn-extract-1",serviceType:"extract",objectName:"Квартира",address:"ул. Ленина, д. 10, кв. 25",cadastralNumber:"77:01:0002001:1001",reference:"REF-2021-101",contractNumber:"ДЗ-2021-101",applicantName:'ООО "Банк"',applicantInn:"7701234567",applicantType:"legal",extractType:"full",extractPurpose:"Для оценки залоговой стоимости",status:"completed",submittedAt:"2021-10-05",completedAt:"2021-10-12",resultNumber:"ВП-2021-001234",resultDate:"2021-10-12",cost:400,employeeName:"Фокина С. А.",participants:["Фокина С. А.","Иванов И. И."],createdAt:"2021-10-05",updatedAt:"2021-10-12"},{id:"egrn-extract-2",serviceType:"extract",objectName:"Жилой дом",address:"ул. Пушкина, д. 5, стр. 1",cadastralNumber:"77:01:0002002:2002",reference:"REF-2021-102",contractNumber:"ДЗ-2021-102",applicantName:'ООО "Банк"',applicantInn:"7701234567",applicantType:"legal",extractType:"about_object",extractPurpose:"Проверка кадастровых данных",status:"in_progress",submittedAt:"2021-10-08",cost:250,employeeName:"Хорошенько И. Г.",participants:["Хорошенько И. Г.","Петров П. П."],createdAt:"2021-10-08",updatedAt:"2021-10-10"},{id:"egrn-extract-3",serviceType:"extract",objectName:"Офисное помещение",address:"ул. Тверская, д. 15, офис 301",cadastralNumber:"77:01:0002003:3003",reference:"REF-2021-103",contractNumber:"ДЗ-2021-103",applicantName:'ООО "Банк"',applicantInn:"7701234567",applicantType:"legal",extractType:"about_rights",extractPurpose:"Проверка прав собственности",status:"completed",submittedAt:"2021-10-01",completedAt:"2021-10-08",resultNumber:"ВП-2021-001567",resultDate:"2021-10-08",cost:400,employeeName:"Филиппова В. П.",participants:["Филиппова В. П."],createdAt:"2021-10-01",updatedAt:"2021-10-08"},{id:"egrn-extract-4",serviceType:"extract",objectName:"Квартира",address:"пр-т Мира, д. 20, кв. 45",cadastralNumber:"77:01:0002004:4004",reference:"REF-2021-104",contractNumber:"ДЗ-2021-104",applicantName:'ООО "Банк"',applicantInn:"7701234567",applicantType:"legal",extractType:"short",extractPurpose:"Краткая информация об объекте",status:"submitted",submittedAt:"2021-10-12",cost:200,employeeName:"Фокина С. А.",participants:["Фокина С. А.","Сидоров С. С."],createdAt:"2021-10-12",updatedAt:"2021-10-12"},{id:"egrn-extract-5",serviceType:"extract",objectName:"Торговое помещение",address:"ул. Арбат, д. 30, помещение 15",cadastralNumber:"77:01:0002005:5005",reference:"REF-2021-105",contractNumber:"ДЗ-2021-105",applicantName:'ООО "Банк"',applicantInn:"7701234567",applicantType:"legal",extractType:"full",extractPurpose:"Полная выписка для сделки",status:"in_progress",submittedAt:"2021-10-10",cost:400,employeeName:"Хорошенько И. Г.",participants:["Хорошенько И. Г.","Коваленко С. Е."],createdAt:"2021-10-10",updatedAt:"2021-10-11"},{id:"egrn-extract-6",serviceType:"extract",objectName:"Квартира",address:"ул. Садовая, д. 8, кв. 12",cadastralNumber:"77:01:0002006:6006",reference:"REF-2021-106",contractNumber:"ДЗ-2021-106",applicantName:'ООО "Банк"',applicantInn:"7701234567",applicantType:"legal",extractType:"about_object",extractPurpose:"Проверка характеристик объекта",status:"completed",submittedAt:"2021-09-28",completedAt:"2021-10-05",resultNumber:"ВП-2021-001890",resultDate:"2021-10-05",cost:250,employeeName:"Филиппова В. П.",participants:["Филиппова В. П.","Кузнецов К. К."],createdAt:"2021-09-28",updatedAt:"2021-10-05"},{id:"egrn-extract-7",serviceType:"extract",objectName:"Складское помещение",address:"ул. Промышленная, д. 25, склад 3",cadastralNumber:"77:01:0002007:7007",reference:"REF-2021-107",contractNumber:"ДЗ-2021-107",applicantName:'ООО "Банк"',applicantInn:"7701234567",applicantType:"legal",extractType:"about_rights",extractPurpose:"Проверка обременений",status:"draft",cost:400,employeeName:"Фокина С. А.",participants:["Фокина С. А."],createdAt:"2021-10-13",updatedAt:"2021-10-13"},{id:"egrn-extract-8",serviceType:"extract",objectName:"Квартира",address:"ул. Невский проспект, д. 50, кв. 78",cadastralNumber:"77:01:0002008:8008",reference:"REF-2021-108",contractNumber:"ДЗ-2021-108",applicantName:'ООО "Банк"',applicantInn:"7701234567",applicantType:"legal",extractType:"full",extractPurpose:"Для оформления ипотеки",status:"completed",submittedAt:"2021-09-25",completedAt:"2021-10-02",resultNumber:"ВП-2021-002123",resultDate:"2021-10-02",cost:400,employeeName:"Хорошенько И. Г.",participants:["Хорошенько И. Г.","Смирнов С. С.","Иванов И. И."],createdAt:"2021-09-25",updatedAt:"2021-10-02"},{id:"egrn-extract-9",serviceType:"extract",objectName:"Офисное помещение",address:"ул. Красная площадь, д. 1, офис 100",cadastralNumber:"77:01:0002009:9009",reference:"REF-2021-109",contractNumber:"ДЗ-2021-109",applicantName:'ООО "Банк"',applicantInn:"7701234567",applicantType:"legal",extractType:"short",extractPurpose:"Быстрая проверка объекта",status:"in_progress",submittedAt:"2021-10-11",cost:200,employeeName:"Филиппова В. П.",participants:["Филиппова В. П.","Петров П. П."],createdAt:"2021-10-11",updatedAt:"2021-10-12"},{id:"egrn-extract-10",serviceType:"extract",objectName:"Квартира",address:"ул. Гагарина, д. 12, кв. 33",cadastralNumber:"77:01:0002010:1010",reference:"REF-2021-110",contractNumber:"ДЗ-2021-110",applicantName:'ООО "Банк"',applicantInn:"7701234567",applicantType:"legal",extractType:"about_object",extractPurpose:"Проверка кадастровой стоимости",status:"submitted",submittedAt:"2021-10-13",cost:250,employeeName:"Фокина С. А.",participants:["Фокина С. А.","Коваленко С. Е."],createdAt:"2021-10-13",updatedAt:"2021-10-13"}],TV=()=>{try{const e=localStorage.getItem("egrnRequests");if(!e||JSON.parse(e).length===0){const t=UE();localStorage.setItem("egrnRequests",JSON.stringify(t)),console.log("✅ Демо-данные ЕГРН загружены")}else{const t=JSON.parse(e);if(!t.some(a=>a.serviceType==="extract")){const n=UE().filter(o=>o.serviceType==="extract"),s=[...t,...n];localStorage.setItem("egrnRequests",JSON.stringify(s)),console.log("✅ Демо-данные выписок ЕГРН добавлены")}}}catch(e){console.error("Ошибка загрузки демо-данных ЕГРН:",e)}},{Title:OV,Text:Il}=ht,{Option:an}=Ve,{TextArea:R1}=Re,IV=()=>{const e=ul(),[t]=ne.useForm(),[r,a]=K.useState("mortgage_registration"),[n,s]=K.useState([]),[o]=K.useState(!1),[A,l]=K.useState(""),[c,d]=K.useState(null),[f,p]=K.useState(null),[u,g]=K.useState(!1),[h,y]=K.useState(!1),x=K.useCallback((z,C,k)=>{p(null),t.resetFields(),t.setFieldsValue({serviceType:"extract",objectId:z,cadastralNumber:C,objectName:k,extractType:"about_object",applicantType:"legal",status:"draft"}),a("extract"),y(!0)},[t]);K.useEffect(()=>{(()=>{try{TV();const C=localStorage.getItem("egrnRequests");if(C){const k=JSON.parse(C);s(k.map((j,H)=>({...j,key:j.id||`egrn-${H}`})))}}catch(C){console.error("Ошибка загрузки данных ЕГРН:",C)}})()},[]),K.useEffect(()=>{const z=new URLSearchParams(e.search),C=z.get("objectId"),k=z.get("cadastralNumber"),j=z.get("objectName");C&&k&&(x(C,k,j||""),window.history.replaceState({},"",e.pathname))},[e.search,e.pathname,x]);const v=z=>{try{localStorage.setItem("egrnRequests",JSON.stringify(z)),s(z.map((C,k)=>({...C,key:C.id||`egrn-${k}`})))}catch(C){console.error("Ошибка сохранения данных ЕГРН:",C),Te.error("Ошибка сохранения данных")}},E=K.useMemo(()=>{const z=A.trim().toLowerCase();return n.filter(C=>{var Y,de,ue;const k=C.serviceType===r,j=!z||((Y=C.objectName)==null?void 0:Y.toLowerCase().includes(z))||String(C.reference||"").toLowerCase().includes(z)||((de=C.contractNumber)==null?void 0:de.toLowerCase().includes(z))||((ue=C.cadastralNumber)==null?void 0:ue.toLowerCase().includes(z)),H=!c||C.status===c;return k&&j&&H})},[n,r,A,c]),R=K.useMemo(()=>{const z=n.filter(H=>H.serviceType===r),C=z.filter(H=>H.status==="completed").length,k=z.filter(H=>H.status==="in_progress").length,j=z.filter(H=>H.status==="submitted").length;return{total:z.length,completed:C,inProgress:k,submitted:j}},[n,r]),b=()=>{p(null),t.resetFields(),t.setFieldsValue({serviceType:r,applicantType:"legal",status:"draft"}),y(!0)},T=z=>{p(z),t.setFieldsValue({...z,mortgageContractDate:z.mortgageContractDate?We(z.mortgageContractDate):null,encumbranceDate:z.encumbranceDate?We(z.encumbranceDate):null,submittedAt:z.submittedAt?We(z.submittedAt):null,completedAt:z.completedAt?We(z.completedAt):null,resultDate:z.resultDate?We(z.resultDate):null}),y(!0)},_=z=>{p(z),g(!0)},S=async z=>{try{const C={id:(f==null?void 0:f.id)||`egrn-${Date.now()}`,serviceType:r,objectId:z.objectId,reference:z.reference,contractNumber:z.contractNumber,objectName:z.objectName,cadastralNumber:z.cadastralNumber,address:z.address,applicantName:z.applicantName,applicantInn:z.applicantInn,applicantType:z.applicantType,mortgageContractNumber:z.mortgageContractNumber,mortgageContractDate:z.mortgageContractDate?z.mortgageContractDate.format("YYYY-MM-DD"):void 0,mortgageAmount:z.mortgageAmount,mortgageTerm:z.mortgageTerm,encumbranceType:z.encumbranceType,encumbranceNumber:z.encumbranceNumber,encumbranceDate:z.encumbranceDate?z.encumbranceDate.format("YYYY-MM-DD"):void 0,removalReason:z.removalReason,extractType:z.extractType,extractPurpose:z.extractPurpose,status:z.status||"draft",submittedAt:z.submittedAt?z.submittedAt.format("YYYY-MM-DD"):void 0,completedAt:z.completedAt?z.completedAt.format("YYYY-MM-DD"):void 0,resultDocument:z.resultDocument,resultNumber:z.resultNumber,resultDate:z.resultDate?z.resultDate.format("YYYY-MM-DD"):void 0,comments:z.comments,rejectionReason:z.rejectionReason,createdAt:(f==null?void 0:f.createdAt)||We().format("YYYY-MM-DD"),updatedAt:We().format("YYYY-MM-DD")},k=f?n.map(j=>j.id===f.id?C:j):[...n,C];v(k),Te.success(f?"Запрос обновлен":"Запрос создан"),y(!1),t.resetFields()}catch(C){console.error("Ошибка сохранения:",C),Te.error("Ошибка сохранения запроса")}},O=z=>{switch(z){case"completed":return"green";case"in_progress":return"blue";case"submitted":return"orange";case"rejected":return"red";case"draft":return"default";default:return"default"}},M=z=>{switch(z){case"completed":return i.jsx(Nn,{});case"rejected":return i.jsx(ZA,{});default:return i.jsx(Vn,{})}},I=z=>({draft:"Черновик",submitted:"Подано",in_progress:"В работе",completed:"Завершено",rejected:"Отклонено"})[z],D=z=>{switch(z){case"mortgage_registration":return"Регистрация ДДУ";case"encumbrance_removal":return"Прекращение обременения";case"extract":return"Выписки ЕГРН";default:return z}},L=(z,C)=>z==="in_progress"?C==="mortgage_registration"?"В Росреестре":C==="encumbrance_removal"?"Подписание заявлений":C==="extract"?"В обработке":"Обрабатывается":z==="submitted"?C==="extract"?"Запрос отправлен":"Отправляем в Росреестр":z==="completed"?C==="extract"?"Выписка получена":"Сделка зарегистрирована":z==="rejected"?"Регистрация приостановлена":z==="draft"?"Черновик":"",N=(z,C)=>z==="in_progress"?C==="extract"?"Ожидание ответа":"Обрабатывается":z==="submitted"?C==="extract"?"Ожидание обработки":"":z==="rejected"?"Регистрация приостановлена":"",[P,Q]=K.useState({}),J=z=>{Q(C=>({...C,[z]:!C[z]}))},te=[{title:"Отправлено",dataIndex:"submittedAt",key:"submittedAt",width:120,render:z=>z?We(z).format("DD.MM.YYYY"):"—"},{title:"Адрес объекта",key:"address",width:300,render:(z,C)=>i.jsxs(Oe,{direction:"vertical",size:0,children:[i.jsx(Il,{children:C.address||"—"}),i.jsx(Il,{type:"secondary",style:{fontSize:"12px"},children:D(C.serviceType)})]})},{title:"Статус",dataIndex:"status",key:"status",width:250,render:(z,C)=>{const k=L(z,C.serviceType),j=N(z),H=O(z);return i.jsxs(Oe,{direction:"vertical",size:0,children:[i.jsxs(Oe,{children:[i.jsx("span",{style:{width:8,height:8,borderRadius:"50%",backgroundColor:H==="green"?"#52c41a":H==="orange"?"#fa8c16":H==="blue"?"#1890ff":H==="red"?"#ff4d4f":"#d9d9d9",display:"inline-block"}}),i.jsx(Il,{children:k||I(z)})]}),j&&i.jsx(Il,{type:"secondary",style:{fontSize:"12px",marginLeft:16},children:N(z,C.serviceType)}),z==="in_progress"&&C.serviceType==="encumbrance_removal"&&i.jsx(Il,{type:"secondary",style:{fontSize:"12px",marginLeft:16},children:"Требуется подпись"})]})}},{title:"Сотрудник",dataIndex:"employeeName",key:"employeeName",width:180,render:z=>z||"—"},{title:"Участники",key:"participants",width:250,render:(z,C)=>{const k=C.participants||[],H=P[C.id]?k.length:2,Y=k.slice(0,H),de=k.length-H;return k.length===0?i.jsx(Il,{type:"secondary",children:"—"}):i.jsxs(Oe,{direction:"vertical",size:0,children:[Y.map((ue,he)=>i.jsx(Il,{children:ue},he)),de>0&&i.jsxs(Ce,{type:"link",size:"small",style:{padding:0,height:"auto",fontSize:"12px"},onClick:()=>J(C.id),children:["ещё ",de]})]})}},{title:"Действия",key:"actions",width:100,fixed:"right",render:(z,C)=>i.jsx(Jr,{title:"Просмотр",children:i.jsx(Ce,{type:"link",icon:i.jsx(Ts,{}),onClick:()=>_(C)})})}],V=[{key:"mortgage_registration",label:i.jsxs(Oe,{children:[i.jsx(hh,{}),"Регистрация ипотеки"]})},{key:"encumbrance_removal",label:i.jsxs(Oe,{children:[i.jsx(Bv,{}),"Снятие обременений"]})},{key:"extract",label:i.jsxs(Oe,{children:[i.jsx(tf,{}),"Выписки ЕГРН"]})}],G=()=>r==="mortgage_registration"?i.jsxs(i.Fragment,{children:[i.jsx(ne.Item,{name:"mortgageContractNumber",label:"Номер договора ипотеки",rules:[{required:!0}],children:i.jsx(Re,{placeholder:"Номер договора"})}),i.jsx(ne.Item,{name:"mortgageContractDate",label:"Дата договора ипотеки",rules:[{required:!0}],children:i.jsx(kr,{style:{width:"100%"},format:"DD.MM.YYYY"})}),i.jsx(ne.Item,{name:"mortgageAmount",label:"Сумма ипотеки, руб.",children:i.jsx(Re,{type:"number",placeholder:"Сумма"})}),i.jsx(ne.Item,{name:"mortgageTerm",label:"Срок ипотеки",children:i.jsx(Re,{placeholder:"Срок"})})]}):r==="encumbrance_removal"?i.jsxs(i.Fragment,{children:[i.jsx(ne.Item,{name:"encumbranceType",label:"Тип обременения",rules:[{required:!0}],children:i.jsxs(Ve,{placeholder:"Выберите тип",children:[i.jsx(an,{value:"ипотека",children:"Ипотека"}),i.jsx(an,{value:"аренда",children:"Аренда"}),i.jsx(an,{value:"залог",children:"Залог"}),i.jsx(an,{value:"сервитут",children:"Сервитут"}),i.jsx(an,{value:"другое",children:"Другое"})]})}),i.jsx(ne.Item,{name:"encumbranceNumber",label:"Номер обременения",children:i.jsx(Re,{placeholder:"Номер"})}),i.jsx(ne.Item,{name:"encumbranceDate",label:"Дата регистрации обременения",children:i.jsx(kr,{style:{width:"100%"},format:"DD.MM.YYYY"})}),i.jsx(ne.Item,{name:"removalReason",label:"Основание для снятия",rules:[{required:!0}],children:i.jsx(R1,{rows:3,placeholder:"Основание для снятия обременения"})})]}):r==="extract"?i.jsxs(i.Fragment,{children:[i.jsx(ne.Item,{name:"extractType",label:"Тип выписки",rules:[{required:!0}],children:i.jsxs(Ve,{placeholder:"Выберите тип",children:[i.jsx(an,{value:"full",children:"Полная выписка"}),i.jsx(an,{value:"short",children:"Краткая выписка"}),i.jsx(an,{value:"about_object",children:"Выписка об объекте"}),i.jsx(an,{value:"about_rights",children:"Выписка о правах"})]})}),i.jsx(ne.Item,{name:"extractPurpose",label:"Цель получения выписки",children:i.jsx(R1,{rows:2,placeholder:"Цель получения выписки"})})]}):null;return i.jsxs("div",{className:"egrn-page",children:[i.jsxs("div",{className:"egrn-page__header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[i.jsx(OV,{level:2,style:{margin:0},children:"Сделки"}),i.jsx(Ce,{type:"primary",icon:i.jsx(wi,{}),onClick:b,style:{backgroundColor:"#722ed1",borderColor:"#722ed1"},children:"+ Создать сделку"})]}),i.jsx(Me,{children:i.jsx(ts,{activeKey:r,onChange:z=>{a(z),d(null),l("")},items:V})}),i.jsxs(dt,{gutter:[16,16],className:"egrn-page__stats",children:[i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"Всего запросов",value:R.total})})}),i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"Подано",value:R.submitted,valueStyle:{color:"#fa8c16"}})})}),i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"В работе",value:R.inProgress,valueStyle:{color:"#1890ff"}})})}),i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"Завершено",value:R.completed,valueStyle:{color:"#3f8600"}})})})]}),i.jsx(Me,{children:i.jsxs(Oe,{direction:"vertical",size:"middle",style:{width:"100%"},children:[i.jsx(Re,{allowClear:!0,placeholder:"Поиск по объекту, REFERENCE, договору, кадастровому номеру",prefix:i.jsx(qa,{}),value:A,onChange:z=>l(z.target.value),style:{width:"100%"}}),i.jsxs(Ve,{allowClear:!0,placeholder:"Статус",style:{width:150},value:c??void 0,onChange:z=>d(z??null),children:[i.jsx(an,{value:"draft",children:"Черновик"}),i.jsx(an,{value:"submitted",children:"Подано"}),i.jsx(an,{value:"in_progress",children:"В работе"}),i.jsx(an,{value:"completed",children:"Завершено"}),i.jsx(an,{value:"rejected",children:"Отклонено"})]})]})}),i.jsx(Me,{bodyStyle:{padding:0},children:i.jsx(nr,{columns:te,dataSource:E,pagination:{pageSize:15,showSizeChanger:!0},scroll:{x:1200},loading:o,locale:{emptyText:i.jsx(Sr,{description:"Нет регистраций"})},rowClassName:()=>"egrn-table-row",onRow:z=>({onClick:()=>_(z)})})}),i.jsx(lr,{title:i.jsxs(Oe,{children:[(f==null?void 0:f.serviceType)==="extract"?i.jsx(tf,{}):(f==null?void 0:f.serviceType)==="encumbrance_removal"?i.jsx(Bv,{}):i.jsx(hh,{}),i.jsx("span",{children:f?D(f.serviceType):"Детали запроса"}),f&&i.jsx(et,{color:O(f.status),children:I(f.status)})]}),open:u,onCancel:()=>g(!1),footer:[i.jsx(Ce,{icon:i.jsx(Ri,{}),onClick:()=>{f&&(T(f),g(!1))},children:"Редактировать"},"edit"),i.jsx(Ce,{onClick:()=>g(!1),children:"Закрыть"},"close")],width:800,children:f&&i.jsxs(ye,{bordered:!0,column:2,size:"small",children:[i.jsx(ye.Item,{label:"Тип услуги",span:2,children:D(f.serviceType)}),i.jsx(ye.Item,{label:"Объект",span:2,children:f.objectName||"—"}),i.jsx(ye.Item,{label:"Адрес",span:2,children:f.address||"—"}),i.jsx(ye.Item,{label:"Кадастровый номер",children:f.cadastralNumber||"—"}),i.jsx(ye.Item,{label:"REFERENCE",children:f.reference||"—"}),i.jsx(ye.Item,{label:"Номер договора залога",children:f.contractNumber||"—"}),i.jsx(ye.Item,{label:"Дата отправки",children:f.submittedAt?We(f.submittedAt).format("DD.MM.YYYY"):"—"}),i.jsx(ye.Item,{label:"Сотрудник",children:f.employeeName||"—"}),i.jsx(ye.Item,{label:"Участники",span:2,children:f.participants&&f.participants.length>0?f.participants.join(", "):"—"}),i.jsx(ye.Item,{label:"Заявитель",span:2,children:f.applicantName||"—"}),i.jsx(ye.Item,{label:"ИНН заявителя",children:f.applicantInn||"—"}),i.jsx(ye.Item,{label:"Статус",children:i.jsx(et,{color:O(f.status),icon:M(f.status),children:I(f.status)})}),f.serviceType==="mortgage_registration"&&i.jsxs(i.Fragment,{children:[i.jsx(ye.Item,{label:"Номер договора ипотеки",children:f.mortgageContractNumber||"—"}),i.jsx(ye.Item,{label:"Дата договора",children:f.mortgageContractDate?We(f.mortgageContractDate).format("DD.MM.YYYY"):"—"}),i.jsx(ye.Item,{label:"Сумма ипотеки",children:f.mortgageAmount?new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",maximumFractionDigits:0}).format(f.mortgageAmount):"—"}),i.jsx(ye.Item,{label:"Срок ипотеки",children:f.mortgageTerm||"—"})]}),f.serviceType==="encumbrance_removal"&&i.jsxs(i.Fragment,{children:[i.jsx(ye.Item,{label:"Тип обременения",children:f.encumbranceType||"—"}),i.jsx(ye.Item,{label:"Номер обременения",children:f.encumbranceNumber||"—"}),i.jsx(ye.Item,{label:"Дата регистрации",children:f.encumbranceDate?We(f.encumbranceDate).format("DD.MM.YYYY"):"—"}),i.jsx(ye.Item,{label:"Основание для снятия",span:2,children:f.removalReason||"—"})]}),f.serviceType==="extract"&&i.jsxs(i.Fragment,{children:[i.jsx(ye.Item,{label:"Тип выписки",children:f.extractType==="full"?"Полная выписка":f.extractType==="short"?"Краткая выписка":f.extractType==="about_object"?"Выписка об объекте":f.extractType==="about_rights"?"Выписка о правах":"—"}),i.jsx(ye.Item,{label:"Цель получения",children:f.extractPurpose||"—"}),f.cost&&i.jsx(ye.Item,{label:"Стоимость",children:new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",maximumFractionDigits:0}).format(f.cost)}),f.completedAt&&i.jsx(ye.Item,{label:"Дата получения",children:We(f.completedAt).format("DD.MM.YYYY")})]}),f.resultNumber&&i.jsx(ye.Item,{label:f.serviceType==="extract"?"Номер выписки":"Номер результата",children:f.resultNumber}),f.resultDate&&i.jsx(ye.Item,{label:f.serviceType==="extract"?"Дата выписки":"Дата результата",children:We(f.resultDate).format("DD.MM.YYYY")}),f.resultDocument&&i.jsx(ye.Item,{label:"Документ",span:2,children:i.jsx(Ce,{type:"link",icon:i.jsx(tf,{}),onClick:()=>{Te.info("Скачивание документа...")},children:"Скачать документ"})}),f.comments&&i.jsx(ye.Item,{label:"Комментарии",span:2,children:f.comments})]})}),i.jsx(y2,{title:f?"Редактировать запрос":`Создать запрос: ${D(r)}`,open:h,onClose:()=>{y(!1),t.resetFields()},width:600,children:i.jsxs(ne,{form:t,layout:"vertical",onFinish:S,initialValues:{serviceType:r,applicantType:"legal",status:"draft"},children:[i.jsx(ne.Item,{name:"serviceType",hidden:!0,children:i.jsx(Re,{})}),i.jsx(ne.Item,{name:"objectName",label:"Наименование объекта",rules:[{required:!0}],children:i.jsx(Re,{placeholder:"Наименование объекта"})}),i.jsx(ne.Item,{name:"cadastralNumber",label:"Кадастровый номер",rules:[{required:!0}],children:i.jsx(Re,{placeholder:"23:49:0303008:1915"})}),i.jsx(ne.Item,{name:"address",label:"Адрес",children:i.jsx(Re,{placeholder:"Адрес объекта"})}),i.jsx(ne.Item,{name:"reference",label:"REFERENCE",children:i.jsx(Re,{placeholder:"REFERENCE сделки"})}),i.jsx(ne.Item,{name:"contractNumber",label:"Номер договора залога",children:i.jsx(Re,{placeholder:"Номер договора"})}),i.jsx(ne.Item,{name:"applicantType",label:"Тип заявителя",children:i.jsxs(Ho.Group,{children:[i.jsx(Ho,{value:"legal",children:"Юридическое лицо"}),i.jsx(Ho,{value:"individual",children:"Физическое лицо"})]})}),i.jsx(ne.Item,{name:"applicantName",label:"Наименование заявителя",rules:[{required:!0}],children:i.jsx(Re,{placeholder:"Наименование"})}),i.jsx(ne.Item,{name:"applicantInn",label:"ИНН заявителя",children:i.jsx(Re,{placeholder:"ИНН"})}),G(),i.jsx(ne.Item,{name:"status",label:"Статус",children:i.jsxs(Ve,{children:[i.jsx(an,{value:"draft",children:"Черновик"}),i.jsx(an,{value:"submitted",children:"Подано"}),i.jsx(an,{value:"in_progress",children:"В работе"}),i.jsx(an,{value:"completed",children:"Завершено"}),i.jsx(an,{value:"rejected",children:"Отклонено"})]})}),i.jsx(ne.Item,{name:"submittedAt",label:"Дата подачи",children:i.jsx(kr,{style:{width:"100%"},format:"DD.MM.YYYY"})}),i.jsx(ne.Item,{name:"completedAt",label:"Дата завершения",children:i.jsx(kr,{style:{width:"100%"},format:"DD.MM.YYYY"})}),i.jsx(ne.Item,{name:"resultNumber",label:"Номер результата",children:i.jsx(Re,{placeholder:"Номер выписки/регистрации"})}),i.jsx(ne.Item,{name:"resultDate",label:"Дата результата",children:i.jsx(kr,{style:{width:"100%"},format:"DD.MM.YYYY"})}),i.jsx(ne.Item,{name:"comments",label:"Комментарии",children:i.jsx(R1,{rows:3,placeholder:"Комментарии"})}),i.jsx(ne.Item,{children:i.jsxs(Oe,{children:[i.jsx(Ce,{type:"primary",htmlType:"submit",children:f?"Сохранить":"Создать"}),i.jsx(Ce,{onClick:()=>{y(!1),t.resetFields()},children:"Отмена"})]})})]})})]})},Ql={"Подготовка СЗ":6,"Подготовка СЗ (2 объекта)":7,"Подготовка СЗ (АЗС)":24,Оценка:8,Экспертиза:6,Рецензия:4,ПРКК:4,Мониторинг:2,Осмотр:3,"Проверка документов":2,Согласование:2,"Контроль качества":3,Отчетность:4,Прочее:2},m2=8,hS=22,XA=m2*hS;function NV(e){const t=e.type||"Прочее";let r=null;try{const a=localStorage.getItem("normHoursSettings");a&&(r=JSON.parse(a))}catch{}if(t==="Подготовка СЗ"){const a=(e.title||"").toLowerCase(),n=(e.description||"").toLowerCase();return a.includes("азс")||n.includes("азс")?(r==null?void 0:r["Подготовка СЗ (АЗС)"])||Ql["Подготовка СЗ (АЗС)"]:(r==null?void 0:r["Подготовка СЗ"])||Ql["Подготовка СЗ"]}return(r==null?void 0:r[t])||Ql[t]||Ql.Прочее}function qy(e){return e.reduce((t,r)=>t+NV(r),0)}function Ky(e,t=XA){const a=qy(e)/t*100;return Math.min(Math.round(a*10)/10,150)}function k1(e,t,r,a=XA){const n=e.filter(A=>{const l=(A.status||"").toString();if(l==="completed"||l==="Выполнено"||l==="done"||l==="approved"||l==="created"||!["assigned","in_progress","in-progress","review","rework","paused","approval"].includes(l))return!1;const f=We(A.createdAt||A.updatedAt);return f.isAfter(t.subtract(1,"day"))&&f.isBefore(r.add(1,"day"))}),s=qy(n),o=Ky(n,a);return{totalNormHours:s,workloadPercent:o,tasksCount:n.length}}function mS(e,t,r,a){const n=t.filter(u=>u.isActive&&u.status!=="sick_leave"&&u.status!=="vacation"&&u.status!=="business_trip"&&(!u.status||u.status==="working")),s=e.filter(u=>{const g=(u.region||"").toString();return a.includes(g)||g===r}),o=new Set(n.map(u=>u.email).filter(Boolean)),A=s.filter(u=>{const g=(u.status||"").toString();return g==="completed"||g==="Выполнено"||g==="done"||g==="approved"||g==="created"||!(u.currentAssignee&&o.has(u.currentAssignee)||Array.isArray(u.assignedTo)&&u.assignedTo.some(x=>o.has(x))||u.employeeId&&n.some(x=>x.id===u.employeeId))?!1:["assigned","in_progress","in-progress","review","rework","paused","approval"].includes(g)}),l=qy(A),c=n.length;if(c===0)return{totalNormHours:0,workloadPercent:0,tasksCount:0,workingEmployeesCount:0};const f=l/c/XA*100;let p=Math.round(f*10)/10;return A.length===0||p<85?p=85:p>125&&(p=125),{totalNormHours:l,workloadPercent:p,tasksCount:A.length,workingEmployeesCount:c}}const Hy="kpiMetricsOverrides",gS="kpiMetricsLatest",Gy="kpiCenterMboOverrides",g2={totalPortfolioValue:0,totalContracts:0,activeContracts:0,completedTasks:0,pendingTasks:0,overdueTasks:0,totalConclusions:0,approvedConclusions:0,pendingConclusions:0,totalObjects:0,totalInsurance:0,activeInsurance:0,averageConclusionDays:0,slaCompliance:0,currentWorkload:0,mboCompletionOverall:0,workloadByPeriod:{last7Days:0,last30Days:0,last90Days:0}},tm=(e=g2)=>({...e,workloadByPeriod:{...e.workloadByPeriod}}),xS=()=>{try{const e=localStorage.getItem(Hy);return e?JSON.parse(e):null}catch(e){return console.warn("Не удалось загрузить корректировки KPI:",e),null}},FV=e=>{try{localStorage.setItem(Hy,JSON.stringify(e))}catch(t){console.error("Не удалось сохранить корректировки KPI:",t)}},RV=()=>{try{localStorage.removeItem(Hy)}catch(e){console.warn("Не удалось удалить корректировки KPI:",e)}},yS=()=>{try{const e=localStorage.getItem(Gy);if(!e)return{};const t=JSON.parse(e);return t&&typeof t=="object"?t:{}}catch(e){return console.warn("Не удалось загрузить корректировки MBO по центрам:",e),{}}},kV=e=>{try{localStorage.setItem(Gy,JSON.stringify(e))}catch(t){console.error("Не удалось сохранить корректировки MBO по центрам:",t)}},DV=()=>{try{localStorage.removeItem(Gy)}catch(e){console.warn("Не удалось удалить корректировки MBO по центрам:",e)}},jV=()=>{try{const e=localStorage.getItem(gS);if(!e)return null;const t=JSON.parse(e);return!t||typeof t!="object"?null:{...tm(g2),...t,workloadByPeriod:{...g2.workloadByPeriod,...t.workloadByPeriod||{}}}}catch(e){return console.warn("Не удалось загрузить последние метрики KPI:",e),null}},LV=e=>{try{localStorage.setItem(gS,JSON.stringify(e))}catch(t){console.warn("Не удалось сохранить последние метрики KPI:",t)}},vS=(e,t=xS())=>t?{...e,...t,workloadByPeriod:{...e.workloadByPeriod,...t.workloadByPeriod||{}}}:e,{Title:fd,Text:cr}=ht,{RangePicker:UV}=kr,wS=[{key:"month",label:"Работник месяца",days:30,icon:i.jsx(HT,{style:{color:"#faad14"}}),color:"#faad14"},{key:"quarter",label:"Работник квартала",days:90,icon:i.jsx(rf,{style:{color:"#1677ff"}}),color:"#1677ff"},{key:"year",label:"Работник года",days:365,icon:i.jsx(GT,{style:{color:"#722ed1"}}),color:"#722ed1"}],Ud=e=>`${e.lastName} ${e.firstName} ${e.middleName||""}`.trim(),MV=(e,t)=>(e||t||"Москва").trim(),zy=(e,t)=>{if(!e.isValid()||!t.isValid())return 0;let r=0,a=e.clone();for(;a.isBefore(t)||a.isSame(t,"day");){const n=a.day();n!==0&&n!==6&&r++,a=a.add(1,"day")}return r},Zo=e=>{const t=(e||"").toString();return t==="completed"||t==="Выполнено"||t==="done"||t==="approved"},Vy=e=>{const t=(e||"").toString();return["pending","created","assigned","in_progress","in-progress","review","approval","rework","paused"].includes(t)},Md=e=>{const t=(e.status||"").toString();if(!Vy(t))return!1;if(!e.dueDate)return!0;const r=We(e.dueDate);return r.isAfter(We(),"day")||r.isSame(We(),"day")},Pd=e=>{const t=(e.status||"").toString();return Zo(t)||!e.dueDate?!1:We(e.dueDate).isBefore(We(),"day")},ql=e=>Number.isFinite(e)?Math.max(85,Math.min(125,Math.round(e*10)/10)):85,D1=e=>{const t=Math.random()*10-5;return ql(e+t)},ME=e=>{if(!e)return We();const t=We(e,["DD.MM.YYYY","YYYY-MM-DD"],!0);return t.isValid()?t:We(e)},PE=(e,t,r)=>e.map((a,n)=>{var E;const s=ME(a.plannedDate),o=s.isValid()?s:We().add(7,"day"),A=ME("lastMonitoringDate"in a?a.lastMonitoringDate:a.lastRevaluationDate).subtract(5,"day"),c=a.timeframe==="overdue"?"in_progress":a.timeframe==="week"?"assigned":a.timeframe==="month"?"approval":"assigned",d=a.timeframe==="overdue"||a.timeframe==="week"?"high":a.timeframe==="month"?"medium":"low",f=(E=a.owner)==null?void 0:E.trim(),p=f?r.find(R=>Ud(R).toLowerCase()===f.toLowerCase()):void 0,u=p!=null&&p.email?[p.email]:[],g=t==="monitoring"?"monitoring@cmsauto.ru":"revaluation@cmsauto.ru",h=t==="monitoring"?"План мониторинга":"План переоценок",y=t==="monitoring"?"Мониторинг":"Оценка",x=t==="monitoring"?"План мониторинга":"План переоценок",v=MV(a.city,a.regionCenterName||a.regionCenterCode||void 0);return{id:`PLAN-${t}-${a.reference||"ref"}-${n}-${Math.random().toString(36).slice(2,7)}`,region:v,type:y,title:`${t==="monitoring"?"Мониторинг":"Переоценка"} ${a.reference||""}`.trim(),description:t==="monitoring"?`Плановый мониторинг обеспечения (${a.baseType})`:`Плановая переоценка обеспечения (${a.baseType})`,priority:d,dueDate:o.format("YYYY-MM-DD"),status:c,businessUser:g,businessUserName:h,assignedTo:u,currentAssignee:(p==null?void 0:p.email)||null,currentAssigneeName:p?Ud(p):a.owner||null,employeeId:p==null?void 0:p.id,documents:[],comments:[],createdAt:A.format("YYYY-MM-DD"),updatedAt:We().toISOString(),history:[{date:A.toISOString(),user:h,userRole:"system",action:"Создана плановая задача",status:"created"},{date:o.toISOString(),user:p?Ud(p):a.owner||h,userRole:"employee",action:"Назначена в план работ",status:c}],category:x}}),PV=(e,t,r)=>Wi.map(a=>{const n=e.filter(u=>a.cities.includes(u.region)||u.region===a.code||a.name.includes(u.region)),s=a.cities.map(u=>{const g=n.filter(T=>T.region===u),y=t.filter(T=>T.region===u).map(T=>{const _=g.filter(L=>L.employeeId===T.id||L.currentAssigneeName===Ud(T)),S=_.filter(L=>Zo(L.status)).length,O=_.filter(L=>Md(L)).length,M=_.filter(L=>Pd(L)).length,I=_.length,D=I>0?Math.round(S/I*100):0;return{employeeId:T.id,totalTasks:I,completedTasks:S,inProgressTasks:O,overdueTasks:M,completionRate:D}}),x=g.length,v=g.filter(T=>Zo(T.status)).length,E=g.filter(T=>Md(T)).length,R=g.filter(T=>Pd(T)).length,b=x>0?Math.round(v/x*100):0;return{city:u,totalTasks:x,completedTasks:v,inProgressTasks:E,overdueTasks:R,completionRate:b,employees:y}}),o=n.length,A=n.filter(u=>Zo(u.status)).length,l=n.filter(u=>Md(u)).length,c=n.filter(u=>Pd(u)).length,d=o>0?Math.round(A/o*100):0,f=o>0?Math.round(A/o*100):0,p=typeof r[a.code]=="number"?r[a.code]:f;return{code:a.code,name:a.name,totalTasks:o,completedTasks:A,inProgressTasks:l,overdueTasks:c,completionRate:d,mboCompletion:p,cities:s}}),QV=(e,t)=>{const r={month:null,quarter:null,year:null},a=We();return wS.forEach(n=>{const s=a.subtract(n.days,"day"),o=e.filter(c=>We(c.createdAt||c.updatedAt).isAfter(s)),A=t.filter(c=>c.isActive&&(!c.status||c.status==="working")).map(c=>{const d=Ud(c),f=o.filter(x=>x.employeeId===c.id||x.currentAssigneeName===d);if(f.length===0)return null;const p=f.filter(x=>Vy(x.status)),u=Ky(p),g=f.filter(x=>Zo(x.status)&&x.completedAt&&x.createdAt);if(g.length===0)return null;const h=g.map(x=>zy(We(x.createdAt),We(x.completedAt))),y=h.length>0?Math.round(h.filter(x=>x<=7).length/h.length*100):0;return{employee:c,name:d,region:c.region,workload:ql(u),slaSuccess:Math.min(y,100),completedCount:g.length}}).filter(Boolean);if(A.length===0){r[n.key]=null;return}A.sort((c,d)=>d.workload!==c.workload?d.workload-c.workload:d.slaSuccess!==c.slaSuccess?d.slaSuccess-c.slaSuccess:d.completedCount-c.completedCount);const l=A[0];r[n.key]={title:n.label,employeeName:l.name,region:l.region,workload:l.workload,slaSuccess:l.slaSuccess}}),r},qV=(e,t)=>!e.length||!t.length?[]:t.filter(a=>a.isActive&&(!a.status||a.status==="working")).map(a=>{const n=Ud(a),s=e.filter(g=>g.employeeId===a.id||g.currentAssigneeName===n||a.email&&(g.currentAssignee===a.email||Array.isArray(g.assignedTo)&&g.assignedTo.includes(a.email)));if(s.length===0)return null;const o=s.filter(g=>{const h=(g.status||"").toString();return!(!Vy(h)||h==="created")}),A=ql(Ky(o)),l=s.filter(g=>Zo(g.status)).length,c=s.filter(g=>Md(g)).length,d=s.filter(g=>Pd(g)).length,p=s.filter(g=>Zo(g.status)&&g.createdAt&&(g.completedAt||g.updatedAt)).map(g=>zy(We(g.createdAt),We(g.completedAt||g.updatedAt))),u=p.length>0?Math.round(p.filter(g=>g<=7).length/p.length*100):100;return{key:a.id,name:n,region:a.region,workload:A,slaSuccess:Math.min(u,100),completed:l,inProgress:c,overdue:d}}).filter(Boolean).sort((a,n)=>n.workload!==a.workload?n.workload-a.workload:n.slaSuccess!==a.slaSuccess?n.slaSuccess-a.slaSuccess:n.completed!==a.completed?n.completed-a.completed:a.overdue-n.overdue).slice(0,10),KV=()=>{var I;const[e,t]=K.useState(!0),[r,a]=K.useState(()=>tm()),[n,s]=K.useState([We().subtract(30,"day"),We()]),[o,A]=K.useState("30days"),[l,c]=K.useState([]),[d,f]=K.useState(null),[p,u]=K.useState(null),[g,h]=K.useState(!1),[y,x]=K.useState([]),[v,E]=K.useState([]),[R,b]=K.useState({month:null,quarter:null,year:null});K.useEffect(()=>{(async()=>{t(!0);try{const[L,N,P]=await Promise.all([fetch("/portfolioData.json").then(yt=>yt.json()).catch(()=>[]),fetch("/collateralConclusionsData.json").then(yt=>yt.json()).catch(()=>[]),fetch("/insuranceData.json").then(yt=>yt.json()).catch(()=>[])]),Q=await Dt.getExtendedCards(),J=fS(Q),te=pS(Q);let V=[];try{V=await Dt.getTasks()}catch{try{const hr=localStorage.getItem("zadachnik_tasks");hr&&(V=JSON.parse(hr))}catch(hr){console.warn("Не удалось загрузить задачи:",hr)}}let G=pr.getEmployees();(!G||G.length===0)&&(G=pr.getEmployees()),E(G);const z=G.filter(yt=>yt.isActive),k=z.length*60;if(!V||V.length===0||V.length<k)try{const{generateTasksForEmployees:yt}=await mi(async()=>{const{generateTasksForEmployees:hr}=await Promise.resolve().then(()=>bS);return{generateTasksForEmployees:hr}},void 0,import.meta.url);await yt(),V=await Dt.getTasks(),console.log(`✅ Сгенерировано ${V.length} задач для ${z.length} активных сотрудников`)}catch(yt){console.warn("Не удалось сгенерировать задачи:",yt)}const j=PE(J,"monitoring",G),H=PE(te,"revaluation",G),Y=[...V,...j,...H];x(Y);const de=L.reduce((yt,hr)=>yt+(parseFloat(hr.collateralValue)||0),0),ue=L.length,he=L.filter(yt=>yt.status==="active"||yt.status==="Активный").length,xe=Y.length,ve=Y.filter(yt=>Zo(yt.status)).length,se=Y.filter(yt=>Md(yt)).length,Ke=Y.filter(yt=>Pd(yt)).length,Ee=N.length,pe=N.filter(yt=>yt.status==="Согласовано").length,ce=N.filter(yt=>yt.status==="На согласовании"||yt.status==="Черновик").length,He=Q.length,Ze=P.length,Ye=P.filter(yt=>yt.status==="active"||yt.status==="Активный").length,tt=N.filter(yt=>yt.status==="Согласовано"&&yt.authorDate&&(yt.approvalDate||yt.conclusionDate));let je=0,_e=0;if(tt.length>0){const yt=[];if(tt.forEach(hr=>{const Jt=We(hr.authorDate),ln=We(hr.approvalDate||hr.conclusionDate);if(Jt.isValid()&&ln.isValid()&&ln.isAfter(Jt)){const jr=zy(Jt,ln);yt.push(jr)}}),yt.length>0){je=Math.round(yt.reduce((Jt,ln)=>Jt+ln,0)/yt.length*10)/10;const hr=yt.filter(Jt=>Jt<=7).length;_e=Math.round(hr/yt.length*100)}}const ct=Wi.map(yt=>mS(Y,G,yt.code,yt.cities)),_t=ct.length>0?ct.reduce((yt,hr)=>yt+hr.workloadPercent,0)/ct.length:85,St=ql(_t||85),Et=We(),Ft=k1(Y,Et.subtract(7,"day"),Et,XA),Lt=k1(Y,Et.subtract(30,"day"),Et,XA),bt=k1(Y,Et.subtract(90,"day"),Et,XA),ft=Ft.tasksCount===0?D1(St):ql(Ft.workloadPercent),lt=Lt.tasksCount===0?D1(St):ql(Lt.workloadPercent),Er=bt.tasksCount===0?D1(St):ql(bt.workloadPercent),jt=yS();c(PV(Y,G,jt)),b(QV(Y,G));const Fr={totalPortfolioValue:de,totalContracts:ue,activeContracts:he,completedTasks:ve,pendingTasks:se,overdueTasks:Ke,totalConclusions:Ee,approvedConclusions:pe,pendingConclusions:ce,totalObjects:He,totalInsurance:Ze,activeInsurance:Ye,averageConclusionDays:je,slaCompliance:_e,currentWorkload:St,mboCompletionOverall:xe>0?Math.round(ve/xe*100):0,workloadByPeriod:{last7Days:ft,last30Days:lt,last90Days:Er}};LV(Fr);const fr=vS(Fr);a(fr)}catch(L){console.error("Ошибка загрузки KPI данных:",L)}finally{t(!1)}})()},[n,o]);const T=Qa.useMemo(()=>{if(!y||y.length===0)return[];const D=new Map;return y.forEach(L=>{const N=L.category||"Без категории";D.has(N)||D.set(N,{total:0,completed:0,pending:0,overdue:0});const P=D.get(N);P.total+=1,Zo(L.status)?P.completed+=1:Md(L)&&(P.pending+=1),Pd(L)&&(P.overdue+=1)}),Array.from(D.entries()).map(([L,N])=>({key:L,category:L,...N,completionRate:N.total>0?Math.round(N.completed/N.total*100):0}))},[y]),_=Qa.useMemo(()=>qV(y,v),[y,v]),S=[{title:"№",key:"rank",width:60,align:"center",render:(D,L,N)=>N+1},{title:"Сотрудник",dataIndex:"name",key:"name",render:(D,L)=>i.jsxs(Oe,{direction:"vertical",size:0,children:[i.jsx(cr,{strong:!0,children:D}),i.jsx(cr,{type:"secondary",style:{fontSize:11},children:L.region})]})},{title:"Загрузка",dataIndex:"workload",key:"workload",align:"center",render:D=>`${D}%`},{title:"SLA ≤ 7 дн.",dataIndex:"slaSuccess",key:"slaSuccess",align:"center",render:D=>`${D}%`},{title:"Выполнено",dataIndex:"completed",key:"completed",align:"center"},{title:"В работе",dataIndex:"inProgress",key:"inProgress",align:"center"},{title:"Просрочено",dataIndex:"overdue",key:"overdue",align:"center",render:D=>i.jsx(cr,{type:D>0?"danger":"success",children:D})}],O=[{title:"Категория",dataIndex:"category",key:"category"},{title:"Всего",dataIndex:"total",key:"total",align:"center"},{title:"Выполнено",dataIndex:"completed",key:"completed",align:"center",render:D=>i.jsx(cr,{type:"success",children:D})},{title:"В работе",dataIndex:"pending",key:"pending",align:"center",render:D=>i.jsx(cr,{type:"warning",children:D})},{title:"Просрочено",dataIndex:"overdue",key:"overdue",align:"center",render:D=>i.jsx(cr,{type:"danger",children:D})},{title:"% выполнения",dataIndex:"completionRate",key:"completionRate",align:"center",render:D=>`${D}%`}],M=D=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0,maximumFractionDigits:0}).format(D);return e?i.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:i.jsx(ei,{size:"large",tip:"Загрузка аналитики..."})}):i.jsxs("div",{className:"kpi-page",children:[i.jsxs("div",{className:"kpi-header",children:[i.jsx(fd,{level:2,children:"KPI и Аналитика"}),i.jsxs(Oe,{children:[i.jsx(Ve,{value:o,onChange:A,style:{width:150},options:[{label:"За 7 дней",value:"7days"},{label:"За 30 дней",value:"30days"},{label:"За 90 дней",value:"90days"},{label:"За год",value:"1year"}]}),i.jsx(UV,{value:n,onChange:D=>s(D),format:"DD.MM.YYYY"})]})]}),i.jsxs("div",{className:"kpi-compact-grid",children:[i.jsx(Me,{size:"small",className:"kpi-card--compact",children:i.jsx(ut,{title:"Общая стоимость портфеля",value:r.totalPortfolioValue,prefix:i.jsx(Zf,{}),formatter:D=>M(Number(D)),valueStyle:{color:"#3f8600"}})}),i.jsx(Me,{size:"small",className:"kpi-card--compact",children:i.jsx(ut,{title:"Активных договоров",value:r.activeContracts,prefix:i.jsx(Dr,{}),suffix:`/ ${r.totalContracts}`,valueStyle:{color:"#1890ff"}})}),i.jsx(Me,{size:"small",className:"kpi-card--compact",children:i.jsx(ut,{title:"Выполнено задач",value:r.completedTasks,prefix:i.jsx(Nn,{}),suffix:`/ ${r.completedTasks+r.pendingTasks}`,valueStyle:{color:"#3f8600"}})}),i.jsx(Me,{size:"small",className:"kpi-card--compact",children:i.jsx(ut,{title:"Просрочено задач",value:r.overdueTasks,prefix:i.jsx(ph,{}),valueStyle:{color:"#cf1322"}})}),i.jsxs(Me,{size:"small",className:"kpi-card--compact",children:[i.jsx(ut,{title:"MBO выполнение (департамент)",value:r.mboCompletionOverall,suffix:"%",prefix:i.jsx(rf,{}),valueStyle:{color:r.mboCompletionOverall>=95?"#3f8600":r.mboCompletionOverall>=80?"#faad14":"#cf1322"}}),i.jsx(Cn,{percent:r.mboCompletionOverall,size:"small",strokeColor:r.mboCompletionOverall>=95?"#3f8600":r.mboCompletionOverall>=80?"#faad14":"#cf1322",style:{marginTop:8}})]})]}),i.jsxs("div",{className:"kpi-compact-grid kpi-compact-grid--wide",children:[i.jsxs(Me,{size:"small",className:"kpi-card--compact",children:[i.jsx(ut,{title:"Залоговых заключений",value:r.totalConclusions,prefix:i.jsx(Dr,{}),valueStyle:{color:"#1890ff"}}),i.jsxs("div",{style:{marginTop:8},children:[i.jsxs(cr,{type:"success",children:["Согласовано: ",r.approvedConclusions]}),i.jsx("br",{}),i.jsxs(cr,{type:"warning",children:["На согласовании: ",r.pendingConclusions]})]})]}),i.jsxs(Me,{size:"small",className:"kpi-card--compact",children:[i.jsx(ut,{title:"Средний срок подготовки СЗ",value:r.averageConclusionDays,suffix:"раб. дней",prefix:i.jsx(Vn,{}),valueStyle:{color:r.averageConclusionDays<=7?"#3f8600":"#cf1322"}}),i.jsxs("div",{style:{marginTop:8},children:[i.jsx(cr,{type:"secondary",style:{fontSize:12},children:"SLA: не более 7 рабочих дней"}),i.jsx(Cn,{percent:r.averageConclusionDays>0?Math.min(7/r.averageConclusionDays*100,100):0,strokeColor:r.averageConclusionDays<=7?"#3f8600":"#faad14",size:"small",showInfo:!1,style:{marginTop:8}})]})]}),i.jsxs(Me,{size:"small",className:"kpi-card--compact",children:[i.jsx(ut,{title:"Выполнение SLA",value:r.slaCompliance,suffix:"%",prefix:i.jsx(Nn,{}),valueStyle:{color:r.slaCompliance>=90?"#3f8600":r.slaCompliance>=70?"#faad14":"#cf1322"}}),i.jsx(Cn,{percent:r.slaCompliance,strokeColor:r.slaCompliance>=90?"#3f8600":r.slaCompliance>=70?"#faad14":"#cf1322",size:"small",style:{marginTop:8}})]}),i.jsxs(Me,{size:"small",className:"kpi-card--compact",children:[i.jsx(ut,{title:"Текущая загрузка",value:r.currentWorkload,suffix:"%",prefix:i.jsx(es,{}),valueStyle:{color:r.currentWorkload<=100?"#3f8600":r.currentWorkload<=125?"#faad14":"#cf1322"}}),i.jsx(Cn,{percent:Math.min(r.currentWorkload,150),strokeColor:r.currentWorkload<=100?"#3f8600":r.currentWorkload<=125?"#faad14":"#cf1322",size:"small",style:{marginTop:8}})]})]}),i.jsx(Me,{title:i.jsxs(Oe,{children:[i.jsx(tc,{}),i.jsx("span",{children:"Загрузка сотрудников по периодам"})]}),style:{marginBottom:24},children:i.jsxs(dt,{gutter:[16,16],children:[i.jsx(be,{xs:24,sm:8,children:i.jsxs(Me,{size:"small",children:[i.jsx(ut,{title:"За последние 7 дней",value:r.workloadByPeriod.last7Days,suffix:"%",prefix:i.jsx(Vn,{}),valueStyle:{color:r.workloadByPeriod.last7Days<=100?"#3f8600":r.workloadByPeriod.last7Days<=125?"#faad14":"#cf1322"}}),i.jsx(Cn,{percent:Math.min(r.workloadByPeriod.last7Days,150),strokeColor:r.workloadByPeriod.last7Days<=100?"#3f8600":r.workloadByPeriod.last7Days<=125?"#faad14":"#cf1322",size:"small",style:{marginTop:8}})]})}),i.jsx(be,{xs:24,sm:8,children:i.jsxs(Me,{size:"small",children:[i.jsx(ut,{title:"За последние 30 дней",value:r.workloadByPeriod.last30Days,suffix:"%",prefix:i.jsx(Vn,{}),valueStyle:{color:r.workloadByPeriod.last30Days<=100?"#3f8600":r.workloadByPeriod.last30Days<=125?"#faad14":"#cf1322"}}),i.jsx(Cn,{percent:Math.min(r.workloadByPeriod.last30Days,150),strokeColor:r.workloadByPeriod.last30Days<=100?"#3f8600":r.workloadByPeriod.last30Days<=125?"#faad14":"#cf1322",size:"small",style:{marginTop:8}})]})}),i.jsx(be,{xs:24,sm:8,children:i.jsxs(Me,{size:"small",children:[i.jsx(ut,{title:"За последние 90 дней",value:r.workloadByPeriod.last90Days,suffix:"%",prefix:i.jsx(Vn,{}),valueStyle:{color:r.workloadByPeriod.last90Days<=100?"#3f8600":r.workloadByPeriod.last90Days<=125?"#faad14":"#cf1322"}}),i.jsx(Cn,{percent:Math.min(r.workloadByPeriod.last90Days,150),strokeColor:r.workloadByPeriod.last90Days<=100?"#3f8600":r.workloadByPeriod.last90Days<=125?"#faad14":"#cf1322",size:"small",style:{marginTop:8}})]})})]})}),i.jsx(Me,{title:i.jsxs(Oe,{children:[i.jsx(rf,{}),i.jsx("span",{children:"Лучшие сотрудники"})]}),style:{marginBottom:24},children:i.jsx(dt,{gutter:[16,16],children:wS.map(D=>{const L=R[D.key];return i.jsx(be,{xs:24,md:8,children:i.jsx(Me,{size:"small",bordered:!0,children:L?i.jsxs(Oe,{direction:"vertical",size:6,style:{width:"100%"},children:[i.jsxs(Oe,{size:6,align:"center",children:[D.icon,i.jsx(cr,{strong:!0,children:L.title})]}),i.jsx(fd,{level:5,style:{margin:0},children:L.employeeName}),i.jsx(cr,{type:"secondary",children:L.region}),i.jsxs("div",{style:{fontSize:12},children:[i.jsxs(cr,{children:["Загрузка: ",L.workload,"%"]}),i.jsx("br",{}),i.jsxs(cr,{children:["SLA ≤ 7 дней: ",L.slaSuccess,"%"]})]})]}):i.jsx(cr,{type:"secondary",children:"Данные обновляются..."})})},D.key)})})}),i.jsx(dt,{gutter:[16,16],style:{marginBottom:24},children:i.jsx(be,{xs:24,sm:12,lg:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"Объектов в реестре",value:r.totalObjects,prefix:i.jsx(Kl,{}),valueStyle:{color:"#722ed1"}})})})}),i.jsxs(dt,{gutter:[16,16],style:{marginBottom:24},children:[i.jsx(be,{xs:24,sm:12,lg:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"Активных страховок",value:r.activeInsurance,prefix:i.jsx(Nn,{}),suffix:`/ ${r.totalInsurance}`,valueStyle:{color:"#3f8600"}})})}),i.jsx(be,{xs:24,sm:12,lg:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"Задач в работе",value:r.pendingTasks,prefix:i.jsx(Vn,{}),valueStyle:{color:"#faad14"}})})})]}),i.jsx(Me,{title:i.jsxs(Oe,{children:[i.jsx(Nn,{}),i.jsx("span",{children:"Выполнение SLA по залоговым заключениям"})]}),style:{marginBottom:24},children:i.jsxs(dt,{gutter:[16,16],children:[i.jsx(be,{xs:24,md:12,children:i.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[i.jsx(fd,{level:3,style:{marginBottom:8},children:"Средний срок подготовки"}),i.jsx("div",{style:{fontSize:48,fontWeight:"bold",marginBottom:8,color:r.averageConclusionDays<=7?"#3f8600":"#cf1322"},children:r.averageConclusionDays.toFixed(1)}),i.jsx(cr,{type:"secondary",style:{fontSize:18},children:"рабочих дней"}),i.jsxs("div",{style:{marginTop:16},children:[i.jsx(cr,{strong:!0,style:{fontSize:16},children:"Требование SLA: не более 7 рабочих дней"}),i.jsx("br",{}),i.jsx(cr,{type:r.averageConclusionDays<=7?"success":"danger",style:{fontSize:14},children:r.averageConclusionDays<=7?"✅ Соответствует SLA":"❌ Превышение на "+(r.averageConclusionDays-7).toFixed(1)+" дней"})]})]})}),i.jsx(be,{xs:24,md:12,children:i.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[i.jsx(fd,{level:3,style:{marginBottom:8},children:"Процент соответствия SLA"}),i.jsx(Cn,{type:"circle",percent:r.slaCompliance,strokeColor:r.slaCompliance>=90?"#3f8600":r.slaCompliance>=70?"#faad14":"#cf1322",size:200,format:D=>`${D}%`}),i.jsxs("div",{style:{marginTop:16},children:[i.jsx(cr,{type:"secondary",style:{fontSize:14},children:"Заключений, подготовленных в срок ≤ 7 дней"}),i.jsx("br",{}),i.jsx(cr,{strong:!0,style:{fontSize:16,color:r.slaCompliance>=90?"#3f8600":r.slaCompliance>=70?"#faad14":"#cf1322"},children:r.slaCompliance>=90?"✅ Отличный показатель":r.slaCompliance>=70?"⚠️ Требует улучшения":"❌ Критический уровень"})]})]})})]})}),i.jsxs(Me,{title:i.jsxs(Oe,{children:[i.jsx(Kl,{}),i.jsx("span",{children:"Аналитика по региональным центрам"})]}),style:{marginBottom:24},children:[i.jsx(cr,{type:"secondary",style:{display:"block",marginBottom:16},children:"Кликните на региональный центр для детальной статистики по городам и сотрудникам"}),i.jsx(dt,{gutter:[16,16],children:l.map(D=>i.jsx(be,{xs:24,sm:12,lg:6,children:i.jsxs(Me,{className:"kpi-center-card",hoverable:!0,onClick:()=>{f(D.code),u(null),h(!0)},style:{cursor:"pointer"},children:[i.jsx(ht.Title,{level:4,style:{marginTop:0},children:D.name}),i.jsxs("div",{className:"kpi-center-card__metrics",children:[i.jsxs("div",{children:[i.jsx(cr,{type:"secondary",children:"Выполнение:"}),i.jsxs(cr,{strong:!0,style:{marginLeft:4},children:[D.completionRate,"%"]}),i.jsx(Cn,{percent:D.completionRate,strokeColor:"#3f8600",showInfo:!1,size:"small",style:{marginTop:6}})]}),i.jsxs("div",{children:[i.jsx(cr,{type:"secondary",children:"MBO:"}),i.jsxs(cr,{strong:!0,style:{marginLeft:4},children:[D.mboCompletion,"%"]}),i.jsx(Cn,{percent:D.mboCompletion,strokeColor:"#1890ff",showInfo:!1,size:"small",style:{marginTop:6}})]})]}),i.jsxs(Oe,{direction:"vertical",size:"small",style:{width:"100%"},children:[i.jsxs("div",{children:[i.jsx(cr,{type:"secondary",children:"Всего задач:"})," ",i.jsx(cr,{strong:!0,children:D.totalTasks})]}),i.jsxs("div",{children:[i.jsx(cr,{type:"secondary",children:"Завершено:"})," ",i.jsx(cr,{strong:!0,type:"success",children:D.completedTasks})]}),i.jsxs("div",{children:[i.jsx(cr,{type:"secondary",children:"В работе:"})," ",i.jsx(cr,{strong:!0,type:"warning",children:D.inProgressTasks})]}),i.jsxs("div",{children:[i.jsx(cr,{type:"secondary",children:"Просрочено:"})," ",i.jsx(cr,{strong:!0,type:"danger",children:D.overdueTasks})]})]})]})},D.code))})]}),i.jsx(Me,{title:i.jsxs(Oe,{children:[i.jsx(xb,{}),i.jsx("span",{children:"Статистика по задачам по категориям"})]}),style:{marginBottom:24},children:i.jsx(nr,{columns:O,dataSource:T,pagination:!1,size:"small"})}),i.jsx(Me,{title:i.jsxs(Oe,{children:[i.jsx(rf,{}),i.jsx("span",{children:"Рейтинг сотрудников"})]}),style:{marginBottom:24},children:i.jsx(nr,{columns:S,dataSource:_,pagination:!1,size:"small",rowKey:"key",locale:{emptyText:"Недостаточно данных для формирования рейтинга"}})}),i.jsxs(dt,{gutter:[16,16],children:[i.jsx(be,{xs:24,lg:12,children:i.jsx(Me,{title:i.jsxs(Oe,{children:[i.jsx(tc,{}),i.jsx("span",{children:"Динамика выполнения задач"})]}),children:i.jsxs("div",{style:{padding:"40px 0",textAlign:"center",color:"#999"},children:["График динамики выполнения задач",i.jsx("br",{}),i.jsx(cr,{type:"secondary",children:"(Интеграция с графиками в разработке)"})]})})}),i.jsx(be,{xs:24,lg:12,children:i.jsx(Me,{title:i.jsxs(Oe,{children:[i.jsx(Kl,{}),i.jsx("span",{children:"Распределение по статусам"})]}),children:i.jsxs("div",{style:{padding:"40px 0",textAlign:"center",color:"#999"},children:["График распределения по статусам",i.jsx("br",{}),i.jsx(cr,{type:"secondary",children:"(Интеграция с графиками в разработке)"})]})})})]}),i.jsx(lr,{title:i.jsxs(Oe,{children:[i.jsx(es,{}),i.jsxs("span",{children:["Аналитика по региональному центру:"," ",d?(I=l.find(D=>D.code===d))==null?void 0:I.name:""]})]}),open:g,onCancel:()=>{h(!1),f(null),u(null)},footer:[i.jsx(Ce,{onClick:()=>{h(!1),f(null),u(null)},children:"Закрыть"},"close")],width:900,children:d&&(()=>{const D=l.find(V=>V.code===d);if(!D)return null;const L=[{title:"Город",dataIndex:"city",key:"city"},{title:"Всего задач",dataIndex:"totalTasks",key:"totalTasks",align:"center"},{title:"Завершено",dataIndex:"completedTasks",key:"completedTasks",align:"center",render:V=>i.jsx(cr,{type:"success",children:V})},{title:"В работе",dataIndex:"inProgressTasks",key:"inProgressTasks",align:"center",render:V=>i.jsx(cr,{type:"warning",children:V})},{title:"Просрочено",dataIndex:"overdueTasks",key:"overdueTasks",align:"center",render:V=>i.jsx(cr,{type:"danger",children:V})},{title:"% выполнения",dataIndex:"completionRate",key:"completionRate",align:"center",render:V=>`${V}%`}],N=D.cities.map(V=>({key:V.city,...V})),P=pr.getEmployees(),Q=p?D.cities.find(V=>V.city===p):void 0,J=[{title:"Сотрудник",dataIndex:"employee",key:"employee",render:(V,G)=>{const z=P.find(C=>C.id===G.employeeId);return z?`${z.lastName} ${z.firstName} ${z.middleName||""}`.trim():"Неизвестно"}},{title:"Должность",dataIndex:"position",key:"position",render:(V,G)=>{const z=P.find(C=>C.id===G.employeeId);return(z==null?void 0:z.position)||"—"}},{title:"Всего задач",dataIndex:"totalTasks",key:"totalTasks",align:"center"},{title:"Завершено",dataIndex:"completedTasks",key:"completedTasks",align:"center",render:V=>i.jsx(cr,{type:"success",children:V})},{title:"В работе",dataIndex:"inProgressTasks",key:"inProgressTasks",align:"center",render:V=>i.jsx(cr,{type:"warning",children:V})},{title:"Просрочено",dataIndex:"overdueTasks",key:"overdueTasks",align:"center",render:V=>i.jsx(cr,{type:"danger",children:V})},{title:"% выполнения",dataIndex:"completionRate",key:"completionRate",align:"center",render:V=>`${V}%`}],te=(Q==null?void 0:Q.employees.map(V=>({key:V.employeeId,...V})))??[];return i.jsxs(i.Fragment,{children:[i.jsx(fd,{level:5,style:{marginBottom:12},children:"Города регионального центра"}),i.jsx(nr,{columns:L,dataSource:N,size:"small",pagination:!1,onRow:V=>({onClick:()=>u(V.city),style:{cursor:"pointer",backgroundColor:p===V.city?"rgba(24,144,255,0.06)":void 0}})}),p&&Q&&i.jsxs(i.Fragment,{children:[i.jsx("div",{style:{marginTop:24,marginBottom:8},children:i.jsxs(fd,{level:5,children:["Сотрудники города: ",p," (",Q.totalTasks," задач)"]})}),i.jsx(nr,{columns:J,dataSource:te,size:"small",pagination:!1})]})]})})()})]})},{Title:HV,Text:Ti}=ht,{RangePicker:GV}=kr,QE=e=>{if(!e)return"Прочее";const t=String(e).toLowerCase();return t.includes("квартир")||t.includes("комнат")||t.includes("жилой дом")||t.includes("таунхаус")||t.includes("жилая")||t==="apartment"||t==="room"||t==="house"||t==="townhouse"||t==="land_residential"?"НЕДВИЖИМОСТЬ ЖИЛАЯ":t.includes("офис")||t.includes("торгов")||t.includes("склад")||t.includes("гостиниц")||t.includes("отель")||t.includes("кафе")||t.includes("ресторан")||t.includes("азс")||t.includes("автосалон")||t.includes("производств")||t.includes("цех")||t.includes("нежилая")||t.includes("коммерческая")||t.includes("промышленная")||t==="office"||t==="retail"||t==="warehouse"||t==="hotel"||t==="catering"||t==="gas_station"||t==="car_dealership"||t==="industrial_building"||t==="workshop"?"НЕДВИЖИМОСТЬ НЕЖИЛАЯ":t.includes("оборудован")||t==="equipment"?"ОБОРУДОВАНИЕ":t.includes("автомобиль")||t.includes("легков")||t.includes("грузов")||t.includes("транспорт")||t==="car_passenger"||t==="car_truck"?"ТРАНСПОРТНЫЕ СРЕДСТВА":t.includes("спецтехник")||t.includes("техник")||t==="machinery"?"СПЕЦТЕХНИКА":t.includes("товар")||t.includes("оборот")?"ТОВАРЫ В ОБОРОТЕ":"Прочее"},zV=()=>{const[e,t]=K.useState(!0),[r,a]=K.useState({portfolioData:[],totalValue:0,totalDebt:0}),[n,s]=K.useState([We().subtract(365,"day"),We()]),[o,A]=K.useState("all"),l=Qa.useCallback(b=>{if(b==null||b==="")return 0;const T=parseFloat(String(b));return isNaN(T)?0:T},[]),c=Qa.useCallback(async()=>{t(!0);try{const b="./",T=new URL(b,window.location.origin),_=T.pathname.endsWith("/")?T.pathname:`${T.pathname}/`,S=`${T.origin}${_}portfolioData.json?v=${Date.now()}`,O=await fetch(S,{cache:"no-store"});if(!O.ok)throw new Error(`HTTP error! status: ${O.status}`);const M=await O.json(),I=await Dt.getExtendedCards(),D=M.map(P=>{const Q=I.filter(J=>J.reference&&String(J.reference)===String(P.reference)||J.contractNumber&&J.contractNumber===P.contractNumber);return Q.length>0&&Q[0].propertyType?{...P,collateralType:Q[0].propertyType}:P});let L=0,N=0;for(const P of D)L+=l(P.collateralValue),N+=l(P.debtRub);a({portfolioData:D,totalValue:L,totalDebt:N})}catch(b){console.error("Ошибка загрузки данных для аналитики:",b)}finally{t(!1)}},[l]);K.useEffect(()=>{c()},[c]);const d=K.useMemo(()=>{const b=new Map,T=new Set(["МБ","СРБ","КБ","Малый бизнес","Средний бизнес","Крупный бизнес","Сегмент ВЭД","ВЭД","МСБ","Корпоративный","Розничный"]);for(const S of r.portfolioData){const O=S.collateralCategory||QE(S.collateralType)||"Не указана";if(T.has(O)||S.segment===O)continue;const M=l(S.collateralValue),I=l(S.debtRub),D=b.get(O)||{count:0,value:0,debt:0};D.count++,D.value+=M,D.debt+=I,b.set(O,D)}const _=r.totalValue;return Array.from(b.entries()).map(([S,O])=>({category:S,count:O.count,value:O.value,debt:O.debt,share:_>0?O.value/_*100:0,coverageRatio:O.debt>0?O.value/O.debt*100:0})).sort((S,O)=>O.value-S.value)},[r,l]),f=K.useMemo(()=>{const b=new Map,T=new Set(["Формальный","Основное","Проблемный"]);for(const S of r.portfolioData){const O=S.collateralCategory||"";if(!T.has(O))continue;const M=S.collateralType||"Не указан",I=QE(S.collateralType),D=l(S.collateralValue),L=l(S.debtRub),N=b.get(M)||{count:0,value:0,debt:0,category:I};N.count++,N.value+=D,N.debt+=L,b.set(M,N)}const _=r.totalValue;return Array.from(b.entries()).map(([S,O])=>({type:S,category:O.category,count:O.count,value:O.value,debt:O.debt,share:_>0?O.value/_*100:0})).sort((S,O)=>O.value-S.value)},[r,l]),p=K.useMemo(()=>{if(!n[0]||!n[1])return null;const b=n[0].startOf("day"),T=n[1].endOf("day"),_=r.portfolioData.filter(j=>{const H=j.contractDate||j.createdAt;if(!H)return!1;const Y=We(H);return Y.isAfter(b)&&Y.isBefore(T)}),S=T.diff(b,"day"),O=b.subtract(S+1,"day"),M=b.subtract(1,"day"),I=r.portfolioData.filter(j=>{const H=j.contractDate||j.createdAt;if(!H)return!1;const Y=We(H);return Y.isAfter(O)&&Y.isBefore(M)});let D=0,L=0;for(const j of _)D+=l(j.collateralValue),L+=l(j.debtRub);const N=_.length;let P=0,Q=0;for(const j of I)P+=l(j.collateralValue),Q+=l(j.debtRub);const J=I.length,te=N-J,V=J>0?te/J*100:N>0?100:0,G=D-P,z=P>0?G/P*100:D>0?100:0,C=L-Q,k=Q>0?C/Q*100:L>0?100:0;return{current:{count:N,value:D,debt:L},previous:{count:J,value:P,debt:Q},changes:{count:te,countPercent:V,value:G,valuePercent:z,debt:C,debtPercent:k},periodStart:b.format("DD.MM.YYYY"),periodEnd:T.format("DD.MM.YYYY"),previousPeriodStart:O.format("DD.MM.YYYY"),previousPeriodEnd:M.format("DD.MM.YYYY")}},[r,n,l]),u=K.useMemo(()=>{const b=new Map;for(const _ of r.portfolioData){const S=_.segment||"Не указан",O=l(_.collateralValue),M=l(_.debtRub),I=b.get(S)||{count:0,value:0,debt:0};I.count++,I.value+=O,I.debt+=M,b.set(S,I)}const T=r.totalValue;return Array.from(b.entries()).map(([_,S])=>({segment:_,count:S.count,value:S.value,debt:S.debt,share:T>0?S.value/T*100:0,coverageRatio:S.debt>0?S.value/S.debt*100:0})).sort((_,S)=>S.value-_.value)},[r,l]),g=K.useMemo(()=>{const b=[];let T=0,_=0;for(const M of r.portfolioData){const I=String(M.status||"").toLowerCase();(I.includes("просроч")||I.includes("overdue")||I.includes("проблем"))&&(b.push(M),T+=l(M.collateralValue),_+=l(M.debtRub))}const S=r.totalValue,O=r.totalDebt;return{count:b.length,totalCount:r.portfolioData.length,value:T,debt:_,share:S>0?T/S*100:0,debtShare:O>0?_/O*100:0}},[r,l]),h=K.useMemo(()=>{const b=new Map;for(const _ of r.portfolioData){const S=_.group||"Не указана",O=l(_.collateralValue),M=l(_.debtRub),I=b.get(S)||{count:0,value:0,debt:0};I.count++,I.value+=O,I.debt+=M,b.set(S,I)}const T=r.totalValue;return Array.from(b.entries()).map(([_,S])=>({group:_,count:S.count,value:S.value,debt:S.debt,share:T>0?S.value/T*100:0})).sort((_,S)=>S.value-_.value)},[r,l]),y=b=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0,maximumFractionDigits:0}).format(b),x=[{title:"Категория имущества",dataIndex:"category",key:"category"},{title:"Количество",dataIndex:"count",key:"count",align:"center"},{title:"Стоимость залога",dataIndex:"value",key:"value",align:"right",render:b=>y(b)},{title:"Задолженность",dataIndex:"debt",key:"debt",align:"right",render:b=>y(b)},{title:"Доля в портфеле",dataIndex:"share",key:"share",align:"center",render:b=>i.jsxs("div",{children:[i.jsxs(Ti,{strong:!0,children:[b.toFixed(2),"%"]}),i.jsx(Cn,{percent:b,showInfo:!1,size:"small",style:{marginTop:4}})]})},{title:"Коэффициент покрытия",dataIndex:"coverageRatio",key:"coverageRatio",align:"center",render:b=>i.jsxs(et,{color:b>=100?"green":b>=70?"orange":"red",children:[b.toFixed(1),"%"]})}],v=[{title:"Категория",dataIndex:"category",key:"category",filters:Array.from(new Set(f.map(b=>b.category))).map(b=>({text:b,value:b})),onFilter:(b,T)=>T.category===b},{title:"Тип залогового имущества",dataIndex:"type",key:"type"},{title:"Количество",dataIndex:"count",key:"count",align:"center"},{title:"Стоимость залога",dataIndex:"value",key:"value",align:"right",render:b=>y(b)},{title:"Задолженность",dataIndex:"debt",key:"debt",align:"right",render:b=>y(b)},{title:"Доля в портфеле",dataIndex:"share",key:"share",align:"center",render:b=>i.jsxs("div",{children:[i.jsxs(Ti,{strong:!0,children:[b.toFixed(2),"%"]}),i.jsx(Cn,{percent:b,showInfo:!1,size:"small",style:{marginTop:4}})]})}],E=[{title:"Сегмент бизнеса",dataIndex:"segment",key:"segment"},{title:"Количество",dataIndex:"count",key:"count",align:"center"},{title:"Стоимость залога",dataIndex:"value",key:"value",align:"right",render:b=>y(b)},{title:"Задолженность",dataIndex:"debt",key:"debt",align:"right",render:b=>y(b)},{title:"Доля в портфеле",dataIndex:"share",key:"share",align:"center",render:b=>`${b.toFixed(2)}%`},{title:"Коэффициент покрытия",dataIndex:"coverageRatio",key:"coverageRatio",align:"center",render:b=>i.jsxs(et,{color:b>=100?"green":b>=70?"orange":"red",children:[b.toFixed(1),"%"]})}],R=[{title:"Группа",dataIndex:"group",key:"group"},{title:"Количество",dataIndex:"count",key:"count",align:"center"},{title:"Стоимость залога",dataIndex:"value",key:"value",align:"right",render:b=>y(b)},{title:"Задолженность",dataIndex:"debt",key:"debt",align:"right",render:b=>y(b)},{title:"Доля в портфеле",dataIndex:"share",key:"share",align:"center",render:b=>`${b.toFixed(2)}%`}];return e?i.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:i.jsx(ei,{size:"large",tip:"Загрузка аналитики..."})}):i.jsxs("div",{className:"analytics-page",children:[i.jsxs("div",{className:"analytics-header",children:[i.jsx(HV,{level:2,children:"Аналитика залогового портфеля"}),i.jsxs(Oe,{children:[i.jsx(Ve,{value:o,onChange:A,style:{width:150},options:[{label:"Весь период",value:"all"},{label:"За 7 дней",value:"7days"},{label:"За 30 дней",value:"30days"},{label:"За 90 дней",value:"90days"},{label:"За год",value:"1year"}]}),i.jsx(GV,{value:n,onChange:b=>s(b),format:"DD.MM.YYYY"})]})]}),i.jsxs(dt,{gutter:[16,16],style:{marginBottom:24},children:[i.jsx(be,{xs:24,sm:12,lg:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"Общая стоимость портфеля",value:r.totalValue,prefix:i.jsx(Zf,{}),formatter:b=>y(Number(b)),valueStyle:{color:"#3f8600"}})})}),i.jsx(be,{xs:24,sm:12,lg:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"Общая задолженность",value:r.totalDebt,prefix:i.jsx(JA,{}),formatter:b=>y(Number(b)),valueStyle:{color:"#1890ff"}})})}),i.jsx(be,{xs:24,sm:12,lg:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"Всего договоров",value:r.portfolioData.length,prefix:i.jsx(Dr,{})})})}),i.jsx(be,{xs:24,sm:12,lg:6,children:i.jsx(Me,{children:i.jsx(ut,{title:"Просроченных",value:g.count,prefix:i.jsx(ph,{}),suffix:`/ ${g.totalCount}`,valueStyle:{color:"#cf1322"}})})})]}),i.jsxs(Me,{title:i.jsxs(Oe,{children:[i.jsx(ph,{}),i.jsx("span",{children:"Анализ просроченной задолженности"})]}),style:{marginBottom:24},children:[i.jsxs(dt,{gutter:[16,16],children:[i.jsx(be,{xs:24,sm:12,lg:6,children:i.jsx(ut,{title:"Количество просроченных договоров",value:g.count,suffix:`из ${g.totalCount}`})}),i.jsx(be,{xs:24,sm:12,lg:6,children:i.jsx(ut,{title:"Стоимость залога по просроченным",value:g.value,formatter:b=>y(Number(b)),valueStyle:{color:"#cf1322"}})}),i.jsx(be,{xs:24,sm:12,lg:6,children:i.jsx(ut,{title:"Просроченная задолженность",value:g.debt,formatter:b=>y(Number(b)),valueStyle:{color:"#cf1322"}})}),i.jsx(be,{xs:24,sm:12,lg:6,children:i.jsx(ut,{title:"Доля просроченной задолженности",value:g.debtShare,suffix:"%",valueStyle:{color:"#cf1322"}})})]}),i.jsx(kt,{}),i.jsxs(dt,{gutter:[16,16],children:[i.jsxs(be,{xs:24,sm:12,children:[i.jsx(Cn,{type:"dashboard",percent:g.share,format:b=>`${b==null?void 0:b.toFixed(1)}%`,strokeColor:"#cf1322"}),i.jsx(Ti,{type:"secondary",style:{display:"block",textAlign:"center",marginTop:8},children:"Доля просроченных в общей стоимости портфеля"})]}),i.jsxs(be,{xs:24,sm:12,children:[i.jsx(Cn,{type:"dashboard",percent:g.debtShare,format:b=>`${b==null?void 0:b.toFixed(1)}%`,strokeColor:"#ff4d4f"}),i.jsx(Ti,{type:"secondary",style:{display:"block",textAlign:"center",marginTop:8},children:"Доля просроченной задолженности в общей задолженности"})]})]})]}),p&&i.jsxs(Me,{title:i.jsxs(Oe,{children:[i.jsx(tc,{}),i.jsxs("span",{children:["Динамика портфеля за период ",p.periodStart," - ",p.periodEnd]})]}),style:{marginBottom:24},children:[i.jsxs(dt,{gutter:[16,16],children:[i.jsx(be,{xs:24,sm:12,lg:8,children:i.jsxs(Me,{size:"small",children:[i.jsx(ut,{title:"Количество договоров",value:p.current.count,suffix:i.jsxs("div",{children:[i.jsxs(Ti,{type:p.changes.count>=0?"success":"danger",children:[p.changes.count>=0?"+":"",p.changes.count]}),i.jsx("br",{}),i.jsxs(Ti,{type:"secondary",style:{fontSize:12},children:["(",p.changes.countPercent>=0?"+":"",p.changes.countPercent.toFixed(2),"%)"]})]})}),i.jsxs(Ti,{type:"secondary",style:{fontSize:12},children:["Предыдущий период: ",p.previous.count]})]})}),i.jsx(be,{xs:24,sm:12,lg:8,children:i.jsxs(Me,{size:"small",children:[i.jsx(ut,{title:"Стоимость залога",value:p.current.value,formatter:b=>y(Number(b)),suffix:i.jsxs("div",{children:[i.jsxs(Ti,{type:p.changes.value>=0?"success":"danger",children:[p.changes.value>=0?"+":"",y(p.changes.value)]}),i.jsx("br",{}),i.jsxs(Ti,{type:"secondary",style:{fontSize:12},children:["(",p.changes.valuePercent>=0?"+":"",p.changes.valuePercent.toFixed(2),"%)"]})]})}),i.jsxs(Ti,{type:"secondary",style:{fontSize:12},children:["Предыдущий период: ",y(p.previous.value)]})]})}),i.jsx(be,{xs:24,sm:12,lg:8,children:i.jsxs(Me,{size:"small",children:[i.jsx(ut,{title:"Задолженность",value:p.current.debt,formatter:b=>y(Number(b)),suffix:i.jsxs("div",{children:[i.jsxs(Ti,{type:p.changes.debt>=0?"danger":"success",children:[p.changes.debt>=0?"+":"",y(p.changes.debt)]}),i.jsx("br",{}),i.jsxs(Ti,{type:"secondary",style:{fontSize:12},children:["(",p.changes.debtPercent>=0?"+":"",p.changes.debtPercent.toFixed(2),"%)"]})]})}),i.jsxs(Ti,{type:"secondary",style:{fontSize:12},children:["Предыдущий период: ",y(p.previous.debt)]})]})})]}),i.jsx(kt,{}),i.jsxs(Ti,{type:"secondary",style:{fontSize:12},children:["Сравнение с предыдущим периодом: ",p.previousPeriodStart," - ",p.previousPeriodEnd]})]}),i.jsx(Me,{title:i.jsxs(Oe,{children:[i.jsx(Kl,{}),i.jsx("span",{children:"Структура портфеля по сегментам бизнеса"})]}),style:{marginBottom:24},children:i.jsx(nr,{columns:E,dataSource:u.map((b,T)=>({...b,key:T})),pagination:!1,size:"small"})}),i.jsx(Me,{title:i.jsxs(Oe,{children:[i.jsx(xb,{}),i.jsx("span",{children:"Структура портфеля по категориям имущества"})]}),style:{marginBottom:24},children:i.jsx(nr,{columns:x,dataSource:d.map((b,T)=>({...b,key:T})),pagination:!1,size:"small"})}),i.jsx(Me,{title:i.jsxs(Oe,{children:[i.jsx(Kl,{}),i.jsx("span",{children:"Детальная структура портфеля по типам залогового имущества"})]}),style:{marginBottom:24},children:i.jsx(nr,{columns:v,dataSource:f.map((b,T)=>({...b,key:T})),pagination:{pageSize:20},size:"small"})}),i.jsx(Me,{title:i.jsxs(Oe,{children:[i.jsx(Kl,{}),i.jsx("span",{children:"Структура портфеля по группам"})]}),style:{marginBottom:24},children:i.jsx(nr,{columns:R,dataSource:h.map((b,T)=>({...b,key:T})),pagination:!1,size:"small"})})]})},VV=e=>{const t=`${e.lastName} ${e.firstName} ${e.middleName||""}`.trim(),r=e.region?Cy(e.region):null,a=r?r.name:e.region;let n="employee";return e.isManager&&(n="manager"),{id:e.id,email:e.email,name:t,role:n,region:a,position:e.position,department:e.department}},vd=()=>{try{const t=pr.getEmployees().filter(A=>A.isActive).map(VV),r=Wi.map(A=>({code:A.code,name:A.name,cities:A.cities})),a="zadachnik_users",n=localStorage.getItem(a);let s={};if(n)try{s=JSON.parse(n)}catch{console.warn("Не удалось распарсить существующие данные zadachnik, создаем новые")}s.employee=t,s.regions=r,localStorage.setItem(a,JSON.stringify(s));const o=t.filter(A=>A.role==="manager").length;console.log(`✅ Синхронизировано ${t.length} сотрудников в zadachnik (${o} руководителей)`),console.log(`✅ Синхронизировано ${r.length} региональных центров`)}catch(e){console.error("Ошибка синхронизации сотрудников с zadachnik:",e)}},$V=Object.freeze(Object.defineProperty({__proto__:null,syncEmployeesToZadachnik:vd},Symbol.toStringTag,{value:"Module"})),qE=[{email:"business1@bank.ru",name:"Иванов Иван Иванович"},{email:"business2@bank.ru",name:"Петрова Мария Сергеевна"},{email:"business3@bank.ru",name:"Сидоров Петр Александрович"},{email:"business4@bank.ru",name:"Козлова Анна Дмитриевна"},{email:"business5@bank.ru",name:"Волков Сергей Николаевич"}],KE={Оценка:["Провести оценку объекта недвижимости","Выполнить оценку движимого имущества","Организовать переоценку объекта залога","Подготовить отчет об оценке","Провести независимую оценку","Оценить рыночную стоимость объекта","Выполнить оценку для целей залога","Провести оценку коммерческой недвижимости","Оценить земельный участок","Подготовить экспертное заключение по оценке"],Экспертиза:["Провести экспертизу документов","Выполнить техническую экспертизу объекта","Проверить юридическую чистоту","Провести строительно-техническую экспертизу","Организовать экспертизу оценки","Провести судебную экспертизу","Выполнить экологическую экспертизу","Проверить техническое состояние объекта","Провести экспертизу проектной документации","Выполнить финансовую экспертизу"],Рецензия:["Провести рецензию отчета об оценке","Выполнить рецензирование экспертизы","Проверить качество оценки","Подготовить рецензию на заключение","Провести независимую рецензию","Выполнить рецензирование отчета","Проверить соответствие стандартам оценки","Подготовить экспертное заключение по рецензии"],ПРКК:["Провести проверку рисков","Выполнить анализ кредитных рисков","Проверить залоговое обеспечение","Оценить риски по сделке","Провести комплексную проверку рисков","Выполнить анализ залоговых рисков","Оценить рыночные риски","Проверить ликвидность залога","Выполнить стресс-тестирование","Провести анализ концентрации рисков"],Прочее:["Провести мониторинг объекта залога","Проверить комплектность документов","Связаться с клиентом","Обновить данные в реестре","Проверить срок действия страховки","Провести осмотр объекта","Подготовить справку","Оформить документы","Проверить соответствие требованиям","Выполнить консультацию"],Отчетность:["Подготовить аналитический отчет","Сформировать отчет по портфелю","Подготовить отчет для руководства","Обновить отчетность","Подготовить ежемесячный отчет","Сформировать квартальный отчет","Подготовить отчет по региону","Выполнить сводный отчет","Подготовить отчет по рискам","Сформировать статистический отчет"],"Подготовка СЗ":["Подготовить залоговое заключение","Оформить документы по залогу","Подготовить пакет документов","Согласовать условия залога","Подготовить заключение по залогу","Оформить залоговое обеспечение","Подготовить документы для регистрации","Согласовать залоговое заключение","Подготовить проект залогового договора","Оформить залоговую документацию"],Мониторинг:["Провести плановый мониторинг объекта","Выполнить внеплановый мониторинг","Проверить состояние объекта залога","Провести мониторинг рыночной стоимости","Выполнить мониторинг документов","Проверить использование объекта","Провести мониторинг страховки","Выполнить контрольный мониторинг","Проверить сохранность залога","Провести комплексный мониторинг"],Осмотр:["Провести первичный осмотр объекта","Выполнить повторный осмотр","Провести внеплановый осмотр","Организовать осмотр объекта залога","Проверить техническое состояние","Провести осмотр с фотофиксацией","Выполнить осмотр с оценщиком","Провести осмотр недвижимости","Организовать осмотр движимого имущества","Проверить соответствие описанию"],"Проверка документов":["Проверить комплектность документов","Выполнить проверку подлинности","Проверить соответствие требованиям","Провести правовую проверку","Выполнить проверку регистрации","Проверить срок действия документов","Провести комплексную проверку","Выполнить проверку на обременения","Проверить правоустанавливающие документы","Провести проверку кадастровых документов"],Согласование:["Согласовать условия залога","Провести согласование с клиентом","Согласовать оценку","Выполнить согласование документов","Провести согласование с руководством","Согласовать условия сделки","Выполнить межведомственное согласование","Провести согласование с партнерами","Согласовать залоговое заключение","Провести финальное согласование"],"Контроль качества":["Провести контроль качества оценки","Выполнить проверку качества документов","Проверить качество экспертизы","Провести контроль качества работы","Выполнить аудит качества","Проверить соответствие стандартам","Провести внутренний контроль","Выполнить проверку на ошибки","Проверить полноту информации","Провести финальный контроль"]},YV=(e,t,r)=>({Оценка:`Требуется выполнить оценку объекта в регионе ${r}. ${t}`,Экспертиза:`Необходимо провести экспертизу в регионе ${r}. ${t}`,Рецензия:`Требуется рецензирование в регионе ${r}. ${t}`,ПРКК:`Провести проверку рисков в регионе ${r}. ${t}`,Прочее:`Задача в регионе ${r}. ${t}`,Отчетность:`Подготовить отчетность по региону ${r}. ${t}`,"Подготовка СЗ":`Подготовить залоговое заключение в регионе ${r}. ${t}`,Мониторинг:`Провести мониторинг в регионе ${r}. ${t}`,Осмотр:`Провести осмотр объекта в регионе ${r}. ${t}`,"Проверка документов":`Проверить документы в регионе ${r}. ${t}`,Согласование:`Провести согласование в регионе ${r}. ${t}`,"Контроль качества":`Провести контроль качества в регионе ${r}. ${t}`})[e]||`${t} в регионе ${r}`,ES=async()=>{try{const e=pr.getEmployees().filter(c=>c.isActive),t=[],r=We(),a={};Wi.forEach(c=>{a[c.code]=e.filter(d=>c.cities.includes(d.region)||d.region===c.code)}),Wi.forEach(c=>{const d=a[c.code]||[],f=d.filter(u=>u.isActive&&!u.isManager&&u.status!=="sick_leave"&&u.status!=="vacation"&&u.status!=="business_trip"&&(!u.status||u.status==="working")),p=d.filter(u=>u.isActive&&u.isManager);f.length===0||p.length===0||f.forEach(u=>{const h=(85+Math.random()*40)/100*XA,y=h*(10/19),x=h*(5/19),v=Math.max(2,h-y-x),E=h*3.2,R=Math.max(h*.05,2),b=u.region,T=qE[Math.floor(Math.random()*qE.length)],_=`${u.lastName} ${u.firstName} ${u.middleName||""}`.trim(),S=p[0],O=S?`${S.lastName} ${S.firstName} ${S.middleName||""}`.trim():"",M=(J,te,V=!1)=>{const G=[];let z=0;const C=Object.entries(Ql).map(([k,j])=>({type:k,hours:j})).sort((k,j)=>j.hours-k.hours);for(;z<J;){const k=J-z,j=C.filter(_e=>_e.hours<=k);if(j.length===0)break;const H=Math.random()>.3?j[0]:j[Math.floor(Math.random()*Math.min(3,j.length))];let Y=H.type,de=H.hours;if(Y==="Подготовка СЗ"&&(Math.random()<.1&&k>=24?(Y="Подготовка СЗ (АЗС)",de=24):de=6),de>k)break;const ue=Math.floor(Math.random()*90),he=r.subtract(ue+(te==="completed"?30:0),"day"),xe=te==="completed"?he.add(Math.floor(Math.random()*20),"day"):null,ve=V?r.subtract(1+Math.floor(Math.random()*30),"day"):te==="completed"&&xe?xe.add(Math.floor(Math.random()*10),"day"):r.add(Math.floor(Math.random()*30)+1,"day"),se=KE[Y]||KE.Прочее||["Задача"],Ke=se[Math.floor(Math.random()*se.length)],Ee=YV(Y,Ke,b),pe=`T-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,ce=he.toISOString();let He=te,Ze=[],Ye=null,tt=null;const je=[{date:ce,user:T.name,userRole:"business",action:"Создана",comment:"Задача создана бизнесом",status:"created"}];if(te==="completed"||te==="approved"){const _e=he.add(1,"day"),ct=_e.add(1,"day"),_t=ct.add(Math.floor(Math.random()*10),"day"),St=te==="approved"&&xe?xe:_t.add(1,"day");Ze=u.email?[u.email]:[],Ye=u.email||null,tt=_,je.push({date:_e.toISOString(),user:O||"Руководитель",userRole:"manager",action:"Распределена",comment:`Назначена на: ${_}`,status:"assigned",assignedTo:Ze},{date:ct.toISOString(),user:_,userRole:"employee",action:"Принята в работу",comment:"Задача принята в работу",status:"in_progress"},{date:_t.toISOString(),user:_,userRole:"employee",action:"Отправлена на утверждение",comment:"Задача отправлена на согласование руководителю",status:"approval"},{date:St.toISOString(),user:O||"Руководитель",userRole:"manager",action:te==="approved"?"Согласовано":"Выполнена",comment:te==="approved"?"Задача согласована руководителем":"Задача выполнена",status:te==="approved"?"approved":"completed"}),He=te==="approved"?"approved":"completed"}else if(te==="in_progress"){const _e=he.add(1,"day"),ct=_e.add(1,"day");Ze=u.email?[u.email]:[],Ye=u.email||null,tt=_,je.push({date:_e.toISOString(),user:O||"Руководитель",userRole:"manager",action:"Распределена",comment:`Назначена на: ${_}`,status:"assigned",assignedTo:Ze},{date:ct.toISOString(),user:_,userRole:"employee",action:"Принята в работу",comment:"Задача принята в работу",status:"in_progress"}),He="in_progress"}else if(te==="assigned"){const _e=he.add(1,"day");Ze=u.email?[u.email]:[],Ye=u.email||null,tt=_,je.push({date:_e.toISOString(),user:O||"Руководитель",userRole:"manager",action:"Распределена",comment:`Назначена на: ${_}`,status:"assigned",assignedTo:Ze}),He="assigned"}else if(te==="approval"){const _e=he.add(1,"day"),ct=_e.add(1,"day"),_t=ct.add(Math.floor(Math.random()*10),"day");Ze=u.email?[u.email]:[],Ye=(S==null?void 0:S.email)||null,tt=O,je.push({date:_e.toISOString(),user:O||"Руководитель",userRole:"manager",action:"Распределена",comment:`Назначена на: ${_}`,status:"assigned",assignedTo:Ze},{date:ct.toISOString(),user:_,userRole:"employee",action:"Принята в работу",comment:"Задача принята в работу",status:"in_progress"},{date:_t.toISOString(),user:_,userRole:"employee",action:"Отправлена на утверждение",comment:"Задача отправлена на согласование руководителю",status:"approval"}),He="approval"}G.push({id:pe,region:b,type:Y,category:Y,title:Ke,description:Ee,priority:Math.random()>.6?"high":Math.random()>.3?"medium":"low",dueDate:ve.format("YYYY-MM-DD"),status:He,businessUser:T.email,businessUserName:T.name,assignedTo:Ze,currentAssignee:Ye,currentAssigneeName:tt,employeeId:u.id,documents:[],comments:[],createdAt:ce,updatedAt:te==="completed"&&xe?xe.toISOString():r.toISOString(),completedAt:te==="completed"&&xe?xe.toISOString():void 0,history:je}),z+=de}return G},I=M(E*.8,"completed"),D=M(E*.2,"approved"),L=M(R,"in_progress",!0),N=M(y,"assigned"),P=M(x,"in_progress"),Q=M(v,"approval");t.push(...I,...D,...L,...N,...P,...Q)})});try{await Dt.saveTasks(t),console.log(`✅ Задачи сохранены в IndexedDB (${t.length} задач)`);try{localStorage.removeItem("zadachnik_tasks")}catch{}}catch(c){throw console.error("Ошибка сохранения задач в IndexedDB:",c),c}const n=t.reduce((c,d)=>(c[d.type]=(c[d.type]||0)+1,c),{}),s=e.filter(c=>c.isActive),o=t.filter(c=>c.status==="completed").length,A=t.filter(c=>c.status==="in_progress"||c.status==="created").length,l=t.filter(c=>We(c.dueDate).isBefore(We(),"day")&&c.status!=="completed").length;console.log(`✅ Сгенерировано ${t.length} задач для ${s.length} активных сотрудников`),console.log(`   - Среднее количество задач на сотрудника: ${(t.length/s.length).toFixed(1)}`),console.log(`   - Выполнено: ${o} (${(o/t.length*100).toFixed(1)}%)`),console.log(`   - В работе: ${A} (${(A/t.length*100).toFixed(1)}%)`),console.log(`   - Просрочено: ${l} (${(l/t.length*100).toFixed(1)}%)`),console.log("   - Распределение по типам задач:",Object.entries(n).map(([c,d])=>`${c}: ${d}`).join(", "))}catch(e){throw console.error("Ошибка генерации задач:",e),e}},bS=Object.freeze(Object.defineProperty({__proto__:null,generateTasksForEmployees:ES},Symbol.toStringTag,{value:"Module"})),{Title:WV}=ht,{Option:j1}=Ve,{TextArea:XV}=Re,{Panel:JV}=v2,L1=[{value:"working",label:"На работе",color:"green"},{value:"sick_leave",label:"Больничный",color:"orange"},{value:"vacation",label:"Отпуск",color:"blue"},{value:"business_trip",label:"Командировка",color:"purple"}],HE={registry_view:"Просмотр реестра",registry_edit:"Редактирование реестра",portfolio_view:"Просмотр портфеля",portfolio_edit:"Редактирование портфеля",conclusions_view:"Просмотр заключений",conclusions_edit:"Редактирование заключений",tasks_view:"Просмотр задач",tasks_edit:"Редактирование задач",reports_view:"Просмотр отчетов",reports_export:"Экспорт отчетов",settings_view:"Просмотр настроек",settings_edit:"Редактирование настроек",admin:"Администратор"},ZV=()=>{var D;const[e,t]=K.useState([]),[r,a]=K.useState([]),[n,s]=K.useState(!1),[o,A]=K.useState(!1),[l,c]=K.useState(null),[d]=ne.useForm(),[f,p]=K.useState([]),[u,g]=K.useState("");K.useEffect(()=>{h(),y()},[]);const h=(L=!1)=>{s(!0);try{const N=pr.getEmployees();t(N),vd(),L&&Te.success(`Загружено ${N.length} сотрудников`)}catch(N){Te.error("Ошибка загрузки сотрудников"),console.error(N)}finally{s(!1)}},y=async()=>{try{let L=[];try{L=await Dt.getTasks()}catch{try{const P=localStorage.getItem("zadachnik_tasks");P&&(L=JSON.parse(P))}catch(P){console.warn("Не удалось загрузить задачи из localStorage:",P)}}a(L)}catch(L){console.warn("Ошибка загрузки задач для статистики загрузки сотрудников:",L)}},x=K.useMemo(()=>{if(!u.trim())return e;const L=u.toLowerCase();return e.filter(N=>{const P=`${N.lastName} ${N.firstName} ${N.middleName||""}`.toLowerCase(),Q=(N.position||"").toLowerCase(),J=(N.region||"").toLowerCase(),te=(N.email||"").toLowerCase(),V=(N.department||"").toLowerCase();return P.includes(L)||Q.includes(L)||J.includes(L)||te.includes(L)||V.includes(L)})},[e,u]),v=K.useMemo(()=>{const L={};return Wi.forEach(N=>{L[N.code]={},N.cities.forEach(P=>{L[N.code][P]=x.filter(Q=>Q.region===P)})}),L},[x]),E=K.useMemo(()=>{const L={};return Wi.forEach(N=>{const P=mS(r,e,N.code,N.cities);L[N.code]=P}),L},[r,e]),R=K.useMemo(()=>{const L={};return Wi.forEach(N=>{const P=r.filter(Q=>{const J=(Q.region||"").toString();return N.cities.includes(J)||J===N.code}).sort((Q,J)=>{const te=We(Q.updatedAt||Q.createdAt||Q.dueDate||We().toISOString()).valueOf();return We(J.updatedAt||J.createdAt||J.dueDate||We().toISOString()).valueOf()-te}).slice(0,5);L[N.code]=P}),L},[r]),b=()=>{c(null),d.resetFields(),A(!0)},T=L=>{c(L),d.setFieldsValue({...L,permissions:L.permissions||[],birthDate:L.birthDate?We(L.birthDate):void 0,hireDate:L.hireDate?We(L.hireDate):void 0,status:L.status||"working",photo:L.photo?[{uid:"-1",name:"photo.png",status:"done",url:L.photo}]:[]}),A(!0)},_=L=>new Promise((N,P)=>{const Q=new FileReader;Q.readAsDataURL(L),Q.onload=()=>N(Q.result),Q.onerror=J=>P(J)}),S=async L=>{if(L.file.status!=="uploading"&&(L.file.status==="done"||L.file.originFileObj))try{const N=await _(L.file.originFileObj||L.file);d.setFieldsValue({photo:[{...L.file,thumbUrl:N,url:N}]})}catch(N){Te.error("Ошибка загрузки фото"),console.error(N)}},O=L=>{try{pr.deleteEmployee(L),vd(),Te.success("Сотрудник удален"),h()}catch{Te.error("Ошибка удаления сотрудника")}},M=async()=>{try{const L=await d.validateFields();let N;if(L.photo&&L.photo.length>0){const Q=L.photo[0];Q.response?N=Q.response.url:Q.thumbUrl?N=Q.thumbUrl:Q.url&&(N=Q.url)}else l!=null&&l.photo&&(N=l.photo);const P={...L,birthDate:L.birthDate?We(L.birthDate).format("YYYY-MM-DD"):void 0,hireDate:L.hireDate?We(L.hireDate).format("YYYY-MM-DD"):void 0,status:L.status||"working",photo:N};l?(pr.updateEmployee(l.id,P),vd(),Te.success("Сотрудник обновлен")):(pr.addEmployee(P),vd(),Te.success("Сотрудник добавлен")),A(!1),h()}catch(L){console.error("Ошибка сохранения:",L)}},I=[{title:"ФИО",key:"name",width:180,fixed:"left",render:(L,N)=>i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,fontSize:"13px"},children:[i.jsx(am,{src:N.photo,icon:i.jsx(es,{}),size:40,style:{flexShrink:0}}),i.jsxs("div",{children:[i.jsxs("div",{children:[N.lastName," ",N.firstName," ",N.middleName||""]}),N.employeeNumber&&i.jsxs("div",{style:{fontSize:"11px",color:"#999",marginTop:2},children:["№ ",N.employeeNumber]})]})]})},{title:"Должность",dataIndex:"position",key:"position",width:180,ellipsis:!0},{title:"Регион",dataIndex:"region",key:"region",width:120,ellipsis:!0},{title:"Email",dataIndex:"email",key:"email",width:180,ellipsis:!0},{title:"Роли / Загрузка",key:"roles",width:200,render:(L,N)=>{var P,Q;return i.jsxs(Oe,{direction:"vertical",size:2,style:{fontSize:"11px"},children:[i.jsxs(Oe,{size:4,wrap:!0,children:[N.isManager&&i.jsx(et,{color:"gold",style:{margin:0,fontSize:"11px",padding:"0 4px"},children:"Руководитель"}),N.canMonitor&&i.jsxs(et,{color:"blue",style:{margin:0,fontSize:"11px",padding:"0 4px"},children:["М: ",N.monitoringWorkload||0]}),N.canAppraise&&i.jsxs(et,{color:"purple",style:{margin:0,fontSize:"11px",padding:"0 4px"},children:["О: ",N.appraisalWorkload||0]}),!N.canMonitor&&!N.canAppraise&&!N.isManager&&i.jsx(et,{color:"default",style:{margin:0,fontSize:"11px",padding:"0 4px"},children:"Общие"})]}),N.status&&i.jsx(et,{color:((P=L1.find(J=>J.value===N.status))==null?void 0:P.color)||"default",style:{margin:0,fontSize:"11px",padding:"0 4px"},children:((Q=L1.find(J=>J.value===N.status))==null?void 0:Q.label)||N.status}),i.jsx(et,{color:N.isActive?"green":"red",style:{margin:0,fontSize:"11px",padding:"0 4px"},children:N.isActive?"Активен":"Неактивен"})]})}},{title:"Права",key:"permissions",width:150,render:(L,N)=>i.jsxs(Oe,{wrap:!0,size:2,children:[N.permissions.slice(0,2).map(P=>i.jsx(et,{color:"blue",style:{margin:0,fontSize:"11px",padding:"0 4px"},children:HE[P].substring(0,15)},P)),N.permissions.length>2&&i.jsxs(et,{style:{margin:0,fontSize:"11px",padding:"0 4px"},children:["+",N.permissions.length-2]})]})},{title:"Действия",key:"actions",width:100,fixed:"right",render:(L,N)=>i.jsxs(Oe,{size:4,children:[i.jsx(Ce,{type:"link",icon:i.jsx(Ri,{}),onClick:()=>T(N),size:"small",style:{padding:"0 4px"}}),i.jsx(ho,{title:"Удалить сотрудника?",onConfirm:()=>O(N.id),okText:"Да",cancelText:"Нет",children:i.jsx(Ce,{type:"link",danger:!0,icon:i.jsx(Ss,{}),size:"small",style:{padding:"0 4px"}})})]})}];return i.jsxs("div",{className:"employees-page",style:{padding:"8px"},children:[i.jsxs(Me,{size:"small",style:{marginBottom:8},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:8},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[i.jsxs(WV,{level:4,style:{margin:0,fontSize:"16px"},children:[i.jsx(zT,{style:{marginRight:4}}),"Сотрудники"]}),i.jsxs(Oe,{size:8,split:i.jsx("span",{style:{color:"#d9d9d9"},children:"|"}),children:[i.jsxs("span",{style:{fontSize:"12px",color:"#666"},children:["Всего: ",i.jsx("strong",{children:e.length})]}),i.jsxs("span",{style:{fontSize:"12px",color:"#52c41a"},children:["Активных: ",i.jsx("strong",{children:e.filter(L=>L.isActive).length})]}),i.jsxs("span",{style:{fontSize:"12px",color:"#1890ff"},children:["Мониторинг: ",i.jsx("strong",{children:e.filter(L=>L.canMonitor).length})]}),i.jsxs("span",{style:{fontSize:"12px",color:"#722ed1"},children:["Оценка: ",i.jsx("strong",{children:e.filter(L=>L.canAppraise).length})]})]}),i.jsxs(Oe,{size:8,split:i.jsx("span",{style:{color:"#d9d9d9"},children:"|"}),style:{marginTop:4},children:[i.jsxs("span",{style:{fontSize:"12px",color:"#52c41a"},children:["На работе:"," ",i.jsx("strong",{children:e.filter(L=>L.status==="working"||!L.status).length})]}),i.jsxs("span",{style:{fontSize:"12px",color:"#fa8c16"},children:["Больничный:"," ",i.jsx("strong",{children:e.filter(L=>L.status==="sick_leave").length})]}),i.jsxs("span",{style:{fontSize:"12px",color:"#1890ff"},children:["Отпуск: ",i.jsx("strong",{children:e.filter(L=>L.status==="vacation").length})]}),i.jsxs("span",{style:{fontSize:"12px",color:"#722ed1"},children:["Командировка:"," ",i.jsx("strong",{children:e.filter(L=>L.status==="business_trip").length})]})]})]}),i.jsxs(Oe,{size:4,children:[i.jsx(ho,{title:"Регенерировать базу сотрудников?",description:"Это создаст 30 сотрудников на каждый региональный центр. Существующие данные будут перезаписаны.",onConfirm:()=>{try{s(!0);const L=pr.regenerateEmployees();t(L),vd(),Te.success(`Создано ${L.length} сотрудников`),s(!1)}catch(L){Te.error("Ошибка регенерации сотрудников"),console.error(L),s(!1)}},okText:"Да",cancelText:"Нет",children:i.jsx(Ce,{icon:i.jsx(JA,{}),loading:n,size:"small",children:"Регенерация"})}),i.jsx(Ce,{icon:i.jsx(el,{}),onClick:()=>h(!0),loading:n,size:"small",children:"Обновить"}),i.jsx(ho,{title:"Сгенерировать задачи для всех сотрудников?",description:"Это создаст 30-50 задач на каждого активного сотрудника. Большая часть будет выполнена, 1% просрочена.",onConfirm:()=>{try{ES(),Te.success("Задачи успешно сгенерированы")}catch(L){Te.error("Ошибка генерации задач"),console.error(L)}},okText:"Да",cancelText:"Нет",children:i.jsx(Ce,{icon:i.jsx(el,{}),size:"small",children:"Генерировать задачи"})}),i.jsx(Ce,{type:"primary",icon:i.jsx(wi,{}),onClick:b,size:"small",children:"Добавить"})]})]}),i.jsx("div",{style:{marginTop:8},children:i.jsx(Re,{placeholder:"Поиск по ФИО, должности, региону, email...",prefix:i.jsx(qa,{}),value:u,onChange:L=>g(L.target.value),allowClear:!0,size:"small",style:{maxWidth:400}})})]}),i.jsx(v2,{activeKey:f,onChange:p,size:"small",style:{marginBottom:8},children:Wi.map(L=>{const N=Object.values(v[L.code]||{}).flat(),P=N.filter(z=>z.isActive).length,Q=N.filter(z=>z.canMonitor).length,J=N.filter(z=>z.canAppraise).length,V=(E[L.code]||{workloadPercent:0}).workloadPercent,G=R[L.code]||[];return i.jsxs(JV,{header:i.jsxs(Oe,{size:4,wrap:!0,style:{fontSize:"12px"},children:[i.jsxs("span",{style:{fontWeight:600,fontSize:"13px"},children:[L.code," - ",L.name]}),i.jsxs(et,{color:"green",style:{margin:0,fontSize:"11px",padding:"0 4px"},children:[P," акт."]}),i.jsxs(et,{color:"blue",style:{margin:0,fontSize:"11px",padding:"0 4px"},children:[Q," мон."]}),i.jsxs(et,{color:"purple",style:{margin:0,fontSize:"11px",padding:"0 4px"},children:[J," оц."]}),i.jsxs(et,{color:"gold",style:{margin:0,fontSize:"11px",padding:"0 4px"},children:["Загрузка: ",V,"%"]})]}),children:[i.jsx(Me,{size:"small",type:"inner",title:"Демо задачи (нагрузка)",style:{marginBottom:8},bodyStyle:{padding:8,maxHeight:220,overflowY:"auto"},children:i.jsx(Ar,{size:"small",dataSource:G,locale:{emptyText:"Демо задачи формируются автоматически"},renderItem:z=>i.jsx(Ar.Item,{style:{padding:"6px 0"},children:i.jsxs(Oe,{direction:"vertical",size:2,style:{width:"100%"},children:[i.jsxs(Oe,{size:4,wrap:!0,children:[i.jsx(et,{color:"geekblue",style:{margin:0},children:z.type||"Задача"}),i.jsx(et,{color:"gold",style:{margin:0},children:(z.status||"").toString()})]}),i.jsx("div",{style:{fontSize:12,fontWeight:500},children:z.title}),i.jsxs(Oe,{size:4,wrap:!0,style:{fontSize:11,color:"rgba(0,0,0,0.65)"},children:[z.currentAssigneeName&&i.jsxs("span",{children:["Исполнитель: ",z.currentAssigneeName]}),z.dueDate&&i.jsxs("span",{children:["Срок: ",We(z.dueDate).format("DD.MM.YYYY")]})]})]})},z.id)})}),L.cities.map(z=>{var k;const C=((k=v[L.code])==null?void 0:k[z])||[];return C.length===0?null:i.jsx(Me,{size:"small",title:i.jsxs(Oe,{size:4,style:{fontSize:"12px"},children:[i.jsx(es,{}),i.jsx("span",{children:z}),i.jsx(et,{style:{margin:0,fontSize:"11px",padding:"0 4px"},children:C.length})]}),style:{marginBottom:8},bodyStyle:{padding:"8px"},children:i.jsx(nr,{columns:I,dataSource:C,rowKey:"id",pagination:{pageSize:10,size:"small",showSizeChanger:!1},size:"small",scroll:{x:"max-content"}})},z)})]},L.code)})}),i.jsx(Me,{title:i.jsxs(Oe,{size:4,style:{fontSize:"13px"},children:[i.jsx("span",{children:"Все сотрудники"}),u&&i.jsxs(et,{color:"blue",style:{margin:0,fontSize:"11px",padding:"0 4px"},children:["Найдено: ",x.length," из ",e.length]})]}),size:"small",bodyStyle:{padding:"8px"},children:i.jsx(nr,{columns:I,dataSource:x,rowKey:"id",loading:n,pagination:{pageSize:20,showSizeChanger:!0,showTotal:L=>`Всего ${L} сотрудников`,size:"small",showQuickJumper:!0},size:"small",scroll:{x:"max-content"}})}),i.jsx(lr,{title:l?"Редактировать сотрудника":"Добавить сотрудника",open:o,onOk:M,onCancel:()=>A(!1),width:600,okText:"Сохранить",cancelText:"Отмена",children:i.jsxs(ne,{form:d,layout:"vertical",initialValues:{isActive:!0,permissions:[],canMonitor:!1,canAppraise:!1,isManager:!1,monitoringWorkload:0,appraisalWorkload:0,status:"working"},children:[i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:8,children:i.jsx(ne.Item,{name:"lastName",label:"Фамилия",rules:[{required:!0,message:"Введите фамилию"}],children:i.jsx(Re,{placeholder:"Иванов"})})}),i.jsx(be,{span:8,children:i.jsx(ne.Item,{name:"firstName",label:"Имя",rules:[{required:!0,message:"Введите имя"}],children:i.jsx(Re,{placeholder:"Иван"})})}),i.jsx(be,{span:8,children:i.jsx(ne.Item,{name:"middleName",label:"Отчество",children:i.jsx(Re,{placeholder:"Иванович"})})})]}),i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"position",label:"Должность",rules:[{required:!0,message:"Введите должность"}],children:i.jsx(Re,{placeholder:"Менеджер по работе с залогами"})})}),i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"region",label:"Регион",rules:[{required:!0,message:"Выберите регион"}],children:i.jsx(Ve,{placeholder:"Выберите регион",showSearch:!0,children:Wi.flatMap(L=>L.cities.map(N=>i.jsxs(j1,{value:N,children:[L.code," - ",N]},N)))})})})]}),i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"department",label:"Отдел",children:i.jsx(Re,{placeholder:"Отдел залогового обеспечения"})})}),i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"phone",label:"Телефон",children:i.jsx(Re,{placeholder:"+7 (495) 123-45-67"})})})]}),i.jsx(ne.Item,{name:"email",label:"Email",children:i.jsx(Re,{type:"email",placeholder:"ivanov@bank.ru"})}),i.jsx(ne.Item,{name:"photo",label:"Фото сотрудника",children:i.jsx(Xi,{listType:"picture-card",maxCount:1,beforeUpload:()=>!1,onChange:S,accept:"image/*",children:((D=d.getFieldValue("photo"))==null?void 0:D.length)>=1?null:i.jsxs("div",{children:[i.jsx(Ni,{}),i.jsx("div",{style:{marginTop:8},children:"Загрузить"})]})})}),i.jsx(ne.Item,{name:"permissions",label:"Права доступа",rules:[{required:!0,message:"Выберите права доступа"}],children:i.jsx(Ve,{mode:"multiple",placeholder:"Выберите права доступа",style:{width:"100%"},children:Object.entries(HE).map(([L,N])=>i.jsx(j1,{value:L,children:N},L))})}),i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"birthDate",label:"Дата рождения",children:i.jsx(kr,{style:{width:"100%"},format:"DD.MM.YYYY"})})}),i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"employeeNumber",label:"Табельный номер",children:i.jsx(Re,{placeholder:"000001"})})})]}),i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"hireDate",label:"Дата приема на работу",children:i.jsx(kr,{style:{width:"100%"},format:"DD.MM.YYYY"})})}),i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"status",label:"Статус",initialValue:"working",children:i.jsx(Ve,{placeholder:"Выберите статус",children:L1.map(L=>i.jsx(j1,{value:L.value,children:i.jsx(et,{color:L.color,style:{margin:0},children:L.label})},L.value))})})})]}),i.jsx(dt,{gutter:16,children:i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"isActive",label:"Активен",valuePropName:"checked",children:i.jsx(xi,{})})})}),i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"canMonitor",label:"Может выполнять мониторинг",valuePropName:"checked",children:i.jsx(xi,{})})}),i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"canAppraise",label:"Может выполнять оценку",valuePropName:"checked",children:i.jsx(xi,{})})})]}),i.jsx(dt,{gutter:16,children:i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"isManager",label:"Руководитель региона",valuePropName:"checked",tooltip:"Назначить сотрудника руководителем региона",children:i.jsx(xi,{})})})}),i.jsx(ne.Item,{name:"notes",label:"Примечания",children:i.jsx(XV,{rows:3,placeholder:"Дополнительная информация"})})]})})]})},{Title:GE,Text:zE}=ht,{TextArea:e$}=Re,t$=()=>{const e=ul(),[t,r]=K.useState([]),[a,n]=K.useState(null),[s,o]=K.useState(!1),[A,l]=K.useState(null),[c]=ne.useForm(),d=K.useCallback(()=>{try{const x=On.getDictionaries();r(x)}catch{Te.error("Ошибка загрузки справочников")}},[]);K.useEffect(()=>{(async()=>{try{await Promise.all([On.syncCollateralAttributesFromUnified(),On.syncAttributeLevelsFromPublic()])}catch(v){console.warn("Ошибка синхронизации справочников:",v)}d()})()},[d]),K.useEffect(()=>{if(t.length===0)return;const x=e.search||window.location.search,v=e.hash||window.location.hash;console.log("ReferenceDataPage: location.search =",e.search),console.log("ReferenceDataPage: location.hash =",e.hash),console.log("ReferenceDataPage: window.location.search =",window.location.search),console.log("ReferenceDataPage: window.location.hash =",window.location.hash);let E;if(v.includes("?")){const b=v.split("?")[1];E=new URLSearchParams(b)}else x?E=new URLSearchParams(x):E=new URLSearchParams;const R=E.get("dict");if(console.log("ReferenceDataPage: dictId из URL =",R),console.log("ReferenceDataPage: доступно справочников =",t.length),console.log("ReferenceDataPage: ID справочников =",t.map(b=>b.id)),R){const b=t.find(T=>T.id===R);if(b){console.log("ReferenceDataPage: найден справочник по ID:",b.name),n(b);return}else console.warn(`Справочник с ID "${R}" не найден. Доступные справочники:`,t.map(T=>T.id))}!a&&t.length>0&&(console.log("ReferenceDataPage: параметр dict отсутствует, выбираем первый справочник"),n(t[0]))},[t,e.search,e.hash,a]);const f=K.useCallback(x=>{n(x),l(null),c.resetFields(),c.setFieldsValue({isActive:!0,sortOrder:x.items.length+1}),o(!0)},[c]),p=K.useCallback((x,v)=>{n(x),l(v),c.setFieldsValue({...v}),o(!0)},[c]),u=K.useCallback((x,v)=>{try{On.deleteItemFromDictionary(x.id,v),Te.success("Элемент удален"),d()}catch{Te.error("Ошибка удаления элемента")}},[d]),g=K.useCallback(async()=>{if(a)try{const x=await c.validateFields();A?(On.updateItemInDictionary(a.id,A.id,x),Te.success("Элемент обновлен")):(On.addItemToDictionary(a.id,x),Te.success("Элемент добавлен")),o(!1),d()}catch(x){console.error("Ошибка сохранения:",x)}},[d,a,A,c]),h=Qa.useCallback(x=>x.code==="attribute_levels"?[{title:"Код атрибута",dataIndex:"code",key:"code",width:200},{title:"Вид обеспечения",key:"level1",render:(v,E)=>{var R;return((R=E.metadata)==null?void 0:R.level1)||""},width:200},{title:"Тип обеспечения",key:"level2",render:(v,E)=>{var R;return((R=E.metadata)==null?void 0:R.level2)||""},width:200},{title:"Подтип обеспечения",key:"level3",render:(v,E)=>{var R;return((R=E.metadata)==null?void 0:R.level3)||""},width:220},{title:"Функциональная группа",key:"level4",render:(v,E)=>{var R;return((R=E.metadata)==null?void 0:R.level4)||""},width:240},{title:"Функциональная подгруппа",key:"level5",render:(v,E)=>{var R;return((R=E.metadata)==null?void 0:R.level5)||""},width:260},{title:"Действия",key:"actions",width:150,fixed:"right",render:(v,E)=>i.jsxs(Oe,{children:[i.jsx(Ce,{type:"link",icon:i.jsx(Ri,{}),onClick:()=>p(x,E),size:"small",children:"Редактировать"}),i.jsx(ho,{title:"Удалить элемент?",onConfirm:()=>u(x,E.id),okText:"Да",cancelText:"Нет",children:i.jsx(Ce,{type:"link",danger:!0,icon:i.jsx(Ss,{}),size:"small",children:"Удалить"})})]})}]:[{title:"Код",dataIndex:"code",key:"code",width:150},{title:"Наименование",dataIndex:"name",key:"name"},{title:"Описание",dataIndex:"description",key:"description",ellipsis:!0},{title:"Порядок сортировки",dataIndex:"sortOrder",key:"sortOrder",align:"center",width:120},{title:"Статус",dataIndex:"isActive",key:"isActive",align:"center",width:100,render:v=>i.jsx(et,{color:v?"green":"red",icon:v?i.jsx(Nn,{}):i.jsx(ZA,{}),children:v?"Активен":"Неактивен"})},{title:"Действия",key:"actions",width:150,fixed:"right",render:(v,E)=>i.jsxs(Oe,{children:[i.jsx(Ce,{type:"link",icon:i.jsx(Ri,{}),onClick:()=>p(x,E),size:"small",children:"Редактировать"}),i.jsx(ho,{title:"Удалить элемент?",onConfirm:()=>u(x,E.id),okText:"Да",cancelText:"Нет",children:i.jsx(Ce,{type:"link",danger:!0,icon:i.jsx(Ss,{}),size:"small",children:"Удалить"})})]})}],[p,u]),y=K.useMemo(()=>t.map(x=>({key:x.id,label:x.name,children:i.jsxs("div",{children:[i.jsxs("div",{style:{marginBottom:16,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsxs("div",{children:[i.jsx(GE,{level:4,style:{margin:0},children:x.name}),x.description&&i.jsx(zE,{type:"secondary",children:x.description})]}),i.jsx(Ce,{type:"primary",icon:i.jsx(wi,{}),onClick:()=>f(x),children:"Добавить элемент"})]}),i.jsx(nr,{columns:h(x),dataSource:x.items.sort((v,E)=>(v.sortOrder||0)-(E.sortOrder||0)),rowKey:"id",pagination:{pageSize:20},size:"small"})]})})),[t,h,f]);return i.jsxs("div",{className:"reference-data-page",children:[i.jsxs(Me,{children:[i.jsxs("div",{style:{marginBottom:16},children:[i.jsxs(GE,{level:3,style:{margin:0},children:[i.jsx(JA,{})," Управление справочниками"]}),i.jsx(zE,{type:"secondary",style:{display:"block",marginTop:8},children:"Редактирование справочников, используемых во всех модулях системы"})]}),i.jsx(ts,{items:y})]}),i.jsx(lr,{title:A?"Редактировать элемент справочника":"Добавить элемент в справочник",open:s,onOk:g,onCancel:()=>o(!1),width:600,okText:"Сохранить",cancelText:"Отмена",children:i.jsxs(ne,{form:c,layout:"vertical",initialValues:{isActive:!0,sortOrder:1},children:[i.jsx(ne.Item,{name:"code",label:"Код (опционально)",children:i.jsx(Re,{placeholder:"Код элемента"})}),i.jsx(ne.Item,{name:"name",label:"Наименование",rules:[{required:!0,message:"Введите наименование"}],children:i.jsx(Re,{placeholder:"Наименование элемента"})}),i.jsx(ne.Item,{name:"description",label:"Описание",children:i.jsx(e$,{rows:3,placeholder:"Описание элемента"})}),i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"sortOrder",label:"Порядок сортировки",children:i.jsx(ha,{min:0,style:{width:"100%"},placeholder:"Порядок"})})}),i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"isActive",label:"Активен",valuePropName:"checked",children:i.jsx(xi,{})})})]})]})})]})},{Title:r$,Text:Lu}=ht,a$=()=>{const[e,t]=K.useState(!1),[r,a]=K.useState(null),[n,s]=K.useState([]);K.useEffect(()=>{o()},[]);const o=()=>{try{const u=localStorage.getItem("norm_hours_settings"),g=u?JSON.parse(u):null,h=Object.entries(Ql).map(([y,x])=>{const v={"Подготовка СЗ":"Подготовка одного заключения с одним объектом","Подготовка СЗ (2 объекта)":"Подготовка заключения с двумя объектами","Подготовка СЗ (АЗС)":"Подготовка заключения для АЗС",Оценка:"Проведение оценки объекта",Экспертиза:"Проведение экспертизы",Рецензия:"Рецензирование документов",ПРКК:"Проверка рисков",Мониторинг:"Мониторинг объекта",Осмотр:"Осмотр объекта","Проверка документов":"Проверка комплектности документов",Согласование:"Согласование документов","Контроль качества":"Контроль качества работы",Отчетность:"Подготовка отчетности",Прочее:"Прочие задачи"};return{key:y,functionName:y,normHours:(g==null?void 0:g[y])??x,description:v[y]||"—"}});s(h)}catch(u){console.error("Ошибка загрузки нормочасов:",u),Te.error("Ошибка загрузки нормочасов")}},A=(u,g)=>{const h=n.map(y=>y.key===u?{...y,normHours:g}:y);s(h),a(null)},l=()=>{try{t(!0);const u={};n.forEach(g=>{u[g.key]=g.normHours}),localStorage.setItem("norm_hours_settings",JSON.stringify(u)),Te.success("Нормочасы успешно сохранены")}catch(u){console.error("Ошибка сохранения нормочасов:",u),Te.error("Ошибка сохранения нормочасов")}finally{t(!1)}},c=()=>{const u=n.map(g=>({...g,normHours:Ql[g.key]||2}));s(u),Te.info("Нормочасы сброшены к значениям по умолчанию")},d=[{title:"Функция",dataIndex:"functionName",key:"functionName",width:250,render:u=>i.jsx(Lu,{strong:!0,children:u})},{title:"Описание",dataIndex:"description",key:"description",ellipsis:!0},{title:"Нормочасы",dataIndex:"normHours",key:"normHours",width:200,align:"center",render:(u,g)=>r===g.key?i.jsxs(Oe,{children:[i.jsx(ha,{min:.5,max:100,step:.5,value:u,onChange:y=>{y!==null&&A(g.key,y)},onPressEnter:()=>a(null),autoFocus:!0,style:{width:100}}),i.jsx(Lu,{type:"secondary",children:"часов"})]}):i.jsxs(Oe,{children:[i.jsxs(et,{color:"blue",style:{fontSize:"14px",padding:"4px 12px"},children:[u," ч"]}),i.jsx(Ce,{type:"link",icon:i.jsx(Ri,{}),size:"small",onClick:()=>a(g.key)})]})},{title:"В рабочих днях",key:"workDays",width:150,align:"center",render:(u,g)=>{const h=(g.normHours/m2).toFixed(1);return i.jsxs(Lu,{type:"secondary",children:[h," дн."]})}}],f=n.reduce((u,g)=>u+g.normHours,0),p=n.length>0?(f/n.length).toFixed(1):"0";return i.jsx("div",{className:"norm-hours-page",style:{padding:"24px"},children:i.jsxs(Me,{children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[i.jsxs("div",{children:[i.jsxs(r$,{level:2,style:{margin:0},children:[i.jsx(Vn,{style:{marginRight:8}}),"Нормочасы по функциям"]}),i.jsx(Lu,{type:"secondary",style:{marginTop:8,display:"block"},children:"Управление нормочасами для расчета загрузки сотрудников"})]}),i.jsxs(Oe,{children:[i.jsx(Ce,{icon:i.jsx(el,{}),onClick:c,children:"Сбросить"}),i.jsx(Ce,{type:"primary",icon:i.jsx(nm,{}),onClick:l,loading:e,children:"Сохранить"})]})]}),i.jsx(kt,{}),i.jsxs(dt,{gutter:16,style:{marginBottom:24},children:[i.jsx(be,{xs:24,sm:8,children:i.jsx(ut,{title:"Рабочих часов в день",value:m2,suffix:"ч",valueStyle:{color:"#1890ff"}})}),i.jsx(be,{xs:24,sm:8,children:i.jsx(ut,{title:"Рабочих дней в месяце",value:hS,suffix:"дн",valueStyle:{color:"#52c41a"}})}),i.jsx(be,{xs:24,sm:8,children:i.jsx(ut,{title:"Рабочих часов в месяц",value:XA,suffix:"ч",valueStyle:{color:"#722ed1"}})})]}),i.jsxs(dt,{gutter:16,style:{marginBottom:24},children:[i.jsx(be,{xs:24,sm:12,children:i.jsx(ut,{title:"Среднее нормочасов на функцию",value:p,suffix:"ч",valueStyle:{color:"#fa8c16"}})}),i.jsx(be,{xs:24,sm:12,children:i.jsx(ut,{title:"Всего нормочасов (сумма)",value:f.toFixed(1),suffix:"ч",valueStyle:{color:"#eb2f96"}})})]}),i.jsx(kt,{}),i.jsx(nr,{columns:d,dataSource:n,pagination:!1,size:"middle",rowKey:"key"}),i.jsx("div",{style:{marginTop:24,padding:"16px",background:"#f5f5f5",borderRadius:"4px"},children:i.jsxs(Lu,{type:"secondary",style:{fontSize:"12px"},children:[i.jsx("strong",{children:"Примечание:"})," Изменения вступят в силу после сохранения. Нормочасы используются для расчета загрузки сотрудников при генерации задач и в аналитике KPI. Для расчета загрузки используется формула:"," ",i.jsx("code",{children:"Загрузка (%) = (Сумма нормочасов задач в работе / Рабочих часов в месяц) × 100%"})]})})]})})},{Title:n$,Text:i$}=ht,s$=[{name:"totalPortfolioValue",label:"Общая стоимость портфеля, ₽",min:0,step:1e6},{name:"totalContracts",label:"Всего договоров",min:0,step:1},{name:"activeContracts",label:"Активных договоров",min:0,step:1},{name:"completedTasks",label:"Выполнено задач",min:0,step:1},{name:"pendingTasks",label:"В работе задач",min:0,step:1},{name:"overdueTasks",label:"Просрочено задач",min:0,step:1},{name:"totalConclusions",label:"Залоговых заключений",min:0,step:1},{name:"approvedConclusions",label:"Согласовано заключений",min:0,step:1},{name:"pendingConclusions",label:"На согласовании",min:0,step:1},{name:"totalObjects",label:"Объектов в реестре",min:0,step:1},{name:"totalInsurance",label:"Всего страховок",min:0,step:1},{name:"activeInsurance",label:"Активных страховок",min:0,step:1}],o$=[{name:"averageConclusionDays",label:"Средний срок подготовки СЗ, дней",min:0,step:.1},{name:"slaCompliance",label:"Выполнение SLA, %",min:0,max:150,step:1},{name:"currentWorkload",label:"Текущая загрузка, %",min:0,max:200,step:1},{name:"mboCompletionOverall",label:"MBO департамента, %",min:0,max:200,step:1}],A$=()=>{const[e]=ne.useForm(),[t,r]=K.useState(!0),[a,n]=K.useState(!1),[s,o]=K.useState(()=>tm()),[A,l]=K.useState({});K.useEffect(()=>{const g=jV()??tm(),h=xS(),y=vS(g,h||void 0);o(g),e.setFieldsValue({...y,workloadByPeriod:{...g.workloadByPeriod,...(h==null?void 0:h.workloadByPeriod)||{}}}),l(yS()),r(!1)},[e]);const c=K.useMemo(()=>Wi.map(g=>({key:g.code,code:g.code,name:g.name})),[]),d=(g,h)=>{l(y=>{const x={...y};return h===null||Number.isNaN(h)?delete x[g]:x[g]=h,x})},f=async()=>{try{const g=await e.validateFields();n(!0);const h={...g,workloadByPeriod:{...s.workloadByPeriod,...g.workloadByPeriod||{}}};FV(h),kV(A),Te.success("Метрики KPI и MBO сохранены")}catch(g){g instanceof Error&&Te.error(g.message)}finally{n(!1)}},p=()=>{e.setFieldsValue({...s,workloadByPeriod:{...s.workloadByPeriod}}),l({}),RV(),DV(),Te.success("Корректировки сброшены")},u=[{title:"Региональный центр",dataIndex:"name",key:"name"},{title:"Целевой MBO, %",dataIndex:"code",key:"code",width:200,render:g=>i.jsx(ha,{min:0,max:200,value:A[g],onChange:h=>d(g,h),style:{width:"100%"}})}];return t?i.jsx("div",{className:"metrics-page__loading",children:"Загрузка метрик..."}):i.jsxs("div",{className:"metrics-page",children:[i.jsxs("div",{className:"metrics-page__header",children:[i.jsxs("div",{children:[i.jsx(n$,{level:3,style:{marginBottom:0},children:"Настройка KPI и MBO"}),i.jsx(i$,{type:"secondary",children:"Корректируйте значения, которые отображаются на странице KPI"})]}),i.jsxs(Oe,{children:[i.jsx(Ce,{icon:i.jsx(VT,{}),onClick:p,children:"Сбросить"}),i.jsx(Ce,{type:"primary",icon:i.jsx(nm,{}),onClick:f,loading:a,children:"Сохранить"})]})]}),i.jsx(Ir,{type:"info",showIcon:!0,style:{marginBottom:16},message:"Внесенные значения применяются как корректировки поверх фактических данных KPI."}),i.jsxs(ne,{layout:"vertical",form:e,children:[i.jsx(Me,{title:i.jsxs(Oe,{children:[i.jsx(tc,{}),i.jsx("span",{children:"Основные метрики"})]}),size:"small",className:"metrics-card",children:i.jsx(dt,{gutter:[16,16],children:s$.map(g=>i.jsx(be,{xs:24,sm:12,lg:8,children:i.jsx(ne.Item,{name:g.name,label:g.label,rules:[{required:!0,message:"Укажите значение"}],children:i.jsx(ha,{min:g.min??0,step:g.step??1,style:{width:"100%"}})})},g.name))})}),i.jsx(Me,{title:i.jsxs(Oe,{children:[i.jsx($A,{}),i.jsx("span",{children:"Показатели SLA и загрузки"})]}),size:"small",className:"metrics-card",children:i.jsxs(dt,{gutter:[16,16],children:[o$.map(g=>i.jsx(be,{xs:24,sm:12,lg:6,children:i.jsx(ne.Item,{name:g.name,label:g.label,rules:[{required:!0,message:"Укажите значение"}],children:i.jsx(ha,{min:g.min??0,max:g.max,step:g.step??1,style:{width:"100%"}})})},g.name)),i.jsx(be,{xs:24,sm:8,children:i.jsx(ne.Item,{name:["workloadByPeriod","last7Days"],label:"Загрузка за 7 дней, %",rules:[{required:!0,message:"Укажите значение"}],children:i.jsx(ha,{min:0,max:200,style:{width:"100%"}})})}),i.jsx(be,{xs:24,sm:8,children:i.jsx(ne.Item,{name:["workloadByPeriod","last30Days"],label:"Загрузка за 30 дней, %",rules:[{required:!0,message:"Укажите значение"}],children:i.jsx(ha,{min:0,max:200,style:{width:"100%"}})})}),i.jsx(be,{xs:24,sm:8,children:i.jsx(ne.Item,{name:["workloadByPeriod","last90Days"],label:"Загрузка за 90 дней, %",rules:[{required:!0,message:"Укажите значение"}],children:i.jsx(ha,{min:0,max:200,style:{width:"100%"}})})})]})}),i.jsxs(Me,{title:i.jsxs(Oe,{children:[i.jsx(rf,{}),i.jsx("span",{children:"Настройка MBO"})]}),size:"small",className:"metrics-card",children:[i.jsx(dt,{gutter:[16,16],children:i.jsx(be,{xs:24,md:8,children:i.jsx(ne.Item,{name:"mboCompletionOverall",label:"MBO департамента, %",rules:[{required:!0,message:"Укажите значение"}],children:i.jsx(ha,{min:0,max:200,style:{width:"100%"}})})})}),i.jsx(kt,{}),i.jsx(nr,{columns:u,dataSource:c,pagination:!1,size:"small"})]})]})]})},Uu="cms_appraisal_companies";class l${getCompanies(){const t=localStorage.getItem(Uu);return t?JSON.parse(t):[]}saveCompanies(t){try{localStorage.removeItem(Uu),localStorage.setItem(Uu,JSON.stringify(t))}catch(r){if(r.name==="QuotaExceededError"){console.warn("Очищаем localStorage для освобождения места...");const a=[];for(let n=0;n<localStorage.length;n++){const s=localStorage.key(n);s&&(s.includes("appraisal")||s.includes("cms_"))&&a.push(s)}a.forEach(n=>localStorage.removeItem(n)),localStorage.setItem(Uu,JSON.stringify(t))}else throw r}}getAll(){return this.getCompanies()}getById(t){return this.getCompanies().find(r=>r.id===t)}create(t){const r=this.getCompanies(),a={...t,id:crypto.randomUUID(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return r.push(a),this.saveCompanies(r),a}update(t,r){const a=this.getCompanies(),n=a.findIndex(o=>o.id===t);if(n===-1)return;const s={...a[n],...r,updatedAt:new Date().toISOString()};return a[n]=s,this.saveCompanies(a),s}delete(t){const r=this.getCompanies().filter(a=>a.id!==t);this.saveCompanies(r)}async loadFromExcelFile(t,r=20,a=!1){try{console.log("Парсинг Excel файла:",t.name,t.size);const n=await t.arrayBuffer();console.log("Размер данных:",n.byteLength);const s=dc(n,{type:"array"});if(console.log("Листы в файле:",s.SheetNames),s.SheetNames.length===0)return console.error("В файле нет листов"),0;const o=s.Sheets[s.SheetNames[0]];let A=0;const l=pi.decode_range(o["!ref"]||"A1");for(let h=0;h<Math.min(10,l.e.r+1);h++){const y=[];for(let v=0;v<=Math.min(20,l.e.c);v++){const E=pi.encode_cell({r:h,c:v}),R=o[E];R&&R.v&&y.push(String(R.v).toLowerCase())}const x=["наименование","инн","огрн","адрес","руководитель"];if(y.some(v=>x.some(E=>v.includes(E)))){A=h,console.log(`Найдена строка заголовка: ${h+1}`);break}}let c;if(A>0){const h=pi.encode_range({s:{r:A,c:0},e:l.e});o["!ref"]=h,c=pi.sheet_to_json(o,{defval:""}),o["!ref"]=pi.encode_range(l)}else c=pi.sheet_to_json(o,{defval:""});if(console.log("Всего строк в файле:",c.length),c.length===0)return console.warn("Файл не содержит данных"),0;if(c.length>0){const h=c[0];console.log("Ключи первой строки:",Object.keys(h)),console.log("Первая строка (первые 5 полей):",Object.entries(h).slice(0,5))}const d=c.slice(0,r);console.log(`Обрабатываем первые ${d.length} строк из ${c.length}`),a&&(console.log("Очищаем существующие данные перед импортом..."),localStorage.removeItem(Uu));const f=a?[]:this.getCompanies(),p=[];let u=0,g=0;for(const h of d)try{const y=Object.keys(h);let x="";for(const R of y){const b=h[R];if(b&&typeof b=="string"&&b.trim().length>3&&!/^\d+$/.test(b.trim())){x=b.trim();break}}if(x||(x=this.findFieldValue(h,["Наименование","наименование","Название","название","Компания","компания","Организация","организация"],"")),!x||x.trim().length===0){console.warn("Пропущена строка без названия:",y),g++;continue}const v={name:String(x).trim(),inn:this.findFieldValue(h,["ИНН","инн","ИНН/КПП","инн/кпп"],""),ogrn:this.findFieldValue(h,["ОГРН","огрн"],""),address:this.findFieldValue(h,["Адрес","адрес","Адрес регистрации","адрес регистрации"],""),phone:this.findFieldValue(h,["Телефон","телефон","Тел","тел"],""),email:this.findFieldValue(h,["Email","email","E-mail","e-mail"],""),website:this.findFieldValue(h,["Сайт","сайт","Website","website","Веб-сайт","веб-сайт","Адрес сайта","адрес сайта"],""),director:this.findFieldValue(h,["Руководитель","руководитель","Директор","директор","Генеральный директор","генеральный директор"],""),accreditationDate:this.findFieldValue(h,["Дата аккредитации","дата аккредитации"])?this.parseDate(this.findFieldValue(h,["Дата аккредитации","дата аккредитации"])):void 0,certificateExpiryDate:this.findFieldValue(h,["Срок действия сертификатов","срок действия сертификатов","Сертификаты до","сертификаты до"])?this.parseDate(this.findFieldValue(h,["Срок действия сертификатов","срок действия сертификатов","Сертификаты до","сертификаты до"])):void 0,insuranceExpiryDate:this.findFieldValue(h,["Срок действия страхования","срок действия страхования","Страхование до","страхование до"])?this.parseDate(this.findFieldValue(h,["Срок действия страхования","срок действия страхования","Страхование до","страхование до"])):void 0,sroMembership:this.parseBoolean(this.findFieldValue(h,["Членство в СРО","членство в сро","СРО","сро","Член СРО","член сро"],!1)),status:this.parseStatus(this.findFieldValue(h,["Статус","статус","Статус аккредитации","статус аккредитации"],"active")),notes:this.findFieldValue(h,["Примечания","примечания","Комментарий","комментарий"],"")};if(v.inn&&(v.inn=String(v.inn).split("/")[0].trim()),v.ogrn&&(v.ogrn=String(v.ogrn).trim()),v.address&&(v.address=String(v.address).trim()),v.phone&&(v.phone=String(v.phone).trim()),v.email&&(v.email=String(v.email).trim()),v.website&&(v.website=String(v.website).trim()),v.director&&(v.director=String(v.director).trim()),v.notes&&(v.notes=String(v.notes).trim()),f.some(R=>R.inn&&v.inn&&R.inn===v.inn||v.name&&R.name.toLowerCase()===v.name.toLowerCase()))g++;else{const R={...v,id:crypto.randomUUID(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};p.push(R),f.push(R),u++}}catch(y){console.warn("Ошибка обработки строки:",y==null?void 0:y.message),g++}if(p.length>0||a)try{const h=a?p:f,y=JSON.stringify(h),x=new Blob([y]).size;console.log(`Размер данных для сохранения: ${(x/1024).toFixed(2)} KB`),this.saveCompanies(h),console.log(`Сохранено ${h.length} компаний в localStorage`)}catch(h){console.error("Ошибка сохранения в localStorage:",h);try{console.warn("Пробуем очистить localStorage и сохранить только новые компании...");const y=[];for(let x=0;x<localStorage.length;x++){const v=localStorage.key(x);v&&v.includes("appraisal")&&y.push(v)}y.forEach(x=>{console.log(`Удаляем ключ: ${x}`),localStorage.removeItem(x)}),this.saveCompanies(p),console.log("Очищен localStorage, сохранены только новые компании")}catch(y){console.error("Критическая ошибка сохранения:",y);try{console.warn("Пробуем сохранить только первые 10 компаний...");for(let x=localStorage.length-1;x>=0;x--){const v=localStorage.key(x);v&&v.includes("appraisal")&&localStorage.removeItem(v)}this.saveCompanies(p.slice(0,10)),console.log("Сохранены только первые 10 компаний из-за ограничений localStorage")}catch(x){console.error("Невозможно сохранить данные:",x);let v=0;for(let E=0;E<localStorage.length;E++){const R=localStorage.key(E);if(R){const b=localStorage.getItem(R)||"";v+=R.length+b.length}}throw console.error(`Общий размер localStorage: ${(v/1024).toFixed(2)} KB`),x}}}return console.log(`Импорт завершен: импортировано ${u}, пропущено ${g}`),u}catch(n){throw console.error("Ошибка загрузки Excel файла:",n),console.error("Детали ошибки:",n.message,n.stack),n}}parseDate(t){if(t){if(typeof t=="number"){const r=new Date(1899,11,30);return new Date(r.getTime()+t*24*60*60*1e3).toISOString()}if(typeof t=="string"){const r=new Date(t);if(!isNaN(r.getTime()))return r.toISOString()}}}findFieldValue(t,r,a=""){for(const n of r)if(t[n]!==void 0&&t[n]!==null&&t[n]!=="")return t[n];return a}parseStatus(t){if(!t)return"active";const r=t.toLowerCase();return r.includes("актив")||r.includes("действ")?"active":r.includes("приостанов")||r.includes("приост")?"suspended":r.includes("отозван")||r.includes("аннул")?"revoked":"active"}parseBoolean(t){if(typeof t=="boolean")return t;if(typeof t=="string"){const r=t.toLowerCase().trim();return r==="да"||r==="yes"||r==="true"||r==="1"||r==="✓"}return typeof t=="number"?t===1:!1}createDemoCompanies(t=20){const r=this.getCompanies(),s=[{id:crypto.randomUUID(),name:'ООО "Оценка-Профи"',inn:"7701234567",ogrn:"1027701234567",address:"г. Москва, ул. Тверская, д. 10, офис 101",phone:"+7 (495) 123-45-67",email:"info@ocenka-profi.ru",director:"Иванов Иван Иванович",accreditationDate:"2020-01-15T00:00:00.000Z",certificateExpiryDate:"2025-12-31T00:00:00.000Z",insuranceExpiryDate:"2025-12-31T00:00:00.000Z",sroMembership:!0,status:"active",notes:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:crypto.randomUUID(),name:'ООО "Эксперт-Оценка"',inn:"7702345678",ogrn:"1027702345678",address:"г. Москва, ул. Ленинградская, д. 25, офис 205",phone:"+7 (495) 234-56-78",email:"contact@expert-ocenka.ru",director:"Петрова Мария Сергеевна",accreditationDate:"2019-03-20T00:00:00.000Z",certificateExpiryDate:"2025-06-30T00:00:00.000Z",insuranceExpiryDate:"2025-06-30T00:00:00.000Z",sroMembership:!0,status:"active",notes:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:crypto.randomUUID(),name:'ООО "Независимая оценка"',inn:"7703456789",ogrn:"1027703456789",address:"г. Санкт-Петербург, Невский пр., д. 50, офис 301",phone:"+7 (812) 345-67-89",email:"info@nezavisimaya-ocenka.ru",director:"Сидоров Петр Александрович",accreditationDate:"2021-05-10T00:00:00.000Z",certificateExpiryDate:"2026-05-10T00:00:00.000Z",insuranceExpiryDate:"2026-05-10T00:00:00.000Z",sroMembership:!0,status:"active",notes:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:crypto.randomUUID(),name:'ООО "Центр оценки недвижимости"',inn:"7704567890",ogrn:"1027704567890",address:"г. Москва, ул. Арбат, д. 15, офис 402",phone:"+7 (495) 456-78-90",email:"office@centr-ocenki.ru",director:"Козлова Анна Владимировна",accreditationDate:"2018-07-15T00:00:00.000Z",certificateExpiryDate:"2024-12-31T00:00:00.000Z",insuranceExpiryDate:"2024-12-31T00:00:00.000Z",sroMembership:!0,status:"active",notes:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:crypto.randomUUID(),name:'ООО "Оценочная компания Альфа"',inn:"7705678901",ogrn:"1027705678901",address:"г. Екатеринбург, ул. Ленина, д. 30, офис 501",phone:"+7 (343) 567-89-01",email:"info@alfa-ocenka.ru",director:"Морозов Дмитрий Николаевич",accreditationDate:"2020-09-01T00:00:00.000Z",certificateExpiryDate:"2025-09-01T00:00:00.000Z",insuranceExpiryDate:"2025-09-01T00:00:00.000Z",sroMembership:!0,status:"active",notes:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:crypto.randomUUID(),name:'ООО "Профессиональная оценка"',inn:"7706789012",ogrn:"1027706789012",address:"г. Новосибирск, ул. Красный проспект, д. 20, офис 102",phone:"+7 (383) 678-90-12",email:"contact@prof-ocenka.ru",director:"Волкова Елена Игоревна",accreditationDate:"2019-11-20T00:00:00.000Z",certificateExpiryDate:"2025-11-20T00:00:00.000Z",insuranceExpiryDate:"2025-11-20T00:00:00.000Z",sroMembership:!0,status:"active",notes:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:crypto.randomUUID(),name:'ООО "Оценка-Сервис"',inn:"7707890123",ogrn:"1027707890123",address:"г. Казань, ул. Баумана, д. 40, офис 203",phone:"+7 (843) 789-01-23",email:"info@ocenka-service.ru",director:"Новиков Сергей Викторович",accreditationDate:"2021-02-14T00:00:00.000Z",certificateExpiryDate:"2026-02-14T00:00:00.000Z",insuranceExpiryDate:"2026-02-14T00:00:00.000Z",sroMembership:!0,status:"active",notes:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:crypto.randomUUID(),name:'ООО "Экспертиза и оценка"',inn:"7708901234",ogrn:"1027708901234",address:"г. Нижний Новгород, ул. Покровка, д. 12, офис 304",phone:"+7 (831) 890-12-34",email:"office@expertiza-ocenka.ru",director:"Смирнова Ольга Петровна",accreditationDate:"2020-06-25T00:00:00.000Z",certificateExpiryDate:"2025-06-25T00:00:00.000Z",insuranceExpiryDate:"2025-06-25T00:00:00.000Z",sroMembership:!0,status:"active",notes:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:crypto.randomUUID(),name:'ООО "Оценочное агентство Бета"',inn:"7709012345",ogrn:"1027709012345",address:"г. Челябинск, ул. Кирова, д. 100, офис 405",phone:"+7 (351) 901-23-45",email:"info@beta-ocenka.ru",director:"Лебедев Андрей Михайлович",accreditationDate:"2019-08-10T00:00:00.000Z",certificateExpiryDate:"2025-08-10T00:00:00.000Z",insuranceExpiryDate:"2025-08-10T00:00:00.000Z",sroMembership:!0,status:"active",notes:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:crypto.randomUUID(),name:'ООО "Оценка-Консалт"',inn:"7710123456",ogrn:"1027710123456",address:"г. Ростов-на-Дону, ул. Большая Садовая, д. 55, офис 506",phone:"+7 (863) 012-34-56",email:"contact@ocenka-konsult.ru",director:"Федорова Татьяна Алексеевна",accreditationDate:"2021-04-05T00:00:00.000Z",certificateExpiryDate:"2026-04-05T00:00:00.000Z",insuranceExpiryDate:"2026-04-05T00:00:00.000Z",sroMembership:!0,status:"active",notes:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:crypto.randomUUID(),name:'ООО "Стандарт-Оценка"',inn:"7711234567",ogrn:"1027711234567",address:"г. Уфа, ул. Ленина, д. 70, офис 107",phone:"+7 (347) 123-45-67",email:"info@standart-ocenka.ru",director:"Кузнецов Игорь Сергеевич",accreditationDate:"2020-10-12T00:00:00.000Z",certificateExpiryDate:"2025-10-12T00:00:00.000Z",insuranceExpiryDate:"2025-10-12T00:00:00.000Z",sroMembership:!0,status:"active",notes:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:crypto.randomUUID(),name:'ООО "Оценочная группа Гамма"',inn:"7712345678",ogrn:"1027712345678",address:"г. Воронеж, пр. Революции, д. 33, офис 208",phone:"+7 (473) 234-56-78",email:"office@gamma-ocenka.ru",director:"Орлова Наталья Дмитриевна",accreditationDate:"2019-12-18T00:00:00.000Z",certificateExpiryDate:"2025-12-18T00:00:00.000Z",insuranceExpiryDate:"2025-12-18T00:00:00.000Z",sroMembership:!0,status:"active",notes:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:crypto.randomUUID(),name:'ООО "Оценка-Трейд"',inn:"7713456789",ogrn:"1027713456789",address:"г. Краснодар, ул. Красная, д. 22, офис 309",phone:"+7 (861) 345-67-89",email:"info@ocenka-trade.ru",director:"Соколов Владимир Анатольевич",accreditationDate:"2021-01-30T00:00:00.000Z",certificateExpiryDate:"2026-01-30T00:00:00.000Z",insuranceExpiryDate:"2026-01-30T00:00:00.000Z",sroMembership:!0,status:"active",notes:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:crypto.randomUUID(),name:'ООО "Оценочное бюро Дельта"',inn:"7714567890",ogrn:"1027714567890",address:"г. Самара, ул. Московское шоссе, д. 18, офис 410",phone:"+7 (846) 456-78-90",email:"contact@delta-ocenka.ru",director:"Попова Светлана Валерьевна",accreditationDate:"2020-03-22T00:00:00.000Z",certificateExpiryDate:"2025-03-22T00:00:00.000Z",insuranceExpiryDate:"2025-03-22T00:00:00.000Z",sroMembership:!0,status:"active",notes:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:crypto.randomUUID(),name:'ООО "Профессиональная экспертиза"',inn:"7715678901",ogrn:"1027715678901",address:"г. Омск, ул. Ленина, д. 45, офис 511",phone:"+7 (381) 567-89-01",email:"info@prof-expertiza.ru",director:"Васильев Роман Олегович",accreditationDate:"2019-07-08T00:00:00.000Z",certificateExpiryDate:"2025-07-08T00:00:00.000Z",insuranceExpiryDate:"2025-07-08T00:00:00.000Z",sroMembership:!0,status:"active",notes:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:crypto.randomUUID(),name:'ООО "Оценка-Инвест"',inn:"7716789012",ogrn:"1027716789012",address:"г. Пермь, ул. Ленина, д. 60, офис 112",phone:"+7 (342) 678-90-12",email:"office@ocenka-invest.ru",director:"Михайлова Екатерина Сергеевна",accreditationDate:"2021-06-15T00:00:00.000Z",certificateExpiryDate:"2026-06-15T00:00:00.000Z",insuranceExpiryDate:"2026-06-15T00:00:00.000Z",sroMembership:!0,status:"active",notes:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:crypto.randomUUID(),name:'ООО "Оценочная компания Эпсилон"',inn:"7717890123",ogrn:"1027717890123",address:"г. Волгоград, пр. Ленина, д. 28, офис 213",phone:"+7 (844) 789-01-23",email:"info@epsilon-ocenka.ru",director:"Тарасов Алексей Владимирович",accreditationDate:"2020-08-20T00:00:00.000Z",certificateExpiryDate:"2025-08-20T00:00:00.000Z",insuranceExpiryDate:"2025-08-20T00:00:00.000Z",sroMembership:!0,status:"active",notes:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:crypto.randomUUID(),name:'ООО "Оценка-Плюс"',inn:"7718901234",ogrn:"1027718901234",address:"г. Красноярск, ул. Мира, д. 35, офис 314",phone:"+7 (391) 890-12-34",email:"contact@ocenka-plus.ru",director:"Романова Ирина Николаевна",accreditationDate:"2019-09-25T00:00:00.000Z",certificateExpiryDate:"2025-09-25T00:00:00.000Z",insuranceExpiryDate:"2025-09-25T00:00:00.000Z",sroMembership:!0,status:"active",notes:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:crypto.randomUUID(),name:'ООО "Оценочное агентство Зета"',inn:"7719012345",ogrn:"1027719012345",address:"г. Саратов, ул. Московская, д. 50, офис 415",phone:"+7 (845) 901-23-45",email:"info@zeta-ocenka.ru",director:"Борисов Денис Игоревич",accreditationDate:"2021-03-10T00:00:00.000Z",certificateExpiryDate:"2026-03-10T00:00:00.000Z",insuranceExpiryDate:"2026-03-10T00:00:00.000Z",sroMembership:!0,status:"active",notes:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:crypto.randomUUID(),name:'ООО "Оценка-Менеджмент"',inn:"7720123456",ogrn:"1027720123456",address:"г. Тюмень, ул. Республики, д. 40, офис 516",phone:"+7 (345) 012-34-56",email:"office@ocenka-management.ru",director:"Григорьева Марина Александровна",accreditationDate:"2020-11-05T00:00:00.000Z",certificateExpiryDate:"2025-11-05T00:00:00.000Z",insuranceExpiryDate:"2025-11-05T00:00:00.000Z",sroMembership:!0,status:"active",notes:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:crypto.randomUUID(),name:'ООО "Оценочная компания Эта"',inn:"7721234567",ogrn:"1027721234567",address:"г. Ижевск, ул. Пушкинская, д. 25, офис 117",phone:"+7 (341) 123-45-67",email:"info@eta-ocenka.ru",director:"Комаров Павел Викторович",accreditationDate:"2019-05-14T00:00:00.000Z",certificateExpiryDate:"2025-05-14T00:00:00.000Z",insuranceExpiryDate:"2025-05-14T00:00:00.000Z",sroMembership:!0,status:"active",notes:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}].slice(0,t).filter(o=>!r.some(A=>A.inn===o.inn||A.name.toLowerCase()===o.name.toLowerCase()));if(s.length>0){const o=[...r,...s];this.saveCompanies(o),console.log(`Создано ${s.length} демо-компаний`)}return s.length}async loadInitialData(t=!1,r=20){if(localStorage.getItem("cms_appraisal_companies_initial_data_loaded")==="true"&&!t)return console.log("Начальные данные уже загружены, пропускаем"),0;try{console.log("Начинаем загрузку начальных данных из reestr_otsenschikov.xls (лимит:",r,")...");const n=await fetch("/reestr_apr/reestr_otsenschikov.xls");if(!n.ok){console.warn("Файл reestr_otsenschikov.xls не найден, создаем демо-данные:",n.status,n.statusText);const l=this.createDemoCompanies(r);return l>0&&localStorage.setItem("cms_appraisal_companies_initial_data_loaded","true"),l}const s=await n.blob();if(console.log("Файл загружен, размер:",s.size,"байт"),s.size===0){console.warn("Файл пуст, создаем демо-данные");const l=this.createDemoCompanies(r);return l>0&&localStorage.setItem("cms_appraisal_companies_initial_data_loaded","true"),l}const o=new File([s],"reestr_otsenschikov.xls",{type:"application/vnd.ms-excel"}),A=await this.loadFromExcelFile(o,r);if(console.log("Импортировано компаний:",A),A===0){console.warn("Из файла ничего не импортировано, создаем демо-данные");const l=this.createDemoCompanies(r);return l>0&&localStorage.setItem("cms_appraisal_companies_initial_data_loaded","true"),l}return A>0&&localStorage.setItem("cms_appraisal_companies_initial_data_loaded","true"),A}catch(n){console.error("Ошибка загрузки начальных данных:",n),console.error("Детали ошибки:",n.message,n.stack),console.warn("Создаем демо-данные из-за ошибки загрузки файла");const s=this.createDemoCompanies(r);return s>0&&localStorage.setItem("cms_appraisal_companies_initial_data_loaded","true"),s}}}const Nl=new l$,{TextArea:VE}=Re,c$=({initialValues:e,onSubmit:t,onCancel:r,loading:a})=>{const[n]=ne.useForm();K.useEffect(()=>{e?n.setFieldsValue({...e,accreditationDate:e.accreditationDate?We(e.accreditationDate):null,certificateExpiryDate:e.certificateExpiryDate?We(e.certificateExpiryDate):null,insuranceExpiryDate:e.insuranceExpiryDate?We(e.insuranceExpiryDate):null}):(n.resetFields(),n.setFieldsValue({status:"active"}))},[e,n]);const s=o=>{const A={...o,accreditationDate:o.accreditationDate?o.accreditationDate.toISOString():null,certificateExpiryDate:o.certificateExpiryDate?o.certificateExpiryDate.toISOString():null,insuranceExpiryDate:o.insuranceExpiryDate?o.insuranceExpiryDate.toISOString():null};t(A)};return i.jsxs(ne,{form:n,layout:"vertical",onFinish:s,disabled:a,children:[i.jsxs(Me,{title:"Основная информация",size:"small",style:{marginBottom:16},children:[i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"name",label:"Наименование компании",rules:[{required:!0,message:"Введите наименование компании"}],children:i.jsx(Re,{placeholder:'ООО "Название компании"'})})}),i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"status",label:"Статус аккредитации",children:i.jsxs(Ve,{children:[i.jsx(Ve.Option,{value:"active",children:"Активна"}),i.jsx(Ve.Option,{value:"suspended",children:"Приостановлена"}),i.jsx(Ve.Option,{value:"revoked",children:"Отозвана"})]})})})]}),i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:8,children:i.jsx(ne.Item,{name:"inn",label:"ИНН",children:i.jsx(Re,{placeholder:"1234567890"})})}),i.jsx(be,{span:8,children:i.jsx(ne.Item,{name:"ogrn",label:"ОГРН",children:i.jsx(Re,{placeholder:"1234567890123"})})}),i.jsx(be,{span:8,children:i.jsx(ne.Item,{name:"accreditationDate",label:"Дата аккредитации",children:i.jsx(kr,{style:{width:"100%"}})})})]})]}),i.jsx(Me,{title:"Контактная информация",size:"small",style:{marginBottom:16},children:i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"address",label:"Адрес",children:i.jsx(VE,{rows:2,placeholder:"Полный адрес компании"})})}),i.jsxs(be,{span:12,children:[i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"phone",label:"Телефон",children:i.jsx(Re,{placeholder:"+7 (999) 123-45-67"})})}),i.jsx(be,{span:12,children:i.jsx(ne.Item,{name:"email",label:"Email",children:i.jsx(Re,{placeholder:"info@company.ru"})})})]}),i.jsx(ne.Item,{name:"website",label:"Сайт",children:i.jsx(Re,{placeholder:"https://www.company.ru"})})]})]})}),i.jsx(Me,{title:"Сертификаты и страхование",size:"small",style:{marginBottom:16},children:i.jsxs(dt,{gutter:16,children:[i.jsx(be,{span:8,children:i.jsx(ne.Item,{name:"certificateExpiryDate",label:"Срок действия сертификатов",children:i.jsx(kr,{style:{width:"100%"}})})}),i.jsx(be,{span:8,children:i.jsx(ne.Item,{name:"insuranceExpiryDate",label:"Срок действия страхования",children:i.jsx(kr,{style:{width:"100%"}})})}),i.jsx(be,{span:8,children:i.jsx(ne.Item,{name:"sroMembership",label:"Членство в СРО",valuePropName:"checked",children:i.jsx(tl,{children:"Да, является членом СРО"})})})]})}),i.jsx(Me,{title:"Дополнительная информация",size:"small",style:{marginBottom:16},children:i.jsx(ne.Item,{name:"notes",label:"Примечания",children:i.jsx(VE,{rows:4,placeholder:"Дополнительная информация о компании"})})}),i.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8},children:[i.jsx(Ce,{onClick:r,children:"Отмена"}),i.jsx(Ce,{type:"primary",htmlType:"submit",loading:a,children:"Сохранить"})]})]})},d$=()=>{const[e,t]=K.useState([]),[r,a]=K.useState(!1),[n,s]=K.useState(null),[o,A]=K.useState(!1),[l,c]=K.useState(""),[d,f]=K.useState(!1);K.useEffect(()=>{(async()=>{try{const S=await Nl.loadInitialData();S>0?Te.success(`Загружено компаний из реестра: ${S}`):localStorage.getItem("cms_appraisal_companies_initial_data_loaded")!=="true"&&Te.warning("Не удалось загрузить данные из файла. Проверьте консоль для деталей.")}catch(S){console.error("Ошибка инициализации данных:",S),Te.error(`Ошибка загрузки данных: ${S.message||"Неизвестная ошибка"}`)}finally{p()}})()},[]);const p=()=>{t(Nl.getAll())},u=()=>{s(null),a(!0)},g=_=>{s(_),a(!0)},h=_=>{lr.confirm({title:"Удалить компанию?",content:"Это действие нельзя отменить",onOk:()=>{Nl.delete(_),Te.success("Компания удалена"),p()}})},y=_=>{Te.info(`Запрос документов для компании "${_.name}" отправлен`)},x=async _=>{f(!0);try{let S=0;if(_.name.endsWith(".xls")||_.name.endsWith(".xlsx"))return S=await Nl.loadFromExcelFile(_,20,!0),Te.success(`Импортировано компаний: ${S}`),p(),f(!1),!1;const O=await _.text();let M=[];if(_.name.endsWith(".json"))M=JSON.parse(O);else{const I=O.split(`
`).filter(L=>L.trim()),D=I[0].split(/\t|,/).map(L=>L.trim());for(let L=1;L<I.length;L++){const N=I[L].split(/\t|,/).map(Q=>Q.trim()),P={};D.forEach((Q,J)=>{const te=N[J]||"";Q.toLowerCase().includes("наименование")||Q.toLowerCase().includes("название")?P.name=te:Q.toLowerCase().includes("инн")?P.inn=te:Q.toLowerCase().includes("огрн")?P.ogrn=te:Q.toLowerCase().includes("адрес")?P.address=te:Q.toLowerCase().includes("телефон")?P.phone=te:Q.toLowerCase().includes("email")?P.email=te:Q.toLowerCase().includes("руководитель")||Q.toLowerCase().includes("директор")?P.director=te:Q.toLowerCase().includes("лицензия")?P.licenseNumber=te:P[Q]=te}),P.name&&M.push({...P,status:"active"})}}for(const I of M)I.name&&(Nl.create(I),S++);Te.success(`Импортировано компаний: ${S}`),p()}catch(S){console.error("Ошибка импорта:",S),Te.error(`Ошибка импорта файла: ${S.message||"Неизвестная ошибка"}`)}finally{f(!1)}return!1},v={beforeUpload:_=>(x(_),!1),showUploadList:!1,accept:".csv,.tsv,.txt,.json,.xls,.xlsx"},E=_=>{A(!0);try{n?(Nl.update(n.id,_),Te.success("Компания обновлена")):(Nl.create(_),Te.success("Компания создана")),a(!1),p()}catch{Te.error("Ошибка при сохранении")}finally{A(!1)}},R=K.useMemo(()=>{const _=l.trim().toLowerCase();return e.filter(S=>!_||[S.name,S.inn,S.address,S.phone,S.website].filter(Boolean).some(O=>String(O).toLowerCase().includes(_)))},[e,l]),b=K.useMemo(()=>{const _=R.length,S=R.filter(I=>I.status==="active").length,O=R.filter(I=>I.status==="suspended").length,M=R.filter(I=>I.status==="revoked").length;return{total:_,active:S,suspended:O,revoked:M}},[R]),T=[{title:"Наименование",dataIndex:"name",key:"name",width:250,render:(_,S)=>i.jsx(Ce,{type:"link",onClick:()=>g(S),style:{padding:0},children:_})},{title:"ИНН",dataIndex:"inn",key:"inn",width:120},{title:"Адрес",dataIndex:"address",key:"address",ellipsis:!0,width:300},{title:"Сайт",dataIndex:"website",key:"website",width:200,render:_=>_?i.jsx("a",{href:_.startsWith("http")?_:`https://${_}`,target:"_blank",rel:"noopener noreferrer",children:_}):i.jsx("span",{style:{color:"#999"},children:"—"})},{title:"Телефон",dataIndex:"phone",key:"phone",width:150},{title:"Срок действия сертификатов",dataIndex:"certificateExpiryDate",key:"certificateExpiryDate",width:180,render:_=>_?i.jsx("span",{children:new Date(_).toLocaleDateString("ru-RU")}):i.jsx("span",{style:{color:"#999"},children:"—"})},{title:"Срок действия страхования",dataIndex:"insuranceExpiryDate",key:"insuranceExpiryDate",width:180,render:_=>_?i.jsx("span",{children:new Date(_).toLocaleDateString("ru-RU")}):i.jsx("span",{style:{color:"#999"},children:"—"})},{title:"Членство в СРО",dataIndex:"sroMembership",key:"sroMembership",width:140,render:_=>i.jsx(et,{color:_?"green":"default",children:_?"Да":"Нет"})},{title:"Статус",dataIndex:"status",key:"status",width:120,render:_=>{const S={active:"green",suspended:"orange",revoked:"red"},O={active:"Активна",suspended:"Приостановлена",revoked:"Отозвана"};return i.jsx(et,{color:S[_]||"default",children:O[_]||_})}},{title:"Действия",key:"actions",width:200,fixed:"right",render:(_,S)=>i.jsxs(Oe,{children:[i.jsx(Ce,{icon:i.jsx(Dr,{}),size:"small",onClick:()=>y(S),title:"Запросить документы",children:"Документы"}),i.jsx(Ce,{icon:i.jsx(Ri,{}),size:"small",onClick:()=>g(S),title:"Редактировать"}),i.jsx(Ce,{icon:i.jsx(Ss,{}),size:"small",danger:!0,onClick:()=>h(S.id),title:"Удалить"})]})}];return i.jsxs("div",{className:"appraisal-companies-page",children:[i.jsxs("div",{style:{marginBottom:16},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[i.jsx("h2",{style:{margin:0},children:"Реестр оценочных компаний"}),i.jsxs(Oe,{children:[i.jsx(Xi,{...v,children:i.jsx(Ce,{icon:i.jsx(Ni,{}),loading:d,children:"Импорт из файла"})}),i.jsx(Ce,{type:"primary",icon:i.jsx(wi,{}),onClick:u,children:"Добавить компанию"})]})]}),i.jsx(Re,{allowClear:!0,size:"large",placeholder:"Поиск по названию, ИНН, адресу, телефону, сайту...",prefix:i.jsx(qa,{}),value:l,onChange:_=>c(_.target.value),style:{width:400,marginBottom:16}})]}),i.jsx(Me,{style:{marginBottom:16},children:i.jsxs(dt,{gutter:[16,16],children:[i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(ut,{title:"Всего компаний",value:b.total})}),i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(ut,{title:"Активных",value:b.active,valueStyle:{color:"#3f8600"}})}),i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(ut,{title:"Приостановленных",value:b.suspended,valueStyle:{color:"#fa8c16"}})}),i.jsx(be,{xs:24,sm:12,md:6,children:i.jsx(ut,{title:"Отозванных",value:b.revoked,valueStyle:{color:"#cf1322"}})})]})}),i.jsx(Me,{bodyStyle:{padding:0},children:i.jsx(nr,{columns:T,dataSource:R,rowKey:"id",pagination:{pageSize:10,showSizeChanger:!0},scroll:{x:1400},onRow:_=>({onDoubleClick:()=>g(_)})})}),i.jsx(lr,{title:i.jsxs(Oe,{children:[i.jsx("span",{children:n?"Редактирование компании":"Добавление компании"}),n&&i.jsx(et,{color:n.status==="active"?"green":"orange",children:n.status==="active"?"Активна":n.status==="suspended"?"Приостановлена":"Отозвана"})]}),open:r,onCancel:()=>a(!1),footer:null,width:"95%",style:{top:10},styles:{body:{maxHeight:"85vh",overflowY:"auto",padding:"16px"}},destroyOnClose:!0,children:i.jsx(c$,{initialValues:n||{},onSubmit:E,onCancel:()=>a(!1),loading:o})})]})},{Text:$E}=ht,Yp=[{key:"registry",label:"Реестр объектов",description:"Карточки залогового имущества"},{key:"portfolio",label:"Залоговый портфель",description:"Данные портфеля сделок"},{key:"collateral-dossier",label:"Залоговое досье",description:"Информация по сделкам"},{key:"collateral-conclusions",label:"Заключения по залогу",description:"Заключения и оценки"},{key:"tasks",label:"Задачи",description:"Задачи и поручения"},{key:"kpi",label:"KPI",description:"Ключевые показатели эффективности"},{key:"reports",label:"Отчеты",description:"Аналитические отчеты"},{key:"insurance",label:"Страхование",description:"Страховые полисы"},{key:"fnp",label:"ФНП",description:"Данные ФНП сервиса"},{key:"analytics",label:"Аналитика",description:"Аналитические данные"},{key:"credit-risk",label:"Кредитные риски",description:"Данные по рискам"},{key:"appraisal",label:"Оценка",description:"Данные оценок"},{key:"cms-check",label:"CMS Check",description:"Данные дистанционных осмотров"},{key:"egrn",label:"ЕГРН",description:"Данные ЕГРН"},{key:"monitoring",label:"Мониторинг",description:"Планы мониторинга и переоценки"},{key:"employees",label:"Сотрудники",description:"Данные сотрудников и их права"},{key:"reference-data",label:"Справочники",description:"Все справочники системы"},{key:"settings",label:"Настройки",description:"Настройки приложения"}],u$=({visible:e,onClose:t})=>{const[r]=ne.useForm(),[a,n]=K.useState(!1),[s,o]=K.useState([]),A=()=>{const d=Yp.map(f=>f.key);o(d),r.setFieldsValue({modules:d})},l=()=>{o([]),r.setFieldsValue({modules:[]})},c=async()=>{var d;try{const p=(await r.validateFields()).modules||[];if(p.length===0){Te.warning("Выберите хотя бы один модуль для выгрузки");return}n(!0);const u={version:"1.0.0",exportDate:new Date().toISOString(),modules:{}};for(const v of p)try{switch(v){case"registry":{const E=await Dt.getExtendedCards();u.modules.registry=E;break}case"portfolio":u.modules.portfolio=[];break;case"collateral-dossier":u.modules["collateral-dossier"]=[];break;case"collateral-conclusions":u.modules["collateral-conclusions"]=[];break;case"tasks":u.modules.tasks=[];break;case"kpi":u.modules.kpi=[];break;case"reports":u.modules.reports=[];break;case"insurance":u.modules.insurance=[];break;case"fnp":u.modules.fnp=[];break;case"analytics":u.modules.analytics=[];break;case"credit-risk":u.modules["credit-risk"]=[];break;case"appraisal":u.modules.appraisal=[];break;case"cms-check":u.modules["cms-check"]=[];break;case"egrn":u.modules.egrn=[];break;case"monitoring":u.modules.monitoring=[];break;case"employees":{const E=pr.getEmployees();u.modules.employees=E;break}case"reference-data":{const E=On.getDictionaries();u.modules["reference-data"]=E;break}case"settings":{const E=await Dt.getSettings();u.modules.settings=E;break}}}catch(E){console.error(`Ошибка выгрузки модуля ${v}:`,E),Te.warning(`Не удалось выгрузить данные модуля "${(d=Yp.find(R=>R.key===v))==null?void 0:d.label}"`)}const g=JSON.stringify(u,null,2),h=new Blob([g],{type:"application/json"}),y=URL.createObjectURL(h),x=document.createElement("a");x.href=y,x.download=`cms-migration-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(y),Te.success(`Данные успешно выгружены. Выбрано модулей: ${p.length}`),t()}catch(f){console.error("Ошибка выгрузки данных:",f),Te.error("Ошибка при выгрузке данных")}finally{n(!1)}};return i.jsx(lr,{title:i.jsxs(Oe,{children:[i.jsx(Fn,{}),i.jsx("span",{children:"Выгрузить форму для миграции"})]}),open:e,onCancel:t,width:800,footer:[i.jsx(Ce,{onClick:t,children:"Отмена"},"cancel"),i.jsx(Ce,{onClick:A,children:"Выбрать все"},"select-all"),i.jsx(Ce,{onClick:l,children:"Снять все"},"deselect-all"),i.jsx(Ce,{type:"primary",icon:i.jsx(Fn,{}),loading:a,onClick:c,children:"Выгрузить"},"export")],children:i.jsxs(ne,{form:r,layout:"vertical",children:[i.jsx("div",{style:{marginBottom:16},children:i.jsx($E,{type:"secondary",children:"Выберите модули CMS, данные из которых необходимо выгрузить. Будет создан JSON файл с данными выбранных модулей."})}),i.jsx(kt,{}),i.jsx(ne.Item,{name:"modules",rules:[{validator:(d,f)=>!f||f.length===0?Promise.reject(new Error("Выберите хотя бы один модуль")):Promise.resolve()}],children:i.jsx(tl.Group,{value:s,onChange:d=>{o(d),r.setFieldsValue({modules:d})},style:{width:"100%"},children:i.jsx(dt,{gutter:[16,16],children:Yp.map(d=>i.jsx(be,{xs:24,sm:12,lg:8,children:i.jsx(tl,{value:d.key,style:{width:"100%"},children:i.jsxs("div",{children:[i.jsx("div",{style:{fontWeight:500},children:d.label}),i.jsx("div",{style:{fontSize:"12px",color:"#8c8c8c"},children:d.description})]})})},d.key))})})}),i.jsx("div",{style:{marginTop:16,padding:12,backgroundColor:"#f0f2f5",borderRadius:4},children:i.jsxs($E,{type:"secondary",style:{fontSize:"12px"},children:["Выбрано модулей: ",i.jsx("strong",{children:s.length})," из ",Yp.length]})})]})})},{Text:f$}=ht,{Dragger:p$}=Xi,h$=({visible:e,onClose:t})=>{const[r]=ne.useForm(),[a,n]=K.useState(!1),[s,o]=K.useState([]),[A,l]=K.useState([]),[c,d]=K.useState(!1),f=nA(),p=h=>{o(h.fileList),l([]),d(!1)},u=async()=>{if(s.length===0){Te.warning("Выберите файл для загрузки");return}const h=s[0].originFileObj;if(!h){Te.error("Файл не найден");return}n(!0),l([]),d(!1);try{const y=await h.text();let x;try{x=JSON.parse(y)}catch{Te.error("Неверный формат файла. Ожидается JSON файл."),n(!1);return}if(!x.modules||typeof x.modules!="object"){Te.error("Неверная структура файла миграции"),n(!1);return}const v=[];for(const[b,T]of Object.entries(x.modules))try{let _=0;switch(b){case"registry":if(Array.isArray(T)){for(const O of T)await Dt.saveExtendedCard(O),_++;const S=await Dt.getExtendedCards();f(af(S))}v.push({module:"Реестр объектов",success:!0,count:_});break;case"portfolio":v.push({module:"Залоговый портфель",success:!0,count:0});break;case"collateral-dossier":v.push({module:"Залоговое досье",success:!0,count:0});break;case"collateral-conclusions":v.push({module:"Заключения по залогу",success:!0,count:0});break;case"tasks":v.push({module:"Задачи",success:!0,count:0});break;case"kpi":v.push({module:"KPI",success:!0,count:0});break;case"reports":v.push({module:"Отчеты",success:!0,count:0});break;case"insurance":v.push({module:"Страхование",success:!0,count:0});break;case"fnp":v.push({module:"ФНП",success:!0,count:0});break;case"analytics":v.push({module:"Аналитика",success:!0,count:0});break;case"credit-risk":v.push({module:"Кредитные риски",success:!0,count:0});break;case"appraisal":v.push({module:"Оценка",success:!0,count:0});break;case"cms-check":v.push({module:"CMS Check",success:!0,count:0});break;case"egrn":v.push({module:"ЕГРН",success:!0,count:0});break;case"monitoring":v.push({module:"Мониторинг",success:!0,count:0});break;case"employees":if(Array.isArray(T))for(const S of T)try{if(S.id&&pr.getEmployeeById(S.id)){const{id:N,...P}=S;delete P.createdAt,delete P.updatedAt,pr.updateEmployee(N,P),_++;continue}const{id:O,createdAt:M,updatedAt:I,...D}=S;pr.addEmployee(D),_++}catch(O){console.error("Ошибка импорта сотрудника:",O)}v.push({module:"Сотрудники",success:!0,count:_});break;case"reference-data":if(Array.isArray(T)){const O=[...On.getDictionaries()];for(const M of T)try{const I=O.findIndex(D=>D.id===M.id);I!==-1?O[I]={...O[I],...M,updatedAt:new Date().toISOString()}:O.push({...M,updatedAt:new Date().toISOString()}),_++}catch(I){console.error("Ошибка импорта справочника:",I)}On.saveDictionaries(O)}v.push({module:"Справочники",success:!0,count:_});break;case"settings":T&&(await Dt.saveSettings(T),_=1),v.push({module:"Настройки",success:!0,count:_});break;default:v.push({module:b,success:!1,count:0,error:"Неизвестный модуль"})}}catch(_){v.push({module:b,success:!1,count:0,error:_.message||"Ошибка импорта"})}l(v),d(!0);const E=v.filter(b=>b.success).length,R=v.reduce((b,T)=>b+T.count,0);E===v.length?Te.success(`Импорт завершен успешно. Импортировано записей: ${R}`):Te.warning(`Импорт завершен с ошибками. Успешно: ${E}/${v.length}`)}catch(y){console.error("Ошибка импорта данных:",y),Te.error(`Ошибка при импорте данных: ${y.message}`)}finally{n(!1)}},g=()=>{o([]),l([]),d(!1),r.resetFields(),t()};return i.jsx(lr,{title:i.jsxs(Oe,{children:[i.jsx(Ni,{}),i.jsx("span",{children:"Загрузить форму"})]}),open:e,onCancel:g,width:700,footer:[i.jsx(Ce,{onClick:g,children:c?"Закрыть":"Отмена"},"cancel"),...c?[]:[i.jsx(Ce,{type:"primary",icon:i.jsx(Ni,{}),loading:a,onClick:u,disabled:s.length===0,children:"Загрузить данные"},"import")]],children:i.jsx(ne,{form:r,layout:"vertical",children:c?i.jsxs(i.Fragment,{children:[i.jsx(Ir,{message:"Импорт завершен",description:"Результаты импорта данных из файла миграции",type:A.every(h=>h.success)?"success":"warning",showIcon:!0,style:{marginBottom:16}}),i.jsx(Ar,{dataSource:A,renderItem:h=>i.jsx(Ar.Item,{children:i.jsx(Ar.Item.Meta,{avatar:h.success?i.jsx(Nn,{style:{color:"#52c41a",fontSize:"20px"}}):i.jsx(ZA,{style:{color:"#ff4d4f",fontSize:"20px"}}),title:i.jsxs(Oe,{children:[i.jsx("span",{children:h.module}),h.success&&h.count>0&&i.jsxs(et,{color:"blue",children:[h.count," записей"]}),!h.success&&i.jsx(et,{color:"red",children:"Ошибка"})]}),description:h.error||(h.success?"Успешно импортировано":"")})})})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{style:{marginBottom:16},children:i.jsx(f$,{type:"secondary",children:"Выберите JSON файл миграции для загрузки данных в модули CMS. Данные будут импортированы в соответствующие модули системы."})}),i.jsx(kt,{}),i.jsx(ne.Item,{name:"file",rules:[{required:!0,message:"Выберите файл для загрузки"}],children:i.jsxs(p$,{accept:".json",fileList:s,onChange:p,beforeUpload:()=>!1,maxCount:1,children:[i.jsx("p",{className:"ant-upload-drag-icon",children:i.jsx(yb,{})}),i.jsx("p",{className:"ant-upload-text",children:"Нажмите или перетащите файл сюда для загрузки"}),i.jsx("p",{className:"ant-upload-hint",children:"Поддерживается только формат JSON"})]})}),i.jsx(Ir,{message:"Внимание",description:"При импорте данных существующие записи могут быть перезаписаны. Рекомендуется создать резервную копию перед импортом.",type:"warning",showIcon:!0,style:{marginTop:16}})]})})})},m$=async e=>{const t=[];for(const o of e)try{switch(o){case"registry":{const A=await Dt.getExtendedCards();for(const l of A){const c={module:"registry",id:l.id,number:l.number,name:l.name,mainCategory:l.mainCategory,status:l.status,cbCode:l.cbCode,propertyType:l.propertyType,reference:l.reference,contractNumber:l.contractNumber,contractId:l.contractId,marketValue:l.marketValue,pledgeValue:l.pledgeValue,notes:l.notes,suspensiveConditions:l.suspensiveConditions,egrnStatementDate:l.egrnStatementDate,partners:JSON.stringify(l.partners||[]),address:JSON.stringify(l.address||{}),characteristics:JSON.stringify(l.characteristics||{}),classification:JSON.stringify(l.classification||{})};t.push(c)}break}case"employees":{const A=pr.getEmployees();for(const l of A){const c={module:"employees",id:l.id,firstName:l.firstName,lastName:l.lastName,middleName:l.middleName,email:l.email,phone:l.phone,position:l.position,department:l.department,region:l.region,permissions:JSON.stringify(l.permissions||[]),isActive:l.isActive};t.push(c)}break}case"reference-data":{const A=On.getDictionaries();for(const l of A){const c={module:"reference-data",id:l.id,code:l.code,name:l.name,description:l.description,items:JSON.stringify(l.items||[])};t.push(c)}break}case"cms-check":{const A=await Sa.getInspections();for(const l of A){const c={module:"cms-check",id:l.id,inspectionType:l.inspectionType,status:l.status,inspectionDate:l.inspectionDate instanceof Date?l.inspectionDate.toISOString():l.inspectionDate,collateralCardId:l.collateralCardId,collateralName:l.collateralName,inspectorId:l.inspectorId,inspectorName:l.inspectorName,condition:l.condition,photos:JSON.stringify(l.photos||[]),notes:l.notes,defects:JSON.stringify(l.defects||[]),recommendations:JSON.stringify(l.recommendations||[])};t.push(c)}break}}}catch(A){console.error(`Ошибка экспорта модуля ${o}:`,A)}if(t.length===0)throw new Error("Нет данных для экспорта");const r=pi.json_to_sheet(t),a=pi.book_new();pi.book_append_sheet(a,r,"Массовые изменения");const n=30;r["!cols"]=Object.keys(t[0]||{}).map(()=>({wch:n}));const s=`bulk-edit-${new Date().toISOString().split("T")[0]}.xlsx`;Lh(a,s)},g$=async e=>{const t=await e.arrayBuffer(),r=dc(t,{type:"array"}),a=r.Sheets[r.SheetNames[0]];return pi.sheet_to_json(a).map(o=>{const A={module:o.Модуль||o.module||"",id:o.ID||o.id||void 0};return Object.keys(o).forEach(l=>{l!=="Модуль"&&l!=="module"&&l!=="ID"&&l!=="id"&&(A[l]=o[l])}),A})},x$=async(e,t)=>{try{switch(e){case"registry":{const r=t.partners?JSON.parse(String(t.partners)):[],a=t.address?JSON.parse(String(t.address)):void 0,n=t.characteristics?JSON.parse(String(t.characteristics)):{},s=t.classification?JSON.parse(String(t.classification)):{},o={id:t.id||`card-${Date.now()}-${Math.random()}`,number:t.number||"",name:t.name||"",mainCategory:t.mainCategory||"real_estate",status:t.status||"editing",cbCode:t.cbCode||0,propertyType:t.propertyType,reference:t.reference,contractNumber:t.contractNumber,contractId:t.contractId,marketValue:t.marketValue,pledgeValue:t.pledgeValue,notes:t.notes,suspensiveConditions:t.suspensiveConditions,egrnStatementDate:t.egrnStatementDate,partners:r,address:a,characteristics:n,classification:s,documents:[],createdAt:t.id?new Date:new Date,updatedAt:new Date};if(t.id){const A=await Dt.getExtendedCardById(t.id);if(A)return o.createdAt=A.createdAt,await Dt.saveExtendedCard(o),{success:!0,created:!1}}return await Dt.saveExtendedCard(o),{success:!0,created:!0}}case"employees":{const r=t.permissions?JSON.parse(String(t.permissions)):[],a={firstName:t.firstName||"",lastName:t.lastName||"",middleName:t.middleName,email:t.email,phone:t.phone,position:t.position||"",department:t.department,region:t.region||"",permissions:r,isActive:t.isActive!==void 0?!!t.isActive:!0};return t.id&&pr.getEmployeeById(t.id)?(pr.updateEmployee(t.id,a),{success:!0,created:!1}):(pr.addEmployee(a),{success:!0,created:!0})}case"reference-data":{const r=t.items?JSON.parse(String(t.items)):[],a={id:t.id||`dict-${Date.now()}-${Math.random()}`,code:t.code||"",name:t.name||"",description:t.description,items:r,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},n=On.getDictionaries();if(t.id){const s=n.findIndex(o=>o.id===t.id);if(s!==-1)return n[s]={...n[s],...a,createdAt:n[s].createdAt},On.saveDictionaries(n),{success:!0,created:!1}}return n.push(a),On.saveDictionaries(n),{success:!0,created:!0}}case"cms-check":{const r=t.photos?JSON.parse(String(t.photos)):[],a=t.defects?JSON.parse(String(t.defects)):[],n=t.recommendations?JSON.parse(String(t.recommendations)):[],s=t.inspectionDate?typeof t.inspectionDate=="string"?new Date(t.inspectionDate):t.inspectionDate:new Date;if(t.id){const A=await Sa.getInspectionById(t.id);if(A){const l={inspectionType:t.inspectionType||A.inspectionType,status:t.status||A.status,inspectionDate:s,collateralCardId:t.collateralCardId||A.collateralCardId,collateralName:t.collateralName||A.collateralName,inspectorId:t.inspectorId||A.inspectorId,inspectorName:t.inspectorName||A.inspectorName,condition:t.condition||A.condition,photos:r,notes:t.notes||A.notes,defects:a,recommendations:n,updatedAt:new Date};return await Sa.updateInspection(t.id,l),{success:!0,created:!1}}}const o={inspectorType:"employee",history:[{id:`hist-${Date.now()}`,date:new Date,action:"created",user:"Система",userRole:"creator",comment:"Осмотр создан через массовое редактирование",status:t.status||"scheduled"}],inspectionType:t.inspectionType||"primary",status:t.status||"scheduled",inspectionDate:s,collateralCardId:t.collateralCardId||"",collateralName:t.collateralName||"",inspectorId:t.inspectorId||"",inspectorName:t.inspectorName||"",condition:t.condition||"good",photos:r,notes:t.notes,defects:a,recommendations:n};return await Sa.createInspection(o),{success:!0,created:!0}}default:return{success:!1,created:!1,error:`Неизвестный модуль: ${e}`}}}catch(r){return{success:!1,created:!1,error:String(r)}}},{Text:YE}=ht,WE=[{key:"registry",label:"Реестр объектов",description:"Карточки залогового имущества"},{key:"employees",label:"Сотрудники",description:"Данные сотрудников и их права"},{key:"reference-data",label:"Справочники",description:"Все справочники системы"},{key:"cms-check",label:"CMS Check",description:"Данные дистанционных осмотров"}],y$=({visible:e,onClose:t})=>{const[r]=ne.useForm(),[a,n]=K.useState(!1),[s,o]=K.useState([]),A=()=>{const d=WE.map(f=>f.key);o(d),r.setFieldsValue({modules:d})},l=()=>{o([]),r.setFieldsValue({modules:[]})},c=async()=>{try{const f=(await r.validateFields()).modules||[];if(f.length===0){Te.warning("Выберите хотя бы один модуль для выгрузки");return}n(!0);try{await m$(f),Te.success(`Данные успешно выгружены в XLS. Выбрано модулей: ${f.length}`),t()}catch(p){console.error("Ошибка выгрузки данных:",p),Te.error(`Ошибка при выгрузке данных: ${p.message||"Неизвестная ошибка"}`)}}catch(d){console.error("Ошибка валидации:",d)}finally{n(!1)}};return i.jsx(lr,{title:i.jsxs(Oe,{children:[i.jsx(Fn,{}),i.jsx("span",{children:"Выгрузить данные для массовых изменений"})]}),open:e,onCancel:t,width:700,footer:[i.jsx(Ce,{onClick:t,children:"Отмена"},"cancel"),i.jsx(Ce,{type:"primary",icon:i.jsx(Fn,{}),loading:a,onClick:c,children:"Выгрузить в XLS"},"export")],children:i.jsxs(ne,{form:r,layout:"vertical",children:[i.jsx(YE,{type:"secondary",style:{display:"block",marginBottom:16},children:'Выберите модули, данные из которых необходимо выгрузить для массовых изменений. Все данные будут выгружены в один XLS файл с колонками "Модуль" и "ID".'}),i.jsx(kt,{}),i.jsxs(Oe,{direction:"vertical",style:{width:"100%"},size:"middle",children:[i.jsxs(Oe,{children:[i.jsx(Ce,{size:"small",onClick:A,children:"Выбрать все"}),i.jsx(Ce,{size:"small",onClick:l,children:"Снять все"})]}),i.jsx(ne.Item,{name:"modules",rules:[{required:!0,message:"Выберите хотя бы один модуль"}],children:i.jsx(tl.Group,{value:s,onChange:d=>{o(d),r.setFieldsValue({modules:d})},style:{width:"100%"},children:i.jsx(Oe,{direction:"vertical",style:{width:"100%"},children:WE.map(d=>i.jsx(tl,{value:d.key,children:i.jsxs("div",{children:[i.jsx("div",{style:{fontWeight:500},children:d.label}),i.jsx(YE,{type:"secondary",style:{fontSize:"12px"},children:d.description})]})},d.key))})})})]})]})})},{Text:U1}=ht,{Dragger:v$}=Xi,w$=({visible:e,onClose:t})=>{const[r,a]=K.useState(!1),[n,s]=K.useState([]),[o,A]=K.useState([]),[l,c]=K.useState(!1),[d,f]=K.useState(0),p=nA(),u=y=>{s(y.fileList),A([]),c(!1),f(0)},g=async()=>{if(n.length===0){Te.warning("Выберите XLS файл для загрузки");return}const y=n[0].originFileObj;if(!y){Te.error("Файл не найден");return}if(!y.name.endsWith(".xlsx")&&!y.name.endsWith(".xls")){Te.error("Неверный формат файла. Ожидается XLS или XLSX файл.");return}a(!0),A([]),c(!1),f(0);try{const x=await g$(y);if(x.length===0){Te.warning("Файл не содержит данных"),a(!1);return}const v=new Map;x.forEach(O=>{v.has(O.module)||v.set(O.module,[]),v.get(O.module).push(O)});const E=[];let R=0;const b=x.length;for(const[O,M]of v.entries()){const I={module:O,updated:0,created:0,errors:[]};for(const D of M){try{const L=await x$(O,D);L.success?L.created?I.created++:I.updated++:I.errors.push(L.error||"Неизвестная ошибка")}catch(L){I.errors.push(`Строка ${D.id||"без ID"}: ${L.message||String(L)}`)}R++,f(Math.round(R/b*100))}E.push(I)}try{const O=await Dt.getExtendedCards();p(af(O))}catch(O){console.warn("Не удалось обновить Redux store:",O)}A(E),c(!0);const T=E.reduce((O,M)=>O+M.updated,0),_=E.reduce((O,M)=>O+M.created,0),S=E.reduce((O,M)=>O+M.errors.length,0);S===0?Te.success(`Импорт завершен: обновлено ${T}, создано ${_} записей`):Te.warning(`Импорт завершен с ошибками: обновлено ${T}, создано ${_}, ошибок: ${S}`)}catch(x){console.error("Ошибка импорта данных:",x),Te.error(`Ошибка при импорте данных: ${x.message||"Неизвестная ошибка"}`)}finally{a(!1)}},h=y=>({registry:"Реестр объектов",employees:"Сотрудники","reference-data":"Справочники","cms-check":"CMS Check"})[y]||y;return i.jsx(lr,{title:i.jsxs(Oe,{children:[i.jsx(Ni,{}),i.jsx("span",{children:"Загрузить файл массовых изменений"})]}),open:e,onCancel:t,width:800,footer:[i.jsx(Ce,{onClick:t,disabled:r,children:l?"Закрыть":"Отмена"},"cancel"),i.jsx(Ce,{type:"primary",icon:i.jsx(Ni,{}),loading:r,onClick:g,disabled:n.length===0||l,children:"Загрузить и применить изменения"},"import")],children:i.jsxs(Oe,{direction:"vertical",style:{width:"100%"},size:"large",children:[i.jsx(U1,{type:"secondary",children:'Загрузите XLS файл с массовыми изменениями. Файл должен содержать колонки "Модуль" и "ID". Записи с существующим ID будут обновлены, записи без ID или с новым ID будут созданы.'}),i.jsxs(v$,{fileList:n,onChange:u,beforeUpload:()=>!1,accept:".xlsx,.xls",maxCount:1,children:[i.jsx("p",{className:"ant-upload-drag-icon",children:i.jsx(yb,{})}),i.jsx("p",{className:"ant-upload-text",children:"Нажмите или перетащите файл для загрузки"}),i.jsx("p",{className:"ant-upload-hint",children:"Поддерживаются файлы формата XLS и XLSX"})]}),r&&i.jsxs("div",{children:[i.jsx(Cn,{percent:d,status:"active"}),i.jsx(U1,{type:"secondary",style:{display:"block",marginTop:8},children:"Обработка данных..."})]}),l&&o.length>0&&i.jsxs("div",{children:[i.jsx(kt,{children:"Результаты импорта"}),i.jsx(Ar,{dataSource:o,renderItem:y=>i.jsx(Ar.Item,{children:i.jsx(Ar.Item.Meta,{title:i.jsxs(Oe,{children:[i.jsx("span",{children:h(y.module)}),y.errors.length===0?i.jsx(et,{color:"success",icon:i.jsx(Nn,{}),children:"Успешно"}):i.jsx(et,{color:"warning",icon:i.jsx(ZA,{}),children:"С ошибками"})]}),description:i.jsxs(Oe,{direction:"vertical",size:"small",children:[i.jsxs(U1,{children:["Обновлено: ",i.jsx("strong",{children:y.updated}),", Создано: ",i.jsx("strong",{children:y.created})]}),y.errors.length>0&&i.jsx(Ir,{type:"warning",message:"Ошибки",description:i.jsxs("ul",{style:{margin:0,paddingLeft:20},children:[y.errors.slice(0,5).map((x,v)=>i.jsx("li",{children:x},v)),y.errors.length>5&&i.jsxs("li",{children:["... и еще ",y.errors.length-5," ошибок"]})]}),style:{marginTop:8}})]})})})})]})]})})},{Title:Mu,Text:Fl}=ht,E$=()=>{const[e,t]=K.useState(!1),[r,a]=K.useState(!1),[n,s]=K.useState(!1),[o,A]=K.useState(!1),l=[{key:"migration",label:"Миграция данных",icon:i.jsx($T,{}),children:i.jsxs("div",{children:[i.jsx(Fl,{type:"secondary",style:{display:"block",marginBottom:24},children:"Выгрузка и загрузка данных из различных модулей CMS для переноса между системами или создания резервных копий. Данные выгружаются в формате JSON."}),i.jsxs(dt,{gutter:[24,24],children:[i.jsx(be,{xs:24,md:12,children:i.jsxs(Me,{hoverable:!0,style:{height:"100%",textAlign:"center"},onClick:()=>t(!0),children:[i.jsx(Fn,{style:{fontSize:"64px",color:"#1890ff",marginBottom:16}}),i.jsx(Mu,{level:4,children:"Выгрузить форму для миграции"}),i.jsx(Fl,{type:"secondary",style:{display:"block",marginTop:8},children:"Выберите модули CMS, данные из которых необходимо выгрузить. Будет создан JSON файл для миграции с выбранными данными."}),i.jsx(Ce,{type:"primary",icon:i.jsx(Fn,{}),size:"large",style:{marginTop:16},onClick:c=>{c.stopPropagation(),t(!0)},children:"Выгрузить данные"})]})}),i.jsx(be,{xs:24,md:12,children:i.jsxs(Me,{hoverable:!0,style:{height:"100%",textAlign:"center"},onClick:()=>a(!0),children:[i.jsx(Ni,{style:{fontSize:"64px",color:"#52c41a",marginBottom:16}}),i.jsx(Mu,{level:4,children:"Загрузить форму"}),i.jsx(Fl,{type:"secondary",style:{display:"block",marginTop:8},children:"Загрузите JSON файл миграции для заполнения модулей CMS данными. Данные будут импортированы в соответствующие модули системы."}),i.jsx(Ce,{type:"primary",icon:i.jsx(Ni,{}),size:"large",style:{marginTop:16,backgroundColor:"#52c41a",borderColor:"#52c41a"},onClick:c=>{c.stopPropagation(),a(!0)},children:"Загрузить данные"})]})})]})]})},{key:"bulk-edit",label:"Массовые изменения",icon:i.jsx(Ri,{}),children:i.jsxs("div",{children:[i.jsx(Fl,{type:"secondary",style:{display:"block",marginBottom:24},children:'Выгрузка данных в XLS файл для массового редактирования. После внесения изменений в файл, загрузите его обратно для обновления данных в системе. Все модули выгружаются в один лист с колонками "Модуль" и "ID".'}),i.jsxs(dt,{gutter:[24,24],children:[i.jsx(be,{xs:24,md:12,children:i.jsxs(Me,{hoverable:!0,style:{height:"100%",textAlign:"center"},onClick:()=>s(!0),children:[i.jsx(Fn,{style:{fontSize:"64px",color:"#1890ff",marginBottom:16}}),i.jsx(Mu,{level:4,children:"Выгрузить данные для редактирования"}),i.jsx(Fl,{type:"secondary",style:{display:"block",marginTop:8},children:'Выберите модули, данные из которых необходимо выгрузить в XLS файл. Все данные будут в одном файле с колонками "Модуль" и "ID".'}),i.jsx(Ce,{type:"primary",icon:i.jsx(Fn,{}),size:"large",style:{marginTop:16},onClick:c=>{c.stopPropagation(),s(!0)},children:"Выгрузить в XLS"})]})}),i.jsx(be,{xs:24,md:12,children:i.jsxs(Me,{hoverable:!0,style:{height:"100%",textAlign:"center"},onClick:()=>A(!0),children:[i.jsx(Ni,{style:{fontSize:"64px",color:"#722ed1",marginBottom:16}}),i.jsx(Mu,{level:4,children:"Загрузить измененный файл"}),i.jsx(Fl,{type:"secondary",style:{display:"block",marginTop:8},children:"Загрузите отредактированный XLS файл для применения изменений. Записи с существующим ID будут обновлены, новые записи будут созданы."}),i.jsx(Ce,{type:"primary",icon:i.jsx(Ni,{}),size:"large",style:{marginTop:16,backgroundColor:"#722ed1",borderColor:"#722ed1"},onClick:c=>{c.stopPropagation(),A(!0)},children:"Загрузить и применить"})]})})]})]})}];return i.jsxs("div",{style:{padding:"24px"},children:[i.jsxs(Me,{children:[i.jsxs("div",{style:{marginBottom:24},children:[i.jsxs(Mu,{level:2,style:{margin:0,display:"flex",alignItems:"center",gap:12},children:[i.jsx(Ni,{style:{fontSize:"32px",color:"#1890ff"}}),"Загрузка и выгрузка данных"]}),i.jsx(Fl,{type:"secondary",style:{display:"block",marginTop:8},children:"Миграция данных между системами и массовое редактирование данных через XLS файлы"})]}),i.jsx(kt,{}),i.jsx(ts,{items:l,defaultActiveKey:"migration"})]}),i.jsx(u$,{visible:e,onClose:()=>t(!1)}),i.jsx(h$,{visible:r,onClose:()=>a(!1)}),i.jsx(y$,{visible:n,onClose:()=>s(!1)}),i.jsx(w$,{visible:o,onClose:()=>A(!1)})]})},b$=["[Volhin_N.A.]_Zalogovik._Vse_o_bankovskih_zalogah_(b-ok.org).pdf","Виды залогового имущества.docx","Отнесение фондированного обеспечения к категориям качества обеспечения.docx","Документы для мониторинга залога.xlsx","Нетиповые риски.docx","Примеры заданий.docx","Оценка АЗС.docx","Оценка АЗС — копия.docx","Оценка торговых центров.docx","BusinesStat АЗС.docx","Анализ наилучшего и наиболее эффективного использования.docx","Величина физического износа объектов капитального строительства.docx","Вопросы переоценки основных средств.docx","Исследование методов оценки акций коммерческого банка.docx","Корректировка на удаленность земельных участков Московской области.docx","Коэффициент перехода на вторичный рынок.docx","Лямбда сестра омеги.docx","Метод АВС при оценке автотранспортных средств.docx","Метод дисконтирования денежных потоков.docx","Метод рыночной экстракции.docx","МЕТОДИЧЕСКОЕ РУКОВОДСТВО ПО ОПРЕДЕЛЕНИЮ СТОИМОСТИ.docx","Норма дисконта.docx","Обзор и сравнение современных отечественных и зарубежных методов оценки технического состояния зданий и сооружений.docx","ОБОСНОВАНИЕ И РАСЧЕТ ПОПРАВКИ НА ПЛОЩАДЬ.docx","Определение прибыли предпринимателя.docx","Особенности оценки имущества в деле о банкротстве.docx","Переоценка основных средств.docx","Практические аспекты расчёта ставки дисконта.docx","Применение модели Ольсона в оценке стоимости компании.docx","Расчет коэффициента капитализации.docx","Расчет ставки дисконтирования кумулятивным методом.docx","Справедливая.docx","Средняя скидка на торг при покупке жилого дома в Московской области.docx","Средняя скидка на торг при покупке земельных участков в Московской области.docx","Статистическое исследование зависимости накопленного износа автомобиля от его эффективного возраста.docx","Техника группы инвестиций.docx","FSO1.pdf","FSO2.pdf","FSO3.pdf","FSO4.pdf","FSO5.pdf","FSO6.pdf","FSO7.pdf","FSO8.pdf","FSO9.pdf","FSO10.pdf","FSO11.pdf","ocenka_biznesa_voprosy_s_otvetami.pdf","ocenka_nedvizhimosti_predpriyatiya_voprosy_s_otvetami.pdf","ocenka_nedvizhimosti_voprosy_s_otvetami.pdf","ekon_ocenka_investiciy_voprosy_s_otvetami.pdf","korrektirovki-zemelnyh-udalennosti-morya-sochi.pdf","Land_heritage_Yaskevich.pdf","Method-recommendations-determining-cadastrial-value.pdf","O-merah-korrektirovke-kadastrovoy-otsenki-zemel-poseleniy.pdf","otsenka-rynochnoy-stoimosti-uchastkov-azs-servisa.pdf","otsenka-rynochnoy-stoimosti-zemelnogo-uchastka-aeroporta.pdf","report-colliers-spb.pdf","Report-Imuschestvo-ip.pdf","Report-Market-Value-Assessment-Report-for-the-Store.pdf","Report-stoimosti-magazina-remonta-bytovoy-tehniki.pdf","Report-valuation-market-value-shares-enterprise-OJSC-BYT.pdf","stavki-diskontirovaniya-RF-pri-sankciyah.pdf","Valuation-minority-stake-in-company-OJSC-MOROZ.pdf","Valuation-report-stake-in-CJSC-Reserve.pdf"];function _S(e){const t=e.toLowerCase();return e.startsWith("~$")||t.endsWith(".doc")||t.endsWith(".pptx")||t.endsWith(".rtf")?"unknown":t.endsWith(".pdf")?"pdf":t.endsWith(".docx")?"docx":t.endsWith(".xlsx")||t.endsWith(".xls")?"xlsx":"unknown"}async function CS(e=!1){try{await hi.loadFromStorage();const t="./",r=[];let a=!1;for(const n of b$){if(n.startsWith("~$"))continue;const s=_S(n);if(s==="unknown"){console.warn(`Пропущен файл с неизвестным типом: ${n}`);continue}const o=[`${t}VND/${n}`,`./VND/${n}`,`/VND/${n}`,`VND/${n}`,`${window.location.origin}${t}VND/${n}`,`${window.location.origin}/VND/${n}`];let A=null;for(const l of o)try{const c=await fetch(l);if(c.ok){A=c;break}}catch{continue}if(A&&A.ok)try{const l=await A.blob();let c="application/octet-stream";s==="pdf"?c="application/pdf":s==="docx"?c="application/vnd.openxmlformats-officedocument.wordprocessingml.document":s==="xlsx"&&(c="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet");const d=new File([l],n,{type:c}),p=hi.getIndexedDocuments().find(u=>u.documentName===d.name);if(e||!p){console.log(`Индексирую документ: ${d.name} (тип: ${s})`);const u=await hi.indexDocument(d);r.push(u),console.log(`✅ Документ проиндексирован: ${d.name} (${u.totalPages} страниц/листов, ${u.chunks.length} чанков)`),a=!0}else console.log(`Документ уже проиндексирован: ${d.name} (${p.totalPages} страниц/листов)`),r.push(p)}catch(l){console.error(`Ошибка индексации документа ${n}:`,l)}else console.warn(`Не удалось загрузить документ из VND: ${n}`)}if(a||e){console.log("🔨 Строю базу знаний из всех документов..."),await Bn.buildFromDocuments();const n=Bn.getCategories();console.log(`✅ База знаний построена: ${n.length} категорий, ${r.length} документов`)}else{await Bn.loadFromStorage();const n=Bn.getCategories();console.log(`📚 База знаний загружена из хранилища: ${n.length} категорий, ${r.length} документов`)}if(r.length===0){const n=hi.getIndexedDocuments();if(n.length>0)return console.log(`Найдены ранее проиндексированные документы в localStorage: ${n.length}`),n;console.info('Документы не найдены. Вы можете загрузить PDF документ вручную через кнопку "Загрузить документ"')}else console.log(`✅ Всего проиндексировано документов: ${r.length}`);return r.length>0?r:hi.getIndexedDocuments()}catch(t){console.error("Ошибка загрузки документов VND:",t);try{const r=hi.getIndexedDocuments();if(r.length>0)return console.log("Загружены ранее проиндексированные документы из localStorage"),r}catch(r){console.error("Ошибка загрузки из localStorage:",r)}return[]}}async function _$(e){if(_S(e.name)==="unknown")throw new Error(`Неподдерживаемый формат файла: ${e.name}. Поддерживаются: PDF, DOCX, XLSX`);const r=await hi.indexDocument(e);return await Bn.buildFromDocuments(),r}async function C$(){return console.log("🔄 Начинаю принудительную переиндексацию всех документов..."),hi.clearIndexes(),Bn.clear(),await CS(!0)}const fh="reference_chats";function $y(e){try{const t=e.map(a=>({...a,messages:a.messages.map(n=>({...n,timestamp:n.timestamp.toISOString()})),createdAt:a.createdAt.toISOString(),updatedAt:a.updatedAt.toISOString()}));let r=JSON.stringify(t);if(r.length>4*1024*1024){const n=[...e].sort((o,A)=>A.updatedAt.getTime()-o.updatedAt.getTime()).slice(0,50),s=n.map(o=>({...o,messages:o.messages.map(A=>({...A,timestamp:A.timestamp.toISOString()})),createdAt:o.createdAt.toISOString(),updatedAt:o.updatedAt.toISOString()}));r=JSON.stringify(s),console.warn("localStorage переполнен, удалены старые чаты. Оставлено:",n.length)}localStorage.setItem(fh,r)}catch(t){if(t.name==="QuotaExceededError"||t.code===22)try{const a=[...e].sort((s,o)=>o.updatedAt.getTime()-s.updatedAt.getTime()).slice(0,20),n=a.map(s=>({...s,messages:s.messages.map(o=>({...o,timestamp:o.timestamp.toISOString()})),createdAt:s.createdAt.toISOString(),updatedAt:s.updatedAt.toISOString()}));localStorage.setItem(fh,JSON.stringify(n)),console.warn("localStorage переполнен, удалены старые чаты. Оставлено:",a.length)}catch(r){console.error("Критическая ошибка сохранения чатов, очищаем все:",r),localStorage.removeItem(fh)}else console.error("Ошибка сохранения чатов:",t)}}function m0(){try{const e=localStorage.getItem(fh);return e?JSON.parse(e).map(r=>({...r,messages:r.messages.map(a=>({...a,timestamp:new Date(a.timestamp)})),createdAt:new Date(r.createdAt),updatedAt:new Date(r.updatedAt)})):[]}catch(e){return console.error("Ошибка загрузки чатов:",e),[]}}function B$(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function M1(e){const t={id:B$(),title:`Чат ${new Date().toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}`,messages:[],createdAt:new Date,updatedAt:new Date},r=m0();return r.unshift(t),$y(r),t}function TA(){return m0().sort((e,t)=>t.updatedAt.getTime()-e.updatedAt.getTime())}function XE(e){return m0().find(r=>r.id===e)||null}function S$(e,t){const r=m0(),a=r.findIndex(n=>n.id===e);a>=0&&(r[a]={...r[a],...t,updatedAt:new Date},$y(r))}function Pu(e,t){const r=m0(),a=r.find(n=>n.id===e);if(a){if(a.messages.push(t),a.updatedAt=new Date,a.messages.length===1&&t.role==="user"){const n=t.content.substring(0,50);a.title=n.length<t.content.length?`${n}...`:n}$y(r)}}const _f=e=>(e||"").trim().toLowerCase().replace(/\s+/g," "),T$=[{key:"location",label:"Адрес/локация",placeholder:"Регион, город, улица"},{key:"areaSqm",label:"Площадь, м²",type:"number",placeholder:"Общая площадь"},{key:"floors",label:"Этажность/уровни",type:"number",placeholder:"Количество этажей"},{key:"condition",label:"Состояние",placeholder:"Например, требует ремонта/хорошее"}],O$=[{key:"location",label:"Местоположение",placeholder:"Регион, населённый пункт"},{key:"areaSqm",label:"Площадь, м²",type:"number",placeholder:"Общая площадь в кв. метрах"},{key:"landUse",label:"Назначение",placeholder:"С/х, коммерческое, ИЖС и т.д."},{key:"ownershipType",label:"Тип права",placeholder:"Собственность / аренда"}],x2=[{key:"baseLocation",label:"Место базирования",placeholder:"Город, склад, порт"},{key:"year",label:"Год выпуска",type:"number",placeholder:"Например, 2018"},{key:"condition",label:"Состояние",placeholder:"Отличное / рабочее / требует ремонта"},{key:"usageHours",label:"Наработка/пробег",placeholder:"км или моточасы"}],I$=[{key:"companyName",label:"Компания/эмитент",placeholder:"Наименование юрлица"},{key:"sharePercent",label:"Доля, %",type:"number",placeholder:"Размер доли"},{key:"financialSnapshot",label:"Финансовые показатели",placeholder:"Выручка, EBITDA, прибыль"},{key:"corporateRights",label:"Особенности прав",placeholder:"Преимущественные права, ограничения"}],N$=[{key:"debtor",label:"Должник / контрагент",placeholder:"Компания / физлицо"},{key:"claimAmount",label:"Сумма требования (₽)",type:"number",placeholder:"Номинал требования"},{key:"maturity",label:"Срок погашения",placeholder:"Дата или период"},{key:"claimType",label:"Тип права",placeholder:"Договор, уступка, ИС и т.д."}],BS=[{key:"storageLocation",label:"Место хранения",placeholder:"Склад, регион"},{key:"quantity",label:"Количество / объём",placeholder:"шт., т, м³ и т.д."},{key:"quality",label:"Качество/сорт",placeholder:"ГОСТ, сорт, бренд"},{key:"turnoverRate",label:"Оборачиваемость",placeholder:"Срок реализации / оборота"}],F$={real_estate:T$,land:O$,movable:x2,metals_goods:BS,equity:I$,rights:N$},SS=[{label:"Воздушные суда",group:"real_estate"},{label:"Все имущество залогодателя",group:"real_estate"},{label:"Доли в уставных капиталах обществ с ограниченной ответственностью",group:"equity"},{label:"Единый недвижимый комплекс",group:"real_estate"},{label:"Железнодорожный подвижной состав",group:"movable"},{label:"Здание",group:"real_estate"},{label:"Земельный участок",group:"land"},{label:"Имущественный комплекс",group:"real_estate"},{label:"Космические объекты",group:"real_estate"},{label:"Машино-место",group:"real_estate"},{label:"Машины и оборудование",group:"movable"},{label:"Наземные безрельсовые механические транспортные средства, прицепы",group:"movable"},{label:"Недвижимое имущество и права аренды недвижимого имущества",group:"real_estate"},{label:"Объект незавершенного строительства",group:"real_estate"},{label:"Плавучие сооружения",group:"movable"},{label:"Плавучие сооружения, не являющиеся судами",group:"movable"},{label:"Помещение",group:"real_estate"},{label:"Прочие движимые вещи",group:"movable"},{label:"Прочие имущественные Права требования",group:"rights"},{label:"Прочие ценные бумаги",group:"equity"},{label:"Сооружение",group:"real_estate"},{label:"Суда, используемые для иных целей",group:"real_estate"},{label:"Суда, используемые для перевозки грузов, и (или) буксировки, а также хранения грузов",group:"real_estate"},{label:"Суда, используемые для перевозки пассажиров и их багажа",group:"real_estate"},{label:"Суда, используемые для рыболовства",group:"real_estate"},{label:"Товары в обороте",group:"movable"},{label:"Эмиссионные ценные бумаги",group:"equity"}],R$=SS.reduce((e,t)=>(e[_f(t.label)]=t.group,e),{}),k$={[_f("Воздушные суда")]:x2,[_f("Железнодорожный подвижной состав")]:x2,[_f("Товары в обороте")]:BS},D$=SS.map(e=>({value:e.label,label:e.label})),j$=e=>{if(!e)return null;const t=_f(e),r=R$[t]||(t.includes("земел")?"land":t.includes("ценн")||t.includes("акц")||t.includes("дол")?"equity":t.includes("прав")?"rights":t.includes("товар")?"metals_goods":t.includes("оборуд")||t.includes("транспорт")?"movable":"real_estate");return{assetGroup:r,fields:k$[t]||F$[r]}},P1=(e,t=[])=>{if(!e)return"";const r=t.reduce((n,s)=>(n[s.key]=s.label,n),{});return Object.entries(e).filter(([,n])=>n!=null&&n!=="").map(([n,s])=>`${r[n]||n}: ${s}`).join("; ")};function L$(e){const t=e.toLowerCase().trim();return["торговый центр","торгово-развлекательный центр","офисное здание","офисный центр","бизнес-центр","склад","складской комплекс","логистический центр","гостиница","отель","гостиничный комплекс","ресторан","кафе","производственное здание","производственный комплекс","арендная недвижимость","доходная недвижимость"].some(l=>t.includes(l))?{incomeApproach:75,incomeMethods:{dcf:60,directCapitalization:80,grossRentMultiplier:70},comparativeApproach:60,comparativeMethods:{salesComparison:70,marketExtraction:50},costApproach:30,costMethods:{replacementCost:40,reproductionCost:30,depreciation:20}}:["квартира","жилое помещение","жилой дом","дом","коттедж","таунхаус","апартаменты"].some(l=>t.includes(l))?{incomeApproach:40,incomeMethods:{dcf:30,directCapitalization:50,grossRentMultiplier:40},comparativeApproach:85,comparativeMethods:{salesComparison:90,marketExtraction:80},costApproach:25,costMethods:{replacementCost:30,reproductionCost:25,depreciation:20}}:["здание","помещение","сооружение","недвижимое имущество","имущественный комплекс","единый недвижимый комплекс","объект незавершенного строительства","машино-место"].some(l=>t.includes(l))?{incomeApproach:50,incomeMethods:{dcf:45,directCapitalization:55,grossRentMultiplier:50},comparativeApproach:75,comparativeMethods:{salesComparison:80,marketExtraction:70},costApproach:40,costMethods:{replacementCost:45,reproductionCost:40,depreciation:35}}:t.includes("земельный участок")||t.includes("земля")?{incomeApproach:30,incomeMethods:{dcf:25,directCapitalization:35,grossRentMultiplier:30},comparativeApproach:80,comparativeMethods:{salesComparison:85,marketExtraction:75},costApproach:20,costMethods:{replacementCost:25,reproductionCost:20,depreciation:15}}:["наземные безрельсовые механические транспортные средства","автомобиль","транспортное средство","железнодорожный подвижной состав","плавучие сооружения","судно","воздушные суда"].some(l=>t.includes(l))?{incomeApproach:20,incomeMethods:{dcf:15,directCapitalization:25,grossRentMultiplier:20},comparativeApproach:85,comparativeMethods:{salesComparison:90,marketExtraction:80},costApproach:60,costMethods:{replacementCost:70,reproductionCost:65,depreciation:55}}:["машины и оборудование","оборудование","техника","прочие движимые вещи"].some(l=>t.includes(l))?{incomeApproach:25,incomeMethods:{dcf:20,directCapitalization:30,grossRentMultiplier:25},comparativeApproach:60,comparativeMethods:{salesComparison:65,marketExtraction:55},costApproach:80,costMethods:{replacementCost:85,reproductionCost:80,depreciation:75}}:t.includes("товары в обороте")||t.includes("товар")?{incomeApproach:15,incomeMethods:{dcf:10,directCapitalization:20,grossRentMultiplier:15},comparativeApproach:70,comparativeMethods:{salesComparison:75,marketExtraction:65},costApproach:50,costMethods:{replacementCost:55,reproductionCost:50,depreciation:45}}:["доли в уставных капиталах","доли","акции","ценные бумаги","прочие ценные бумаги","эмиссионные ценные бумаги"].some(l=>t.includes(l))?{incomeApproach:70,incomeMethods:{dcf:75,directCapitalization:65,grossRentMultiplier:60},comparativeApproach:60,comparativeMethods:{salesComparison:65,marketExtraction:55},costApproach:20,costMethods:{replacementCost:25,reproductionCost:20,depreciation:15}}:t.includes("права требования")||t.includes("права")?{incomeApproach:60,incomeMethods:{dcf:65,directCapitalization:55,grossRentMultiplier:50},comparativeApproach:40,comparativeMethods:{salesComparison:45,marketExtraction:35},costApproach:10,costMethods:{replacementCost:15,reproductionCost:10,depreciation:5}}:t.includes("космические объекты")?{incomeApproach:30,incomeMethods:{dcf:25,directCapitalization:35,grossRentMultiplier:30},comparativeApproach:40,comparativeMethods:{salesComparison:45,marketExtraction:35},costApproach:85,costMethods:{replacementCost:90,reproductionCost:85,depreciation:80}}:null}function U$(e,t,r=!0){const a=L$(t);return a?r?{...e,...a,incomeMethods:{...e.incomeMethods,...a.incomeMethods},comparativeMethods:{...e.comparativeMethods,...a.comparativeMethods},costMethods:{...e.costMethods,...a.costMethods}}:a:e}const JE="9eea4a27-e364-4888-9f9f-b8fe79761974",M$="https://api.deepai.org/api/text2img",ZE="",P$="https://api.openai.com/v1/images/generations",Q$="https://api-inference.huggingface.co/models/stabilityai/stable-diffusion-xl-base-1.0",eb="";class q${async generateImage(t,r,a){try{const n=this.buildImagePrompt(t,r,a);if(JE)try{return await this.generateWithDeepAI(n)}catch(s){console.warn("Ошибка генерации через DeepAI, пробуем альтернативы:",s)}return this.generatePlaceholderImage(t,r)}catch(n){return console.error("Ошибка генерации изображения:",n),this.generatePlaceholderImage(t,r)}}async generateWithDeepAI(t){try{const r=new FormData;r.append("text",t);const a=await fetch(M$,{method:"POST",headers:{"api-key":JE},body:r});if(!a.ok){const l=await a.text().catch(()=>"Unknown error");throw new Error(`DeepAI API error: ${a.status} - ${l}`)}const n=await a.json(),s=n.output_url||n.url;if(!s)throw new Error("DeepAI не вернул URL изображения");const o=await fetch(s);if(!o.ok)throw new Error(`Не удалось загрузить изображение: ${o.status}`);const A=await o.blob();return await this.blobToBase64(A)}catch(r){throw console.error("Ошибка генерации через DeepAI:",r),r}}async generateWithOpenAI(t){try{const r=await fetch(P$,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ZE}`},body:JSON.stringify({model:"dall-e-3",prompt:t,n:1,size:"1024x1024",quality:"standard"})});if(!r.ok)throw new Error(`OpenAI API error: ${r.status}`);const a=await r.json();if(a.data&&a.data.length>0&&a.data[0].url){const s=await(await fetch(a.data[0].url)).blob();return await this.blobToBase64(s)}throw new Error("Не удалось получить изображение от OpenAI")}catch(r){throw console.error("Ошибка генерации через OpenAI:",r),r}}async generateWithHuggingFace(t){try{const r=await fetch(Q$,{method:"POST",headers:{Authorization:`Bearer ${eb}`,"Content-Type":"application/json"},body:JSON.stringify({inputs:t,parameters:{num_inference_steps:20,guidance_scale:7.5}})});if(!r.ok)throw new Error(`Hugging Face API error: ${r.status}`);const a=await r.blob();return await this.blobToBase64(a)}catch(r){throw console.error("Ошибка генерации через Hugging Face:",r),r}}buildImagePrompt(t,r,a){let n="Professional real estate photography, high quality, realistic, detailed, ";if(r){const s=r.toLowerCase();s.includes("квартира")||s.includes("жилое")?n+="modern apartment interior, well-lit, clean, spacious rooms, ":s.includes("дом")||s.includes("коттедж")?n+="beautiful house exterior, modern architecture, well-maintained, ":s.includes("торговый центр")||s.includes("офис")?n+="commercial building, modern architecture, professional, ":s.includes("склад")||s.includes("производство")?n+="industrial building, warehouse, functional, ":s.includes("земельный участок")||s.includes("земля")?n+="land plot, aerial view, well-maintained, clear boundaries, ":s.includes("автомобиль")||s.includes("транспорт")?n+="professional car photography, clean vehicle, good condition, ":s.includes("оборудование")||s.includes("техника")?n+="industrial equipment, professional photography, clean, functional, ":n+="professional property photography, well-maintained, "}return a&&(n+=`located in ${a}, `),n+=t,n+=", professional real estate photography style, high resolution, detailed, realistic",n}generatePlaceholderImage(t,r){const a=`
      <svg width="400" height="300" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#1890ff;stop-opacity:1" />
            <stop offset="50%" style="stop-color:#40a9ff;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#bae7ff;stop-opacity:1" />
          </linearGradient>
        </defs>
        <rect width="400" height="300" fill="url(#grad)"/>
        <text x="200" y="120" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="white" text-anchor="middle">
          ${r||"Объект оценки"}
        </text>
        <text x="200" y="160" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle">
          ${t.substring(0,50)}${t.length>50?"...":""}
        </text>
        <text x="200" y="200" font-family="Arial, sans-serif" font-size="12" fill="rgba(255,255,255,0.8)" text-anchor="middle">
          Изображение будет сгенерировано ИИ
        </text>
      </svg>
    `.trim();return`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(a)))}`}async blobToBase64(t){return new Promise((r,a)=>{const n=new FileReader;n.onloadend=()=>{typeof n.result=="string"?r(n.result):a(new Error("Не удалось конвертировать изображение в base64"))},n.onerror=a,n.readAsDataURL(t)})}}const tb=new q$,{TextArea:K$}=Re,{Title:Wp,Text:Kt,Paragraph:H$}=ht,TS=Qa.memo(({message:e,onRating:t,onTopicClick:r})=>{const a=K.useMemo(()=>e.timestamp.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}),[e.timestamp]);return i.jsx("div",{className:`reference-page__message reference-page__message--${e.role}`,children:i.jsxs("div",{className:"reference-page__message-content",children:[i.jsx(am,{icon:e.role==="user"?i.jsx(es,{}):i.jsx(Bf,{}),style:{backgroundColor:e.role==="user"?"#1890ff":"#52c41a",marginRight:12}}),i.jsxs("div",{className:"reference-page__message-text",children:[i.jsxs("div",{className:"reference-page__message-header",children:[i.jsx(Kt,{strong:!0,children:e.role==="user"?"Вы":"ИИ Помощник"}),i.jsx(Kt,{type:"secondary",style:{fontSize:12,marginLeft:8},children:a})]}),i.jsx(H$,{style:{margin:0,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:e.content}),e.sources&&e.sources.length>0&&i.jsxs("div",{style:{marginTop:12,paddingTop:12,borderTop:"1px solid #f0f0f0"},children:[i.jsx(Kt,{type:"secondary",style:{fontSize:12},children:"Источники:"}),i.jsx("div",{style:{marginTop:4},children:e.sources.map(n=>i.jsxs(et,{style:{marginTop:4,cursor:"pointer"},onClick:()=>r(n),children:[n.title," (стр. ",n.page,")"]},`${n.id||n.title}-${n.page}`))})]}),e.role==="assistant"&&i.jsx("div",{style:{marginTop:12,paddingTop:12,borderTop:"1px solid #f0f0f0"},children:i.jsxs(Oe,{children:[i.jsx(Ce,{type:"text",size:"small",icon:i.jsx(vb,{}),onClick:()=>t(e.id,"like"),style:{color:e.rating==="like"?"#52c41a":void 0},children:"Полезно"}),i.jsx(Ce,{type:"text",size:"small",icon:i.jsx(wb,{}),onClick:()=>t(e.id,"dislike"),style:{color:e.rating==="dislike"?"#ff4d4f":void 0},children:"Не полезно"})]})})]})]})})});TS.displayName="MessageItem";const G$=()=>{var da,na;const[e,t]=K.useState([]),[r,a]=K.useState(""),[n,s]=K.useState(!1),[o,A]=K.useState(!1),[l,c]=K.useState(!0),[d,f]=K.useState(null),[p,u]=K.useState([]),[g,h]=K.useState([]),[y,x]=K.useState(null),[v,E]=K.useState(""),[R,b]=K.useState([]),[T,_]=K.useState(0),[S,O]=K.useState(1),[M,I]=K.useState(null),[D,L]=K.useState(!1),[N,P]=K.useState(null),[Q,J]=K.useState([]),[te,V]=K.useState(0),[G,z]=K.useState(null),[C,k]=K.useState(()=>{try{return localStorage.getItem("reference_training_mode")==="true"}catch{return!1}}),[j,H]=K.useState(!1),[Y,de]=K.useState(null),[ue,he]=K.useState(!1),[xe]=ne.useForm(),[ve,se]=K.useState(!1),[Ke,Ee]=K.useState(()=>{try{const U=localStorage.getItem("ai_appraisal_skills");if(U)return JSON.parse(U)}catch{}return{incomeApproach:50,incomeMethods:{dcf:50,directCapitalization:50,grossRentMultiplier:50},comparativeApproach:50,comparativeMethods:{salesComparison:50,marketExtraction:50},costApproach:50,costMethods:{replacementCost:50,reproductionCost:50,depreciation:50}}}),[pe,ce]=K.useState(()=>{try{const U=localStorage.getItem("ai_expertise_skills");if(U)return JSON.parse(U)}catch{}return{expertiseLevel:50,analysisLevel:50,responseBrevity:50,riskAnalysis:50,comments:50,detailLevel:50,useDeepSeek:!0}});K.useEffect(()=>{try{localStorage.setItem("ai_appraisal_skills",JSON.stringify(Ke))}catch{}},[Ke]),K.useEffect(()=>{try{localStorage.setItem("ai_expertise_skills",JSON.stringify(pe))}catch{}},[pe]);const He=K.useMemo(()=>[{value:"real_estate",label:"Недвижимое имущество"},{value:"land",label:"Земельные участки"},{value:"movable",label:"Движимое имущество"},{value:"metals_goods",label:"Товары и материалы"},{value:"equity",label:"Доли, акции и ЦБ"},{value:"rights",label:"Права требования"}],[]),Ze=D$,Ye=ne.useWatch("assetType",xe),tt=K.useMemo(()=>j$(Ye),[Ye]),je=K.useMemo(()=>(tt==null?void 0:tt.fields)??[],[tt]),_e=tt==null?void 0:tt.assetGroup;K.useEffect(()=>{if(Ye&&j){const U=Ze.find(W=>W.value===Ye);U&&Ee(W=>{const ee=U$(W,U.label,!1);return JSON.stringify(ee)!==JSON.stringify(W)?(Te.info(`Настройки эквалайзера автоматически применены для типа: ${U.label}`),ee):W})}},[Ye,j,Ze]);const ct=K.useCallback(()=>{k(U=>{const W=!U;try{localStorage.setItem("reference_training_mode",String(W))}catch{}return W})},[]),_t=K.useCallback(()=>{H(U=>(U&&(de(null),z(null)),!U))},[]),St=K.useCallback(U=>{var oe,re,le,we,Ue,Ne,Se,ke,$e,ze,mt,it;const ee={...xe.getFieldsValue()};U==="transport"&&(ee.assetGroup="movable",ee.assetType=ee.assetType||"Наземные безрельсовые механические транспортные средства, прицепы",ee.attributes={...ee.attributes,baseLocation:((oe=ee.attributes)==null?void 0:oe.baseLocation)||"",year:((re=ee.attributes)==null?void 0:re.year)||new Date().getFullYear()-3,usageHours:((le=ee.attributes)==null?void 0:le.usageHours)||"",condition:((we=ee.attributes)==null?void 0:we.condition)||"рабочее"}),U==="real_estate"&&(ee.assetGroup="real_estate",ee.assetType=ee.assetType||"Помещение",ee.attributes={...ee.attributes,location:((Ue=ee.attributes)==null?void 0:Ue.location)||"",areaSqm:((Ne=ee.attributes)==null?void 0:Ne.areaSqm)||"",floors:((Se=ee.attributes)==null?void 0:Se.floors)||1,condition:((ke=ee.attributes)==null?void 0:ke.condition)||"хорошее"}),U==="equity"&&(ee.assetGroup="equity",ee.assetType=ee.assetType||"Доли в уставных капиталах обществ с ограниченной ответственностью",ee.attributes={...ee.attributes,companyName:(($e=ee.attributes)==null?void 0:$e.companyName)||"",sharePercent:((ze=ee.attributes)==null?void 0:ze.sharePercent)||100,financialSnapshot:((mt=ee.attributes)==null?void 0:mt.financialSnapshot)||"Выручка, EBITDA, прибыль",corporateRights:((it=ee.attributes)==null?void 0:it.corporateRights)||""}),xe.setFieldsValue(ee),Te.success(U==="transport"?"Заполнены основные поля для транспорта":U==="real_estate"?"Заполнены основные поля для недвижимости":"Заполнены основные поля для долей/акций")},[xe]),Et=K.useCallback(()=>{var le;const U=xe.getFieldsValue();if(!U||!U.assetGroup||!U.assetType)return"";const W=[],ee=((le=He.find(we=>we.value===(U.assetGroup||_e)))==null?void 0:le.label)||U.assetGroup||_e,oe=Ze.find(we=>we.value===U.assetType);ee&&W.push(`Категория: ${ee}`),W.push(`Тип актива: ${(oe==null?void 0:oe.label)||U.assetType}`),U.purpose&&W.push(`Цель: ${U.purpose}`),U.additionalFactors&&W.push(`Особенности: ${U.additionalFactors}`);const re=P1(U.attributes,je);return re&&W.push(`Ключевые параметры: ${re}`),W.join(`
`)},[xe,He,_e,je,Ze]);K.useEffect(()=>{if(!C)return;let U=!1;const W=6e4,ee=async()=>{if(!U)try{Ya.analyzeDocuments(),Ya.analyzeFeedback(),fa.addExperienceFromDocuments(),fa.updateExperienceFromCurrentData();const re=Ya.getLearningStats(),le=fa.getEvolutionStats(),we=fa.getProgressToNextLevel();if(!U&&le&&(O(le.level),I(we)),!U){const Ue=Math.min(re.patternsCount*5,30),Ne=re.averageSuccessRate*25,Se=Math.min(re.totalUsage/10,15),ke=Math.min(re.insightsCount*2,10),$e=le?Math.min(le.level*2,20):0;_(Math.round(Ue+Ne+Se+ke+$e)),V(Ya.getCategorySkill("appraisal"))}}catch{}finally{U||window.setTimeout(ee,W)}},oe=window.setTimeout(ee,2e3);return()=>{U=!0,window.clearTimeout(oe)}},[C]);const[Ft,Lt]=K.useState(()=>{const U=localStorage.getItem("reference_chats_visible");return U!==null?U==="true":!0}),bt=K.useRef(null),ft=K.useRef(null),lt=K.useRef(new Map);K.useEffect(()=>{localStorage.setItem("reference_chats_visible",String(Ft))},[Ft]);const Er=Math.min(32+(S-1)*6,80),jt=({size:U=Er})=>i.jsxs("svg",{width:U,height:U,viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block",verticalAlign:"middle",marginRight:"8px",transition:"width 0.5s ease-in-out, height 0.5s ease-in-out"},className:"robot-icon",children:[i.jsx("rect",{x:"156",y:"120",width:"200",height:"180",rx:"20",fill:"#1890ff",stroke:"#0050b3",strokeWidth:"8"}),i.jsx("rect",{x:"176",y:"160",width:"160",height:"100",rx:"10",fill:"#e6f7ff",stroke:"#40a9ff",strokeWidth:"4"}),i.jsx("circle",{cx:"216",cy:"200",r:"12",fill:"#1890ff"}),i.jsx("circle",{cx:"296",cy:"200",r:"12",fill:"#1890ff"}),i.jsx("circle",{cx:"216",cy:"200",r:"6",fill:"#fff"}),i.jsx("circle",{cx:"296",cy:"200",r:"6",fill:"#fff"}),i.jsx("rect",{x:"236",y:"240",width:"40",height:"8",rx:"4",fill:"#1890ff"}),i.jsx("circle",{cx:"256",cy:"100",r:"8",fill:"#ff4d4f"}),i.jsx("line",{x1:"256",y1:"100",x2:"256",y2:"120",stroke:"#1890ff",strokeWidth:"6",strokeLinecap:"round"}),i.jsx("rect",{x:"176",y:"300",width:"160",height:"120",rx:"15",fill:"#1890ff",stroke:"#0050b3",strokeWidth:"8"}),i.jsx("rect",{x:"196",y:"320",width:"120",height:"60",rx:"8",fill:"#e6f7ff",stroke:"#40a9ff",strokeWidth:"3"}),i.jsx("circle",{cx:"226",cy:"350",r:"6",fill:"#52c41a"}),i.jsx("circle",{cx:"256",cy:"350",r:"6",fill:"#faad14"}),i.jsx("circle",{cx:"286",cy:"350",r:"6",fill:"#ff4d4f"}),i.jsx("rect",{x:"116",y:"320",width:"40",height:"80",rx:"20",fill:"#1890ff",stroke:"#0050b3",strokeWidth:"6"}),i.jsx("rect",{x:"356",y:"320",width:"40",height:"80",rx:"20",fill:"#1890ff",stroke:"#0050b3",strokeWidth:"6"}),i.jsx("circle",{cx:"136",cy:"420",r:"12",fill:"#1890ff",stroke:"#0050b3",strokeWidth:"4"}),i.jsx("circle",{cx:"376",cy:"420",r:"12",fill:"#1890ff",stroke:"#0050b3",strokeWidth:"4"}),i.jsx("rect",{x:"196",y:"420",width:"50",height:"60",rx:"10",fill:"#1890ff",stroke:"#0050b3",strokeWidth:"6"}),i.jsx("rect",{x:"266",y:"420",width:"50",height:"60",rx:"10",fill:"#1890ff",stroke:"#0050b3",strokeWidth:"6"}),i.jsx("ellipse",{cx:"221",cy:"490",rx:"20",ry:"8",fill:"#0050b3"}),i.jsx("ellipse",{cx:"291",cy:"490",rx:"20",ry:"8",fill:"#0050b3"}),i.jsx("line",{x1:"196",y1:"340",x2:"316",y2:"340",stroke:"#40a9ff",strokeWidth:"2",opacity:"0.5"}),i.jsx("line",{x1:"196",y1:"360",x2:"316",y2:"360",stroke:"#40a9ff",strokeWidth:"2",opacity:"0.5"})]});K.useEffect(()=>{let U=!0;return(async()=>{c(!0);try{Ya.initialize(),fa.initialize(),await Promise.all([hi.loadFromStorage(),Bn.loadFromStorage()]);const ee=Bn.getCategories();if(U&&h(ee),U){const re=Ya.getLearningStats(),le=fa.getEvolutionStats(),we=fa.getProgressToNextLevel();le&&(O(le.level),I(we));const Ue=Math.min(re.patternsCount*5,30),Ne=re.averageSuccessRate*25,Se=Math.min(re.totalUsage/10,15),ke=Math.min(re.insightsCount*2,10),$e=le?Math.min(le.level*2,20):0;_(Math.round(Ue+Ne+Se+ke+$e)),V(Ya.getCategorySkill("appraisal")),c(!1)}(async()=>{try{A(!0),console.log("🔄 Загружаю документы из VND...");const re=await CS(!1);if(!U)return;if(u(re),console.log(`✅ Загружено документов: ${re.length}`),ee.length===0&&re.length>0&&(console.log("Категории пустые, перестраиваю базу знаний..."),await Bn.buildFromDocuments(),U)){const le=Bn.getCategories();h(le)}re.length>0&&setTimeout(()=>{U&&(console.log("🧠 Анализирую документы для обучения модели..."),Ya.analyzeDocuments(),fa.addExperienceFromDocuments(),console.log("✅ Анализ документов завершен"))},100),re.length>0&&U&&Te.success(`Загружено документов: ${re.length}. База знаний готова к использованию.`)}catch{U&&Te.warning("Не удалось загрузить документы из VND. Вы можете загрузить их вручную.")}finally{U&&A(!1)}})(),setTimeout(()=>{U&&(Ya.analyzeFeedback(),fa.updateExperienceFromCurrentData())},50)}catch{U&&c(!1)}})(),()=>{U=!1}},[]),K.useEffect(()=>{if(!j)return;!xe.getFieldsValue().assetType&&Ze.length>0&&xe.setFieldsValue({assetType:Ze[0].value})},[j,xe,Ze]),K.useEffect(()=>{_e&&xe.getFieldValue("assetGroup")!==_e&&xe.setFieldsValue({assetGroup:_e})},[_e,xe]),K.useEffect(()=>{const U=TA();J(U)},[]),K.useEffect(()=>{if(N){const U=XE(N);U&&t(U.messages.map(W=>({...W,timestamp:W.timestamp instanceof Date?W.timestamp:new Date(W.timestamp)})))}else t([])},[N]),K.useEffect(()=>{N&&e.length>0&&XE(N)&&(S$(N,{messages:e}),J(TA()))},[e,N]);const Fr=K.useCallback(()=>{const U=document.querySelector(".reference-page__messages");U&&requestAnimationFrame(()=>{U.scrollTo({top:U.scrollHeight,behavior:"smooth"})}),bt.current&&requestAnimationFrame(()=>{var W;(W=bt.current)==null||W.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})})},[]);K.useEffect(()=>{e.length>0&&setTimeout(()=>{Fr()},100)},[e.length,Fr]),K.useEffect(()=>{if(!l){f(null);return}f(10);const U=window.setInterval(()=>{f(W=>W===null?null:W<=0?0:W-1)},1e3);return()=>{window.clearInterval(U),f(null)}},[l]);const fr=K.useCallback((U,W)=>{const ee=U.trim().toLowerCase();if(!ee)return[];const oe=`${ee}::${W}`,re=lt.current.get(oe),le=Date.now();if(re&&le-re.timestamp<5*60*1e3)return re.result;const we=Bn.search(U,W);return lt.current.set(oe,{result:we,timestamp:le}),we},[]);K.useEffect(()=>{const U=v.trim();if(U.length<=2){b([]);return}const W=setTimeout(()=>{try{const ee=fr(U,10);b(ee)}catch{b([])}},400);return()=>clearTimeout(W)},[v,fr]);const yt=K.useMemo(()=>g.map(U=>U.name).join(", "),[g]),hr=K.useCallback(async(U,W=[],ee)=>{var Ne;const oe=U.toLowerCase(),re=fr(U,5);let le="",we=[],Ue="";if(re.length>0){const Se=[];for(const ke of re)Se.push(`Тема: ${ke.title}
Содержание: ${ke.content}
Страница: ${ke.page}`);Ue=Se.join(`

---

`),we=re}ee&&(Ue=`${Ue||""}

[Дополнительный контекст задания]
${ee}`);try{const Se=pe.useDeepSeek!==!1;if(W.length>0){const ke=W.slice(-10).map(mt=>({role:mt.role,content:mt.content}));ke.push({role:"user",content:U});let $e=Ue||`База знаний содержит информацию о банковских залогах, ипотеке, оценке имущества, LTV, договорах залога, нормативных требованиях и регистрации залогов. Доступные категории: ${yt}.`;const ze=`


Настройки режима экспертизы (эквалайзер):
- Уровень экспертизы: ${pe.expertiseLevel}%
- Уровень анализа: ${pe.analysisLevel}%
- Краткость ответов: ${pe.responseBrevity}% (0% = подробно, 100% = кратко)
- Анализ рисков: ${pe.riskAnalysis}%
- Комментарии: ${pe.comments}%
- Детализация: ${pe.detailLevel}%
- Использовать AI DeepSeek для генерации ответов: ${Se?"ДА":"НЕТ"}

Профиль ответа помощника:
- Ты отвечаешь как профессионал в области оценки залогового имущества Банка.
- Ты эксперт в области анализа рисков по реализации залогового имущества и формируешь профессиональное суждение по ликвидности залогового имущества.
- Ты обладаешь знаниями по регистрации залогов движимого и недвижимого имущества.
- Ответы должны быть краткими, но ёмкими.
- При формировании ответа опирайся на контекст из базы знаний и на значения эквалайзера (уровни экспертизы, анализа, краткость, анализ рисков, детализацию).

Учитывай эти настройки при формировании ответа.`;$e+=ze,le=await kl.chat(ke,$e),setTimeout(()=>{fa.addPassiveExperience(U,le.length)},0)}else if(Ue){const ke=pe.useDeepSeek!==!1,$e=`


Настройки режима экспертизы (эквалайзер):
- Уровень экспертизы: ${pe.expertiseLevel}%
- Уровень анализа: ${pe.analysisLevel}%
- Краткость ответов: ${pe.responseBrevity}% (0% = подробно, 100% = кратко)
- Анализ рисков: ${pe.riskAnalysis}%
- Комментарии: ${pe.comments}%
- Детализация: ${pe.detailLevel}%
- Использовать AI DeepSeek для генерации ответов: ${ke?"ДА":"НЕТ"}

Профиль ответа помощника:
- Ты отвечаешь как профессионал в области оценки залогового имущества Банка.
- Ты эксперт в области анализа рисков по реализации залогового имущества и формируешь профессиональное суждение по ликвидности залогового имущества.
- Ты обладаешь знаниями по регистрации залогов движимого и недвижимого имущества.
- Ответы должны быть краткими, но ёмкими.
- При формировании ответа опирайся на контекст из базы знаний и на значения эквалайзера (уровни экспертизы, анализа, краткость, анализ рисков, детализацию).

Учитывай эти настройки при формировании ответа.`;le=await kl.generateResponse(U,Ue+$e),setTimeout(()=>{fa.addPassiveExperience(U,le.length)},0)}else if(oe.includes("привет")||oe.includes("здравствуй")){const ke='Поприветствуй пользователя и расскажи, что ты эксперт по банковским залогам и можешь помочь с вопросами об ипотеке, оценке, LTV, договорах залога и других аспектах залогового кредитования. База знаний основана на справочной литературе "Залоговik. Все о банковских залогах".',$e=pe.useDeepSeek!==!1,ze=`


Настройки режима экспертизы (эквалайзер):
- Уровень экспертизы: ${pe.expertiseLevel}%
- Уровень анализа: ${pe.analysisLevel}%
- Краткость ответов: ${pe.responseBrevity}% (0% = подробно, 100% = кратко)
- Анализ рисков: ${pe.riskAnalysis}%
- Комментарии: ${pe.comments}%
- Детализация: ${pe.detailLevel}%
- Использовать AI DeepSeek для генерации ответов: ${$e?"ДА":"НЕТ"}

Профиль ответа помощника:
- Ты отвечаешь как профессионал в области оценки залогового имущества Банка.
- Ты эксперт в области анализа рисков по реализации залогового имущества и формируешь профессиональное суждение по ликвидности залогового имущества.
- Ты обладаешь знаниями по регистрации залогов движимого и недвижимого имущества.
- Ответы должны быть краткими, но ёмкими.
- При формировании ответа опирайся на контекст из базы знаний и на значения эквалайзера (уровни экспертизы, анализа, краткость, анализ рисков, детализацию).

Учитывай эти настройки при формировании ответа.`;le=await kl.chat([{role:"user",content:ke+ze}],ze),Ue="Приветствие"}else{let ke=`База знаний содержит информацию о банковских залогах, ипотеке, оценке имущества, LTV, договорах залога, нормативных требованиях и регистрации залогов. Доступные категории: ${yt}.`;const $e=pe.useDeepSeek!==!1,ze=`


Настройки режима экспертизы (эквалайзер):
- Уровень экспертизы: ${pe.expertiseLevel}%
- Уровень анализа: ${pe.analysisLevel}%
- Краткость ответов: ${pe.responseBrevity}% (0% = подробно, 100% = кратко)
- Анализ рисков: ${pe.riskAnalysis}%
- Комментарии: ${pe.comments}%
- Детализация: ${pe.detailLevel}%
- Использовать AI DeepSeek для генерации ответов: ${$e?"ДА":"НЕТ"}

Профиль ответа помощника:
- Ты отвечаешь как профессионал в области оценки залогового имущества Банка.
- Ты эксперт в области анализа рисков по реализации залогового имущества и формируешь профессиональное суждение по ликвидности залогового имущества.
- Ты обладаешь знаниями по регистрации залогов движимого и недвижимого имущества.
- Ответы должны быть краткими, но ёмкими.
- При формировании ответа опирайся на контекст из базы знаний и на значения эквалайзера (уровни экспертизы, анализа, краткость, анализ рисков, детализацию).

Учитывай эти настройки при формировании ответа.`;ke+=ze,le=await kl.generateResponse(U,ke),Ue=ke}}catch(Se){const ke=Se instanceof Error?Se.message:String(Se);if(ke.includes("API ключ")||ke.includes("401")||ke.includes("403"))throw new Error("Проблема с доступом к AI сервису. Проверьте настройки API.");if(re.length>0){le=`На основе справочной литературы по банковским залогам:

`;const $e=new Map;for(const ze of re)$e.has(ze.category)||$e.set(ze.category,[]),$e.get(ze.category).push(ze);for(const[ze,mt]of $e.entries()){const it=((Ne=g.find(pt=>pt.id===ze))==null?void 0:Ne.name)||ze;le+=`**${it}**

`;for(const pt of mt.slice(0,2))le+=`*${pt.title}*

${pt.content.slice(0,300)}...

`}Ue=Ue||"Локальная генерация"}else le="Извините, произошла ошибка при обращении к ИИ. Попробуйте переформулировать вопрос или использовать поиск по категориям.",Ue="Ошибка"}return{content:le,sources:we,context:Ue}},[yt,g,fr,pe]),Jt=K.useCallback(async()=>{if(!r.trim()||n)return;let U=N;U||(U=M1().id,P(U),J(TA()));const W={id:`user-${Date.now()}`,role:"user",content:r.trim(),timestamp:new Date};U&&Pu(U,W),t(oe=>[...oe,W]);const ee=r.trim();a(""),s(!0);try{const oe=e.map(Se=>({id:Se.id,role:Se.role,content:Se.content,timestamp:Se.timestamp instanceof Date?Se.timestamp:new Date(Se.timestamp)})),re=j?Et():"",{content:le,sources:we,context:Ue}=await hr(ee,oe,re||void 0),Ne={id:`ai-${Date.now()}`,role:"assistant",content:le,timestamp:new Date,sources:we.length>0?we:void 0,context:Ue};U&&(Pu(U,Ne),J(TA())),t(Se=>[...Se,Ne]),setTimeout(()=>{Fr()},150)}catch(oe){const re=oe instanceof Error?oe.message:String(oe);console.error("Ошибка генерации ответа:",oe),console.error("Детали ошибки:",{message:re,question:ee,stack:oe instanceof Error?oe.stack:void 0});let le="Извините, произошла ошибка при генерации ответа. ";re.includes("API ключ")||re.includes("401")||re.includes("403")?le+="Проблема с доступом к AI сервису. Проверьте настройки API ключа.":re.includes("network")||re.includes("fetch")||re.includes("NetworkError")||re.includes("Failed to fetch")?le+="Проблема с подключением к интернету. Проверьте соединение и попробуйте еще раз.":re.includes("timeout")||re.includes("время ожидания")?le+="Превышено время ожидания ответа (30 секунд). Попробуйте еще раз или упростите вопрос.":re.includes("429")||re.includes("лимит")?le+="Превышен лимит запросов к API. Подождите немного и попробуйте позже.":re.includes("CORS")?le+="Ошибка CORS. Проблема с настройками сервера.":le+=`Попробуйте еще раз или переформулируйте вопрос. (Ошибка: ${re.substring(0,100)})`,Te.error("Не удалось получить ответ от AI помощника. Проверьте консоль браузера для деталей.");const we={id:`ai-error-${Date.now()}`,role:"assistant",content:le,timestamp:new Date};t(Ue=>[...Ue,we])}finally{s(!1)}},[r,n,hr,N,e,Fr,j,Et]),ln=U=>{U.key==="Enter"&&!U.shiftKey&&(U.preventDefault(),Jt())},jr=K.useCallback((U,W)=>{var we,Ue,Ne;const ee=e.findIndex(Se=>Se.id===U);if(ee===-1)return;const oe=e[ee];if(!oe||oe.role!=="assistant")return;const re=ee>0?e[ee-1]:null,le=(re==null?void 0:re.content)||"";try{Xl.saveFeedback({messageId:U,question:le,answer:oe.content,rating:W,timestamp:new Date,context:oe.context}),t(pt=>pt.map(Rt=>Rt.id===U?{...Rt,rating:W}:Rt)),Ya.analyzeFeedback();const Se=(we=oe.context)!=null&&we.toLowerCase().includes("ltv")?"ltv_calculation":(Ue=oe.context)!=null&&Ue.toLowerCase().includes("оценк")?"appraisal":(Ne=oe.context)!=null&&Ne.toLowerCase().includes("риск")?"risks":"general";fa.addExperienceFromFeedback(W,Se,le),kl.invalidateFeedbackCache();const ke=Ya.getLearningStats(),$e=fa.getEvolutionStats(),ze=fa.getCurrentLevel(),mt=fa.getProgressToNextLevel();if($e&&(O($e.level),I(mt)),_((()=>{const pt=Math.min(ke.patternsCount*5,30),Rt=ke.averageSuccessRate*25,vr=Math.min(ke.totalUsage/10,15),Cr=Math.min(ke.insightsCount*2,10),ia=$e?Math.min($e.level*2,20):0;return Math.round(pt+Rt+vr+Cr+ia)})()),V(Ya.getCategorySkill("appraisal")),ze&&$e&&$e.level>1){const pt=fa.getCurrentLevel();pt&&Te.success(`🎉 Модель достигла уровня: ${pt.name}! Опыт: ${$e.totalExperience}`)}W==="like"?Te.success("Спасибо за оценку! Модель обучилась на вашем примере."):Te.success("Спасибо за обратную связь. Модель проанализирует и улучшит ответы.")}catch{Te.error("Не удалось сохранить оценку")}},[e]),ai=K.useCallback(async U=>{const W=U.name.toLowerCase();if(![".pdf",".docx",".xlsx",".xls",".jpg",".jpeg",".png",".gif",".bmp",".webp"].some(we=>W.endsWith(we)))return Te.error("Поддерживаются только файлы: PDF, DOCX, XLSX, XLS, JPG, JPEG, PNG, GIF, BMP, WEBP"),!1;const re=[".jpg",".jpeg",".png",".gif",".bmp",".webp"].some(we=>W.endsWith(we)),le=re?10*1024*1024:50*1024*1024;if(U.size>le)return Te.error(`Размер файла не должен превышать ${re?"10MB":"50MB"}`),!1;A(!0);try{let we;if(re){if(Te.info("Анализирую изображение через ИИ..."),we=await hi.indexDocument(U),we.chunks.length>0&&we.chunks[0].imageData)try{const Ne=await kl.analyzeImage(we.chunks[0].imageData,U.name);we.chunks[0].text=`[Изображение: ${U.name}]

Описание от ИИ:
${Ne}`;const Se=hi.extractKeywordsPublic(Ne);we.chunks[0].keywords=[...new Set([...we.chunks[0].keywords,...Se])],hi.updateDocumentIndex(we),Te.success("Изображение проанализировано ИИ")}catch{Te.warning("Изображение загружено, но не удалось проанализировать через ИИ")}}else we=await _$(U);u(Ne=>Ne.some(ke=>ke.documentName===we.documentName)?Ne:[...Ne,we]);const Ue=Bn.getCategories();if(h(Ue),Ue.length===0){await Bn.buildFromDocuments();const Ne=Bn.getCategories();h(Ne)}Te.success(`${re?"Изображение":"Документ"} "${U.name}" успешно ${re?"проанализирован":"проиндексирован"}. База знаний обновлена.`)}catch(we){const Ue=we instanceof Error?we.message:"Неизвестная ошибка";Te.error(`Не удалось ${re?"проанализировать изображение":"проиндексировать документ"}: ${Ue}`)}finally{A(!1)}return!1},[]),Di=K.useCallback(async U=>{const W=U.name.toLowerCase();if(![".jpg",".jpeg",".png",".gif",".bmp",".webp"].some(re=>W.endsWith(re)))return Te.error("Для иллюстрации объекта поддерживаются только изображения (JPG, PNG, GIF, BMP, WEBP)"),Xi.LIST_IGNORE;const oe=8*1024*1024;if(U.size>oe)return Te.error("Размер изображения не должен превышать 8MB"),Xi.LIST_IGNORE;try{const re=new FileReader;re.onload=()=>{typeof re.result=="string"&&(z(re.result),Te.success("Изображение объекта загружено для отчета"))},re.readAsDataURL(U)}catch{Te.error("Не удалось загрузить изображение объекта")}return!1},[]),Lr=K.useCallback(async()=>{try{const U=await xe.validateFields();he(!0);const W=Ze.find(Se=>Se.value===U.assetType),ee=U.attributes||{},oe=P1(ee,je),re=[U.additionalFactors,oe].filter(Boolean).join(". "),le=ee.location||ee.baseLocation||ee.storageLocation||void 0,we=(typeof ee.areaSqm=="number"?ee.areaSqm:void 0)??(typeof ee.areaHa=="number"?ee.areaHa:void 0)??(typeof ee.quantity=="number"?ee.quantity:void 0),Ue=ee.condition||ee.quality,Ne=await Oy.generateEstimate({objectName:U.objectName||(W==null?void 0:W.label)||"Объект оценки",assetGroup:U.assetGroup,assetType:U.assetType,location:le,area:we,areaUnit:void 0,condition:Ue,incomePerYear:void 0,occupancy:void 0,purpose:U.purpose,additionalFactors:re,card:null,skills:Ke});if(de(Ne),V(Ya.getCategorySkill("appraisal")),!G)try{const Se=`${U.objectName||(W==null?void 0:W.label)||"Объект оценки"}. ${(W==null?void 0:W.label)||""}. ${le?`Расположен: ${le}.`:""} ${Ue?`Состояние: ${Ue}.`:""} ${oe?`Характеристики: ${oe}.`:""}`;Te.info("Генерация изображения объекта через ИИ...");const ke=await tb.generateImage(Se,W==null?void 0:W.label,le);z(ke)}catch(Se){console.warn("Не удалось сгенерировать изображение через ИИ:",Se)}Te.success("AI помощник подготовил оценку объекта")}catch(U){if(U&&U.errorFields)return;console.error("Ошибка запроса оценки ИИ:",U),Te.error("Не удалось получить оценку. Проверьте заполненные данные.")}finally{he(!1)}},[xe,Ze,je,Ke,G]),$t=K.useCallback(async()=>{var U,W;if(!Y){Te.warning("Сначала выполните оценку ИИ, затем можно выгрузить PDF.");return}try{const ee=xe.getFieldsValue(),oe=Et(),re=new Date().toLocaleString("ru-RU"),le=ee.attributes||{},we=Ze.find(Vr=>Vr.value===ee.assetType),Ue=((U=ee.objectName)==null?void 0:U.trim())||(we==null?void 0:we.label)||"Объект оценки",Ne=le.location||le.baseLocation||le.storageLocation||"";let Se=G;if(!Se)try{Te.info("Генерация изображения объекта для PDF...");const Vr=P1(le,je),en=`${Ue}. ${(we==null?void 0:we.label)||""}. ${Ne?`Расположен: ${Ne}.`:""} ${Vr?`Характеристики: ${Vr}.`:""}`;Se=await tb.generateImage(en,we==null?void 0:we.label,Ne)}catch(Vr){console.warn("Не удалось сгенерировать изображение для PDF:",Vr)}let ke='<p style="margin: 0 0 8px 0;">Аналоги не были явно указаны в результате ИИ.</p>';Y.comparables&&Y.comparables.length>0&&(ke=(await Promise.all(Y.comparables.map(async(en,Js)=>{const Zs=typeof en=="string"?{description:en}:en,bi=Zs.url;let Ns=Zs.description,vn=null;if(!bi){const _c=/(https?:\/\/[^\s)\]}>"]+)/,ml=Ns.match(_c);ml&&(vn=ml[0].replace(/[.,;:!?]+$/,""),Ns=Ns.replace(ml[0],"").trim())}const Co=bi?Zs.url:vn,Ec=Co?` <br/><span style="font-size: 10px;">Ссылка на источник: <a href="${Co}" target="_blank" style="color: #1890ff; text-decoration: underline; word-break: break-all;">${Co}</a></span>`:"",bc=Zs.details||Zs.additionalInfo||Zs.notes||"";return`
              <div style="margin: 0 0 12px 0; padding: 8px; background: #f5f5f5; border-radius: 4px; border-left: 3px solid #1890ff;">
                <p style="margin: 0 0 4px 0;"><strong>Аналог ${Js+1}:</strong> ${Ns}</p>
                ${bc?`<p style="margin: 0 0 4px 0; font-size: 10px; color: #555;">Дополнительные характеристики: ${bc}</p>`:""}
                ${Ec}
              </div>
            `}))).join(""));const $e=`
        <div style="font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; padding: 16px; font-size: 11px; line-height: 1.4; width: 750px; box-sizing: border-box; background:#ffffff;">
          <h2 style="margin: 0 0 8px 0;">Отчет об экспресс-оценке залогового актива (ИИ)</h2>
          <div style="margin-bottom: 8px;">Дата формирования: ${re}</div>

          <div style="display: flex; align-items: center; margin: 8px 0 12px 0;">
            ${Se?`<img src="${Se}" alt="Объект оценки" style="width: 90px; height: 90px; border-radius: 8px; object-fit: cover; box-shadow: 0 2px 6px rgba(0,0,0,0.2); margin-right: 12px;" />`:`<div style="
                    width: 90px;
                    height: 90px;
                    border-radius: 8px;
                    background: linear-gradient(135deg, #1890ff 0%, #40a9ff 50%, #bae7ff 100%);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    color: #ffffff;
                    font-size: 9px;
                    text-align: center;
                    padding: 4px;
                    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
                    margin-right: 12px;
                  ">
                    <div>
                      <div style="font-weight: 600; margin-bottom: 2px;">ОБЪЕКТ</div>
                      <div style="word-break: break-word;">${Ue}</div>
                    </div>
                  </div>`}
            <div style="font-size: 10px;">
              <div><strong>Тип актива:</strong> ${(we==null?void 0:we.label)||ee.assetType||"-"}</div>
              ${Ne?`<div><strong>Локация:</strong> ${Ne}</div>`:""}
            </div>
          </div>

          <h3 style="margin: 12px 0 4px 0;">1. Описание объекта и исходные данные</h3>
          ${Se?`<div style="margin: 8px 0; text-align: center;">
                  <img src="${Se}" alt="Изображение объекта оценки" style="max-width: 100%; max-height: 400px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.15); margin-bottom: 8px;" />
                  <p style="font-size: 10px; color: #666; margin: 0;">Изображение объекта, сгенерированное ИИ на основе описания</p>
                </div>`:""}
          <pre style="white-space: pre-wrap; margin: 0 0 8px 0;">${oe||"Нет данных"}</pre>

          <h3 style="margin: 12px 0 4px 0;">2. Итоги экспресс-оценки</h3>
          <ul style="margin: 0 0 8px 20px; padding: 0;">
            <li>Рыночная стоимость (ориентировочно): ${Y.marketValue.toLocaleString("ru-RU")} ₽</li>
            <li>Залоговая стоимость (ориентировочно): ${Y.collateralValue.toLocaleString("ru-RU")} ₽</li>
            ${typeof Y.recommendedLtv=="number"?`<li>Рекомендуемый LTV: ${Y.recommendedLtv}%</li>`:""}
            <li>Уровень уверенности модели: ${Y.confidence}</li>
          </ul>

          <h3 style="margin: 12px 0 4px 0;">3. Методология расчета</h3>
          <p style="margin: 0 0 8px 0;">${Y.methodology||"Методология не указана"}</p>

          <h3 style="margin: 12px 0 4px 0;">4. Использованные аналоги (если применимо)</h3>
          ${ke}

          <h3 style="margin: 12px 0 4px 0;">5. Риски и корректировки</h3>
          ${Y.riskFactors&&Y.riskFactors.length>0?`<p style="margin: 0 0 4px 0;">Идентифицированные риски: ${Y.riskFactors.join("; ")}</p>`:'<p style="margin: 0 0 4px 0;">Риски не были явно указаны моделью.</p>'}
          ${Y.recommendedActions&&Y.recommendedActions.length>0?`<p style="margin: 0 0 8px 0;">Рекомендации по учету рисков и корректировкам: ${Y.recommendedActions.join("; ")}</p>`:""}

          <h3 style="margin: 12px 0 4px 0;">6. Основные допущения</h3>
          <p style="margin: 0;">
            ${Y.assumptions&&Y.assumptions.length>0?Y.assumptions.join("; "):"Допущения явно не указаны моделью. Рекомендуется дополнительная экспертная проверка."}
          </p>
        </div>
      `,ze=document.createElement("div");if(ze.style.position="fixed",ze.style.left="-10000px",ze.style.top="0",ze.style.width="750px",ze.style.minHeight="100px",ze.style.padding="16px",ze.style.backgroundColor="#ffffff",ze.style.color="#000000",ze.style.fontFamily='system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif',ze.style.fontSize="11px",ze.style.lineHeight="1.4",ze.style.boxSizing="border-box",ze.style.visibility="visible",ze.style.opacity="1",ze.style.pointerEvents="none",ze.style.zIndex="999999",ze.style.overflow="visible",ze.innerHTML=$e,document.body.appendChild(ze),ze.offsetHeight,ze.scrollHeight,await new Promise(Vr=>requestAnimationFrame(Vr)),await new Promise(Vr=>requestAnimationFrame(Vr)),await new Promise(Vr=>setTimeout(Vr,300)),Se){const Vr=ze.querySelector("img");Vr&&await new Promise(en=>{if(Vr.complete&&Vr.naturalWidth>0&&Vr.naturalHeight>0)en(void 0);else{const Js=setTimeout(()=>en(void 0),3e3);Vr.onload=()=>{clearTimeout(Js),en(void 0)},Vr.onerror=()=>{clearTimeout(Js),en(void 0)}}})}ze.offsetHeight;const mt=ze.scrollHeight||1e3;if(mt<50)throw document.body.removeChild(ze),new Error("Контейнер PDF пуст или не отрендерился");const it=await Py(ze,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",logging:!1,width:750,height:mt,windowWidth:750,windowHeight:mt,onclone:Vr=>{const en=Vr.querySelector("div");en&&(en.style.visibility="visible",en.style.opacity="1")}});if(document.body.removeChild(ze),!it||it.width===0||it.height===0)throw new Error("Canvas is empty");const pt=it.toDataURL("image/png"),Rt=new Gt({orientation:"p",unit:"mm",format:"a4"}),vr=Rt.internal.pageSize.getWidth(),Cr=Rt.internal.pageSize.getHeight(),ia=10,ji=vr-ia*2,is=Cr-ia*2;let ii=ji,yn=it.height*ii/it.width;yn>is&&(yn=is,ii=it.width*yn/it.height);const ss=(vr-ii)/2,si=(Cr-yn)/2;Rt.addImage(pt,"PNG",ss,si,ii,yn);const ma=((W=ee.objectName)==null?void 0:W.trim())||"ai_appraisal_report",wc=new Date().toISOString().slice(0,10);Rt.save(`Оценка_ИИ_${ma}_${wc}.pdf`)}catch{Te.error("Не удалось сформировать PDF отчет.")}},[Y,xe,Et,G,Ze,je]),yr=K.useCallback(U=>{var W;if(Y)try{const ee=xe.getFieldsValue(),oe=((W=Ze.find(we=>we.value===ee.assetType))==null?void 0:W.label)||ee.assetType||"Неизвестный тип",re=[];re.push(`Объект: ${ee.objectName||oe}`),re.push(`Тип актива: ${oe}`),re.push(`Рыночная: ${Y.marketValue.toLocaleString("ru-RU")} ₽, Залоговая: ${Y.collateralValue.toLocaleString("ru-RU")} ₽`),typeof Y.recommendedLtv=="number"&&re.push(`LTV: ${Y.recommendedLtv}%`),re.push(`Уверенность модели: ${Y.confidence}`);const le=re.join(" | ");Xl.saveFeedback({messageId:`appraisal-${Date.now()}`,question:`AI-оценка для объекта "${ee.objectName||oe}"`,answer:JSON.stringify(Y),rating:U,timestamp:new Date,context:le}),Ya.analyzeFeedback(),fa.addExperienceFromFeedback(U,"appraisal",le),V(Ya.getCategorySkill("appraisal")),U==="like"?Te.success("Спасибо! Модель учтёт, что оценка была точной."):Te.success("Спасибо за замечание. Модель дообучится на этом примере.")}catch{Te.error("Не удалось сохранить обратную связь по оценке.")}},[Y,xe,Ze]),Is=K.useCallback(async()=>{A(!0);try{Te.info("Начинаю переиндексацию всех документов...");const U=await C$();u(U);const W=Bn.getCategories();h(W),Ya.forceUpdate(),fa.addExperienceFromDocuments();const ee=Ya.getLearningStats(),oe=fa.getEvolutionStats(),re=fa.getProgressToNextLevel();oe&&(O(oe.level),I(re)),_((()=>{const we=Math.min(ee.patternsCount*5,30),Ue=ee.averageSuccessRate*25,Ne=Math.min(ee.totalUsage/10,15),Se=Math.min(ee.insightsCount*2,10),ke=oe?Math.min(oe.level*2,20):0;return Math.round(we+Ue+Ne+Se+ke)})()),Te.success(`Переиндексация завершена. Обработано документов: ${U.length}. Категорий: ${W.length}. Данные для самообучения обновлены.`)}catch(U){const W=U instanceof Error?U.message:"Неизвестная ошибка";Te.error(`Ошибка переиндексации: ${W}`)}finally{A(!1)}},[]),ya=K.useCallback(U=>{a(U.title),requestAnimationFrame(()=>{setTimeout(()=>{const W=U.title;if(!W.trim()||n)return;const ee={id:`user-${Date.now()}`,role:"user",content:W.trim(),timestamp:new Date};t(oe=>[...oe,ee]),a(""),s(!0),hr(W.trim(),[],j&&Et()||void 0).then(({content:oe,sources:re,context:le})=>{const we={id:`ai-${Date.now()}`,role:"assistant",content:oe,timestamp:new Date,sources:re.length>0?re:void 0,context:le};t(Ue=>[...Ue,we])}).catch(oe=>{const re={id:`ai-error-${Date.now()}`,role:"assistant",content:"Извините, произошла ошибка при генерации ответа. Попробуйте еще раз или переформулируйте вопрос.",timestamp:new Date};t(le=>[...le,re])}).finally(()=>{s(!1)})},50)})},[n,hr,j,Et]),ni=K.useCallback(U=>{x(U),E("")},[]),Ei=K.useMemo(()=>[{icon:i.jsx(UA,{}),text:"Расчет LTV и залоговая стоимость",query:"Как правильно рассчитать LTV (loan-to-value) для залогового имущества? Какие факторы влияют на залоговую стоимость?"},{icon:i.jsx(Dr,{}),text:"Оценка залогового имущества",query:"Какие требования к независимой оценке залогового имущества? Как выбрать оценщика и проверить отчет об оценке?"},{icon:i.jsx(Sv,{}),text:"Анализ рисков залога",query:"Какие основные риски при принятии имущества в залог? Как оценить и минимизировать риски по залоговому обеспечению?"},{icon:i.jsx(YT,{}),text:"Регистрация обременения в Росреестре",query:"Как зарегистрировать обременение в Росреестре? Какие документы необходимы для регистрации залога недвижимости?"},{icon:i.jsx(Dr,{}),text:"Визуальный осмотр залогового имущества",query:"Как провести визуальный осмотр залогового имущества? На что обратить внимание при проверке наличия и состояния залога?"},{icon:i.jsx(Sv,{}),text:"Обращение взыскания на залог",query:"В каких случаях можно обратить взыскание на залоговое имущество? Каков порядок реализации залога?"}],[]),Pt=K.useCallback(U=>{if(!U.trim()||n)return;let W=N;W||(W=M1().id,P(W),J(TA()));const ee={id:`user-${Date.now()}`,role:"user",content:U.trim(),timestamp:new Date};W&&Pu(W,ee),t(re=>[...re,ee]),a(""),s(!0);const oe=e.map(re=>({id:re.id,role:re.role,content:re.content,timestamp:re.timestamp instanceof Date?re.timestamp:new Date(re.timestamp)}));hr(U.trim(),oe,j&&Et()||void 0).then(({content:re,sources:le,context:we})=>{const Ue={id:`ai-${Date.now()}`,role:"assistant",content:re,timestamp:new Date,sources:le.length>0?le:void 0,context:we};W&&(Pu(W,Ue),J(TA())),t(Ne=>[...Ne,Ue]),setTimeout(()=>{Fr()},150)}).catch(re=>{const le={id:`ai-error-${Date.now()}`,role:"assistant",content:"Извините, произошла ошибка при генерации ответа. Попробуйте еще раз или переформулируйте вопрос.",timestamp:new Date};W&&(Pu(W,le),J(TA())),t(we=>[...we,le]),setTimeout(()=>{Fr()},150)}).finally(()=>{s(!1)})},[n,hr,N,e,Fr,j,Et]),va=K.useMemo(()=>{const U=new Date;U.setHours(0,0,0,0);const W=new Date(U);W.setDate(W.getDate()-1);const ee=new Date(U);ee.setDate(ee.getDate()-7);const oe=new Date(U);oe.setDate(oe.getDate()-30);const re={today:[],yesterday:[],week:[],month:[]};return Q.forEach(le=>{const we=new Date(le.updatedAt);we.setHours(0,0,0,0),we.getTime()===U.getTime()?re.today.push(le):we.getTime()===W.getTime()?re.yesterday.push(le):we>=ee?re.week.push(le):we>=oe&&re.month.push(le)}),re},[Q]),kn=K.useCallback(()=>{const U=M1();P(U.id),J(TA()),t([]),Te.success("Создан новый чат")},[]),Na=K.useCallback(U=>{P(U)},[]);return i.jsxs("div",{className:"reference-page",children:[i.jsxs("div",{className:`reference-page__sidebar ${Ft?"reference-page__sidebar--visible":""}`,children:[i.jsxs("div",{className:"reference-page__sidebar-header",children:[i.jsxs(Oe,{children:[i.jsx(jt,{size:24}),i.jsx(Kt,{strong:!0,style:{color:"#fff",fontSize:"16px"},children:"Чаты"})]}),i.jsx(Ce,{type:"text",icon:Ft?i.jsx(cb,{}):i.jsx(lb,{}),onClick:()=>Lt(!Ft),style:{color:"#fff"},title:Ft?"Свернуть панель чатов":"Развернуть панель чатов"})]}),Ft&&i.jsx(i.Fragment,{children:i.jsxs("div",{className:"reference-page__sidebar-content",children:[i.jsx(Ce,{type:"primary",icon:i.jsx(wi,{}),onClick:kn,block:!0,style:{marginBottom:16},children:"Новый чат"}),i.jsxs("div",{className:"reference-page__chats-list",children:[va.today.length>0&&i.jsxs("div",{className:"reference-page__chats-group",children:[i.jsx(Kt,{type:"secondary",style:{fontSize:12,color:"#8c8c8c",padding:"8px 16px",display:"block"},children:"Сегодня"}),va.today.map(U=>i.jsxs("div",{className:`reference-page__chat-item ${N===U.id?"reference-page__chat-item--active":""}`,onClick:()=>Na(U.id),children:[i.jsx(Kt,{ellipsis:!0,style:{flex:1,color:"#fff"},children:U.title}),i.jsx(Ce,{type:"text",icon:i.jsx(Z0,{}),size:"small",onClick:W=>{W.stopPropagation()},style:{color:"#8c8c8c"}})]},U.id))]}),va.yesterday.length>0&&i.jsxs("div",{className:"reference-page__chats-group",children:[i.jsx(Kt,{type:"secondary",style:{fontSize:12,color:"#8c8c8c",padding:"8px 16px",display:"block"},children:"Вчера"}),va.yesterday.map(U=>i.jsxs("div",{className:`reference-page__chat-item ${N===U.id?"reference-page__chat-item--active":""}`,onClick:()=>Na(U.id),children:[i.jsx(Kt,{ellipsis:!0,style:{flex:1,color:"#fff"},children:U.title}),i.jsx(Ce,{type:"text",icon:i.jsx(Z0,{}),size:"small",style:{color:"#8c8c8c"}})]},U.id))]}),va.week.length>0&&i.jsxs("div",{className:"reference-page__chats-group",children:[i.jsx(Kt,{type:"secondary",style:{fontSize:12,color:"#8c8c8c",padding:"8px 16px",display:"block"},children:"7 дней"}),va.week.map(U=>i.jsxs("div",{className:`reference-page__chat-item ${N===U.id?"reference-page__chat-item--active":""}`,onClick:()=>Na(U.id),children:[i.jsx(Kt,{ellipsis:!0,style:{flex:1,color:"#fff"},children:U.title}),i.jsx(Ce,{type:"text",icon:i.jsx(Z0,{}),size:"small",style:{color:"#8c8c8c"}})]},U.id))]}),va.month.length>0&&i.jsxs("div",{className:"reference-page__chats-group",children:[i.jsx(Kt,{type:"secondary",style:{fontSize:12,color:"#8c8c8c",padding:"8px 16px",display:"block"},children:"30 дней"}),va.month.map(U=>i.jsxs("div",{className:`reference-page__chat-item ${N===U.id?"reference-page__chat-item--active":""}`,onClick:()=>Na(U.id),children:[i.jsx(Kt,{ellipsis:!0,style:{flex:1,color:"#fff"},children:U.title}),i.jsx(Ce,{type:"text",icon:i.jsx(Z0,{}),size:"small",style:{color:"#8c8c8c"}})]},U.id))]}),Q.length===0&&i.jsx("div",{style:{padding:16,textAlign:"center"},children:i.jsx(Kt,{type:"secondary",style:{color:"#8c8c8c"},children:"Нет сохраненных чатов"})})]})]})})]}),i.jsxs("div",{className:`reference-page__main-content ${Ft?"reference-page__main-content--with-sidebar":""}`,children:[i.jsxs("div",{className:"reference-page__header",children:[i.jsxs("div",{className:"reference-page__header-left",children:[i.jsx(jt,{size:Er}),i.jsxs("div",{style:{flex:1,minWidth:0},children:[i.jsxs(Oe,{align:"center",style:{marginBottom:4},size:"small",children:[i.jsx(Wp,{level:2,style:{margin:0,fontSize:"22px",lineHeight:"1.2"},children:"Справочная с ИИ"}),i.jsxs(et,{color:T>=70?"success":T>=40?"processing":"default",icon:i.jsx(WT,{}),style:{fontSize:"12px",padding:"4px 12px",borderRadius:"16px",fontWeight:600,height:"auto",lineHeight:"1.5"},children:["Индекс самообучаемости: ",T,"%"]})]}),M&&i.jsx("div",{style:{marginBottom:4,maxWidth:500},children:i.jsxs(Oe,{direction:"vertical",size:2,style:{width:"100%"},children:[i.jsxs(Oe,{size:"small",children:[i.jsxs(Kt,{strong:!0,style:{fontSize:"12px"},children:["Уровень: ",((da=fa.getCurrentLevel())==null?void 0:da.name)||"Новичок"," (",S,")"]}),i.jsxs(Kt,{type:"secondary",style:{fontSize:"11px"},children:["Опыт: ",((na=fa.getEvolutionStats())==null?void 0:na.totalExperience)||0]})]}),i.jsx(Cn,{percent:M.percentage,status:M.percentage>=90?"active":"normal",strokeColor:{"0%":"#108ee9","100%":"#87d068"},format:()=>`${M.current}/${M.required} опыта`,size:"small",style:{marginTop:2},showInfo:!1})]})}),i.jsxs(Oe,{direction:"vertical",size:4,style:{width:"100%"},children:[i.jsx(Kt,{type:"secondary",style:{fontSize:"11px",lineHeight:"1.3"},children:"База знаний на основе справочной литературы по банковским залогам"}),i.jsxs(Oe,{align:"center",wrap:!0,size:"small",children:[i.jsxs(et,{color:te>=70?"success":te>=40?"processing":"default",icon:i.jsx(UA,{}),style:{margin:0},children:["Скилл оценки: ",te,"%"]}),i.jsx(et,{color:C?"processing":"default",icon:i.jsx(Tv,{spin:C}),style:{margin:0},children:"Режим обучения"}),i.jsx(Ce,{size:"small",type:j?"primary":"default",icon:i.jsx(UA,{}),onClick:_t,children:"Режим оценки"}),i.jsx(Ce,{size:"small",type:C?"primary":"default",icon:i.jsx(Tv,{spin:C}),onClick:ct,children:C?"Остановить обучение":"Режим обучения"}),i.jsx(Ce,{size:"small",type:"default",icon:i.jsx($A,{}),onClick:()=>se(!0),children:"Эквалайзер скилов"})]})]})]})]}),i.jsxs("div",{className:"reference-page__header-right",children:[p.length>0&&i.jsxs(et,{icon:i.jsx(XT,{}),color:"blue",style:{margin:0,padding:"4px 12px"},children:["Документов: ",p.length]}),i.jsxs(Ce,{icon:i.jsx(JT,{}),onClick:()=>Lt(!Ft),size:"middle",type:Ft?"primary":"default",style:{marginRight:8},title:Ft?"Скрыть историю чатов":"Показать историю чатов",children:["Чаты"," ",Q.length>0&&i.jsx(mh,{count:Q.length,size:"small",style:{marginLeft:4}})]}),i.jsx(Ce,{icon:i.jsx($A,{}),onClick:()=>L(!0),size:"middle",children:"Настройки"})]})]}),j?i.jsx(Me,{size:"small",className:"reference-page__appraisal-panel",children:i.jsx(ne,{layout:"vertical",form:xe,children:i.jsxs(Oe,{direction:"vertical",style:{width:"100%"},size:"middle",children:[i.jsxs(Oe,{style:{width:"100%",justifyContent:"space-between"},children:[i.jsx(Kt,{strong:!0,children:"Режим оценки активен"}),i.jsx(Ce,{size:"small",onClick:_t,children:"Выйти из режима оценки"})]}),i.jsxs(Oe,{wrap:!0,size:"small",children:[i.jsx(Ce,{size:"small",onClick:()=>St("transport"),children:"Транспорт"}),i.jsx(Ce,{size:"small",onClick:()=>St("real_estate"),children:"Недвижимость"}),i.jsx(Ce,{size:"small",onClick:()=>St("equity"),children:"Акции / Доли в УК"})]}),i.jsxs(Oe,{size:"middle",wrap:!0,children:[i.jsx(ne.Item,{label:"Категория",name:"assetGroup",children:i.jsx(Ve,{style:{minWidth:220},options:He,disabled:!0})}),i.jsx(ne.Item,{label:"Тип актива",name:"assetType",dependencies:["assetGroup"],rules:[{required:!0,message:"Выберите тип актива"}],children:i.jsx(Ve,{style:{minWidth:260},placeholder:"Выберите тип",options:Ze})}),i.jsx(ne.Item,{label:"Наименование",name:"objectName",children:i.jsx(Re,{placeholder:"Например, складской комплекс на МКАД"})})]}),je.length>0&&i.jsxs("div",{children:[i.jsx(Kt,{strong:!0,children:"Ключевые атрибуты для оценки"}),i.jsx(dt,{gutter:12,style:{marginTop:8},children:je.map(U=>i.jsx(be,{xs:24,md:12,lg:8,children:i.jsx(ne.Item,{label:U.label,name:["attributes",U.key],children:U.type==="number"?i.jsx(ha,{style:{width:"100%"},placeholder:U.placeholder,controls:!1}):i.jsx(Re,{placeholder:U.placeholder})})},U.key))})]}),i.jsx(dt,{gutter:12,children:i.jsx(be,{xs:24,md:12,children:i.jsxs(ne.Item,{label:"Фото объекта для отчета",children:[i.jsx(Xi,{accept:".jpg,.jpeg,.png,.gif,.bmp,.webp",showUploadList:!1,beforeUpload:Di,children:i.jsx(Ce,{size:"small",children:"Загрузить изображение"})}),G&&i.jsx("div",{style:{marginTop:8},children:i.jsx("img",{src:G,alt:"Объект оценки",style:{maxWidth:160,maxHeight:120,borderRadius:8,objectFit:"cover"}})})]})})}),i.jsxs(dt,{gutter:12,children:[i.jsx(be,{xs:24,md:12,children:i.jsx(ne.Item,{label:"Цель оценки",name:"purpose",children:i.jsx(Re,{placeholder:"Например, взыскание, кредитование"})})}),i.jsx(be,{xs:24,md:12,children:i.jsx(ne.Item,{label:"Особенности / комментарии",name:"additionalFactors",children:i.jsx(Re,{placeholder:"Земля в аренде, есть обременения..."})})})]}),i.jsxs(Oe,{style:{justifyContent:"space-between",width:"100%"},children:[i.jsx(Kt,{type:"secondary",children:"После заполнения полей AI помощник выполнит экспресс-оценку и учтёт данные в самообучении."}),i.jsxs(Oe,{children:[i.jsx(Ce,{type:"default",icon:i.jsx(Dr,{}),disabled:!Y,onClick:$t,children:"Выгрузить PDF"}),i.jsx(Ce,{type:"primary",icon:i.jsx(UA,{}),loading:ue,onClick:Lr,children:"Получить оценку ИИ"})]})]}),Y&&i.jsx(Ir,{type:"success",showIcon:!0,message:`Рыночная стоимость: ${Y.marketValue.toLocaleString("ru-RU")} ₽ · Залоговая: ${Y.collateralValue.toLocaleString("ru-RU")} ₽`,description:i.jsxs("div",{children:[i.jsx(Kt,{strong:!0,children:"Методология:"})," ",Y.methodology,i.jsx("br",{}),i.jsx(Kt,{strong:!0,children:"Ключевые риски:"})," ",Y.riskFactors.join("; ")||"не выявлены",i.jsx("br",{}),i.jsx(Kt,{strong:!0,children:"Рекомендации:"})," ",Y.recommendedActions.join("; ")||"—",i.jsx("br",{}),i.jsxs(Oe,{size:"small",style:{marginTop:8},children:[i.jsx(Ce,{size:"small",type:"text",icon:i.jsx(vb,{}),onClick:()=>yr("like"),title:"Оценка точна"}),i.jsx(Ce,{size:"small",type:"text",icon:i.jsx(wb,{}),onClick:()=>yr("dislike"),title:"Оценка неточна"})]})]})})]})})}):i.jsxs(i.Fragment,{children:[l&&i.jsx(Ir,{message:"Инициализация ИИ-справочной...",description:i.jsxs("div",{children:[i.jsx("span",{className:"reference-page__loading-text",children:"Справочная загружается, подождите пожалуйста..."}),typeof d=="number"&&i.jsxs("div",{style:{marginTop:4},children:["Осталось примерно ",d," сек."]})]}),type:"info",showIcon:!0,style:{marginBottom:16}}),i.jsx(Me,{className:"reference-page__card",children:i.jsx("div",{className:"reference-page__chat",children:i.jsxs("div",{className:"reference-page__messages",children:[e.length===0?i.jsx("div",{className:"reference-page__empty",children:i.jsxs("div",{className:"reference-page__welcome",children:[i.jsx(Bf,{style:{fontSize:40,color:"#1890ff",marginBottom:8}}),i.jsx(Wp,{level:4,style:{marginBottom:4,fontSize:"18px"},children:"Справочная с ИИ"}),i.jsx(Kt,{type:"secondary",style:{fontSize:13,marginBottom:12,display:"block"},children:"Задайте вопрос ниже, и я найду ответ в базе знаний"}),i.jsx(kt,{style:{margin:"8px 0"}}),i.jsx("div",{className:"reference-page__quick-questions",children:i.jsx(v2,{ghost:!0,items:[{key:"1",label:i.jsx(Kt,{strong:!0,style:{fontSize:14},children:"Популярные вопросы"}),children:i.jsx(Oe,{direction:"vertical",size:"small",style:{width:"100%"},children:Ei.map((U,W)=>i.jsx(Ce,{type:"default",icon:U.icon,onClick:()=>Pt(U.query),style:{width:"100%",textAlign:"left",height:"auto",padding:"10px 16px",fontSize:"14px"},children:U.text},W))})}]})})]})}):i.jsxs(i.Fragment,{children:[e.map(U=>i.jsx(TS,{message:U,onRating:jr,onTopicClick:ya},U.id)),n&&i.jsx("div",{className:"reference-page__message reference-page__message--assistant",children:i.jsxs("div",{className:"reference-page__message-content",children:[i.jsx(am,{icon:i.jsx(Bf,{}),style:{backgroundColor:"#52c41a",marginRight:12}}),i.jsx(ei,{size:"small"}),i.jsx(Kt,{type:"secondary",style:{marginLeft:12},children:"Ищу информацию в базе знаний..."})]})}),i.jsx("div",{ref:bt})]}),i.jsx("div",{className:"reference-page__input-container",children:i.jsxs("div",{className:"reference-page__input-wrapper",children:[i.jsxs("div",{style:{position:"relative",width:"100%"},children:[i.jsx(K$,{ref:ft,value:r,onChange:U=>a(U.target.value),onKeyPress:ln,placeholder:e.length===0?"Задайте вопрос о залогах, ипотеке, оценке...":"Задайте уточняющий вопрос...",autoSize:{minRows:3,maxRows:6},disabled:n||l,className:"reference-page__main-input",style:{fontSize:"16px",padding:"16px 50px 16px 16px",borderRadius:"12px",border:"2px solid #d9d9d9",transition:"all 0.3s"},onFocus:U=>{U.target.style.borderColor="#1890ff",U.target.style.boxShadow="0 0 0 2px rgba(24, 144, 255, 0.2)"},onBlur:U=>{U.target.style.borderColor="#d9d9d9",U.target.style.boxShadow="none"}}),i.jsx(Xi,{accept:".pdf,.docx,.xlsx,.xls,.jpg,.jpeg,.png,.gif,.bmp,.webp",beforeUpload:ai,showUploadList:!1,disabled:o,children:i.jsx(Ce,{type:"text",icon:i.jsx(ZT,{}),loading:o,disabled:o,style:{position:"absolute",right:"8px",top:"8px",zIndex:1,color:"#8c8c8c",fontSize:"18px",width:"32px",height:"32px",padding:0,display:"flex",alignItems:"center",justifyContent:"center"},title:"Приложить документ или изображение"})})]}),i.jsx(Ce,{type:"primary",icon:i.jsx(gb,{}),onClick:Jt,loading:n,disabled:!r.trim()||l,size:"large",className:"reference-page__send-button",style:{height:"auto",padding:"12px 24px",fontSize:"16px",marginTop:"12px",borderRadius:"8px"},children:"Отправить вопрос"})]})})]})})})]}),i.jsx(lr,{title:i.jsxs(Oe,{children:[i.jsx($A,{}),i.jsx("span",{children:"Настройки"})]}),open:D,onCancel:()=>L(!1),footer:null,width:600,style:{top:20},children:i.jsxs(Oe,{direction:"vertical",style:{width:"100%"},size:"large",children:[i.jsxs("div",{children:[i.jsx(Kt,{strong:!0,children:"Поиск по темам"}),i.jsx(Re,{placeholder:"Поиск...",prefix:i.jsx(qa,{}),value:v,onChange:U=>E(U.target.value),style:{marginTop:8},allowClear:!0})]}),i.jsx(kt,{style:{margin:"8px 0"}}),i.jsxs("div",{children:[i.jsxs(Oe,{style:{marginBottom:8},children:[i.jsx(Kt,{strong:!0,children:"Категории"}),y&&i.jsx(Ce,{type:"link",size:"small",onClick:()=>ni(null),children:"Сбросить"})]}),i.jsx(Ar,{size:"small",dataSource:g,style:{maxHeight:400,overflow:"auto"},renderItem:U=>i.jsx(Ar.Item,{style:{cursor:"pointer",backgroundColor:y===U.id?"#e6f7ff":"transparent",borderRadius:4,padding:"8px 12px"},onClick:()=>ni(U.id),children:i.jsxs(Oe,{style:{width:"100%",justifyContent:"space-between"},children:[i.jsxs(Oe,{children:[i.jsx(co,{}),i.jsx(Kt,{children:U.name})]}),i.jsx(mh,{count:U.topics.length,showZero:!0,style:{backgroundColor:"#52c41a"}})]})})})]}),R.length>0&&!y&&i.jsxs(i.Fragment,{children:[i.jsx(kt,{style:{margin:"8px 0"}}),i.jsxs("div",{children:[i.jsxs(Kt,{strong:!0,children:["Результаты поиска (",R.length,")"]}),i.jsx(Ar,{size:"small",dataSource:R.slice(0,10),style:{marginTop:8,maxHeight:300,overflow:"auto"},renderItem:U=>i.jsx(Ar.Item,{style:{cursor:"pointer",padding:"8px 12px",borderRadius:4},onClick:()=>{ya(U),L(!1)},onMouseEnter:W=>{W.currentTarget.style.backgroundColor="#f5f5f5"},onMouseLeave:W=>{W.currentTarget.style.backgroundColor="transparent"},children:i.jsx(Kt,{ellipsis:!0,style:{fontSize:12},children:U.title})})})]})]}),i.jsx(kt,{style:{margin:"8px 0"}}),i.jsxs("div",{children:[i.jsx(Kt,{strong:!0,style:{display:"block",marginBottom:8},children:"Управление базой знаний"}),i.jsx(Ce,{icon:i.jsx(el,{}),onClick:Is,loading:o,title:"Переиндексировать все документы из папки VND",block:!0,style:{marginTop:8},children:"Обновить базу знаний"}),i.jsx(Kt,{type:"secondary",style:{fontSize:12,display:"block",marginTop:8},children:"Переиндексирует все документы из папки VND и обновит базу знаний"})]})]})}),i.jsx(y2,{title:"Эквалайзер скилов и навыков Помощника ИИ",placement:"right",width:600,open:ve,onClose:()=>se(!1),children:i.jsxs(Oe,{direction:"vertical",size:"large",style:{width:"100%"},children:[i.jsxs("div",{children:[i.jsx(Wp,{level:4,children:"Режим оценки"}),i.jsxs(Oe,{direction:"vertical",size:"middle",style:{width:"100%"},children:[i.jsxs("div",{children:[i.jsx(Kt,{strong:!0,children:"Доходный подход"}),i.jsx(bn,{value:Ke.incomeApproach,onChange:U=>Ee(W=>({...W,incomeApproach:U})),min:0,max:100,marks:{0:"0%",50:"50%",100:"100%"}}),i.jsxs(Oe,{direction:"vertical",size:"small",style:{marginTop:8,marginLeft:12},children:[i.jsxs("div",{children:[i.jsx(Kt,{type:"secondary",style:{fontSize:12},children:"Дисконтирование денежных потоков (DCF)"}),i.jsx(bn,{value:Ke.incomeMethods.dcf,onChange:U=>Ee(W=>({...W,incomeMethods:{...W.incomeMethods,dcf:U}})),min:0,max:100,style:{marginTop:4}})]}),i.jsxs("div",{children:[i.jsx(Kt,{type:"secondary",style:{fontSize:12},children:"Прямая капитализация"}),i.jsx(bn,{value:Ke.incomeMethods.directCapitalization,onChange:U=>Ee(W=>({...W,incomeMethods:{...W.incomeMethods,directCapitalization:U}})),min:0,max:100,style:{marginTop:4}})]}),i.jsxs("div",{children:[i.jsx(Kt,{type:"secondary",style:{fontSize:12},children:"Множитель валового дохода"}),i.jsx(bn,{value:Ke.incomeMethods.grossRentMultiplier,onChange:U=>Ee(W=>({...W,incomeMethods:{...W.incomeMethods,grossRentMultiplier:U}})),min:0,max:100,style:{marginTop:4}})]})]})]}),i.jsxs("div",{children:[i.jsx(Kt,{strong:!0,children:"Сравнительный подход"}),i.jsx(bn,{value:Ke.comparativeApproach,onChange:U=>Ee(W=>({...W,comparativeApproach:U})),min:0,max:100,marks:{0:"0%",50:"50%",100:"100%"}}),i.jsxs(Oe,{direction:"vertical",size:"small",style:{marginTop:8,marginLeft:12},children:[i.jsxs("div",{children:[i.jsx(Kt,{type:"secondary",style:{fontSize:12},children:"Сравнение продаж"}),i.jsx(bn,{value:Ke.comparativeMethods.salesComparison,onChange:U=>Ee(W=>({...W,comparativeMethods:{...W.comparativeMethods,salesComparison:U}})),min:0,max:100,style:{marginTop:4}})]}),i.jsxs("div",{children:[i.jsx(Kt,{type:"secondary",style:{fontSize:12},children:"Извлечение из рынка"}),i.jsx(bn,{value:Ke.comparativeMethods.marketExtraction,onChange:U=>Ee(W=>({...W,comparativeMethods:{...W.comparativeMethods,marketExtraction:U}})),min:0,max:100,style:{marginTop:4}})]})]})]}),i.jsxs("div",{children:[i.jsx(Kt,{strong:!0,children:"Затратный подход"}),i.jsx(bn,{value:Ke.costApproach,onChange:U=>Ee(W=>({...W,costApproach:U})),min:0,max:100,marks:{0:"0%",50:"50%",100:"100%"}}),i.jsxs(Oe,{direction:"vertical",size:"small",style:{marginTop:8,marginLeft:12},children:[i.jsxs("div",{children:[i.jsx(Kt,{type:"secondary",style:{fontSize:12},children:"Стоимость замещения"}),i.jsx(bn,{value:Ke.costMethods.replacementCost,onChange:U=>Ee(W=>({...W,costMethods:{...W.costMethods,replacementCost:U}})),min:0,max:100,style:{marginTop:4}})]}),i.jsxs("div",{children:[i.jsx(Kt,{type:"secondary",style:{fontSize:12},children:"Стоимость воспроизводства"}),i.jsx(bn,{value:Ke.costMethods.reproductionCost,onChange:U=>Ee(W=>({...W,costMethods:{...W.costMethods,reproductionCost:U}})),min:0,max:100,style:{marginTop:4}})]}),i.jsxs("div",{children:[i.jsx(Kt,{type:"secondary",style:{fontSize:12},children:"Износ"}),i.jsx(bn,{value:Ke.costMethods.depreciation,onChange:U=>Ee(W=>({...W,costMethods:{...W.costMethods,depreciation:U}})),min:0,max:100,style:{marginTop:4}})]})]})]})]})]}),i.jsx(kt,{}),i.jsxs("div",{children:[i.jsx(Wp,{level:4,children:"Режим экспертизы"}),i.jsx(Kt,{type:"secondary",children:"В этом режиме ответы формируются профессиональным AI помощником (DeepSeek) на основе базы знаний и настроек эквалайзера скилов и навыков."}),i.jsxs(Oe,{direction:"vertical",size:"middle",style:{width:"100%"},children:[i.jsxs("div",{children:[i.jsxs(Oe,{children:[i.jsx(Kt,{strong:!0,children:"Использовать AI DeepSeek для ответов"}),i.jsx(xi,{checked:pe.useDeepSeek!==!1,onChange:U=>ce(W=>({...W,useDeepSeek:U}))})]}),i.jsx(Kt,{type:"secondary",style:{display:"block",marginTop:4},children:"При включении этого параметра ИИ будет отвечать как профессионал в области оценки и рисков залогового имущества Банка, опираясь на базу знаний и настройки эквалайзера."})]}),i.jsxs("div",{children:[i.jsx(Kt,{strong:!0,children:"Уровни экспертизы"}),i.jsx(bn,{value:pe.expertiseLevel,onChange:U=>ce(W=>({...W,expertiseLevel:U})),min:0,max:100,marks:{0:"0%",50:"50%",100:"100%"}})]}),i.jsxs("div",{children:[i.jsx(Kt,{strong:!0,children:"Уровни анализа"}),i.jsx(bn,{value:pe.analysisLevel,onChange:U=>ce(W=>({...W,analysisLevel:U})),min:0,max:100,marks:{0:"0%",50:"50%",100:"100%"}})]}),i.jsxs("div",{children:[i.jsx(Kt,{strong:!0,children:"Краткость ответов"}),i.jsx(bn,{value:pe.responseBrevity,onChange:U=>ce(W=>({...W,responseBrevity:U})),min:0,max:100,marks:{0:"Подробно",50:"50%",100:"Кратко"}})]}),i.jsxs("div",{children:[i.jsx(Kt,{strong:!0,children:"Анализ рисков"}),i.jsx(bn,{value:pe.riskAnalysis,onChange:U=>ce(W=>({...W,riskAnalysis:U})),min:0,max:100,marks:{0:"0%",50:"50%",100:"100%"}})]}),i.jsxs("div",{children:[i.jsx(Kt,{strong:!0,children:"Комментарии"}),i.jsx(bn,{value:pe.comments,onChange:U=>ce(W=>({...W,comments:U})),min:0,max:100,marks:{0:"0%",50:"50%",100:"100%"}})]}),i.jsxs("div",{children:[i.jsx(Kt,{strong:!0,children:"Детализация"}),i.jsx(bn,{value:pe.detailLevel,onChange:U=>ce(W=>({...W,detailLevel:U})),min:0,max:100,marks:{0:"0%",50:"50%",100:"100%"}})]})]})]})]})})]})]})},zd=[{key:"ANALYSIS",title:"ANALYSIS",description:"Анализ возможности внесудебной реализации; проверка оценки и рисков.",checklist:["Получить последнюю оценку (рыночная и залоговая)","Проверить ограничения/обременения","Оценить срок и ликвидность"]},{key:"PREPARATION",title:"PREPARATION",description:"Подготовка пакета документов: уведомления, претензии, соглашения.",checklist:["Сформировать уведомление о реализации","Подготовить претензионное письмо"]},{key:"NEGOTIATION",title:"NEGOTIATION",description:"Переговоры с должником/залогодателем: скидка, рассрочка, отступное.",checklist:["Зафиксировать предложения сторон","Подготовить протокол переговоров"]},{key:"APPROVAL",title:"APPROVAL",description:"Внутреннее согласование условий сделки, задачи на согласование.",checklist:["Создать задачи на согласование","Получить визы руководства/юр. блока"]},{key:"AGREEMENT",title:"AGREEMENT",description:"Оформление договора купли-продажи/отступного.",checklist:["Сформировать проект договора","Сохранить договор в залоговом досье"]},{key:"SALE",title:"SALE",description:"Фактическая реализация, ввод покупателя, суммы, даты.",checklist:["Зафиксировать сумму и дату расчётов","Загрузить подтверждающие документы"]},{key:"COMPLETED",title:"COMPLETED",description:"Завершение, снятие обременения, расчёты.",checklist:["Создать задачу на снятие обременения","Обновить статус и закрыть кейс"]},{key:"CANCELLED",title:"CANCELLED",description:"Отмена/возврат в реестр на другие процедуры.",checklist:["Зафиксировать причину отмены","Сообщить заинтересованным сторонам"]}],z$=()=>{const e=Vs(b=>b.workflow.cases),[t,r]=K.useState([]),[a,n]=K.useState(!1);K.useEffect(()=>{(async()=>{n(!0);try{const T=await Dt.getTasks();r(T.filter(_=>_.category==="workflow"))}catch(T){console.warn("Не удалось загрузить задачи для KPI workflow:",T)}finally{n(!1)}})()},[]);const s=K.useMemo(()=>{const b={};return e.forEach(T=>{b[T.stage]=(b[T.stage]||0)+1}),b},[e]),o=K.useMemo(()=>{const b={},T=Date.now();return e.forEach(_=>{if(!Array.isArray(_.history)||_.history.length===0)return;const S=_.history.find(I=>I.stage===_.stage);if(!S)return;const O=new Date(S.createdAt).getTime(),M=Math.max(0,(T-O)/(1e3*3600*24));b[_.stage]||(b[_.stage]={totalDays:0,count:0}),b[_.stage].totalDays+=M,b[_.stage].count+=1}),Object.entries(b).map(([_,{totalDays:S,count:O}])=>({stage:_,avgDays:O>0?Math.round(S/O):0}))},[e]),A=K.useMemo(()=>e.filter(b=>b.stage!=="COMPLETED"&&b.stage!=="CANCELLED").slice(0,5).map(b=>({title:b.objectName,stage:b.stage,deadline:b.deadline,manager:b.manager||"Не назначен"})),[e]),l=K.useMemo(()=>{if(e.length===0)return 0;const b=Date.now(),T=e.reduce((_,S)=>{const O=new Date(S.createdAt).getTime();return _+Math.max(0,b-O)/(1e3*3600*24)},0);return Math.round(T/e.length)},[e]),c=e.filter(b=>b.stage==="COMPLETED"),d=c.reduce((b,T)=>b+(T.appraisedValue||0)*.8,0),f=e.reduce((b,T)=>b+(T.appraisedValue||0),0),p=e.reduce((b,T)=>b+(T.debtAmount||0),0),u=e.filter(b=>b.stage!=="COMPLETED"&&b.stage!=="CANCELLED").reduce((b,T)=>b+(T.debtAmount||0),0),g=f>0?Math.round(d/f*100):0,h=e.length>0?Math.round(c.length/e.length*100):0,y=Date.now(),x=t.filter(b=>b.status!=="completed"&&new Date(b.dueDate).getTime()<y),v=K.useMemo(()=>{const b={};return t.forEach(T=>{var O;const _=(O=T.type)==null?void 0:O.split("workflow-"),S=_&&_[1]?_[1].toUpperCase():"OTHER";b[S]=(b[S]||0)+1}),b},[t]),E=t.filter(b=>b.status!=="completed").sort((b,T)=>new Date(b.dueDate).getTime()-new Date(T.dueDate).getTime()).slice(0,5),{Text:R}=ht;return i.jsxs("div",{style:{padding:12},children:[i.jsxs(dt,{gutter:[12,12],children:[i.jsx(be,{xs:24,sm:12,md:8,lg:6,xl:6,children:i.jsx(Me,{title:"Средний срок реализации",children:i.jsx(ut,{value:l,suffix:"дней"})})}),i.jsx(be,{xs:24,sm:12,md:8,lg:6,xl:6,children:i.jsx(Me,{title:"Активных кейсов",children:i.jsx(ut,{value:e.length})})}),i.jsx(be,{xs:24,sm:12,md:8,lg:6,xl:6,children:i.jsx(Me,{title:"Завершено / конверсия",children:i.jsx(ut,{value:`${s.COMPLETED||0} (${h}%)`})})}),i.jsx(be,{xs:24,sm:12,md:8,lg:6,xl:6,children:i.jsx(Me,{title:"Возвращено средств (оценка)",children:i.jsx(ut,{value:d,suffix:"₽",precision:0})})}),i.jsx(be,{xs:24,sm:12,md:8,lg:6,xl:6,children:i.jsx(Me,{title:"Эффективность по оценке",children:i.jsx(ut,{value:g,suffix:"%"})})}),i.jsx(be,{xs:24,sm:12,md:8,lg:6,xl:6,children:i.jsxs(Me,{title:"Задачи workflow",children:[i.jsx(ut,{value:t.length,suffix:a?" (загрузка)":""}),i.jsx("div",{style:{marginTop:8},children:i.jsxs(R,{type:x.length>0?"danger":"secondary",children:["Просрочено: ",x.length]})})]})}),i.jsx(be,{xs:24,sm:12,md:8,lg:6,xl:6,children:i.jsxs(Me,{title:"Долг по кейсам",children:[i.jsx(ut,{value:u,suffix:"₽ (актив)",precision:0}),i.jsx("div",{style:{marginTop:4},children:i.jsxs(R,{type:"secondary",children:["Всего: ",p.toLocaleString("ru-RU")," ₽"]})})]})})]}),i.jsxs(dt,{gutter:[12,12],style:{marginTop:12},children:[i.jsx(be,{xs:24,lg:12,children:i.jsx(Me,{title:"Воронка этапов",bodyStyle:{padding:12},children:i.jsx(Ar,{size:"small",dataSource:zd,renderItem:b=>i.jsxs(Ar.Item,{children:[i.jsx(Ar.Item.Meta,{title:i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{children:b.title}),i.jsx(et,{children:s[b.key]||0})]}),description:b.description}),i.jsx(Cn,{percent:Math.min(100,(s[b.key]||0)*8),size:"small",showInfo:!1})]})})})}),i.jsx(be,{xs:24,lg:12,children:i.jsx(Me,{title:"Средний срок в текущем этапе",bodyStyle:{padding:12},children:i.jsx(Ar,{size:"small",dataSource:o,locale:{emptyText:"Нет кейсов"},renderItem:b=>i.jsx(Ar.Item,{children:i.jsxs(Oe,{style:{width:"100%",justifyContent:"space-between"},children:[i.jsx(R,{children:b.stage}),i.jsxs(et,{color:b.avgDays>14?"red":"blue",children:["~",b.avgDays," дн."]})]})})})})}),i.jsx(be,{xs:24,lg:12,children:i.jsx(Me,{title:"Ближайшие дедлайны",bodyStyle:{padding:12},children:i.jsx(Ar,{size:"small",dataSource:A,renderItem:b=>i.jsxs(Ar.Item,{children:[i.jsx(Ar.Item.Meta,{title:b.title,description:`Этап: ${b.stage}. Менеджер: ${b.manager}`}),i.jsx("div",{children:b.deadline?new Date(b.deadline).toLocaleDateString():"—"})]})})})}),i.jsx(be,{xs:24,lg:12,children:i.jsx(Me,{title:"Задачи (workflow) — ближайшие",bodyStyle:{padding:12},children:i.jsx(Ar,{size:"small",dataSource:E,locale:{emptyText:a?"Загрузка...":"Нет задач"},renderItem:b=>i.jsxs(Ar.Item,{children:[i.jsx(Ar.Item.Meta,{title:b.title,description:i.jsxs(Oe,{direction:"vertical",size:0,children:[i.jsx(R,{type:"secondary",children:b.description}),i.jsxs(R,{type:"secondary",children:["До: ",new Date(b.dueDate).toLocaleDateString()," · Статус: ",b.status]})]})}),i.jsx(et,{children:b.type})]})})})}),i.jsx(be,{xs:24,lg:12,children:i.jsx(Me,{title:"Задачи по этапам (workflow)",bodyStyle:{padding:12},children:i.jsx(Ar,{size:"small",dataSource:Object.entries(v),renderItem:([b,T])=>i.jsx(Ar.Item,{children:i.jsxs(Oe,{style:{width:"100%",justifyContent:"space-between"},children:[i.jsx(R,{children:b}),i.jsx(et,{color:b==="COMPLETED"?"green":"blue",children:T})]})})})})})]})]})},{Text:Qu}=ht,V$=()=>{const e=nA(),t=Vs(l=>l.workflow.cases),[r,a]=K.useState(null),n=K.useMemo(()=>{const l={ANALYSIS:[],PREPARATION:[],NEGOTIATION:[],APPROVAL:[],AGREEMENT:[],SALE:[],COMPLETED:[],CANCELLED:[]};return t.forEach(c=>l[c.stage].push(c)),l},[t]),s=l=>({items:zd.map(c=>({key:c.key,label:c.title,onClick:()=>e(V1({id:l,stage:c.key}))}))}),o=(l,c)=>{e(V1({id:c,stage:l}))},A=l=>r===l?{border:"1px dashed #1890ff",background:"#f0f7ff"}:{border:"1px solid #f0f0f0"};return i.jsxs("div",{style:{padding:16},children:[i.jsx(Qu,{type:"secondary",style:{fontSize:12},children:"Перетащи карточку в нужный этап или выбери этап через «Перевести»"}),i.jsx("div",{style:{height:8}}),i.jsx(dt,{gutter:[12,12],wrap:!0,children:zd.map(l=>i.jsx(be,{xs:24,sm:12,md:8,lg:6,children:i.jsx(Me,{title:i.jsxs(Oe,{direction:"vertical",size:0,children:[i.jsx(Qu,{strong:!0,children:l.title}),i.jsx(Qu,{type:"secondary",style:{fontSize:12},children:l.description})]}),size:"small",bodyStyle:{padding:8},style:A(l.key),onDragOver:c=>{c.preventDefault(),a(l.key)},onDragLeave:()=>a(null),onDrop:c=>{c.preventDefault();const d=c.dataTransfer.getData("text/plain");d&&o(l.key,d),a(null)},children:i.jsxs(Oe,{direction:"vertical",style:{width:"100%"},size:"small",children:[n[l.key].length===0&&i.jsx(Qu,{type:"secondary",style:{fontSize:12},children:"Нет объектов на этом этапе"}),n[l.key].map(c=>{var d,f;return i.jsxs(Me,{size:"small",style:{borderColor:"#f0f0f0"},title:c.objectName,extra:i.jsx(et,{color:"blue",children:c.assetType}),draggable:!0,onDragStart:p=>{p.dataTransfer.setData("text/plain",c.id),a(l.key)},onDragEnd:()=>a(null),children:[i.jsxs("div",{style:{fontSize:12,marginBottom:8},children:["Долг: ",((d=c.debtAmount)==null?void 0:d.toLocaleString("ru-RU"))||"—"," ₽ ",i.jsx("br",{}),"Оценка: ",((f=c.appraisedValue)==null?void 0:f.toLocaleString("ru-RU"))||"—"," ₽"]}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:8},children:[i.jsxs("div",{children:[i.jsx(Qu,{type:"secondary",style:{fontSize:12},children:"Менеджер:"})," ",c.manager||"Не назначен"]}),i.jsx(ub,{menu:s(c.id),trigger:["click"],children:i.jsx(Ce,{size:"small",children:"Перевести"})})]})]},c.id)})]})})},l.key))})]})},$$=()=>i.jsx(ts,{defaultActiveKey:"pipeline",items:[{key:"dashboard",label:"Dashboard",children:i.jsx(z$,{})},{key:"pipeline",label:"Pipeline",children:i.jsx(V$,{})}]}),{Title:Y$,Paragraph:Q1,Text:Ki}=ht,W$=()=>{var x,v;const{id:e}=ib(),t=nA(),r=Vs(E=>E.workflow.cases),a=K.useMemo(()=>r.find(E=>E.id===e),[r,e]),[n,s]=K.useState([]),[o,A]=K.useState(!1),[l]=ne.useForm(),c=async()=>{A(!0);try{const E=await Dt.getTasks();s(a?E.filter(R=>R.workflowCaseId===a.id):[])}catch(E){console.warn("Не удалось загрузить задачи workflow:",E)}finally{A(!1)}};if(K.useEffect(()=>{c()},[a==null?void 0:a.id]),!a)return i.jsx(Ir,{type:"warning",message:"Кейс не найден"});const d=zd.find(E=>E.key===a.stage),f=zd.map(E=>E.key),p=f.indexOf(a.stage),u=p>0?f[p-1]:null,g=p>=0&&p<f.length-1?f[p+1]:null,h=async({stage:E,title:R,description:b,priority:T="medium",dueInDays:_=3})=>{const S=new Date,O={id:`task-wf-${a.id}-${E}-${S.getTime()}`,region:a.assetType||"—",type:`workflow-${E.toLowerCase()}`,title:R,description:b,priority:T,dueDate:new Date(S.getTime()+_*24*3600*1e3).toISOString(),status:"new",businessUser:"workflow",businessUserName:"Workflow",assignedTo:[],currentAssignee:null,currentAssigneeName:null,employeeId:void 0,documents:[],comments:[],createdAt:S.toISOString(),updatedAt:S.toISOString(),history:[{date:S.toISOString(),user:"Workflow",userRole:"system",action:`Создано при переходе в этап ${E}`,status:"new"}],category:"workflow",workflowCaseId:a.id};await Dt.saveTask(O)},y=async(E,R)=>{t(V1({id:a.id,stage:E,comment:R,user:"Система"}));try{E==="PREPARATION"&&await h({stage:E,title:`Подготовить пакет документов по ${a.objectName}`,description:`Workflow кейс ${a.id} на этапе PREPARATION. Собрать уведомления/претензии.`,priority:"high",dueInDays:2}),E==="NEGOTIATION"&&await h({stage:E,title:`Переговоры с должником/залогодателем по ${a.objectName}`,description:`Workflow кейс ${a.id} на этапе NEGOTIATION. Зафиксировать предложения, скидку/рассрочку.`,priority:"high",dueInDays:3}),E==="APPROVAL"&&await h({stage:E,title:`Согласование условий сделки по ${a.objectName}`,description:`Workflow кейс ${a.id} на этапе APPROVAL. Визы руководства/юрблока.`,priority:"high",dueInDays:3}),E==="AGREEMENT"&&await h({stage:E,title:`Договор/отступное по ${a.objectName}`,description:`Workflow кейс ${a.id} на этапе AGREEMENT. Подготовить/подписать договор.`,priority:"high",dueInDays:5}),E==="SALE"&&await h({stage:E,title:`Фиксация сделки и расчётов по ${a.objectName}`,description:`Workflow кейс ${a.id} на этапе SALE. Ввести покупателя, сумму, дату.`,priority:"medium",dueInDays:5}),E==="COMPLETED"&&await h({stage:E,title:`Снятие обременения / закрытие кейса ${a.objectName}`,description:`Workflow кейс ${a.id} завершён. Создать задачу на снятие обременения, обновить досье.`,priority:"high",dueInDays:5}),await c(),Te.success(`Этап изменён на ${E}. Задачи созданы (если требуются).`)}catch(b){console.warn("Не удалось создать задачи для workflow:",b),Te.warning(`Этап изменён на ${E}, но часть задач не создалась`)}["PREPARATION","NEGOTIATION","APPROVAL","AGREEMENT","SALE","COMPLETED"].includes(E)||Te.success(`Этап изменён на ${E}`)};return i.jsxs("div",{style:{padding:16},children:[i.jsxs(Y$,{level:3,style:{marginBottom:12},children:[a.objectName," ",i.jsx(et,{color:a.stage==="COMPLETED"?"green":"blue",children:a.stage})]}),i.jsxs(Oe,{style:{marginBottom:12},wrap:!0,children:[u&&i.jsxs(Ce,{onClick:()=>y(u,"Возврат на предыдущий этап из карточки"),children:["← ",u]}),g&&i.jsxs(Ce,{type:"primary",onClick:()=>y(g,"Перевод на следующий этап"),children:[g," →"]}),i.jsx(Ce,{onClick:()=>y(a.stage,"Зафиксировано без изменений"),children:"Обновить историю"})]}),i.jsxs(dt,{gutter:[16,16],children:[i.jsxs(be,{xs:24,md:14,children:[i.jsxs(Me,{title:"Основная информация",children:[i.jsxs(ye,{column:1,size:"small",bordered:!0,children:[i.jsx(ye.Item,{label:"Объект",children:a.objectName}),i.jsx(ye.Item,{label:"Тип",children:a.assetType}),i.jsxs(ye.Item,{label:"Долг",children:[((x=a.debtAmount)==null?void 0:x.toLocaleString("ru-RU"))||"—"," ₽"]}),i.jsxs(ye.Item,{label:"Оценка",children:[((v=a.appraisedValue)==null?void 0:v.toLocaleString("ru-RU"))||"—"," ₽"]}),i.jsx(ye.Item,{label:"Менеджер",children:a.manager||"Не назначен"}),i.jsx(ye.Item,{label:"Дедлайн",children:a.deadline?new Date(a.deadline).toLocaleDateString():"—"})]}),a.notes&&i.jsxs(Q1,{style:{marginTop:12},children:[i.jsx(Ki,{strong:!0,children:"Заметки: "}),a.notes]})]}),i.jsxs(Me,{title:"Документы workflow",style:{marginTop:16},children:[a.documents.length===0?i.jsx(Ki,{type:"secondary",children:"Документы ещё не добавлены"}):a.documents.map(E=>i.jsxs(Q1,{style:{marginBottom:8},children:[i.jsx(gT,{to:E.url||"#",target:"_blank",children:E.name})," ",i.jsx(et,{children:E.type})]},E.id)),i.jsx(kt,{}),i.jsxs(ne,{form:l,layout:"vertical",onFinish:async E=>{const R={id:`doc-${Date.now()}`,name:E.name,type:E.type,url:E.url||void 0,createdAt:new Date().toISOString()};t($O({id:a.id,documents:[...a.documents,R]})),l.resetFields(),Te.success("Документ добавлен в кейс");try{const b=await Dt.getExtendedCardById(a.objectId);if(b){const T=Array.isArray(b.documents)?b.documents:[],_={...b,documents:[...T,{id:R.id,name:R.name,type:R.type,size:0,mimeType:"text/uri-list",uploadDate:new Date,description:"Добавлено из workflow",fileData:R.url}]};await Dt.saveExtendedCard(_)}}catch(b){console.warn("Не удалось сохранить документ в залоговом досье:",b)}},children:[i.jsxs(dt,{gutter:8,children:[i.jsx(be,{span:8,children:i.jsx(ne.Item,{name:"name",label:"Название",rules:[{required:!0}],children:i.jsx(Re,{placeholder:"Напр. Уведомление"})})}),i.jsx(be,{span:6,children:i.jsx(ne.Item,{name:"type",label:"Тип",initialValue:"workflow-doc",children:i.jsx(Ve,{options:[{value:"workflow-doc",label:"Workflow"},{value:"notification",label:"Уведомление"},{value:"agreement",label:"Соглашение"},{value:"sale-contract",label:"ДКП"},{value:"other",label:"Другое"}]})})}),i.jsx(be,{span:10,children:i.jsx(ne.Item,{name:"url",label:"Ссылка (опционально)",children:i.jsx(Re,{placeholder:"https://..."})})})]}),i.jsx(Ce,{type:"primary",htmlType:"submit",children:"Добавить документ"})]})]})]}),i.jsxs(be,{xs:24,md:10,children:[i.jsxs(Me,{title:"Этап и чеклист",style:{marginBottom:16},children:[i.jsxs(Q1,{children:[i.jsx(Ki,{strong:!0,children:d==null?void 0:d.title}),i.jsx("br",{}),i.jsx(Ki,{type:"secondary",children:d==null?void 0:d.description})]}),i.jsx(kt,{style:{margin:"8px 0"}}),i.jsx("ul",{style:{paddingLeft:18,marginBottom:0},children:d==null?void 0:d.checklist.map(E=>i.jsx("li",{children:i.jsx(Ki,{children:E})},E))})]}),i.jsx(Me,{title:"История этапов",children:i.jsx(H1,{items:a.history.map(E=>({color:E.stage==="COMPLETED"?"green":"blue",children:i.jsxs("div",{children:[i.jsx(Ki,{strong:!0,children:E.stage})," — ",new Date(E.createdAt).toLocaleString(),E.comment&&i.jsx("div",{children:i.jsx(Ki,{type:"secondary",children:E.comment})}),i.jsx("div",{children:i.jsxs(Ki,{type:"secondary",children:["Исполнитель: ",E.user]})})]})}))})}),i.jsx(Me,{title:"Связанные задачи (workflow)",style:{marginTop:16},children:o?i.jsx(Ki,{type:"secondary",children:"Загрузка задач..."}):n.length===0?i.jsx(Ki,{type:"secondary",children:"Задач ещё нет"}):i.jsx("ul",{style:{paddingLeft:18,marginBottom:0},children:n.map(E=>i.jsxs("li",{children:[i.jsx(Ki,{strong:!0,children:E.title})," — ",i.jsx(Ki,{type:"secondary",children:E.status}),i.jsx("br",{}),i.jsxs(Ki,{type:"secondary",children:["До: ",new Date(E.dueDate).toLocaleDateString()," · ",E.description]})]},E.id))})})]})]})]})},{Title:X$,Paragraph:rb,Text:ab}=ht,J$=()=>{const e=Vs(f=>f.workflow.templates),t=nA(),[r,a]=K.useState(null),[n,s]=K.useState(!1),[o]=ne.useForm(),A=f=>{const p=e.find(u=>u.id===f);p&&(o.setFieldsValue(p),a(f))},l=()=>{o.validateFields().then(f=>{const p={...f,id:r,updatedAt:new Date().toISOString()};t(WO(p)),a(null),Te.success("Шаблон обновлён")}).catch(()=>{})},c=()=>{o.resetFields(),s(!0)},d=()=>{o.validateFields().then(f=>{const p=new Date().toISOString(),u={...f,id:`tpl-${Date.now()}`,updatedAt:p};t(VO(u)),s(!1),Te.success("Шаблон создан")}).catch(()=>{})};return i.jsxs("div",{style:{padding:16},children:[i.jsx(X$,{level:3,style:{marginBottom:12},children:"Настройки Workflow"}),i.jsx(Me,{title:"Этапы и чеклисты",style:{marginBottom:16},children:i.jsx(Ar,{dataSource:zd,renderItem:f=>i.jsx(Ar.Item,{children:i.jsx(Ar.Item.Meta,{title:i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{children:f.title}),i.jsx(et,{children:f.key})]}),description:i.jsxs("div",{children:[i.jsx(rb,{style:{marginBottom:4},children:f.description}),i.jsx("ul",{style:{paddingLeft:18,margin:0},children:f.checklist.map(p=>i.jsx("li",{children:i.jsx(ab,{children:p})},p))})]})})})})}),i.jsx(Me,{title:"Шаблоны документов workflow",extra:i.jsx(Ce,{type:"primary",onClick:c,children:"Добавить шаблон"}),children:i.jsx(Ar,{dataSource:e,renderItem:f=>i.jsxs(Ar.Item,{children:[i.jsx(Ar.Item.Meta,{title:i.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[i.jsx("span",{children:f.name}),i.jsx(et,{children:f.type})]}),description:i.jsxs("div",{children:[i.jsx(rb,{style:{marginBottom:4},children:f.description||"Описание не задано"}),i.jsxs(ab,{type:"secondary",children:["Обновлён: ",new Date(f.updatedAt).toLocaleDateString()]})]})}),i.jsx(Oe,{children:i.jsx(Ce,{size:"small",onClick:()=>A(f.id),children:"Редактировать"})})]})})}),i.jsx(lr,{title:"Редактирование шаблона",open:!!r,onOk:l,onCancel:()=>a(null),okText:"Сохранить",cancelText:"Отмена",children:i.jsxs(ne,{form:o,layout:"vertical",children:[i.jsx(ne.Item,{name:"name",label:"Название",rules:[{required:!0}],children:i.jsx(Re,{})}),i.jsx(ne.Item,{name:"type",label:"Тип",rules:[{required:!0}],children:i.jsx(Ve,{options:[{value:"notification",label:"Уведомление"},{value:"claim",label:"Претензия"},{value:"agreement",label:"Соглашение"},{value:"sale-contract",label:"ДКП"},{value:"other",label:"Другое"}]})}),i.jsx(ne.Item,{name:"description",label:"Описание",children:i.jsx(Re.TextArea,{rows:3})})]})}),i.jsx(lr,{title:"Новый шаблон",open:n,onOk:d,onCancel:()=>s(!1),okText:"Создать",cancelText:"Отмена",children:i.jsxs(ne,{form:o,layout:"vertical",children:[i.jsx(ne.Item,{name:"name",label:"Название",rules:[{required:!0}],children:i.jsx(Re,{})}),i.jsx(ne.Item,{name:"type",label:"Тип",rules:[{required:!0}],children:i.jsx(Ve,{options:[{value:"notification",label:"Уведомление"},{value:"claim",label:"Претензия"},{value:"agreement",label:"Соглашение"},{value:"sale-contract",label:"ДКП"},{value:"other",label:"Другое"}]})}),i.jsx(ne.Item,{name:"description",label:"Описание",children:i.jsx(Re.TextArea,{rows:3})})]})})]})},{Paragraph:OY,Text:IY}=ht;class Z$ extends K.Component{constructor(r){super(r);er(this,"logErrorToService",(r,a)=>{try{const n={timestamp:new Date().toISOString(),message:r.message,stack:r.stack,componentStack:a.componentStack},s=localStorage.getItem("error_logs"),o=s?JSON.parse(s):[];o.push(n),o.length>50&&o.shift(),localStorage.setItem("error_logs",JSON.stringify(o))}catch(n){console.error("Failed to log error:",n)}});er(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()});er(this,"handleResetWithoutReload",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r,errorInfo:null}}componentDidCatch(r,a){console.error("ErrorBoundary caught an error:",r,a),this.setState({error:r,errorInfo:a}),this.logErrorToService(r,a)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:i.jsx("div",{style:{padding:"50px",maxWidth:"800px",margin:"0 auto"},children:i.jsx(hb,{status:"error",icon:i.jsx(eO,{}),title:"Произошла ошибка",subTitle:"К сожалению, что-то пошло не так. Попробуйте перезагрузить страницу или вернуться на главную.",extra:[i.jsx(Ce,{type:"primary",icon:i.jsx(el,{}),onClick:this.handleReset,children:"Перезагрузить страницу"},"reload"),i.jsx(Ce,{onClick:this.handleResetWithoutReload,children:"Попробовать снова"},"reset"),i.jsx(Ce,{onClick:()=>window.location.href="/",children:"Вернуться на главную"},"home")],children:!1})}):this.props.children}}const eY=()=>{const e=nA(),{theme:t,initialized:r}=Vs(s=>s.app),a=Vs(s=>s.workflow);if(K.useEffect(()=>{(async()=>{try{try{localStorage.removeItem("zadachnik_tasks"),console.log("✅ Очищены старые задачи из localStorage (данные теперь в IndexedDB)")}catch(l){console.warn("Не удалось очистить задачи из localStorage (не критично):",l)}await Dt.initDatabase();const o=await Dt.getSettings();e(kO(o));const A=await Dt.getExtendedCards();if(A.length===0)try{const{loadDemoData:l}=await mi(async()=>{const{loadDemoData:d}=await import("./demoData-CA27M4yh.js");return{loadDemoData:d}},__vite__mapDeps([4,1,5,3]),import.meta.url);await l(Dt);const c=await Dt.getExtendedCards();e(af(c)),console.log("✅ Демо-данные загружены автоматически")}catch(l){console.warn("Демо-данные не загружены:",l),e(af(A))}else e(af(A));try{const{syncEmployeesToZadachnik:l}=await mi(async()=>{const{syncEmployeesToZadachnik:g}=await Promise.resolve().then(()=>$V);return{syncEmployeesToZadachnik:g}},void 0,import.meta.url);l();const d=pr.getEmployees().filter(g=>g.isActive);let f=[];try{f=await Dt.getTasks()}catch{try{const h=localStorage.getItem("zadachnik_tasks");h&&(h.length<4194304?f=JSON.parse(h):console.warn("Задачи в localStorage слишком большие, используем только IndexedDB"))}catch(h){console.warn("Не удалось загрузить задачи из localStorage:",h)}}const u=d.length*60;if(!f||f.length===0||f.length<u){const{generateTasksForEmployees:g}=await mi(async()=>{const{generateTasksForEmployees:h}=await Promise.resolve().then(()=>bS);return{generateTasksForEmployees:h}},void 0,import.meta.url);await g(),f=await Dt.getTasks(),console.log(`✅ Сгенерировано ${f.length} задач для ${d.length} активных сотрудников (${(f.length/d.length).toFixed(1)} задач на сотрудника)`)}else console.log(`✅ Загружено ${f.length} задач для ${d.length} активных сотрудников (${(f.length/d.length).toFixed(1)} задач на сотрудника)`)}catch(l){console.warn("Не удалось синхронизировать сотрудников с zadachnik:",l)}try{const l=(await mi(async()=>{const{default:d}=await Promise.resolve().then(()=>jM);return{default:d}},void 0,import.meta.url)).default;if(await l.initDatabase(),(await l.getInspections()).length===0){const{loadInspectionDemoData:d}=await mi(async()=>{const{loadInspectionDemoData:f}=await import("./inspectionDemoData-DQNtBfn5.js");return{loadInspectionDemoData:f}},__vite__mapDeps([6,1,5,3]),import.meta.url);await d(),console.log("✅ Демо-данные осмотров загружены автоматически")}}catch(l){console.warn("Демо-данные осмотров не загружены:",l)}try{const l=await Dt.getWorkflowCases();l&&l.length>0&&e(GO(l));const c=await Dt.ensureDefaultWorkflowTemplates(Db);e(YO(c))}catch(l){console.warn("Не удалось загрузить workflow из IndexedDB:",l)}e(RO(!0))}catch(o){console.error("Failed to initialize app:",o)}})()},[e]),K.useEffect(()=>{r&&(async()=>{try{await Dt.saveWorkflowCases(a.cases),await Dt.saveWorkflowTemplates(a.templates)}catch(s){console.warn("Не удалось сохранить workflow в IndexedDB:",s)}})()},[r,a.cases,a.templates]),!r)return i.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:"Загрузка..."});const n=()=>{switch(t){case"dark":return LA.darkAlgorithm;case"compact":return[LA.defaultAlgorithm,LA.compactAlgorithm];default:return LA.defaultAlgorithm}};return i.jsx(tM,{children:i.jsx(lM,{children:i.jsx(sb,{locale:IO,theme:{algorithm:n(),token:{colorPrimary:"#1890ff",borderRadius:6}},children:i.jsx(tO,{children:i.jsx(xT,{children:i.jsx(yT,{children:i.jsxs(Pr,{path:"/",element:i.jsx(xM,{}),children:[i.jsx(Pr,{index:!0,element:i.jsx(vT,{to:"/registry",replace:!0})}),i.jsx(Pr,{path:"registry",element:i.jsx(qP,{})}),i.jsx(Pr,{path:"portfolio",element:i.jsx(Nz,{})}),i.jsx(Pr,{path:"collateral-dossier",element:i.jsx(Fz,{})}),i.jsx(Pr,{path:"collateral-conclusions",element:i.jsx(vV,{})}),i.jsx(Pr,{path:"tasks",element:i.jsx(aV,{})}),i.jsx(Pr,{path:"kpi",element:i.jsx(KV,{})}),i.jsx(Pr,{path:"reports",element:i.jsx(rV,{})}),i.jsx(Pr,{path:"insurance",element:i.jsx(uz,{})}),i.jsx(Pr,{path:"fnp",element:i.jsx(bV,{})}),i.jsx(Pr,{path:"analytics",element:i.jsx(zV,{})}),i.jsx(Pr,{path:"credit-risk",element:i.jsx(BV,{})}),i.jsx(Pr,{path:"appraisal",element:i.jsx(SV,{})}),i.jsx(Pr,{path:"cms-check",element:i.jsx(oV,{})}),i.jsx(Pr,{path:"inspection/:token",element:i.jsx(cV,{})}),i.jsx(Pr,{path:"egrn",element:i.jsx(IV,{})}),i.jsx(Pr,{path:"upload",element:i.jsx(E$,{})}),i.jsx(Pr,{path:"monitoring",element:i.jsx(Jz,{})}),i.jsx(Pr,{path:"reference",element:i.jsx(G$,{})}),i.jsx(Pr,{path:"workflow",element:i.jsx($$,{})}),i.jsx(Pr,{path:"workflow/object/:id",element:i.jsx(W$,{})}),i.jsx(Pr,{path:"settings/workflow",element:i.jsx(J$,{})}),i.jsx(Pr,{path:"settings",element:i.jsx(dz,{title:"Настройки"})}),i.jsx(Pr,{path:"settings/employees",element:i.jsx(ZV,{})}),i.jsx(Pr,{path:"settings/reference-data",element:i.jsx(t$,{})}),i.jsx(Pr,{path:"settings/norm-hours",element:i.jsx(a$,{})}),i.jsx(Pr,{path:"settings/metrics",element:i.jsx(A$,{})}),i.jsx(Pr,{path:"settings/appraisal-companies",element:i.jsx(d$,{})})]})})})})})})})},tY=()=>i.jsx(Z$,{children:i.jsx(_T,{store:JO,children:i.jsx(eY,{})})});G1.createRoot(document.getElementById("root")).render(i.jsx(Qa.StrictMode,{children:i.jsx(tY,{})}));export{zs as g,Sa as i};
//# sourceMappingURL=index-CVjjuFoS.js.map
