/**
 * Маппинг типов имущества к группам атрибутов из справочника
 * Связывает типы имущества (например, "Легковой автомобиль") 
 * с группами атрибутов (например, "Наземные безрельсовые механические транспортные средства, прицепы, и т.д.")
 */

/**
 * Маппинг типов имущества к группам атрибутов
 * Ключ - тип имущества из справочника propertyType
 * Значение - группа атрибутов из справочника collateral_attributes_zalog
 */
export const PROPERTY_TYPE_TO_ATTRIBUTE_GROUP: Record<string, string> = {
  // Транспортные средства
  'Легковой автомобиль': 'Наземные безрельсовые механические транспортные средства, прицепы, и т.д.',
  'Грузовой автомобиль': 'Наземные безрельсовые механические транспортные средства, прицепы, и т.д.',
  'Автобус': 'Наземные безрельсовые механические транспортные средства, прицепы, и т.д.',
  'Мотоцикл': 'Наземные безрельсовые механические транспортные средства, прицепы, и т.д.',
  'Трактор': 'Наземные безрельсовые механические транспортные средства, прицепы, и т.д.',
  'Спецтехника': 'Наземные безрельсовые механические транспортные средства, прицепы, и т.д.',
  'Транспортные средства': 'Наземные безрельсовые механические транспортные средства, прицепы, и т.д.',
  
  // Недвижимость
  'Квартира': 'Недвижимое имущество',
  'Дом': 'Недвижимое имущество',
  'Здание': 'Недвижимое имущество',
  'Помещение': 'Недвижимое имущество',
  'Земельный участок': 'Недвижимое имущество',
  'Недвижимое имущество': 'Недвижимое имущество',
  
  // Оборудование
  'Оборудование': 'Оборудование',
  'Станки': 'Оборудование',
  'Производственное оборудование': 'Оборудование',
  
  // Товары
  'Товары в обороте': 'Товары в обороте',
  'Товары': 'Товары в обороте',
  
  // Ценные бумаги
  'Ценные бумаги': 'Ценные бумаги',
  'Акции': 'Ценные бумаги',
  'Облигации': 'Ценные бумаги',
  
  // Имущественные права
  'Имущественные права': 'Имущественные права',
  'Права требования': 'Имущественные права',
  
  // Будущий урожай
  'Будущий урожай': 'Будущий урожай',
  
  // Денежные средства
  'Денежные средства': 'Денежные средства',
  
  // Драгоценные металлы
  'Драгоценные металлы': 'Драгоценные металлы',
};

/**
 * Получить группу атрибутов для типа имущества
 */
export const getAttributeGroupForPropertyType = (propertyType: string): string | null => {
  // Прямое совпадение
  if (PROPERTY_TYPE_TO_ATTRIBUTE_GROUP[propertyType]) {
    return PROPERTY_TYPE_TO_ATTRIBUTE_GROUP[propertyType];
  }
  
  // Поиск по частичному совпадению
  for (const [key, value] of Object.entries(PROPERTY_TYPE_TO_ATTRIBUTE_GROUP)) {
    if (propertyType.toLowerCase().includes(key.toLowerCase()) || key.toLowerCase().includes(propertyType.toLowerCase())) {
      return value;
    }
  }
  
  // Если не найдено, возвращаем сам propertyType как группу
  return propertyType;
};

/**
 * Получить все возможные группы атрибутов
 */
export const getAllAttributeGroups = (): string[] => {
  return Array.from(new Set(Object.values(PROPERTY_TYPE_TO_ATTRIBUTE_GROUP)));
};

